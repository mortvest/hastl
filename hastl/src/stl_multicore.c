// Generated by Futhark 0.20.0
// git: 5cc4d4b (Tue Jul 6 11:53:53 2021 -0700)
#ifndef _GNU_SOURCE
#define _GNU_SOURCE
#endif
#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif
// Headers

#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation

struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
void futhark_context_config_set_num_threads(struct futhark_context_config *cfg,
                                            int n);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_sync(struct futhark_context *ctx);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays

struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);
struct futhark_f32_3d;
struct futhark_f32_3d *futhark_new_f32_3d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1, int64_t dim2);
struct futhark_f32_3d *futhark_new_raw_f32_3d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1,
                                              int64_t dim2);
int futhark_free_f32_3d(struct futhark_context *ctx,
                        struct futhark_f32_3d *arr);
int futhark_values_f32_3d(struct futhark_context *ctx,
                          struct futhark_f32_3d *arr, float *data);
char *futhark_values_raw_f32_3d(struct futhark_context *ctx,
                                struct futhark_f32_3d *arr);
const int64_t *futhark_shape_f32_3d(struct futhark_context *ctx,
                                    struct futhark_f32_3d *arr);

// Opaque values


// Entry points

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0,
                       struct futhark_f32_2d **out1,
                       struct futhark_f32_2d **out2,
                       struct futhark_f32_3d **out3, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5, const int64_t in6, const int64_t in7, const
                       int64_t in8, const int64_t in9, const int64_t in10, const
                       int64_t in11);

// Miscellaneous

char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_multicore
#ifdef __cplusplus
}
#endif
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}


static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, msg...) check_err(err, 0, __func__, __LINE__, msg)
#define CHECK_ERRNO(err, msg...) check_err(err, 1, __func__, __LINE__, msg)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  size_t start = ftell(f);
  fseek(f, 0, SEEK_END);
  size_t src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc(src_size + 1);
  if (fread(s, 1, src_size, f) != src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.

// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>

// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

static inline uint8_t add8(uint8_t x, uint8_t y)
{
    return x + y;
}
static inline uint16_t add16(uint16_t x, uint16_t y)
{
    return x + y;
}
static inline uint32_t add32(uint32_t x, uint32_t y)
{
    return x + y;
}
static inline uint64_t add64(uint64_t x, uint64_t y)
{
    return x + y;
}
static inline uint8_t sub8(uint8_t x, uint8_t y)
{
    return x - y;
}
static inline uint16_t sub16(uint16_t x, uint16_t y)
{
    return x - y;
}
static inline uint32_t sub32(uint32_t x, uint32_t y)
{
    return x - y;
}
static inline uint64_t sub64(uint64_t x, uint64_t y)
{
    return x - y;
}
static inline uint8_t mul8(uint8_t x, uint8_t y)
{
    return x * y;
}
static inline uint16_t mul16(uint16_t x, uint16_t y)
{
    return x * y;
}
static inline uint32_t mul32(uint32_t x, uint32_t y)
{
    return x * y;
}
static inline uint64_t mul64(uint64_t x, uint64_t y)
{
    return x * y;
}
static inline uint8_t udiv8(uint8_t x, uint8_t y)
{
    return x / y;
}
static inline uint16_t udiv16(uint16_t x, uint16_t y)
{
    return x / y;
}
static inline uint32_t udiv32(uint32_t x, uint32_t y)
{
    return x / y;
}
static inline uint64_t udiv64(uint64_t x, uint64_t y)
{
    return x / y;
}
static inline uint8_t udiv_up8(uint8_t x, uint8_t y)
{
    return (x + y - 1) / y;
}
static inline uint16_t udiv_up16(uint16_t x, uint16_t y)
{
    return (x + y - 1) / y;
}
static inline uint32_t udiv_up32(uint32_t x, uint32_t y)
{
    return (x + y - 1) / y;
}
static inline uint64_t udiv_up64(uint64_t x, uint64_t y)
{
    return (x + y - 1) / y;
}
static inline uint8_t umod8(uint8_t x, uint8_t y)
{
    return x % y;
}
static inline uint16_t umod16(uint16_t x, uint16_t y)
{
    return x % y;
}
static inline uint32_t umod32(uint32_t x, uint32_t y)
{
    return x % y;
}
static inline uint64_t umod64(uint64_t x, uint64_t y)
{
    return x % y;
}
static inline uint8_t udiv_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint16_t udiv_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint32_t udiv_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint64_t udiv_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint8_t umod_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint16_t umod_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint32_t umod_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint64_t umod_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t sdiv8(int8_t x, int8_t y)
{
    int8_t q = x / y;
    int8_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int16_t sdiv16(int16_t x, int16_t y)
{
    int16_t q = x / y;
    int16_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int32_t sdiv32(int32_t x, int32_t y)
{
    int32_t q = x / y;
    int32_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int64_t sdiv64(int64_t x, int64_t y)
{
    int64_t q = x / y;
    int64_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int8_t sdiv_up8(int8_t x, int8_t y)
{
    return sdiv8(x + y - 1, y);
}
static inline int16_t sdiv_up16(int16_t x, int16_t y)
{
    return sdiv16(x + y - 1, y);
}
static inline int32_t sdiv_up32(int32_t x, int32_t y)
{
    return sdiv32(x + y - 1, y);
}
static inline int64_t sdiv_up64(int64_t x, int64_t y)
{
    return sdiv64(x + y - 1, y);
}
static inline int8_t smod8(int8_t x, int8_t y)
{
    int8_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int16_t smod16(int16_t x, int16_t y)
{
    int16_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int32_t smod32(int32_t x, int32_t y)
{
    int32_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int64_t smod64(int64_t x, int64_t y)
{
    int64_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int8_t sdiv_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : sdiv8(x, y);
}
static inline int16_t sdiv_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : sdiv16(x, y);
}
static inline int32_t sdiv_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : sdiv32(x, y);
}
static inline int64_t sdiv_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : sdiv64(x, y);
}
static inline int8_t sdiv_up_safe8(int8_t x, int8_t y)
{
    return sdiv_safe8(x + y - 1, y);
}
static inline int16_t sdiv_up_safe16(int16_t x, int16_t y)
{
    return sdiv_safe16(x + y - 1, y);
}
static inline int32_t sdiv_up_safe32(int32_t x, int32_t y)
{
    return sdiv_safe32(x + y - 1, y);
}
static inline int64_t sdiv_up_safe64(int64_t x, int64_t y)
{
    return sdiv_safe64(x + y - 1, y);
}
static inline int8_t smod_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : smod8(x, y);
}
static inline int16_t smod_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : smod16(x, y);
}
static inline int32_t smod_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : smod32(x, y);
}
static inline int64_t smod_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : smod64(x, y);
}
static inline int8_t squot8(int8_t x, int8_t y)
{
    return x / y;
}
static inline int16_t squot16(int16_t x, int16_t y)
{
    return x / y;
}
static inline int32_t squot32(int32_t x, int32_t y)
{
    return x / y;
}
static inline int64_t squot64(int64_t x, int64_t y)
{
    return x / y;
}
static inline int8_t srem8(int8_t x, int8_t y)
{
    return x % y;
}
static inline int16_t srem16(int16_t x, int16_t y)
{
    return x % y;
}
static inline int32_t srem32(int32_t x, int32_t y)
{
    return x % y;
}
static inline int64_t srem64(int64_t x, int64_t y)
{
    return x % y;
}
static inline int8_t squot_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int16_t squot_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int32_t squot_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int64_t squot_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int8_t srem_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int16_t srem_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int32_t srem_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int64_t srem_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t smin8(int8_t x, int8_t y)
{
    return x < y ? x : y;
}
static inline int16_t smin16(int16_t x, int16_t y)
{
    return x < y ? x : y;
}
static inline int32_t smin32(int32_t x, int32_t y)
{
    return x < y ? x : y;
}
static inline int64_t smin64(int64_t x, int64_t y)
{
    return x < y ? x : y;
}
static inline uint8_t umin8(uint8_t x, uint8_t y)
{
    return x < y ? x : y;
}
static inline uint16_t umin16(uint16_t x, uint16_t y)
{
    return x < y ? x : y;
}
static inline uint32_t umin32(uint32_t x, uint32_t y)
{
    return x < y ? x : y;
}
static inline uint64_t umin64(uint64_t x, uint64_t y)
{
    return x < y ? x : y;
}
static inline int8_t smax8(int8_t x, int8_t y)
{
    return x < y ? y : x;
}
static inline int16_t smax16(int16_t x, int16_t y)
{
    return x < y ? y : x;
}
static inline int32_t smax32(int32_t x, int32_t y)
{
    return x < y ? y : x;
}
static inline int64_t smax64(int64_t x, int64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t umax8(uint8_t x, uint8_t y)
{
    return x < y ? y : x;
}
static inline uint16_t umax16(uint16_t x, uint16_t y)
{
    return x < y ? y : x;
}
static inline uint32_t umax32(uint32_t x, uint32_t y)
{
    return x < y ? y : x;
}
static inline uint64_t umax64(uint64_t x, uint64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t shl8(uint8_t x, uint8_t y)
{
    return x << y;
}
static inline uint16_t shl16(uint16_t x, uint16_t y)
{
    return x << y;
}
static inline uint32_t shl32(uint32_t x, uint32_t y)
{
    return x << y;
}
static inline uint64_t shl64(uint64_t x, uint64_t y)
{
    return x << y;
}
static inline uint8_t lshr8(uint8_t x, uint8_t y)
{
    return x >> y;
}
static inline uint16_t lshr16(uint16_t x, uint16_t y)
{
    return x >> y;
}
static inline uint32_t lshr32(uint32_t x, uint32_t y)
{
    return x >> y;
}
static inline uint64_t lshr64(uint64_t x, uint64_t y)
{
    return x >> y;
}
static inline int8_t ashr8(int8_t x, int8_t y)
{
    return x >> y;
}
static inline int16_t ashr16(int16_t x, int16_t y)
{
    return x >> y;
}
static inline int32_t ashr32(int32_t x, int32_t y)
{
    return x >> y;
}
static inline int64_t ashr64(int64_t x, int64_t y)
{
    return x >> y;
}
static inline uint8_t and8(uint8_t x, uint8_t y)
{
    return x & y;
}
static inline uint16_t and16(uint16_t x, uint16_t y)
{
    return x & y;
}
static inline uint32_t and32(uint32_t x, uint32_t y)
{
    return x & y;
}
static inline uint64_t and64(uint64_t x, uint64_t y)
{
    return x & y;
}
static inline uint8_t or8(uint8_t x, uint8_t y)
{
    return x | y;
}
static inline uint16_t or16(uint16_t x, uint16_t y)
{
    return x | y;
}
static inline uint32_t or32(uint32_t x, uint32_t y)
{
    return x | y;
}
static inline uint64_t or64(uint64_t x, uint64_t y)
{
    return x | y;
}
static inline uint8_t xor8(uint8_t x, uint8_t y)
{
    return x ^ y;
}
static inline uint16_t xor16(uint16_t x, uint16_t y)
{
    return x ^ y;
}
static inline uint32_t xor32(uint32_t x, uint32_t y)
{
    return x ^ y;
}
static inline uint64_t xor64(uint64_t x, uint64_t y)
{
    return x ^ y;
}
static inline bool ult8(uint8_t x, uint8_t y)
{
    return x < y;
}
static inline bool ult16(uint16_t x, uint16_t y)
{
    return x < y;
}
static inline bool ult32(uint32_t x, uint32_t y)
{
    return x < y;
}
static inline bool ult64(uint64_t x, uint64_t y)
{
    return x < y;
}
static inline bool ule8(uint8_t x, uint8_t y)
{
    return x <= y;
}
static inline bool ule16(uint16_t x, uint16_t y)
{
    return x <= y;
}
static inline bool ule32(uint32_t x, uint32_t y)
{
    return x <= y;
}
static inline bool ule64(uint64_t x, uint64_t y)
{
    return x <= y;
}
static inline bool slt8(int8_t x, int8_t y)
{
    return x < y;
}
static inline bool slt16(int16_t x, int16_t y)
{
    return x < y;
}
static inline bool slt32(int32_t x, int32_t y)
{
    return x < y;
}
static inline bool slt64(int64_t x, int64_t y)
{
    return x < y;
}
static inline bool sle8(int8_t x, int8_t y)
{
    return x <= y;
}
static inline bool sle16(int16_t x, int16_t y)
{
    return x <= y;
}
static inline bool sle32(int32_t x, int32_t y)
{
    return x <= y;
}
static inline bool sle64(int64_t x, int64_t y)
{
    return x <= y;
}
static inline int8_t pow8(int8_t x, int8_t y)
{
    int8_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int16_t pow16(int16_t x, int16_t y)
{
    int16_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int32_t pow32(int32_t x, int32_t y)
{
    int32_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int64_t pow64(int64_t x, int64_t y)
{
    int64_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline bool itob_i8_bool(int8_t x)
{
    return x;
}
static inline bool itob_i16_bool(int16_t x)
{
    return x;
}
static inline bool itob_i32_bool(int32_t x)
{
    return x;
}
static inline bool itob_i64_bool(int64_t x)
{
    return x;
}
static inline int8_t btoi_bool_i8(bool x)
{
    return x;
}
static inline int16_t btoi_bool_i16(bool x)
{
    return x;
}
static inline int32_t btoi_bool_i32(bool x)
{
    return x;
}
static inline int64_t btoi_bool_i64(bool x)
{
    return x;
}
#define sext_i8_i8(x) ((int8_t) (int8_t) x)
#define sext_i8_i16(x) ((int16_t) (int8_t) x)
#define sext_i8_i32(x) ((int32_t) (int8_t) x)
#define sext_i8_i64(x) ((int64_t) (int8_t) x)
#define sext_i16_i8(x) ((int8_t) (int16_t) x)
#define sext_i16_i16(x) ((int16_t) (int16_t) x)
#define sext_i16_i32(x) ((int32_t) (int16_t) x)
#define sext_i16_i64(x) ((int64_t) (int16_t) x)
#define sext_i32_i8(x) ((int8_t) (int32_t) x)
#define sext_i32_i16(x) ((int16_t) (int32_t) x)
#define sext_i32_i32(x) ((int32_t) (int32_t) x)
#define sext_i32_i64(x) ((int64_t) (int32_t) x)
#define sext_i64_i8(x) ((int8_t) (int64_t) x)
#define sext_i64_i16(x) ((int16_t) (int64_t) x)
#define sext_i64_i32(x) ((int32_t) (int64_t) x)
#define sext_i64_i64(x) ((int64_t) (int64_t) x)
#define zext_i8_i8(x) ((int8_t) (uint8_t) x)
#define zext_i8_i16(x) ((int16_t) (uint8_t) x)
#define zext_i8_i32(x) ((int32_t) (uint8_t) x)
#define zext_i8_i64(x) ((int64_t) (uint8_t) x)
#define zext_i16_i8(x) ((int8_t) (uint16_t) x)
#define zext_i16_i16(x) ((int16_t) (uint16_t) x)
#define zext_i16_i32(x) ((int32_t) (uint16_t) x)
#define zext_i16_i64(x) ((int64_t) (uint16_t) x)
#define zext_i32_i8(x) ((int8_t) (uint32_t) x)
#define zext_i32_i16(x) ((int16_t) (uint32_t) x)
#define zext_i32_i32(x) ((int32_t) (uint32_t) x)
#define zext_i32_i64(x) ((int64_t) (uint32_t) x)
#define zext_i64_i8(x) ((int8_t) (uint64_t) x)
#define zext_i64_i16(x) ((int16_t) (uint64_t) x)
#define zext_i64_i32(x) ((int32_t) (uint64_t) x)
#define zext_i64_i64(x) ((int64_t) (uint64_t) x)
static int8_t abs8(int8_t x)
{
    return abs(x);
}
static int16_t abs16(int16_t x)
{
    return abs(x);
}
static int32_t abs32(int32_t x)
{
    return abs(x);
}
#if defined(__OPENCL_VERSION__)
static int64_t abs64(int64_t x)
{
    return abs(x);
}
#else
static int64_t abs64(int64_t x)
{
    return llabs(x);
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x)
{
    return popcount(x);
}
static int32_t futrts_popc16(int16_t x)
{
    return popcount(x);
}
static int32_t futrts_popc32(int32_t x)
{
    return popcount(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return popcount(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_popc8(int8_t x)
{
    return __popc(zext_i8_i32(x));
}
static int32_t futrts_popc16(int16_t x)
{
    return __popc(zext_i16_i32(x));
}
static int32_t futrts_popc32(int32_t x)
{
    return __popc(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return __popcll(x);
}
#else
static int32_t futrts_popc8(int8_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc16(int16_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc32(int32_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc64(int64_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    return mul_hi(a, b);
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    return mul_hi(a, b);
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mul_hi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul_hi(a, b);
}
#elif defined(__CUDA_ARCH__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mulhi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul64hi(a, b);
}
#else
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    uint64_t aa = a;
    uint64_t bb = b;
    
    return aa * bb >> 32;
}
#ifdef __EMSCRIPTEN__
static uint64_t futrts_mul_hi64(uint64_t x, uint64_t y)
{
    uint64_t a = x >> 32, b = x & 0xffffffff;
    uint64_t c = y >> 32, d = y & 0xffffffff;
    uint64_t ac = a * c;
    uint64_t bc = b * c;
    uint64_t ad = a * d;
    uint64_t bd = b * d;
    uint64_t mid34 = (bd >> 32) + (bc & 0xffffffff) + (ad & 0xffffffff);
    uint64_t upper64 = ac + (bc >> 32) + (ad >> 32) + (mid34 >> 32);
    
    return upper64;
}
#else
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    __uint128_t aa = a;
    __uint128_t bb = b;
    
    return aa * bb >> 64;
}
#endif
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return mad_hi(a, b, c);
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return mad_hi(a, b, c);
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return mad_hi(a, b, c);
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return mad_hi(a, b, c);
}
#else
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return futrts_mul_hi8(a, b) + c;
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return futrts_mul_hi16(a, b) + c;
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return futrts_mul_hi32(a, b) + c;
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return futrts_mul_hi64(a, b) + c;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x)
{
    return clz(x);
}
static int32_t futrts_clzz16(int16_t x)
{
    return clz(x);
}
static int32_t futrts_clzz32(int32_t x)
{
    return clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return clz(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_clzz8(int8_t x)
{
    return __clz(zext_i8_i32(x)) - 24;
}
static int32_t futrts_clzz16(int16_t x)
{
    return __clz(zext_i16_i32(x)) - 16;
}
static int32_t futrts_clzz32(int32_t x)
{
    return __clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return __clzll(x);
}
#else
static int32_t futrts_clzz8(int8_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz16(int16_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz32(int32_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz64(int64_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x)
{
    int i = 0;
    
    for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int i = 0;
    
    for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int i = 0;
    
    for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int i = 0;
    
    for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_ctzz8(int8_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 8 : y - 1;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 16 : y - 1;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 32 : y - 1;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int y = __ffsll(x);
    
    return y == 0 ? 64 : y - 1;
}
#else
static int32_t futrts_ctzz8(int8_t x)
{
    return x == 0 ? 8 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz16(int16_t x)
{
    return x == 0 ? 16 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz32(int32_t x)
{
    return x == 0 ? 32 : __builtin_ctz(x);
}
static int32_t futrts_ctzz64(int64_t x)
{
    return x == 0 ? 64 : __builtin_ctzll(x);
}
#endif
static inline float fdiv32(float x, float y)
{
    return x / y;
}
static inline float fadd32(float x, float y)
{
    return x + y;
}
static inline float fsub32(float x, float y)
{
    return x - y;
}
static inline float fmul32(float x, float y)
{
    return x * y;
}
static inline bool cmplt32(float x, float y)
{
    return x < y;
}
static inline bool cmple32(float x, float y)
{
    return x <= y;
}
static inline float sitofp_i8_f32(int8_t x)
{
    return (float) x;
}
static inline float sitofp_i16_f32(int16_t x)
{
    return (float) x;
}
static inline float sitofp_i32_f32(int32_t x)
{
    return (float) x;
}
static inline float sitofp_i64_f32(int64_t x)
{
    return (float) x;
}
static inline float uitofp_i8_f32(uint8_t x)
{
    return (float) x;
}
static inline float uitofp_i16_f32(uint16_t x)
{
    return (float) x;
}
static inline float uitofp_i32_f32(uint32_t x)
{
    return (float) x;
}
static inline float uitofp_i64_f32(uint64_t x)
{
    return (float) x;
}
static inline int8_t fptosi_f32_i8(float x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f32_i16(float x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f32_i32(float x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f32_i64(float x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f32_i8(float x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f32_i16(float x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f32_i32(float x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f32_i64(float x)
{
    return (uint64_t) x;
}
static inline double fdiv64(double x, double y)
{
    return x / y;
}
static inline double fadd64(double x, double y)
{
    return x + y;
}
static inline double fsub64(double x, double y)
{
    return x - y;
}
static inline double fmul64(double x, double y)
{
    return x * y;
}
static inline bool cmplt64(double x, double y)
{
    return x < y;
}
static inline bool cmple64(double x, double y)
{
    return x <= y;
}
static inline double sitofp_i8_f64(int8_t x)
{
    return (double) x;
}
static inline double sitofp_i16_f64(int16_t x)
{
    return (double) x;
}
static inline double sitofp_i32_f64(int32_t x)
{
    return (double) x;
}
static inline double sitofp_i64_f64(int64_t x)
{
    return (double) x;
}
static inline double uitofp_i8_f64(uint8_t x)
{
    return (double) x;
}
static inline double uitofp_i16_f64(uint16_t x)
{
    return (double) x;
}
static inline double uitofp_i32_f64(uint32_t x)
{
    return (double) x;
}
static inline double uitofp_i64_f64(uint64_t x)
{
    return (double) x;
}
static inline int8_t fptosi_f64_i8(double x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f64_i16(double x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f64_i32(double x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f64_i64(double x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f64_i8(double x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f64_i16(double x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f64_i32(double x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f64_i64(double x)
{
    return (uint64_t) x;
}
static inline float fpconv_f32_f32(float x)
{
    return (float) x;
}
static inline double fpconv_f32_f64(float x)
{
    return (double) x;
}
static inline float fpconv_f64_f32(double x)
{
    return (float) x;
}
static inline double fpconv_f64_f64(double x)
{
    return (double) x;
}
#ifdef __OPENCL_VERSION__
static inline float fabs32(float x)
{
    return fabs(x);
}
static inline float fmax32(float x, float y)
{
    return fmax(x, y);
}
static inline float fmin32(float x, float y)
{
    return fmin(x, y);
}
static inline float fpow32(float x, float y)
{
    return pow(x, y);
}
#else
static inline float fabs32(float x)
{
    return fabsf(x);
}
static inline float fmax32(float x, float y)
{
    return fmaxf(x, y);
}
static inline float fmin32(float x, float y)
{
    return fminf(x, y);
}
static inline float fpow32(float x, float y)
{
    return powf(x, y);
}
#endif
static inline bool futrts_isnan32(float x)
{
    return isnan(x);
}
static inline bool futrts_isinf32(float x)
{
    return isinf(x);
}
#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x)
{
    return log(x);
}
static inline float futrts_log2_32(float x)
{
    return log2(x);
}
static inline float futrts_log10_32(float x)
{
    return log10(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrt(x);
}
static inline float futrts_exp32(float x)
{
    return exp(x);
}
static inline float futrts_cos32(float x)
{
    return cos(x);
}
static inline float futrts_sin32(float x)
{
    return sin(x);
}
static inline float futrts_tan32(float x)
{
    return tan(x);
}
static inline float futrts_acos32(float x)
{
    return acos(x);
}
static inline float futrts_asin32(float x)
{
    return asin(x);
}
static inline float futrts_atan32(float x)
{
    return atan(x);
}
static inline float futrts_cosh32(float x)
{
    return cosh(x);
}
static inline float futrts_sinh32(float x)
{
    return sinh(x);
}
static inline float futrts_tanh32(float x)
{
    return tanh(x);
}
static inline float futrts_acosh32(float x)
{
    return acosh(x);
}
static inline float futrts_asinh32(float x)
{
    return asinh(x);
}
static inline float futrts_atanh32(float x)
{
    return atanh(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypot(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgamma(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgamma(x);
}
static inline float fmod32(float x, float y)
{
    return fmod(x, y);
}
static inline float futrts_round32(float x)
{
    return rint(x);
}
static inline float futrts_floor32(float x)
{
    return floor(x);
}
static inline float futrts_ceil32(float x)
{
    return ceil(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return mix(v0, v1, t);
}
static inline float futrts_mad32(float a, float b, float c)
{
    return mad(a, b, c);
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fma(a, b, c);
}
#else
static inline float futrts_log32(float x)
{
    return logf(x);
}
static inline float futrts_log2_32(float x)
{
    return log2f(x);
}
static inline float futrts_log10_32(float x)
{
    return log10f(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrtf(x);
}
static inline float futrts_exp32(float x)
{
    return expf(x);
}
static inline float futrts_cos32(float x)
{
    return cosf(x);
}
static inline float futrts_sin32(float x)
{
    return sinf(x);
}
static inline float futrts_tan32(float x)
{
    return tanf(x);
}
static inline float futrts_acos32(float x)
{
    return acosf(x);
}
static inline float futrts_asin32(float x)
{
    return asinf(x);
}
static inline float futrts_atan32(float x)
{
    return atanf(x);
}
static inline float futrts_cosh32(float x)
{
    return coshf(x);
}
static inline float futrts_sinh32(float x)
{
    return sinhf(x);
}
static inline float futrts_tanh32(float x)
{
    return tanhf(x);
}
static inline float futrts_acosh32(float x)
{
    return acoshf(x);
}
static inline float futrts_asinh32(float x)
{
    return asinhf(x);
}
static inline float futrts_atanh32(float x)
{
    return atanhf(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2f(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypotf(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgammaf(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgammaf(x);
}
static inline float fmod32(float x, float y)
{
    return fmodf(x, y);
}
static inline float futrts_round32(float x)
{
    return rintf(x);
}
static inline float futrts_floor32(float x)
{
    return floorf(x);
}
static inline float futrts_ceil32(float x)
{
    return ceilf(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return v0 + (v1 - v0) * t;
}
static inline float futrts_mad32(float a, float b, float c)
{
    return a * b + c;
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fmaf(a, b, c);
}
#endif
static inline int32_t futrts_to_bits32(float x)
{
    union {
        float f;
        int32_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float futrts_from_bits32(int32_t x)
{
    union {
        int32_t f;
        float t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float fsignum32(float x)
{
    return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}
static inline double fabs64(double x)
{
    return fabs(x);
}
static inline float fmax64(double x, double y)
{
    return fmax(x, y);
}
static inline float fmin64(double x, double y)
{
    return fmin(x, y);
}
static inline double fpow64(double x, double y)
{
    return pow(x, y);
}
static inline double futrts_log64(double x)
{
    return log(x);
}
static inline double futrts_log2_64(double x)
{
    return log2(x);
}
static inline double futrts_log10_64(double x)
{
    return log10(x);
}
static inline double futrts_sqrt64(double x)
{
    return sqrt(x);
}
static inline double futrts_exp64(double x)
{
    return exp(x);
}
static inline double futrts_cos64(double x)
{
    return cos(x);
}
static inline double futrts_sin64(double x)
{
    return sin(x);
}
static inline double futrts_tan64(double x)
{
    return tan(x);
}
static inline double futrts_acos64(double x)
{
    return acos(x);
}
static inline double futrts_asin64(double x)
{
    return asin(x);
}
static inline double futrts_atan64(double x)
{
    return atan(x);
}
static inline double futrts_cosh64(double x)
{
    return cosh(x);
}
static inline double futrts_sinh64(double x)
{
    return sinh(x);
}
static inline double futrts_tanh64(double x)
{
    return tanh(x);
}
static inline double futrts_acosh64(double x)
{
    return acosh(x);
}
static inline double futrts_asinh64(double x)
{
    return asinh(x);
}
static inline double futrts_atanh64(double x)
{
    return atanh(x);
}
static inline double futrts_atan2_64(double x, double y)
{
    return atan2(x, y);
}
static inline double futrts_hypot64(double x, double y)
{
    return hypot(x, y);
}
static inline double futrts_gamma64(double x)
{
    return tgamma(x);
}
static inline double futrts_lgamma64(double x)
{
    return lgamma(x);
}
static inline double futrts_fma64(double a, double b, double c)
{
    return fma(a, b, c);
}
static inline double futrts_round64(double x)
{
    return rint(x);
}
static inline double futrts_ceil64(double x)
{
    return ceil(x);
}
static inline double futrts_floor64(double x)
{
    return floor(x);
}
static inline bool futrts_isnan64(double x)
{
    return isnan(x);
}
static inline bool futrts_isinf64(double x)
{
    return isinf(x);
}
static inline int64_t futrts_to_bits64(double x)
{
    union {
        double f;
        int64_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double futrts_from_bits64(int64_t x)
{
    union {
        int64_t f;
        double t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double fmod64(double x, double y)
{
    return fmod(x, y);
}
static inline double fsignum64(double x)
{
    return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}
#ifdef __OPENCL_VERSION__
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return mix(v0, v1, t);
}
static inline double futrts_mad64(double a, double b, double c)
{
    return mad(a, b, c);
}
#else
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return v0 + (v1 - v0) * t;
}
static inline double futrts_mad64(double a, double b, double c)
{
    return a * b + c;
}
#endif
static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    char *mem;
    int64_t size;
    const char *desc;
};
// start of scheduler.h

// First, the API that the generated code will access.  In principle,
// we could then compile the scheduler separately and link an object
// file with the generated code.  In practice, we will embed all of
// this in the generated code.

// Scheduler handle.
struct scheduler;

// Initialise a scheduler (and start worker threads).
static int scheduler_init(struct scheduler *scheduler,
                          int num_workers,
                          double kappa);

// Shut down a scheduler (and destroy worker threads).
static int scheduler_destroy(struct scheduler *scheduler);

// Figure out the smallest amount of work that amortises task
// creation.
static int determine_kappa(double *kappa);

// How a segop should be scheduled.
enum scheduling {
  DYNAMIC,
  STATIC
};

// How a given task should be executed.  Filled out by the scheduler
// and passed to the segop function
struct scheduler_info {
  int64_t iter_pr_subtask;
  int64_t remainder;
  int nsubtasks;
  enum scheduling sched;
  int wake_up_threads;

  int64_t *task_time;
  int64_t *task_iter;
};

// A segop function.  This is what you hand the scheduler for
// execution.
typedef int (*segop_fn)(void* args,
                        int64_t iterations,
                        int tid,
                        struct scheduler_info info);

// A task for the scheduler to execute.
struct scheduler_segop {
  void *args;
  segop_fn top_level_fn;
  segop_fn nested_fn;
  int64_t iterations;
  enum scheduling sched;

  // Pointers to timer and iter associated with the task
  int64_t *task_time;
  int64_t *task_iter;

  // For debugging
  const char* name;
};

static inline int scheduler_prepare_task(struct scheduler *scheduler,
                                         struct scheduler_segop *task);

typedef int (*parloop_fn)(void* args,
                          int64_t start,
                          int64_t end,
                          int subtask_id,
                          int tid);

// A parallel parloop task.
struct scheduler_parloop {
  void* args;
  parloop_fn fn;
  int64_t iterations;
  struct scheduler_info info;

  // For debugging
  const char* name;
};

static inline int scheduler_execute_task(struct scheduler *scheduler,
                                         struct scheduler_parloop *task);

// Then the API implementation.

#include <signal.h>

#if defined(_WIN32)
#include <windows.h>
#elif defined(__APPLE__)
#include <sys/sysctl.h>
// For getting cpu usage of threads
#include <mach/mach.h>
#include <sys/resource.h>
#elif defined(__linux__)
#include <sys/sysinfo.h>
#include <sys/resource.h>
#include <signal.h>
#elif defined(__EMSCRIPTEN__)
#include <emscripten/threading.h>
#include <sys/sysinfo.h>
#include <sys/resource.h>
#include <signal.h>
#endif

/* Multicore Utility functions */

/* A wrapper for getting rusage on Linux and MacOS */
/* TODO maybe figure out this for windows */
static inline int getrusage_thread(struct rusage *rusage)
{
  int err = -1;
#if  defined(__APPLE__)
    thread_basic_info_data_t info = { 0 };
    mach_msg_type_number_t info_count = THREAD_BASIC_INFO_COUNT;
    kern_return_t kern_err;

    kern_err = thread_info(mach_thread_self(),
                           THREAD_BASIC_INFO,
                           (thread_info_t)&info,
                           &info_count);
    if (kern_err == KERN_SUCCESS) {
        memset(rusage, 0, sizeof(struct rusage));
        rusage->ru_utime.tv_sec = info.user_time.seconds;
        rusage->ru_utime.tv_usec = info.user_time.microseconds;
        rusage->ru_stime.tv_sec = info.system_time.seconds;
        rusage->ru_stime.tv_usec = info.system_time.microseconds;
        err = 0;
    } else {
        errno = EINVAL;
    }
#elif defined(__linux__) || __EMSCRIPTEN__
    err = getrusage(RUSAGE_THREAD, rusage);
#endif
    return err;
}

/* returns the number of logical cores */
static int num_processors()
{
#if  defined(_WIN32)
/* https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/ns-sysinfoapi-system_info */
    SYSTEM_INFO sysinfo;
    GetSystemInfo(&sysinfo);
    int ncores = sysinfo.dwNumberOfProcessors;
    fprintf(stderr, "Found %d cores on your Windows machine\n Is that correct?\n", ncores);
    return ncores;
#elif defined(__APPLE__)
    int ncores;
    size_t ncores_size = sizeof(ncores);
    CHECK_ERRNO(sysctlbyname("hw.logicalcpu", &ncores, &ncores_size, NULL, 0),
                "sysctlbyname (hw.logicalcpu)");
    return ncores;
#elif defined(__linux__)
  return get_nprocs();
#elif __EMSCRIPTEN__
  return emscripten_num_logical_cores();
#else
  fprintf(stderr, "operating system not recognised\n");
  return -1;
#endif
}

static unsigned int g_seed;

// Used to seed the generator.
static inline void fast_srand(unsigned int seed) {
    g_seed = seed;
}

// Compute a pseudorandom integer.
// Output value in range [0, 32767]
static inline unsigned int fast_rand(void) {
    g_seed = (214013*g_seed+2531011);
    return (g_seed>>16)&0x7FFF;
}

struct subtask_queue {
  int capacity;             // Size of the buffer.
  int first;                // Index of the start of the ring buffer.
  int num_used;             // Number of used elements in the buffer.
  struct subtask **buffer;

  pthread_mutex_t mutex;    // Mutex used for synchronisation.
  pthread_cond_t cond;      // Condition variable used for synchronisation.
  int dead;

#if defined(MCPROFILE)
  /* Profiling fields */
  uint64_t time_enqueue;
  uint64_t time_dequeue;
  uint64_t n_dequeues;
  uint64_t n_enqueues;
#endif
};

/* A subtask that can be executed by a worker */
struct subtask {
  /* The parloop function */
  parloop_fn fn;
  /* Execution parameters */
  void* args;
  int64_t start, end;
  int id;

  /* Dynamic scheduling parameters */
  int chunkable;
  int64_t chunk_size;

  /* Shared variables across subtasks */
  volatile int *counter; // Counter for ongoing subtasks
  // Shared task timers and iterators
  int64_t *task_time;
  int64_t *task_iter;

  /* For debugging */
  const char *name;
};


struct worker {
  pthread_t thread;
  struct scheduler *scheduler;  /* Reference to the scheduler struct the worker belongs to*/
  struct subtask_queue q;
  int dead;
  int tid;                      /* Just a thread id */

  /* "thread local" time fields used for online algorithm */
  uint64_t timer;
  uint64_t total;
  int nested; /* How nested the current computation is */

  // Profiling fields
  int output_usage;            /* Whether to dump thread usage */
  uint64_t time_spent_working; /* Time spent in parloop functions */
};

static inline void output_worker_usage(struct worker *worker)
{
  struct rusage usage;
  CHECK_ERRNO(getrusage_thread(&usage), "getrusage_thread");
  struct timeval user_cpu_time = usage.ru_utime;
  struct timeval sys_cpu_time = usage.ru_stime;
  fprintf(stderr, "tid: %2d - work time %10llu us - user time: %10llu us - sys: %10llu us\n",
          worker->tid,
          (long long unsigned)worker->time_spent_working / 1000,
          (long long unsigned)(user_cpu_time.tv_sec * 1000000 + user_cpu_time.tv_usec),
          (long long unsigned)(sys_cpu_time.tv_sec * 1000000 + sys_cpu_time.tv_usec));
}

/* Doubles the size of the queue */
static inline int subtask_queue_grow_queue(struct subtask_queue *subtask_queue) {

  int new_capacity = 2 * subtask_queue->capacity;
#ifdef MCDEBUG
  fprintf(stderr, "Growing queue to %d\n", subtask_queue->capacity * 2);
#endif

  struct subtask **new_buffer = calloc(new_capacity, sizeof(struct subtask*));
  for (int i = 0; i < subtask_queue->num_used; i++) {
    new_buffer[i] = subtask_queue->buffer[(subtask_queue->first + i) % subtask_queue->capacity];
  }

  free(subtask_queue->buffer);
  subtask_queue->buffer = new_buffer;
  subtask_queue->capacity = new_capacity;
  subtask_queue->first = 0;

  return 0;
}

// Initialise a job queue with the given capacity.  The queue starts out
// empty.  Returns non-zero on error.
static inline int subtask_queue_init(struct subtask_queue *subtask_queue, int capacity)
{
  assert(subtask_queue != NULL);
  memset(subtask_queue, 0, sizeof(struct subtask_queue));

  subtask_queue->capacity = capacity;
  subtask_queue->buffer = calloc(capacity, sizeof(struct subtask*));
  if (subtask_queue->buffer == NULL) {
    return -1;
  }

  CHECK_ERRNO(pthread_mutex_init(&subtask_queue->mutex, NULL), "pthread_mutex_init");
  CHECK_ERRNO(pthread_cond_init(&subtask_queue->cond, NULL), "pthread_cond_init");

  return 0;
}

// Destroy the job queue.  Blocks until the queue is empty before it
// is destroyed.
static inline int subtask_queue_destroy(struct subtask_queue *subtask_queue)
{
  assert(subtask_queue != NULL);

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");

  while (subtask_queue->num_used != 0) {
    CHECK_ERR(pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex), "pthread_cond_wait");
  }

  // Queue is now empty.  Let's kill it!
  subtask_queue->dead = 1;
  free(subtask_queue->buffer);
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}

static inline void dump_queue(struct worker *worker)
{
  struct subtask_queue *subtask_queue = &worker->q;
  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  for (int i = 0; i < subtask_queue->num_used; i++) {
    struct subtask * subtask = subtask_queue->buffer[(subtask_queue->first + i) % subtask_queue->capacity];
    printf("queue tid %d with %d task %s\n", worker->tid, i, subtask->name);
  }
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
}

// Push an element onto the end of the job queue.  Blocks if the
// subtask_queue is full (its size is equal to its capacity).  Returns
// non-zero on error.  It is an error to push a job onto a queue that
// has been destroyed.
static inline int subtask_queue_enqueue(struct worker *worker, struct subtask *subtask )
{
  assert(worker != NULL);
  struct subtask_queue *subtask_queue = &worker->q;

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  // Wait until there is room in the subtask_queue.
  while (subtask_queue->num_used == subtask_queue->capacity && !subtask_queue->dead) {
    if (subtask_queue->num_used == subtask_queue->capacity) {
      CHECK_ERR(subtask_queue_grow_queue(subtask_queue), "subtask_queue_grow_queue");
      continue;
    }
    CHECK_ERR(pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex), "pthread_cond_wait");
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // If we made it past the loop, there is room in the subtask_queue.
  subtask_queue->buffer[(subtask_queue->first + subtask_queue->num_used) % subtask_queue->capacity] = subtask;
  subtask_queue->num_used++;

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_enqueue += (end - start);
  subtask_queue->n_enqueues++;
#endif
  // Broadcast a reader (if any) that there is now an element.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}


/* Like subtask_queue_dequeue, but with two differences:
   1) the subtask is stolen from the __front__ of the queue
   2) returns immediately if there is no subtasks queued,
      as we dont' want to block on another workers queue and
*/
static inline int subtask_queue_steal(struct worker *worker,
                                      struct subtask **subtask)
{
  struct subtask_queue *subtask_queue = &worker->q;
  assert(subtask_queue != NULL);

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif
  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");

  if (subtask_queue->num_used == 0) {
    CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return 1;
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // Tasks gets stolen from the "front"
  struct subtask *cur_back = subtask_queue->buffer[subtask_queue->first];
  struct subtask *new_subtask = NULL;
  int remaining_iter = cur_back->end - cur_back->start;
  // If subtask is chunkable, we steal half of the iterations
  if (cur_back->chunkable && remaining_iter > 1) {
      int64_t half = remaining_iter / 2;
      new_subtask = malloc(sizeof(struct subtask));
      *new_subtask = *cur_back;
      new_subtask->start = cur_back->end - half;
      cur_back->end = new_subtask->start;
      __atomic_fetch_add(cur_back->counter, 1, __ATOMIC_RELAXED);
  } else {
    new_subtask = cur_back;
    subtask_queue->num_used--;
    subtask_queue->first = (subtask_queue->first + 1) % subtask_queue->capacity;
  }
  *subtask = new_subtask;

  if (*subtask == NULL) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthred_mutex_unlock");
    return 1;
  }

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_dequeue += (end - start);
  subtask_queue->n_dequeues++;
#endif

  // Broadcast a writer (if any) that there is now room for more.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}


// Pop an element from the back of the job queue.
// Optional argument can be provided to block or not
static inline int subtask_queue_dequeue(struct worker *worker,
                                        struct subtask **subtask, int blocking)
{
  assert(worker != NULL);
  struct subtask_queue *subtask_queue = &worker->q;

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  if (subtask_queue->num_used == 0 && !blocking) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return 1;
  }
  // Try to steal some work while the subtask_queue is empty
  while (subtask_queue->num_used == 0 && !subtask_queue->dead) {
    pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex);
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // dequeue pops from the back
  *subtask = subtask_queue->buffer[(subtask_queue->first + subtask_queue->num_used - 1) % subtask_queue->capacity];
  subtask_queue->num_used--;

  if (*subtask == NULL) {
    assert(!"got NULL ptr");
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthred_mutex_unlock");
    return -1;
  }

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_dequeue += (end - start);
  subtask_queue->n_dequeues++;
#endif

  // Broadcast a writer (if any) that there is now room for more.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}

static inline int subtask_queue_is_empty(struct subtask_queue *subtask_queue)
{
  return subtask_queue->num_used == 0;
}

/* Scheduler definitions */

struct scheduler {
  struct worker *workers;
  int num_threads;

  // If there is work to steal => active_work > 0
  volatile int active_work;

  // Only one error can be returned at the time now.  Maybe we can
  // provide a stack like structure for pushing errors onto if we wish
  // to backpropagte multiple errors
  volatile int error;

  // kappa time unit in nanoseconds
  double kappa;
};


// Thread local variable worker struct
// Note that, accesses to tls variables are expensive
// Minimize direct references to this variable
__thread struct worker* worker_local = NULL;

static int64_t total_now(int64_t total, int64_t time) {
  return total + (get_wall_time_ns() - time);
}

static int random_other_worker(struct scheduler *scheduler, int my_id) {
  int my_num_workers = scheduler->num_threads;
  assert(my_num_workers != 1);
  int i = fast_rand() % (my_num_workers - 1);
  if (i >= my_id) {
    i++;
  }
#ifdef MCDEBUG
  assert(i >= 0);
  assert(i < my_num_workers);
  assert(i != my_id);
#endif

  return i;
}


static inline int64_t compute_chunk_size(double kappa, struct subtask* subtask)
{
  double C = (double)*subtask->task_time / (double)*subtask->task_iter;
  if (C == 0.0F) C += DBL_EPSILON;
  return smax64((int64_t)(kappa / C), 1);
}

/* Takes a chunk from subtask and enqueues the remaining iterations onto the worker's queue */
/* A no-op if the subtask is not chunkable */
static inline struct subtask* chunk_subtask(struct worker* worker, struct subtask *subtask)
{
  if (subtask->chunkable) {
    // Do we have information from previous runs avaliable
    if (*subtask->task_iter > 0) {
      subtask->chunk_size = compute_chunk_size(worker->scheduler->kappa, subtask);
      assert(subtask->chunk_size > 0);
    }
    int64_t remaining_iter = subtask->end - subtask->start;
    assert(remaining_iter > 0);
    if (remaining_iter > subtask->chunk_size) {
      struct subtask *new_subtask = malloc(sizeof(struct subtask));
      *new_subtask = *subtask;
      // increment the subtask join counter to account for new subtask
      __atomic_fetch_add(subtask->counter, 1, __ATOMIC_RELAXED);
      // Update range parameters
      subtask->end = subtask->start + subtask->chunk_size;
      new_subtask->start = subtask->end;
      subtask_queue_enqueue(worker, new_subtask);
    }
  }
  return subtask;
}

static inline int run_subtask(struct worker* worker, struct subtask* subtask)
{
  assert(subtask != NULL);
  assert(worker != NULL);

  subtask = chunk_subtask(worker, subtask);
  worker->total = 0;
  worker->timer = get_wall_time_ns();
#if defined(MCPROFILE)
  int64_t start = worker->timer;
#endif
  worker->nested++;
  int err = subtask->fn(subtask->args, subtask->start, subtask->end,
                        subtask->chunkable ? worker->tid : subtask->id,
                        worker->tid);
  worker->nested--;
  // Some error occured during some other subtask
  // so we just clean-up and return
  if (worker->scheduler->error != 0) {
    // Even a failed task counts as finished.
    __atomic_fetch_sub(subtask->counter, 1, __ATOMIC_RELAXED);
    free(subtask);
    return 0;
  }
  if (err != 0) {
    __atomic_store_n(&worker->scheduler->error, err, __ATOMIC_RELAXED);
  }
  // Total sequential time spent
  int64_t time_elapsed = total_now(worker->total, worker->timer);
#if defined(MCPROFILE)
  worker->time_spent_working += get_wall_time_ns() - start;
#endif
  int64_t iter = subtask->end - subtask->start;
  // report measurements
  // These updates should really be done using a single atomic CAS operation
  __atomic_fetch_add(subtask->task_time, time_elapsed, __ATOMIC_RELAXED);
  __atomic_fetch_add(subtask->task_iter, iter, __ATOMIC_RELAXED);
  // We need a fence here, since if the counter is decremented before either
  // of the two above are updated bad things can happen, e.g. if they are stack-allocated
  __atomic_thread_fence(__ATOMIC_SEQ_CST);
  __atomic_fetch_sub(subtask->counter, 1, __ATOMIC_RELAXED);
  free(subtask);
  return 0;
}


static inline int is_small(struct scheduler_segop *task, struct scheduler *scheduler, int *nsubtasks)
{
  int64_t time = *task->task_time;
  int64_t iter = *task->task_iter;

  if (task->sched == DYNAMIC || iter == 0) {
    *nsubtasks = scheduler->num_threads;
    return 0;
  }

  // Estimate the constant C
  double C = (double)time / (double)iter;
  double cur_task_iter = (double) task->iterations;

  // Returns true if the task is small i.e.
  // if the number of iterations times C is smaller
  // than the overhead of subtask creation
  if (C == 0.0F || C * cur_task_iter < scheduler->kappa) {
    *nsubtasks = 1;
    return 1;
  }

  // Else compute how many subtasks this tasks should create
  int64_t min_iter_pr_subtask = smax64(scheduler->kappa / C, 1);
  *nsubtasks = smin64(smax64(task->iterations / min_iter_pr_subtask, 1), scheduler->num_threads);

  return 0;
}

// TODO make this prettier
static inline struct subtask* create_subtask(parloop_fn fn,
                                             void* args,
                                             const char* name,
                                             volatile int* counter,
                                             int64_t *timer,
                                             int64_t *iter,
                                             int64_t start, int64_t end,
                                             int chunkable,
                                             int64_t chunk_size,
                                             int id)
{
  struct subtask* subtask = malloc(sizeof(struct subtask));
  if (subtask == NULL) {
    assert(!"malloc failed in create_subtask");
    return NULL;
  }
  subtask->fn         = fn;
  subtask->args       = args;

  subtask->counter    = counter;
  subtask->task_time  = timer;
  subtask->task_iter  = iter;

  subtask->start      = start;
  subtask->end        = end;
  subtask->id         = id;
  subtask->chunkable  = chunkable;
  subtask->chunk_size = chunk_size;

  subtask->name       = name;
  return subtask;
}

static int dummy_counter = 0;
static int64_t dummy_timer = 0;
static int64_t dummy_iter = 0;

static int dummy_fn(void *args, int64_t start, int64_t end, int subtask_id, int tid) {
  (void)args;
  (void)start;
  (void)end;
  (void)subtask_id;
  (void)tid;
  return 0;
}

// Wake up threads, who are blocking by pushing a dummy task
// onto their queue
static inline void wake_up_threads(struct scheduler *scheduler, int start_tid, int end_tid) {

#if defined(MCDEBUG)
  assert(start_tid >= 1);
  assert(end_tid <= scheduler->num_threads);
#endif
  for (int i = start_tid; i < end_tid; i++) {
    struct subtask *subtask = create_subtask(dummy_fn, NULL, "dummy_fn",
                                            &dummy_counter,
                                            &dummy_timer, &dummy_iter,
                                            0, 0,
                                            0, 0,
                                            0);
    CHECK_ERR(subtask_queue_enqueue(&scheduler->workers[i], subtask), "subtask_queue_enqueue");
  }
}

static inline int is_finished(struct worker *worker) {
  return worker->dead && subtask_queue_is_empty(&worker->q);
}

// Try to steal from a random queue
static inline int steal_from_random_worker(struct worker* worker)
{
  int my_id = worker->tid;
  struct scheduler* scheduler = worker->scheduler;
  int k = random_other_worker(scheduler, my_id);
  struct worker *worker_k = &scheduler->workers[k];
  struct subtask* subtask =  NULL;
  int retval = subtask_queue_steal(worker_k, &subtask);
  if (retval == 0) {
    subtask_queue_enqueue(worker, subtask);
    return 1;
  }
  return 0;
}


static inline void *scheduler_worker(void* args)
{
  struct worker *worker = (struct worker*) args;
  struct scheduler *scheduler = worker->scheduler;
  worker_local = worker;
  struct subtask *subtask = NULL;

  while(!is_finished(worker)) {
    if (!subtask_queue_is_empty(&worker->q)) {
      int retval = subtask_queue_dequeue(worker, &subtask, 0);
      if (retval == 0) {
        assert(subtask != NULL);
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      } // else someone stole our work

    } else if (scheduler->active_work) { /* steal */
      while (!is_finished(worker) && scheduler->active_work) {
        if (steal_from_random_worker(worker)) {
          break;
        }
      }
    } else { /* go back to sleep and wait for work */
      int retval = subtask_queue_dequeue(worker, &subtask, 1);
      if (retval == 0) {
        assert(subtask != NULL);
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      }
    }
  }

  assert(subtask_queue_is_empty(&worker->q));
#if defined(MCPROFILE)
  if (worker->output_usage)
    output_worker_usage(worker);
#endif
  return NULL;
}


static inline int scheduler_execute_parloop(struct scheduler *scheduler,
                                            struct scheduler_parloop *task,
                                            int64_t *timer)
{

  struct worker *worker = worker_local;

  struct scheduler_info info = task->info;
  int64_t iter_pr_subtask = info.iter_pr_subtask;
  int64_t remainder = info.remainder;
  int nsubtasks = info.nsubtasks;
  volatile int join_counter = nsubtasks;

  // Shared timer used to sum up all
  // sequential work from each subtask
  int64_t task_timer = 0;
  int64_t task_iter = 0;

  enum scheduling sched = info.sched;
  /* If each subtasks should be processed in chunks */
  int chunkable = sched == STATIC ? 0 : 1;
  int64_t chunk_size = 1; // The initial chunk size when no info is avaliable


  if (info.wake_up_threads || sched == DYNAMIC)
    __atomic_add_fetch(&scheduler->active_work, nsubtasks, __ATOMIC_RELAXED);

  int64_t start = 0;
  int64_t end = iter_pr_subtask + (int64_t)(remainder != 0);
  for (int subtask_id = 0; subtask_id < nsubtasks; subtask_id++) {
    struct subtask *subtask = create_subtask(task->fn, task->args, task->name,
                                              &join_counter,
                                              &task_timer, &task_iter,
                                              start, end,
                                              chunkable, chunk_size,
                                              subtask_id);
    assert(subtask != NULL);
    // In most cases we will never have more subtasks than workers,
    // but there can be exceptions (e.g. the kappa tuning function).
    struct worker *subtask_worker =
      worker->nested
      ? &scheduler->workers[worker->tid]
      : &scheduler->workers[subtask_id % scheduler->num_threads];
    CHECK_ERR(subtask_queue_enqueue(subtask_worker, subtask),
              "subtask_queue_enqueue");
    // Update range params
    start = end;
    end += iter_pr_subtask + ((subtask_id + 1) < remainder);
  }

  if (info.wake_up_threads) {
    wake_up_threads(scheduler, nsubtasks, scheduler->num_threads);
  }

  // Join (wait for subtasks to finish)
  while(join_counter != 0) {
    if (!subtask_queue_is_empty(&worker->q)) {
      struct subtask *subtask = NULL;
      int err = subtask_queue_dequeue(worker, &subtask, 0);
      if (err == 0 ) {
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      }
    } else {
      if (steal_from_random_worker(worker)) {
        struct subtask *subtask = NULL;
        int err = subtask_queue_dequeue(worker, &subtask, 0);
        if (err == 0) {
          CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
        }
      }
    }
  }


  if (info.wake_up_threads || sched == DYNAMIC) {
    __atomic_sub_fetch(&scheduler->active_work, nsubtasks, __ATOMIC_RELAXED);
  }

  // Write back timing results of all sequential work
  (*timer) += task_timer;
  return scheduler->error;
}


static inline int scheduler_execute_task(struct scheduler *scheduler,
                                         struct scheduler_parloop *task)
{

  struct worker *worker = worker_local;

  int err = 0;

  // How much sequential work was performed by the task
  int64_t task_timer = 0;

  /* Execute task sequential or parallel based on decision made earlier */
  if (task->info.nsubtasks == 1) {
    int64_t start = get_wall_time_ns();
    err = task->fn(task->args, 0, task->iterations, 0, worker->tid);
    int64_t end = get_wall_time_ns();
    task_timer = end - start;
    worker->time_spent_working += task_timer;
    // Report time measurements
    // TODO the update of both of these should really be a single atomic!!
    __atomic_fetch_add(task->info.task_time, task_timer, __ATOMIC_RELAXED);
    __atomic_fetch_add(task->info.task_iter, task->iterations, __ATOMIC_RELAXED);
  } else {
    // Add "before" time if we already are inside a task
    int64_t time_before = 0;
    if (worker->nested > 0) {
      time_before = total_now(worker->total, worker->timer);
    }

    err = scheduler_execute_parloop(scheduler, task, &task_timer);

    // Report time measurements
    // TODO the update of both of these should really be a single atomic!!
    __atomic_fetch_add(task->info.task_time, task_timer, __ATOMIC_RELAXED);
    __atomic_fetch_add(task->info.task_iter, task->iterations, __ATOMIC_RELAXED);

    // Update timers to account for new timings
    worker->total = time_before + task_timer;
    worker->timer = get_wall_time_ns();
  }


  return err;
}

/* Decide on how schedule the incoming task i.e. how many subtasks and
   to run sequential or (potentially nested) parallel code body */
static inline int scheduler_prepare_task(struct scheduler* scheduler,
                                         struct scheduler_segop *task)
{
  assert(task != NULL);

  struct worker *worker = worker_local;
  struct scheduler_info info;
  info.task_time = task->task_time;
  info.task_iter = task->task_iter;

  int nsubtasks;
  // Decide if task should be scheduled sequentially
  if (is_small(task, scheduler, &nsubtasks)) {
    info.iter_pr_subtask = task->iterations;
    info.remainder = 0;
    info.nsubtasks = nsubtasks;
    return task->top_level_fn(task->args, task->iterations, worker->tid, info);
  } else {
    info.iter_pr_subtask = task->iterations / nsubtasks;
    info.remainder = task->iterations % nsubtasks;
    info.sched = task->sched;
    switch (task->sched) {
    case STATIC:
      info.nsubtasks = info.iter_pr_subtask == 0 ? info.remainder : ((task->iterations - info.remainder) / info.iter_pr_subtask);
      break;
    case DYNAMIC:
      // As any thread can take any subtasks, we are being safe with using
      // an upper bound on the number of tasks such that the task allocate enough memory
      info.nsubtasks = info.iter_pr_subtask == 0 ? info.remainder : nsubtasks;
      break;
    default:
      assert(!"Got unknown scheduling");
    }
  }

  info.wake_up_threads = 0;
  // We only use the nested parallel segop function if we can't exchaust all cores
  // using the outer most level
  if (task->nested_fn != NULL && info.nsubtasks < scheduler->num_threads && info.nsubtasks == task->iterations) {
    if (worker->nested == 0)
      info.wake_up_threads = 1;
    return task->nested_fn(task->args, task->iterations, worker->tid, info);
  }

  return task->top_level_fn(task->args, task->iterations, worker->tid, info);
}

// Now some code for finding the proper value of kappa on a given
// machine (the smallest amount of work that amortises the cost of
// task creation).

struct tuning_struct {
  int32_t *free_tuning_res;
  int32_t *array;
};

// Reduction function over an integer array
static int tuning_loop(void *args, int64_t start, int64_t end,
                                     int flat_tid, int tid) {
  (void)flat_tid;
  (void)tid;

  int err = 0;
  struct tuning_struct *tuning_struct = (struct tuning_struct *) args;
  int32_t *array = tuning_struct->array;
  int32_t *tuning_res = tuning_struct->free_tuning_res;

  int32_t sum = 0;
  for (int i = start; i < end; i++) {
    int32_t y = array[i];
    sum = add32(sum, y);
  }
  *tuning_res = sum;
  return err;
}

// The main entry point for the tuning process.  Sets the provided
// variable ``kappa``.
static int determine_kappa(double *kappa) {
  int err = 0;

  int64_t iterations = 100000000;
  int64_t tuning_time = 0;
  int64_t tuning_iter = 0;

  int32_t *array = malloc(sizeof(int32_t) * iterations);
  for (int64_t i = 0; i < iterations; i++) {
    array[i] = fast_rand();
  }

  int64_t start_tuning = get_wall_time_ns();
  /* **************************** */
  /* Run sequential reduce first' */
  /* **************************** */
  int64_t tuning_sequentiual_start = get_wall_time_ns();
  struct tuning_struct tuning_struct;
  int32_t tuning_res;
  tuning_struct.free_tuning_res = &tuning_res;
  tuning_struct.array = array;

  err = tuning_loop(&tuning_struct, 0, iterations, 0, 0);
  int64_t tuning_sequentiual_end = get_wall_time_ns();
  int64_t sequential_elapsed = tuning_sequentiual_end - tuning_sequentiual_start;

  double C = (double)sequential_elapsed / (double)iterations;
  fprintf(stderr, " Time for sequential run is %lld - Found C %f\n", (long long)sequential_elapsed, C);

  /* ********************** */
  /* Now run tuning process */
  /* ********************** */
  // Setup a scheduler with a single worker
  struct scheduler scheduler;
  scheduler.num_threads = 1;
  scheduler.workers = malloc(sizeof(struct worker));
  worker_local = &scheduler.workers[0];
  worker_local->tid = 0;
  CHECK_ERR(subtask_queue_init(&scheduler.workers[0].q, 1024),
            "failed to init queue for worker %d\n", 0);

  // Start tuning for kappa
  double kappa_tune = 1000; // Initial kappa is 1 us
  double ratio;
  int64_t time_elapsed;
  while(1) {
    int64_t min_iter_pr_subtask = (int64_t) (kappa_tune / C) == 0 ? 1 : (kappa_tune / C);
    int nsubtasks = iterations / min_iter_pr_subtask;
    struct scheduler_info info;
    info.iter_pr_subtask = min_iter_pr_subtask;

    info.nsubtasks = iterations / min_iter_pr_subtask;
    info.remainder = iterations % min_iter_pr_subtask;
    info.task_time = &tuning_time;
    info.task_iter = &tuning_iter;
    info.sched = STATIC;

    struct scheduler_parloop parloop;
    parloop.name = "tuning_loop";
    parloop.fn = tuning_loop;
    parloop.args = &tuning_struct;
    parloop.iterations = iterations;
    parloop.info = info;

    int64_t tuning_chunked_start = get_wall_time_ns();
    int determine_kappa_err =
      scheduler_execute_task(&scheduler,
                             &parloop);
    assert(determine_kappa_err == 0);
    int64_t tuning_chunked_end = get_wall_time_ns();
    time_elapsed =  tuning_chunked_end - tuning_chunked_start;

    ratio = (double)time_elapsed / (double)sequential_elapsed;
    if (ratio < 1.055) {
      break;
    }
    kappa_tune += 100; // Increase by 100 ns at the time
    fprintf(stderr, "nsubtask %d - kappa %f - ratio %f\n", nsubtasks, kappa_tune, ratio);
  }

  int64_t end_tuning = get_wall_time_ns();
  fprintf(stderr, "tuning took %lld ns and found kappa %f - time %lld - ratio %f\n",
          (long long)end_tuning - start_tuning,
          kappa_tune,
          (long long)time_elapsed,
          ratio);
  *kappa = kappa_tune;

  // Clean-up
  CHECK_ERR(subtask_queue_destroy(&scheduler.workers[0].q), "failed to destroy queue");
  free(array);
  free(scheduler.workers);
  return err;
}

static int scheduler_init(struct scheduler *scheduler,
                          int num_workers,
                          double kappa) {
  assert(num_workers > 0);

  scheduler->kappa = kappa;
  scheduler->num_threads = num_workers;
  scheduler->active_work = 0;
  scheduler->error = 0;

  scheduler->workers = calloc(num_workers, sizeof(struct worker));

  const int queue_capacity = 1024;

  worker_local = &scheduler->workers[0];
  worker_local->tid = 0;
  worker_local->scheduler = scheduler;
  CHECK_ERR(subtask_queue_init(&worker_local->q, queue_capacity),
            "failed to init queue for worker %d\n", 0);

  for (int i = 1; i < num_workers; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    memset(cur_worker, 0, sizeof(struct worker));
    cur_worker->tid = i;
    cur_worker->output_usage = 0;
    cur_worker->scheduler = scheduler;
    CHECK_ERR(subtask_queue_init(&cur_worker->q, queue_capacity),
              "failed to init queue for worker %d\n", i);

    CHECK_ERR(pthread_create(&cur_worker->thread,
                             NULL,
                             &scheduler_worker,
                             cur_worker),
              "Failed to create worker %d\n", i);
  }

  return 0;
}

static int scheduler_destroy(struct scheduler *scheduler) {
  // First mark them all as dead.
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    cur_worker->dead = 1;
  }

  // Then destroy their task queues (this will wake up the threads and
  // make them do their shutdown).
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    subtask_queue_destroy(&cur_worker->q);
  }

  // Then actually wait for them to stop.
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    CHECK_ERR(pthread_join(scheduler->workers[i].thread, NULL), "pthread_join");
  }

  free(scheduler->workers);

  return 0;
}

// End of scheduler.h

struct futhark_context_config {
    int debugging;
    int profiling;
    int num_threads;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->debugging = 0;
    cfg->profiling = 0;
    cfg->num_threads = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag)
{
    cfg->profiling = flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    /* Does nothing for this backend. */
    (void) cfg;
    (void) detail;
}
void futhark_context_config_set_num_threads(struct futhark_context_config *cfg,
                                            int n)
{
    cfg->num_threads = n;
}
struct futhark_context {
    struct scheduler scheduler;
    int detail_memory;
    int debugging;
    int profiling;
    int profiling_paused;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int total_runs;
    long total_runtime;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
    int64_t *futhark_mc_segmap_parloop_136267_total_runtime;
    int *futhark_mc_segmap_parloop_136267_runs;
    int64_t *futhark_mc_segmap_parloop_136267_iter;
    int64_t futhark_mc_segmap_parloop_136267_total_total_runtime;
    int futhark_mc_segmap_parloop_136267_total_runs;
    int64_t futhark_mc_segmap_parloop_136267_total_iter;
    int64_t *futhark_mc_segmap_task_136265_total_runtime;
    int *futhark_mc_segmap_task_136265_runs;
    int64_t *futhark_mc_segmap_task_136265_iter;
    int64_t futhark_mc_segmap_task_136265_total_time;
    int64_t futhark_mc_segmap_task_136265_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_136279_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_136279_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_136279_iter;
    int64_t futhark_mc_scan_stage_1_parloop_136279_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_136279_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_136279_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_136281_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_136281_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_136281_iter;
    int64_t futhark_mc_scan_stage_3_parloop_136281_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_136281_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_136281_total_iter;
    int64_t *futhark_mc_segscan_task_136276_total_runtime;
    int *futhark_mc_segscan_task_136276_runs;
    int64_t *futhark_mc_segscan_task_136276_iter;
    int64_t futhark_mc_segscan_task_136276_total_time;
    int64_t futhark_mc_segscan_task_136276_total_iter;
    int64_t *futhark_mc_segmap_parloop_136285_total_runtime;
    int *futhark_mc_segmap_parloop_136285_runs;
    int64_t *futhark_mc_segmap_parloop_136285_iter;
    int64_t futhark_mc_segmap_parloop_136285_total_total_runtime;
    int futhark_mc_segmap_parloop_136285_total_runs;
    int64_t futhark_mc_segmap_parloop_136285_total_iter;
    int64_t *futhark_mc_segmap_task_136283_total_runtime;
    int *futhark_mc_segmap_task_136283_runs;
    int64_t *futhark_mc_segmap_task_136283_iter;
    int64_t futhark_mc_segmap_task_136283_total_time;
    int64_t futhark_mc_segmap_task_136283_total_iter;
    int64_t *futhark_mc_segmap_parloop_136272_total_runtime;
    int *futhark_mc_segmap_parloop_136272_runs;
    int64_t *futhark_mc_segmap_parloop_136272_iter;
    int64_t futhark_mc_segmap_parloop_136272_total_total_runtime;
    int futhark_mc_segmap_parloop_136272_total_runs;
    int64_t futhark_mc_segmap_parloop_136272_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136270_total_runtime;
    int *futhark_mc_segmap_nested_task_136270_runs;
    int64_t *futhark_mc_segmap_nested_task_136270_iter;
    int64_t *futhark_mc_segmap_parloop_136289_total_runtime;
    int *futhark_mc_segmap_parloop_136289_runs;
    int64_t *futhark_mc_segmap_parloop_136289_iter;
    int64_t futhark_mc_segmap_parloop_136289_total_total_runtime;
    int futhark_mc_segmap_parloop_136289_total_runs;
    int64_t futhark_mc_segmap_parloop_136289_total_iter;
    int64_t *futhark_mc_segmap_task_136287_total_runtime;
    int *futhark_mc_segmap_task_136287_runs;
    int64_t *futhark_mc_segmap_task_136287_iter;
    int64_t futhark_mc_segmap_task_136287_total_time;
    int64_t futhark_mc_segmap_task_136287_total_iter;
    int64_t *futhark_mc_segmap_parloop_136298_total_runtime;
    int *futhark_mc_segmap_parloop_136298_runs;
    int64_t *futhark_mc_segmap_parloop_136298_iter;
    int64_t futhark_mc_segmap_parloop_136298_total_total_runtime;
    int futhark_mc_segmap_parloop_136298_total_runs;
    int64_t futhark_mc_segmap_parloop_136298_total_iter;
    int64_t *futhark_mc_segmap_task_136296_total_runtime;
    int *futhark_mc_segmap_task_136296_runs;
    int64_t *futhark_mc_segmap_task_136296_iter;
    int64_t futhark_mc_segmap_task_136296_total_time;
    int64_t futhark_mc_segmap_task_136296_total_iter;
    int64_t *futhark_mc_segmap_parloop_136293_total_runtime;
    int *futhark_mc_segmap_parloop_136293_runs;
    int64_t *futhark_mc_segmap_parloop_136293_iter;
    int64_t futhark_mc_segmap_parloop_136293_total_total_runtime;
    int futhark_mc_segmap_parloop_136293_total_runs;
    int64_t futhark_mc_segmap_parloop_136293_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136291_total_runtime;
    int *futhark_mc_segmap_nested_task_136291_runs;
    int64_t *futhark_mc_segmap_nested_task_136291_iter;
    int64_t *futhark_mc_segmap_parloop_136302_total_runtime;
    int *futhark_mc_segmap_parloop_136302_runs;
    int64_t *futhark_mc_segmap_parloop_136302_iter;
    int64_t futhark_mc_segmap_parloop_136302_total_total_runtime;
    int futhark_mc_segmap_parloop_136302_total_runs;
    int64_t futhark_mc_segmap_parloop_136302_total_iter;
    int64_t *futhark_mc_segmap_task_136300_total_runtime;
    int *futhark_mc_segmap_task_136300_runs;
    int64_t *futhark_mc_segmap_task_136300_iter;
    int64_t futhark_mc_segmap_task_136300_total_time;
    int64_t futhark_mc_segmap_task_136300_total_iter;
    int64_t *futhark_mc_segmap_parloop_136311_total_runtime;
    int *futhark_mc_segmap_parloop_136311_runs;
    int64_t *futhark_mc_segmap_parloop_136311_iter;
    int64_t futhark_mc_segmap_parloop_136311_total_total_runtime;
    int futhark_mc_segmap_parloop_136311_total_runs;
    int64_t futhark_mc_segmap_parloop_136311_total_iter;
    int64_t *futhark_mc_segmap_task_136309_total_runtime;
    int *futhark_mc_segmap_task_136309_runs;
    int64_t *futhark_mc_segmap_task_136309_iter;
    int64_t futhark_mc_segmap_task_136309_total_time;
    int64_t futhark_mc_segmap_task_136309_total_iter;
    int64_t *futhark_mc_segmap_parloop_136306_total_runtime;
    int *futhark_mc_segmap_parloop_136306_runs;
    int64_t *futhark_mc_segmap_parloop_136306_iter;
    int64_t futhark_mc_segmap_parloop_136306_total_total_runtime;
    int futhark_mc_segmap_parloop_136306_total_runs;
    int64_t futhark_mc_segmap_parloop_136306_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136304_total_runtime;
    int *futhark_mc_segmap_nested_task_136304_runs;
    int64_t *futhark_mc_segmap_nested_task_136304_iter;
    int64_t *futhark_mc_segmap_parloop_136315_total_runtime;
    int *futhark_mc_segmap_parloop_136315_runs;
    int64_t *futhark_mc_segmap_parloop_136315_iter;
    int64_t futhark_mc_segmap_parloop_136315_total_total_runtime;
    int futhark_mc_segmap_parloop_136315_total_runs;
    int64_t futhark_mc_segmap_parloop_136315_total_iter;
    int64_t *futhark_mc_segmap_task_136313_total_runtime;
    int *futhark_mc_segmap_task_136313_runs;
    int64_t *futhark_mc_segmap_task_136313_iter;
    int64_t futhark_mc_segmap_task_136313_total_time;
    int64_t futhark_mc_segmap_task_136313_total_iter;
    int64_t *futhark_mc_segmap_parloop_136324_total_runtime;
    int *futhark_mc_segmap_parloop_136324_runs;
    int64_t *futhark_mc_segmap_parloop_136324_iter;
    int64_t futhark_mc_segmap_parloop_136324_total_total_runtime;
    int futhark_mc_segmap_parloop_136324_total_runs;
    int64_t futhark_mc_segmap_parloop_136324_total_iter;
    int64_t *futhark_mc_segmap_task_136322_total_runtime;
    int *futhark_mc_segmap_task_136322_runs;
    int64_t *futhark_mc_segmap_task_136322_iter;
    int64_t futhark_mc_segmap_task_136322_total_time;
    int64_t futhark_mc_segmap_task_136322_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136332_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136332_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136332_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136332_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136332_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136332_total_iter;
    int64_t *futhark_mc_segred_task_136329_total_runtime;
    int *futhark_mc_segred_task_136329_runs;
    int64_t *futhark_mc_segred_task_136329_iter;
    int64_t futhark_mc_segred_task_136329_total_time;
    int64_t futhark_mc_segred_task_136329_total_iter;
    int64_t *futhark_mc_segmap_parloop_136327_total_runtime;
    int *futhark_mc_segmap_parloop_136327_runs;
    int64_t *futhark_mc_segmap_parloop_136327_iter;
    int64_t futhark_mc_segmap_parloop_136327_total_total_runtime;
    int futhark_mc_segmap_parloop_136327_total_runs;
    int64_t futhark_mc_segmap_parloop_136327_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136325_total_runtime;
    int *futhark_mc_segmap_nested_task_136325_runs;
    int64_t *futhark_mc_segmap_nested_task_136325_iter;
    int64_t *futhark_mc_segmap_parloop_136319_total_runtime;
    int *futhark_mc_segmap_parloop_136319_runs;
    int64_t *futhark_mc_segmap_parloop_136319_iter;
    int64_t futhark_mc_segmap_parloop_136319_total_total_runtime;
    int futhark_mc_segmap_parloop_136319_total_runs;
    int64_t futhark_mc_segmap_parloop_136319_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136317_total_runtime;
    int *futhark_mc_segmap_nested_task_136317_runs;
    int64_t *futhark_mc_segmap_nested_task_136317_iter;
    int64_t *futhark_mc_segmap_parloop_136336_total_runtime;
    int *futhark_mc_segmap_parloop_136336_runs;
    int64_t *futhark_mc_segmap_parloop_136336_iter;
    int64_t futhark_mc_segmap_parloop_136336_total_total_runtime;
    int futhark_mc_segmap_parloop_136336_total_runs;
    int64_t futhark_mc_segmap_parloop_136336_total_iter;
    int64_t *futhark_mc_segmap_task_136334_total_runtime;
    int *futhark_mc_segmap_task_136334_runs;
    int64_t *futhark_mc_segmap_task_136334_iter;
    int64_t futhark_mc_segmap_task_136334_total_time;
    int64_t futhark_mc_segmap_task_136334_total_iter;
    int64_t *futhark_mc_segmap_parloop_136349_total_runtime;
    int *futhark_mc_segmap_parloop_136349_runs;
    int64_t *futhark_mc_segmap_parloop_136349_iter;
    int64_t futhark_mc_segmap_parloop_136349_total_total_runtime;
    int futhark_mc_segmap_parloop_136349_total_runs;
    int64_t futhark_mc_segmap_parloop_136349_total_iter;
    int64_t *futhark_mc_segmap_task_136347_total_runtime;
    int *futhark_mc_segmap_task_136347_runs;
    int64_t *futhark_mc_segmap_task_136347_iter;
    int64_t futhark_mc_segmap_task_136347_total_time;
    int64_t futhark_mc_segmap_task_136347_total_iter;
    int64_t *futhark_mc_segmap_parloop_136353_total_runtime;
    int *futhark_mc_segmap_parloop_136353_runs;
    int64_t *futhark_mc_segmap_parloop_136353_iter;
    int64_t futhark_mc_segmap_parloop_136353_total_total_runtime;
    int futhark_mc_segmap_parloop_136353_total_runs;
    int64_t futhark_mc_segmap_parloop_136353_total_iter;
    int64_t *futhark_mc_segmap_task_136351_total_runtime;
    int *futhark_mc_segmap_task_136351_runs;
    int64_t *futhark_mc_segmap_task_136351_iter;
    int64_t futhark_mc_segmap_task_136351_total_time;
    int64_t futhark_mc_segmap_task_136351_total_iter;
    int64_t *futhark_mc_segmap_parloop_136342_total_runtime;
    int *futhark_mc_segmap_parloop_136342_runs;
    int64_t *futhark_mc_segmap_parloop_136342_iter;
    int64_t futhark_mc_segmap_parloop_136342_total_total_runtime;
    int futhark_mc_segmap_parloop_136342_total_runs;
    int64_t futhark_mc_segmap_parloop_136342_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136340_total_runtime;
    int *futhark_mc_segmap_nested_task_136340_runs;
    int64_t *futhark_mc_segmap_nested_task_136340_iter;
    int64_t *futhark_mc_segmap_parloop_136357_total_runtime;
    int *futhark_mc_segmap_parloop_136357_runs;
    int64_t *futhark_mc_segmap_parloop_136357_iter;
    int64_t futhark_mc_segmap_parloop_136357_total_total_runtime;
    int futhark_mc_segmap_parloop_136357_total_runs;
    int64_t futhark_mc_segmap_parloop_136357_total_iter;
    int64_t *futhark_mc_segmap_task_136355_total_runtime;
    int *futhark_mc_segmap_task_136355_runs;
    int64_t *futhark_mc_segmap_task_136355_iter;
    int64_t futhark_mc_segmap_task_136355_total_time;
    int64_t futhark_mc_segmap_task_136355_total_iter;
    int64_t *futhark_mc_segmap_parloop_136370_total_runtime;
    int *futhark_mc_segmap_parloop_136370_runs;
    int64_t *futhark_mc_segmap_parloop_136370_iter;
    int64_t futhark_mc_segmap_parloop_136370_total_total_runtime;
    int futhark_mc_segmap_parloop_136370_total_runs;
    int64_t futhark_mc_segmap_parloop_136370_total_iter;
    int64_t *futhark_mc_segmap_task_136368_total_runtime;
    int *futhark_mc_segmap_task_136368_runs;
    int64_t *futhark_mc_segmap_task_136368_iter;
    int64_t futhark_mc_segmap_task_136368_total_time;
    int64_t futhark_mc_segmap_task_136368_total_iter;
    int64_t *futhark_mc_segmap_parloop_136374_total_runtime;
    int *futhark_mc_segmap_parloop_136374_runs;
    int64_t *futhark_mc_segmap_parloop_136374_iter;
    int64_t futhark_mc_segmap_parloop_136374_total_total_runtime;
    int futhark_mc_segmap_parloop_136374_total_runs;
    int64_t futhark_mc_segmap_parloop_136374_total_iter;
    int64_t *futhark_mc_segmap_task_136372_total_runtime;
    int *futhark_mc_segmap_task_136372_runs;
    int64_t *futhark_mc_segmap_task_136372_iter;
    int64_t futhark_mc_segmap_task_136372_total_time;
    int64_t futhark_mc_segmap_task_136372_total_iter;
    int64_t *futhark_mc_segmap_parloop_136363_total_runtime;
    int *futhark_mc_segmap_parloop_136363_runs;
    int64_t *futhark_mc_segmap_parloop_136363_iter;
    int64_t futhark_mc_segmap_parloop_136363_total_total_runtime;
    int futhark_mc_segmap_parloop_136363_total_runs;
    int64_t futhark_mc_segmap_parloop_136363_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136361_total_runtime;
    int *futhark_mc_segmap_nested_task_136361_runs;
    int64_t *futhark_mc_segmap_nested_task_136361_iter;
    int64_t *futhark_mc_segmap_parloop_136378_total_runtime;
    int *futhark_mc_segmap_parloop_136378_runs;
    int64_t *futhark_mc_segmap_parloop_136378_iter;
    int64_t futhark_mc_segmap_parloop_136378_total_total_runtime;
    int futhark_mc_segmap_parloop_136378_total_runs;
    int64_t futhark_mc_segmap_parloop_136378_total_iter;
    int64_t *futhark_mc_segmap_task_136376_total_runtime;
    int *futhark_mc_segmap_task_136376_runs;
    int64_t *futhark_mc_segmap_task_136376_iter;
    int64_t futhark_mc_segmap_task_136376_total_time;
    int64_t futhark_mc_segmap_task_136376_total_iter;
    int64_t *futhark_mc_segmap_parloop_136387_total_runtime;
    int *futhark_mc_segmap_parloop_136387_runs;
    int64_t *futhark_mc_segmap_parloop_136387_iter;
    int64_t futhark_mc_segmap_parloop_136387_total_total_runtime;
    int futhark_mc_segmap_parloop_136387_total_runs;
    int64_t futhark_mc_segmap_parloop_136387_total_iter;
    int64_t *futhark_mc_segmap_task_136385_total_runtime;
    int *futhark_mc_segmap_task_136385_runs;
    int64_t *futhark_mc_segmap_task_136385_iter;
    int64_t futhark_mc_segmap_task_136385_total_time;
    int64_t futhark_mc_segmap_task_136385_total_iter;
    int64_t *futhark_mc_segmap_parloop_136382_total_runtime;
    int *futhark_mc_segmap_parloop_136382_runs;
    int64_t *futhark_mc_segmap_parloop_136382_iter;
    int64_t futhark_mc_segmap_parloop_136382_total_total_runtime;
    int futhark_mc_segmap_parloop_136382_total_runs;
    int64_t futhark_mc_segmap_parloop_136382_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136380_total_runtime;
    int *futhark_mc_segmap_nested_task_136380_runs;
    int64_t *futhark_mc_segmap_nested_task_136380_iter;
    int64_t *futhark_mc_segmap_parloop_136391_total_runtime;
    int *futhark_mc_segmap_parloop_136391_runs;
    int64_t *futhark_mc_segmap_parloop_136391_iter;
    int64_t futhark_mc_segmap_parloop_136391_total_total_runtime;
    int futhark_mc_segmap_parloop_136391_total_runs;
    int64_t futhark_mc_segmap_parloop_136391_total_iter;
    int64_t *futhark_mc_segmap_task_136389_total_runtime;
    int *futhark_mc_segmap_task_136389_runs;
    int64_t *futhark_mc_segmap_task_136389_iter;
    int64_t futhark_mc_segmap_task_136389_total_time;
    int64_t futhark_mc_segmap_task_136389_total_iter;
    int64_t *futhark_mc_segmap_parloop_136400_total_runtime;
    int *futhark_mc_segmap_parloop_136400_runs;
    int64_t *futhark_mc_segmap_parloop_136400_iter;
    int64_t futhark_mc_segmap_parloop_136400_total_total_runtime;
    int futhark_mc_segmap_parloop_136400_total_runs;
    int64_t futhark_mc_segmap_parloop_136400_total_iter;
    int64_t *futhark_mc_segmap_task_136398_total_runtime;
    int *futhark_mc_segmap_task_136398_runs;
    int64_t *futhark_mc_segmap_task_136398_iter;
    int64_t futhark_mc_segmap_task_136398_total_time;
    int64_t futhark_mc_segmap_task_136398_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136408_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136408_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136408_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136408_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136408_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136408_total_iter;
    int64_t *futhark_mc_segred_task_136405_total_runtime;
    int *futhark_mc_segred_task_136405_runs;
    int64_t *futhark_mc_segred_task_136405_iter;
    int64_t futhark_mc_segred_task_136405_total_time;
    int64_t futhark_mc_segred_task_136405_total_iter;
    int64_t *futhark_mc_segmap_parloop_136403_total_runtime;
    int *futhark_mc_segmap_parloop_136403_runs;
    int64_t *futhark_mc_segmap_parloop_136403_iter;
    int64_t futhark_mc_segmap_parloop_136403_total_total_runtime;
    int futhark_mc_segmap_parloop_136403_total_runs;
    int64_t futhark_mc_segmap_parloop_136403_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136401_total_runtime;
    int *futhark_mc_segmap_nested_task_136401_runs;
    int64_t *futhark_mc_segmap_nested_task_136401_iter;
    int64_t *futhark_mc_segmap_parloop_136395_total_runtime;
    int *futhark_mc_segmap_parloop_136395_runs;
    int64_t *futhark_mc_segmap_parloop_136395_iter;
    int64_t futhark_mc_segmap_parloop_136395_total_total_runtime;
    int futhark_mc_segmap_parloop_136395_total_runs;
    int64_t futhark_mc_segmap_parloop_136395_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136393_total_runtime;
    int *futhark_mc_segmap_nested_task_136393_runs;
    int64_t *futhark_mc_segmap_nested_task_136393_iter;
    int64_t *futhark_mc_segmap_parloop_136412_total_runtime;
    int *futhark_mc_segmap_parloop_136412_runs;
    int64_t *futhark_mc_segmap_parloop_136412_iter;
    int64_t futhark_mc_segmap_parloop_136412_total_total_runtime;
    int futhark_mc_segmap_parloop_136412_total_runs;
    int64_t futhark_mc_segmap_parloop_136412_total_iter;
    int64_t *futhark_mc_segmap_task_136410_total_runtime;
    int *futhark_mc_segmap_task_136410_runs;
    int64_t *futhark_mc_segmap_task_136410_iter;
    int64_t futhark_mc_segmap_task_136410_total_time;
    int64_t futhark_mc_segmap_task_136410_total_iter;
    int64_t *futhark_mc_segmap_parloop_136421_total_runtime;
    int *futhark_mc_segmap_parloop_136421_runs;
    int64_t *futhark_mc_segmap_parloop_136421_iter;
    int64_t futhark_mc_segmap_parloop_136421_total_total_runtime;
    int futhark_mc_segmap_parloop_136421_total_runs;
    int64_t futhark_mc_segmap_parloop_136421_total_iter;
    int64_t *futhark_mc_segmap_task_136419_total_runtime;
    int *futhark_mc_segmap_task_136419_runs;
    int64_t *futhark_mc_segmap_task_136419_iter;
    int64_t futhark_mc_segmap_task_136419_total_time;
    int64_t futhark_mc_segmap_task_136419_total_iter;
    int64_t *futhark_mc_segmap_parloop_136416_total_runtime;
    int *futhark_mc_segmap_parloop_136416_runs;
    int64_t *futhark_mc_segmap_parloop_136416_iter;
    int64_t futhark_mc_segmap_parloop_136416_total_total_runtime;
    int futhark_mc_segmap_parloop_136416_total_runs;
    int64_t futhark_mc_segmap_parloop_136416_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136414_total_runtime;
    int *futhark_mc_segmap_nested_task_136414_runs;
    int64_t *futhark_mc_segmap_nested_task_136414_iter;
    int64_t *futhark_mc_segmap_parloop_136425_total_runtime;
    int *futhark_mc_segmap_parloop_136425_runs;
    int64_t *futhark_mc_segmap_parloop_136425_iter;
    int64_t futhark_mc_segmap_parloop_136425_total_total_runtime;
    int futhark_mc_segmap_parloop_136425_total_runs;
    int64_t futhark_mc_segmap_parloop_136425_total_iter;
    int64_t *futhark_mc_segmap_task_136423_total_runtime;
    int *futhark_mc_segmap_task_136423_runs;
    int64_t *futhark_mc_segmap_task_136423_iter;
    int64_t futhark_mc_segmap_task_136423_total_time;
    int64_t futhark_mc_segmap_task_136423_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136439_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136439_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136439_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136439_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136439_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136439_total_iter;
    int64_t *futhark_mc_segred_task_136436_total_runtime;
    int *futhark_mc_segred_task_136436_runs;
    int64_t *futhark_mc_segred_task_136436_iter;
    int64_t futhark_mc_segred_task_136436_total_time;
    int64_t futhark_mc_segred_task_136436_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_136444_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_136444_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_136444_iter;
    int64_t futhark_mc_scan_stage_1_parloop_136444_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_136444_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_136444_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_136446_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_136446_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_136446_iter;
    int64_t futhark_mc_scan_stage_3_parloop_136446_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_136446_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_136446_total_iter;
    int64_t *futhark_mc_segscan_task_136441_total_runtime;
    int *futhark_mc_segscan_task_136441_runs;
    int64_t *futhark_mc_segscan_task_136441_iter;
    int64_t futhark_mc_segscan_task_136441_total_time;
    int64_t futhark_mc_segscan_task_136441_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136451_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136451_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136451_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136451_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136451_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136451_total_iter;
    int64_t *futhark_mc_segred_task_136448_total_runtime;
    int *futhark_mc_segred_task_136448_runs;
    int64_t *futhark_mc_segred_task_136448_iter;
    int64_t futhark_mc_segred_task_136448_total_time;
    int64_t futhark_mc_segred_task_136448_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_136456_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_136456_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_136456_iter;
    int64_t futhark_mc_scan_stage_1_parloop_136456_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_136456_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_136456_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_136458_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_136458_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_136458_iter;
    int64_t futhark_mc_scan_stage_3_parloop_136458_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_136458_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_136458_total_iter;
    int64_t *futhark_mc_segscan_task_136453_total_runtime;
    int *futhark_mc_segscan_task_136453_runs;
    int64_t *futhark_mc_segscan_task_136453_iter;
    int64_t futhark_mc_segscan_task_136453_total_time;
    int64_t futhark_mc_segscan_task_136453_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136463_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136463_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136463_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136463_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136463_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136463_total_iter;
    int64_t *futhark_mc_segred_task_136460_total_runtime;
    int *futhark_mc_segred_task_136460_runs;
    int64_t *futhark_mc_segred_task_136460_iter;
    int64_t futhark_mc_segred_task_136460_total_time;
    int64_t futhark_mc_segred_task_136460_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_136468_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_136468_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_136468_iter;
    int64_t futhark_mc_scan_stage_1_parloop_136468_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_136468_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_136468_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_136470_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_136470_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_136470_iter;
    int64_t futhark_mc_scan_stage_3_parloop_136470_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_136470_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_136470_total_iter;
    int64_t *futhark_mc_segscan_task_136465_total_runtime;
    int *futhark_mc_segscan_task_136465_runs;
    int64_t *futhark_mc_segscan_task_136465_iter;
    int64_t futhark_mc_segscan_task_136465_total_time;
    int64_t futhark_mc_segscan_task_136465_total_iter;
    int64_t *futhark_mc_segmap_parloop_136431_total_runtime;
    int *futhark_mc_segmap_parloop_136431_runs;
    int64_t *futhark_mc_segmap_parloop_136431_iter;
    int64_t futhark_mc_segmap_parloop_136431_total_total_runtime;
    int futhark_mc_segmap_parloop_136431_total_runs;
    int64_t futhark_mc_segmap_parloop_136431_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136429_total_runtime;
    int *futhark_mc_segmap_nested_task_136429_runs;
    int64_t *futhark_mc_segmap_nested_task_136429_iter;
    int64_t *futhark_mc_segmap_parloop_136474_total_runtime;
    int *futhark_mc_segmap_parloop_136474_runs;
    int64_t *futhark_mc_segmap_parloop_136474_iter;
    int64_t futhark_mc_segmap_parloop_136474_total_total_runtime;
    int futhark_mc_segmap_parloop_136474_total_runs;
    int64_t futhark_mc_segmap_parloop_136474_total_iter;
    int64_t *futhark_mc_segmap_task_136472_total_runtime;
    int *futhark_mc_segmap_task_136472_runs;
    int64_t *futhark_mc_segmap_task_136472_iter;
    int64_t futhark_mc_segmap_task_136472_total_time;
    int64_t futhark_mc_segmap_task_136472_total_iter;
    int64_t *futhark_mc_segmap_parloop_136483_total_runtime;
    int *futhark_mc_segmap_parloop_136483_runs;
    int64_t *futhark_mc_segmap_parloop_136483_iter;
    int64_t futhark_mc_segmap_parloop_136483_total_total_runtime;
    int futhark_mc_segmap_parloop_136483_total_runs;
    int64_t futhark_mc_segmap_parloop_136483_total_iter;
    int64_t *futhark_mc_segmap_task_136481_total_runtime;
    int *futhark_mc_segmap_task_136481_runs;
    int64_t *futhark_mc_segmap_task_136481_iter;
    int64_t futhark_mc_segmap_task_136481_total_time;
    int64_t futhark_mc_segmap_task_136481_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136491_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136491_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136491_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136491_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136491_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136491_total_iter;
    int64_t *futhark_mc_segred_task_136488_total_runtime;
    int *futhark_mc_segred_task_136488_runs;
    int64_t *futhark_mc_segred_task_136488_iter;
    int64_t futhark_mc_segred_task_136488_total_time;
    int64_t futhark_mc_segred_task_136488_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136496_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136496_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136496_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136496_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136496_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136496_total_iter;
    int64_t *futhark_mc_segred_task_136493_total_runtime;
    int *futhark_mc_segred_task_136493_runs;
    int64_t *futhark_mc_segred_task_136493_iter;
    int64_t futhark_mc_segred_task_136493_total_time;
    int64_t futhark_mc_segred_task_136493_total_iter;
    int64_t *futhark_mc_segmap_parloop_136486_total_runtime;
    int *futhark_mc_segmap_parloop_136486_runs;
    int64_t *futhark_mc_segmap_parloop_136486_iter;
    int64_t futhark_mc_segmap_parloop_136486_total_total_runtime;
    int futhark_mc_segmap_parloop_136486_total_runs;
    int64_t futhark_mc_segmap_parloop_136486_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136484_total_runtime;
    int *futhark_mc_segmap_nested_task_136484_runs;
    int64_t *futhark_mc_segmap_nested_task_136484_iter;
    int64_t *futhark_mc_segmap_parloop_136478_total_runtime;
    int *futhark_mc_segmap_parloop_136478_runs;
    int64_t *futhark_mc_segmap_parloop_136478_iter;
    int64_t futhark_mc_segmap_parloop_136478_total_total_runtime;
    int futhark_mc_segmap_parloop_136478_total_runs;
    int64_t futhark_mc_segmap_parloop_136478_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136476_total_runtime;
    int *futhark_mc_segmap_nested_task_136476_runs;
    int64_t *futhark_mc_segmap_nested_task_136476_iter;
    int64_t *futhark_mc_segmap_parloop_136500_total_runtime;
    int *futhark_mc_segmap_parloop_136500_runs;
    int64_t *futhark_mc_segmap_parloop_136500_iter;
    int64_t futhark_mc_segmap_parloop_136500_total_total_runtime;
    int futhark_mc_segmap_parloop_136500_total_runs;
    int64_t futhark_mc_segmap_parloop_136500_total_iter;
    int64_t *futhark_mc_segmap_task_136498_total_runtime;
    int *futhark_mc_segmap_task_136498_runs;
    int64_t *futhark_mc_segmap_task_136498_iter;
    int64_t futhark_mc_segmap_task_136498_total_time;
    int64_t futhark_mc_segmap_task_136498_total_iter;
    int64_t *futhark_mc_segmap_parloop_136511_total_runtime;
    int *futhark_mc_segmap_parloop_136511_runs;
    int64_t *futhark_mc_segmap_parloop_136511_iter;
    int64_t futhark_mc_segmap_parloop_136511_total_total_runtime;
    int futhark_mc_segmap_parloop_136511_total_runs;
    int64_t futhark_mc_segmap_parloop_136511_total_iter;
    int64_t *futhark_mc_segmap_task_136509_total_runtime;
    int *futhark_mc_segmap_task_136509_runs;
    int64_t *futhark_mc_segmap_task_136509_iter;
    int64_t futhark_mc_segmap_task_136509_total_time;
    int64_t futhark_mc_segmap_task_136509_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136521_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136521_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136521_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136521_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136521_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136521_total_iter;
    int64_t *futhark_mc_segred_task_136516_total_runtime;
    int *futhark_mc_segred_task_136516_runs;
    int64_t *futhark_mc_segred_task_136516_iter;
    int64_t futhark_mc_segred_task_136516_total_time;
    int64_t futhark_mc_segred_task_136516_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136527_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136527_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136527_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136527_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136527_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136527_total_iter;
    int64_t *futhark_mc_segred_task_136523_total_runtime;
    int *futhark_mc_segred_task_136523_runs;
    int64_t *futhark_mc_segred_task_136523_iter;
    int64_t futhark_mc_segred_task_136523_total_time;
    int64_t futhark_mc_segred_task_136523_total_iter;
    int64_t *futhark_mc_segmap_parloop_136514_total_runtime;
    int *futhark_mc_segmap_parloop_136514_runs;
    int64_t *futhark_mc_segmap_parloop_136514_iter;
    int64_t futhark_mc_segmap_parloop_136514_total_total_runtime;
    int futhark_mc_segmap_parloop_136514_total_runs;
    int64_t futhark_mc_segmap_parloop_136514_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136512_total_runtime;
    int *futhark_mc_segmap_nested_task_136512_runs;
    int64_t *futhark_mc_segmap_nested_task_136512_iter;
    int64_t *futhark_mc_segmap_parloop_136505_total_runtime;
    int *futhark_mc_segmap_parloop_136505_runs;
    int64_t *futhark_mc_segmap_parloop_136505_iter;
    int64_t futhark_mc_segmap_parloop_136505_total_total_runtime;
    int futhark_mc_segmap_parloop_136505_total_runs;
    int64_t futhark_mc_segmap_parloop_136505_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136503_total_runtime;
    int *futhark_mc_segmap_nested_task_136503_runs;
    int64_t *futhark_mc_segmap_nested_task_136503_iter;
    int64_t *futhark_mc_segmap_parloop_136531_total_runtime;
    int *futhark_mc_segmap_parloop_136531_runs;
    int64_t *futhark_mc_segmap_parloop_136531_iter;
    int64_t futhark_mc_segmap_parloop_136531_total_total_runtime;
    int futhark_mc_segmap_parloop_136531_total_runs;
    int64_t futhark_mc_segmap_parloop_136531_total_iter;
    int64_t *futhark_mc_segmap_task_136529_total_runtime;
    int *futhark_mc_segmap_task_136529_runs;
    int64_t *futhark_mc_segmap_task_136529_iter;
    int64_t futhark_mc_segmap_task_136529_total_time;
    int64_t futhark_mc_segmap_task_136529_total_iter;
    int64_t *futhark_mc_segmap_parloop_136542_total_runtime;
    int *futhark_mc_segmap_parloop_136542_runs;
    int64_t *futhark_mc_segmap_parloop_136542_iter;
    int64_t futhark_mc_segmap_parloop_136542_total_total_runtime;
    int futhark_mc_segmap_parloop_136542_total_runs;
    int64_t futhark_mc_segmap_parloop_136542_total_iter;
    int64_t *futhark_mc_segmap_task_136540_total_runtime;
    int *futhark_mc_segmap_task_136540_runs;
    int64_t *futhark_mc_segmap_task_136540_iter;
    int64_t futhark_mc_segmap_task_136540_total_time;
    int64_t futhark_mc_segmap_task_136540_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136554_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136554_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136554_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136554_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136554_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136554_total_iter;
    int64_t *futhark_mc_segred_task_136547_total_runtime;
    int *futhark_mc_segred_task_136547_runs;
    int64_t *futhark_mc_segred_task_136547_iter;
    int64_t futhark_mc_segred_task_136547_total_time;
    int64_t futhark_mc_segred_task_136547_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136560_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136560_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136560_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136560_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136560_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136560_total_iter;
    int64_t *futhark_mc_segred_task_136556_total_runtime;
    int *futhark_mc_segred_task_136556_runs;
    int64_t *futhark_mc_segred_task_136556_iter;
    int64_t futhark_mc_segred_task_136556_total_time;
    int64_t futhark_mc_segred_task_136556_total_iter;
    int64_t *futhark_mc_segmap_parloop_136545_total_runtime;
    int *futhark_mc_segmap_parloop_136545_runs;
    int64_t *futhark_mc_segmap_parloop_136545_iter;
    int64_t futhark_mc_segmap_parloop_136545_total_total_runtime;
    int futhark_mc_segmap_parloop_136545_total_runs;
    int64_t futhark_mc_segmap_parloop_136545_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136543_total_runtime;
    int *futhark_mc_segmap_nested_task_136543_runs;
    int64_t *futhark_mc_segmap_nested_task_136543_iter;
    int64_t *futhark_mc_segmap_parloop_136536_total_runtime;
    int *futhark_mc_segmap_parloop_136536_runs;
    int64_t *futhark_mc_segmap_parloop_136536_iter;
    int64_t futhark_mc_segmap_parloop_136536_total_total_runtime;
    int futhark_mc_segmap_parloop_136536_total_runs;
    int64_t futhark_mc_segmap_parloop_136536_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136534_total_runtime;
    int *futhark_mc_segmap_nested_task_136534_runs;
    int64_t *futhark_mc_segmap_nested_task_136534_iter;
    int64_t *futhark_mc_segmap_parloop_136564_total_runtime;
    int *futhark_mc_segmap_parloop_136564_runs;
    int64_t *futhark_mc_segmap_parloop_136564_iter;
    int64_t futhark_mc_segmap_parloop_136564_total_total_runtime;
    int futhark_mc_segmap_parloop_136564_total_runs;
    int64_t futhark_mc_segmap_parloop_136564_total_iter;
    int64_t *futhark_mc_segmap_task_136562_total_runtime;
    int *futhark_mc_segmap_task_136562_runs;
    int64_t *futhark_mc_segmap_task_136562_iter;
    int64_t futhark_mc_segmap_task_136562_total_time;
    int64_t futhark_mc_segmap_task_136562_total_iter;
    int64_t *futhark_mc_segmap_parloop_136574_total_runtime;
    int *futhark_mc_segmap_parloop_136574_runs;
    int64_t *futhark_mc_segmap_parloop_136574_iter;
    int64_t futhark_mc_segmap_parloop_136574_total_total_runtime;
    int futhark_mc_segmap_parloop_136574_total_runs;
    int64_t futhark_mc_segmap_parloop_136574_total_iter;
    int64_t *futhark_mc_segmap_task_136572_total_runtime;
    int *futhark_mc_segmap_task_136572_runs;
    int64_t *futhark_mc_segmap_task_136572_iter;
    int64_t futhark_mc_segmap_task_136572_total_time;
    int64_t futhark_mc_segmap_task_136572_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136584_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136584_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136584_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136584_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136584_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136584_total_iter;
    int64_t *futhark_mc_segred_task_136581_total_runtime;
    int *futhark_mc_segred_task_136581_runs;
    int64_t *futhark_mc_segred_task_136581_iter;
    int64_t futhark_mc_segred_task_136581_total_time;
    int64_t futhark_mc_segred_task_136581_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136589_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136589_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136589_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136589_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136589_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136589_total_iter;
    int64_t *futhark_mc_segred_task_136586_total_runtime;
    int *futhark_mc_segred_task_136586_runs;
    int64_t *futhark_mc_segred_task_136586_iter;
    int64_t futhark_mc_segred_task_136586_total_time;
    int64_t futhark_mc_segred_task_136586_total_iter;
    int64_t *futhark_mc_segmap_parloop_136578_total_runtime;
    int *futhark_mc_segmap_parloop_136578_runs;
    int64_t *futhark_mc_segmap_parloop_136578_iter;
    int64_t futhark_mc_segmap_parloop_136578_total_total_runtime;
    int futhark_mc_segmap_parloop_136578_total_runs;
    int64_t futhark_mc_segmap_parloop_136578_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136576_total_runtime;
    int *futhark_mc_segmap_nested_task_136576_runs;
    int64_t *futhark_mc_segmap_nested_task_136576_iter;
    int64_t *futhark_mc_segmap_parloop_136569_total_runtime;
    int *futhark_mc_segmap_parloop_136569_runs;
    int64_t *futhark_mc_segmap_parloop_136569_iter;
    int64_t futhark_mc_segmap_parloop_136569_total_total_runtime;
    int futhark_mc_segmap_parloop_136569_total_runs;
    int64_t futhark_mc_segmap_parloop_136569_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136567_total_runtime;
    int *futhark_mc_segmap_nested_task_136567_runs;
    int64_t *futhark_mc_segmap_nested_task_136567_iter;
    int64_t *futhark_mc_segmap_parloop_136593_total_runtime;
    int *futhark_mc_segmap_parloop_136593_runs;
    int64_t *futhark_mc_segmap_parloop_136593_iter;
    int64_t futhark_mc_segmap_parloop_136593_total_total_runtime;
    int futhark_mc_segmap_parloop_136593_total_runs;
    int64_t futhark_mc_segmap_parloop_136593_total_iter;
    int64_t *futhark_mc_segmap_task_136591_total_runtime;
    int *futhark_mc_segmap_task_136591_runs;
    int64_t *futhark_mc_segmap_task_136591_iter;
    int64_t futhark_mc_segmap_task_136591_total_time;
    int64_t futhark_mc_segmap_task_136591_total_iter;
    int64_t *futhark_mc_segmap_parloop_136606_total_runtime;
    int *futhark_mc_segmap_parloop_136606_runs;
    int64_t *futhark_mc_segmap_parloop_136606_iter;
    int64_t futhark_mc_segmap_parloop_136606_total_total_runtime;
    int futhark_mc_segmap_parloop_136606_total_runs;
    int64_t futhark_mc_segmap_parloop_136606_total_iter;
    int64_t *futhark_mc_segmap_task_136604_total_runtime;
    int *futhark_mc_segmap_task_136604_runs;
    int64_t *futhark_mc_segmap_task_136604_iter;
    int64_t futhark_mc_segmap_task_136604_total_time;
    int64_t futhark_mc_segmap_task_136604_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136620_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136620_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136620_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136620_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136620_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136620_total_iter;
    int64_t *futhark_mc_segred_task_136615_total_runtime;
    int *futhark_mc_segred_task_136615_runs;
    int64_t *futhark_mc_segred_task_136615_iter;
    int64_t futhark_mc_segred_task_136615_total_time;
    int64_t futhark_mc_segred_task_136615_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136626_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136626_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136626_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136626_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136626_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136626_total_iter;
    int64_t *futhark_mc_segred_task_136622_total_runtime;
    int *futhark_mc_segred_task_136622_runs;
    int64_t *futhark_mc_segred_task_136622_iter;
    int64_t futhark_mc_segred_task_136622_total_time;
    int64_t futhark_mc_segred_task_136622_total_iter;
    int64_t *futhark_mc_segmap_parloop_136611_total_runtime;
    int *futhark_mc_segmap_parloop_136611_runs;
    int64_t *futhark_mc_segmap_parloop_136611_iter;
    int64_t futhark_mc_segmap_parloop_136611_total_total_runtime;
    int futhark_mc_segmap_parloop_136611_total_runs;
    int64_t futhark_mc_segmap_parloop_136611_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136609_total_runtime;
    int *futhark_mc_segmap_nested_task_136609_runs;
    int64_t *futhark_mc_segmap_nested_task_136609_iter;
    int64_t *futhark_mc_segmap_parloop_136600_total_runtime;
    int *futhark_mc_segmap_parloop_136600_runs;
    int64_t *futhark_mc_segmap_parloop_136600_iter;
    int64_t futhark_mc_segmap_parloop_136600_total_total_runtime;
    int futhark_mc_segmap_parloop_136600_total_runs;
    int64_t futhark_mc_segmap_parloop_136600_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136598_total_runtime;
    int *futhark_mc_segmap_nested_task_136598_runs;
    int64_t *futhark_mc_segmap_nested_task_136598_iter;
    int64_t *futhark_mc_segmap_parloop_136630_total_runtime;
    int *futhark_mc_segmap_parloop_136630_runs;
    int64_t *futhark_mc_segmap_parloop_136630_iter;
    int64_t futhark_mc_segmap_parloop_136630_total_total_runtime;
    int futhark_mc_segmap_parloop_136630_total_runs;
    int64_t futhark_mc_segmap_parloop_136630_total_iter;
    int64_t *futhark_mc_segmap_task_136628_total_runtime;
    int *futhark_mc_segmap_task_136628_runs;
    int64_t *futhark_mc_segmap_task_136628_iter;
    int64_t futhark_mc_segmap_task_136628_total_time;
    int64_t futhark_mc_segmap_task_136628_total_iter;
    int64_t *futhark_mc_segmap_parloop_136645_total_runtime;
    int *futhark_mc_segmap_parloop_136645_runs;
    int64_t *futhark_mc_segmap_parloop_136645_iter;
    int64_t futhark_mc_segmap_parloop_136645_total_total_runtime;
    int futhark_mc_segmap_parloop_136645_total_runs;
    int64_t futhark_mc_segmap_parloop_136645_total_iter;
    int64_t *futhark_mc_segmap_task_136643_total_runtime;
    int *futhark_mc_segmap_task_136643_runs;
    int64_t *futhark_mc_segmap_task_136643_iter;
    int64_t futhark_mc_segmap_task_136643_total_time;
    int64_t futhark_mc_segmap_task_136643_total_iter;
    int64_t *futhark_mc_segmap_parloop_136660_total_runtime;
    int *futhark_mc_segmap_parloop_136660_runs;
    int64_t *futhark_mc_segmap_parloop_136660_iter;
    int64_t futhark_mc_segmap_parloop_136660_total_total_runtime;
    int futhark_mc_segmap_parloop_136660_total_runs;
    int64_t futhark_mc_segmap_parloop_136660_total_iter;
    int64_t *futhark_mc_segmap_task_136658_total_runtime;
    int *futhark_mc_segmap_task_136658_runs;
    int64_t *futhark_mc_segmap_task_136658_iter;
    int64_t futhark_mc_segmap_task_136658_total_time;
    int64_t futhark_mc_segmap_task_136658_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136669_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136669_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136669_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136669_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136669_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136669_total_iter;
    int64_t *futhark_mc_segred_task_136662_total_runtime;
    int *futhark_mc_segred_task_136662_runs;
    int64_t *futhark_mc_segred_task_136662_iter;
    int64_t futhark_mc_segred_task_136662_total_time;
    int64_t futhark_mc_segred_task_136662_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136675_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136675_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136675_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136675_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136675_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136675_total_iter;
    int64_t *futhark_mc_segred_task_136671_total_runtime;
    int *futhark_mc_segred_task_136671_runs;
    int64_t *futhark_mc_segred_task_136671_iter;
    int64_t futhark_mc_segred_task_136671_total_time;
    int64_t futhark_mc_segred_task_136671_total_iter;
    int64_t *futhark_mc_segmap_parloop_136652_total_runtime;
    int *futhark_mc_segmap_parloop_136652_runs;
    int64_t *futhark_mc_segmap_parloop_136652_iter;
    int64_t futhark_mc_segmap_parloop_136652_total_total_runtime;
    int futhark_mc_segmap_parloop_136652_total_runs;
    int64_t futhark_mc_segmap_parloop_136652_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136650_total_runtime;
    int *futhark_mc_segmap_nested_task_136650_runs;
    int64_t *futhark_mc_segmap_nested_task_136650_iter;
    int64_t *futhark_mc_segmap_parloop_136639_total_runtime;
    int *futhark_mc_segmap_parloop_136639_runs;
    int64_t *futhark_mc_segmap_parloop_136639_iter;
    int64_t futhark_mc_segmap_parloop_136639_total_total_runtime;
    int futhark_mc_segmap_parloop_136639_total_runs;
    int64_t futhark_mc_segmap_parloop_136639_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136637_total_runtime;
    int *futhark_mc_segmap_nested_task_136637_runs;
    int64_t *futhark_mc_segmap_nested_task_136637_iter;
    int64_t *futhark_mc_segmap_parloop_136679_total_runtime;
    int *futhark_mc_segmap_parloop_136679_runs;
    int64_t *futhark_mc_segmap_parloop_136679_iter;
    int64_t futhark_mc_segmap_parloop_136679_total_total_runtime;
    int futhark_mc_segmap_parloop_136679_total_runs;
    int64_t futhark_mc_segmap_parloop_136679_total_iter;
    int64_t *futhark_mc_segmap_task_136677_total_runtime;
    int *futhark_mc_segmap_task_136677_runs;
    int64_t *futhark_mc_segmap_task_136677_iter;
    int64_t futhark_mc_segmap_task_136677_total_time;
    int64_t futhark_mc_segmap_task_136677_total_iter;
    int64_t *futhark_mc_segmap_parloop_136688_total_runtime;
    int *futhark_mc_segmap_parloop_136688_runs;
    int64_t *futhark_mc_segmap_parloop_136688_iter;
    int64_t futhark_mc_segmap_parloop_136688_total_total_runtime;
    int futhark_mc_segmap_parloop_136688_total_runs;
    int64_t futhark_mc_segmap_parloop_136688_total_iter;
    int64_t *futhark_mc_segmap_task_136686_total_runtime;
    int *futhark_mc_segmap_task_136686_runs;
    int64_t *futhark_mc_segmap_task_136686_iter;
    int64_t futhark_mc_segmap_task_136686_total_time;
    int64_t futhark_mc_segmap_task_136686_total_iter;
    int64_t *futhark_mc_segmap_parloop_136683_total_runtime;
    int *futhark_mc_segmap_parloop_136683_runs;
    int64_t *futhark_mc_segmap_parloop_136683_iter;
    int64_t futhark_mc_segmap_parloop_136683_total_total_runtime;
    int futhark_mc_segmap_parloop_136683_total_runs;
    int64_t futhark_mc_segmap_parloop_136683_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136681_total_runtime;
    int *futhark_mc_segmap_nested_task_136681_runs;
    int64_t *futhark_mc_segmap_nested_task_136681_iter;
    int64_t *futhark_mc_segmap_parloop_136692_total_runtime;
    int *futhark_mc_segmap_parloop_136692_runs;
    int64_t *futhark_mc_segmap_parloop_136692_iter;
    int64_t futhark_mc_segmap_parloop_136692_total_total_runtime;
    int futhark_mc_segmap_parloop_136692_total_runs;
    int64_t futhark_mc_segmap_parloop_136692_total_iter;
    int64_t *futhark_mc_segmap_task_136690_total_runtime;
    int *futhark_mc_segmap_task_136690_runs;
    int64_t *futhark_mc_segmap_task_136690_iter;
    int64_t futhark_mc_segmap_task_136690_total_time;
    int64_t futhark_mc_segmap_task_136690_total_iter;
    int64_t *futhark_mc_segmap_parloop_136707_total_runtime;
    int *futhark_mc_segmap_parloop_136707_runs;
    int64_t *futhark_mc_segmap_parloop_136707_iter;
    int64_t futhark_mc_segmap_parloop_136707_total_total_runtime;
    int futhark_mc_segmap_parloop_136707_total_runs;
    int64_t futhark_mc_segmap_parloop_136707_total_iter;
    int64_t *futhark_mc_segmap_task_136705_total_runtime;
    int *futhark_mc_segmap_task_136705_runs;
    int64_t *futhark_mc_segmap_task_136705_iter;
    int64_t futhark_mc_segmap_task_136705_total_time;
    int64_t futhark_mc_segmap_task_136705_total_iter;
    int64_t *futhark_mc_segmap_parloop_136711_total_runtime;
    int *futhark_mc_segmap_parloop_136711_runs;
    int64_t *futhark_mc_segmap_parloop_136711_iter;
    int64_t futhark_mc_segmap_parloop_136711_total_total_runtime;
    int futhark_mc_segmap_parloop_136711_total_runs;
    int64_t futhark_mc_segmap_parloop_136711_total_iter;
    int64_t *futhark_mc_segmap_task_136709_total_runtime;
    int *futhark_mc_segmap_task_136709_runs;
    int64_t *futhark_mc_segmap_task_136709_iter;
    int64_t futhark_mc_segmap_task_136709_total_time;
    int64_t futhark_mc_segmap_task_136709_total_iter;
    int64_t *futhark_mc_segmap_parloop_136699_total_runtime;
    int *futhark_mc_segmap_parloop_136699_runs;
    int64_t *futhark_mc_segmap_parloop_136699_iter;
    int64_t futhark_mc_segmap_parloop_136699_total_total_runtime;
    int futhark_mc_segmap_parloop_136699_total_runs;
    int64_t futhark_mc_segmap_parloop_136699_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136697_total_runtime;
    int *futhark_mc_segmap_nested_task_136697_runs;
    int64_t *futhark_mc_segmap_nested_task_136697_iter;
    int64_t *futhark_mc_segmap_parloop_136715_total_runtime;
    int *futhark_mc_segmap_parloop_136715_runs;
    int64_t *futhark_mc_segmap_parloop_136715_iter;
    int64_t futhark_mc_segmap_parloop_136715_total_total_runtime;
    int futhark_mc_segmap_parloop_136715_total_runs;
    int64_t futhark_mc_segmap_parloop_136715_total_iter;
    int64_t *futhark_mc_segmap_task_136713_total_runtime;
    int *futhark_mc_segmap_task_136713_runs;
    int64_t *futhark_mc_segmap_task_136713_iter;
    int64_t futhark_mc_segmap_task_136713_total_time;
    int64_t futhark_mc_segmap_task_136713_total_iter;
    int64_t *futhark_mc_segmap_parloop_136724_total_runtime;
    int *futhark_mc_segmap_parloop_136724_runs;
    int64_t *futhark_mc_segmap_parloop_136724_iter;
    int64_t futhark_mc_segmap_parloop_136724_total_total_runtime;
    int futhark_mc_segmap_parloop_136724_total_runs;
    int64_t futhark_mc_segmap_parloop_136724_total_iter;
    int64_t *futhark_mc_segmap_task_136722_total_runtime;
    int *futhark_mc_segmap_task_136722_runs;
    int64_t *futhark_mc_segmap_task_136722_iter;
    int64_t futhark_mc_segmap_task_136722_total_time;
    int64_t futhark_mc_segmap_task_136722_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136732_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136732_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136732_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136732_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136732_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136732_total_iter;
    int64_t *futhark_mc_segred_task_136729_total_runtime;
    int *futhark_mc_segred_task_136729_runs;
    int64_t *futhark_mc_segred_task_136729_iter;
    int64_t futhark_mc_segred_task_136729_total_time;
    int64_t futhark_mc_segred_task_136729_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136737_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136737_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136737_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136737_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136737_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136737_total_iter;
    int64_t *futhark_mc_segred_task_136734_total_runtime;
    int *futhark_mc_segred_task_136734_runs;
    int64_t *futhark_mc_segred_task_136734_iter;
    int64_t futhark_mc_segred_task_136734_total_time;
    int64_t futhark_mc_segred_task_136734_total_iter;
    int64_t *futhark_mc_segmap_parloop_136727_total_runtime;
    int *futhark_mc_segmap_parloop_136727_runs;
    int64_t *futhark_mc_segmap_parloop_136727_iter;
    int64_t futhark_mc_segmap_parloop_136727_total_total_runtime;
    int futhark_mc_segmap_parloop_136727_total_runs;
    int64_t futhark_mc_segmap_parloop_136727_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136725_total_runtime;
    int *futhark_mc_segmap_nested_task_136725_runs;
    int64_t *futhark_mc_segmap_nested_task_136725_iter;
    int64_t *futhark_mc_segmap_parloop_136719_total_runtime;
    int *futhark_mc_segmap_parloop_136719_runs;
    int64_t *futhark_mc_segmap_parloop_136719_iter;
    int64_t futhark_mc_segmap_parloop_136719_total_total_runtime;
    int futhark_mc_segmap_parloop_136719_total_runs;
    int64_t futhark_mc_segmap_parloop_136719_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136717_total_runtime;
    int *futhark_mc_segmap_nested_task_136717_runs;
    int64_t *futhark_mc_segmap_nested_task_136717_iter;
    int64_t *futhark_mc_segmap_parloop_136741_total_runtime;
    int *futhark_mc_segmap_parloop_136741_runs;
    int64_t *futhark_mc_segmap_parloop_136741_iter;
    int64_t futhark_mc_segmap_parloop_136741_total_total_runtime;
    int futhark_mc_segmap_parloop_136741_total_runs;
    int64_t futhark_mc_segmap_parloop_136741_total_iter;
    int64_t *futhark_mc_segmap_task_136739_total_runtime;
    int *futhark_mc_segmap_task_136739_runs;
    int64_t *futhark_mc_segmap_task_136739_iter;
    int64_t futhark_mc_segmap_task_136739_total_time;
    int64_t futhark_mc_segmap_task_136739_total_iter;
    int64_t *futhark_mc_segmap_parloop_136752_total_runtime;
    int *futhark_mc_segmap_parloop_136752_runs;
    int64_t *futhark_mc_segmap_parloop_136752_iter;
    int64_t futhark_mc_segmap_parloop_136752_total_total_runtime;
    int futhark_mc_segmap_parloop_136752_total_runs;
    int64_t futhark_mc_segmap_parloop_136752_total_iter;
    int64_t *futhark_mc_segmap_task_136750_total_runtime;
    int *futhark_mc_segmap_task_136750_runs;
    int64_t *futhark_mc_segmap_task_136750_iter;
    int64_t futhark_mc_segmap_task_136750_total_time;
    int64_t futhark_mc_segmap_task_136750_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136762_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136762_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136762_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136762_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136762_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136762_total_iter;
    int64_t *futhark_mc_segred_task_136757_total_runtime;
    int *futhark_mc_segred_task_136757_runs;
    int64_t *futhark_mc_segred_task_136757_iter;
    int64_t futhark_mc_segred_task_136757_total_time;
    int64_t futhark_mc_segred_task_136757_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136768_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136768_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136768_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136768_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136768_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136768_total_iter;
    int64_t *futhark_mc_segred_task_136764_total_runtime;
    int *futhark_mc_segred_task_136764_runs;
    int64_t *futhark_mc_segred_task_136764_iter;
    int64_t futhark_mc_segred_task_136764_total_time;
    int64_t futhark_mc_segred_task_136764_total_iter;
    int64_t *futhark_mc_segmap_parloop_136755_total_runtime;
    int *futhark_mc_segmap_parloop_136755_runs;
    int64_t *futhark_mc_segmap_parloop_136755_iter;
    int64_t futhark_mc_segmap_parloop_136755_total_total_runtime;
    int futhark_mc_segmap_parloop_136755_total_runs;
    int64_t futhark_mc_segmap_parloop_136755_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136753_total_runtime;
    int *futhark_mc_segmap_nested_task_136753_runs;
    int64_t *futhark_mc_segmap_nested_task_136753_iter;
    int64_t *futhark_mc_segmap_parloop_136746_total_runtime;
    int *futhark_mc_segmap_parloop_136746_runs;
    int64_t *futhark_mc_segmap_parloop_136746_iter;
    int64_t futhark_mc_segmap_parloop_136746_total_total_runtime;
    int futhark_mc_segmap_parloop_136746_total_runs;
    int64_t futhark_mc_segmap_parloop_136746_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136744_total_runtime;
    int *futhark_mc_segmap_nested_task_136744_runs;
    int64_t *futhark_mc_segmap_nested_task_136744_iter;
    int64_t *futhark_mc_segmap_parloop_136772_total_runtime;
    int *futhark_mc_segmap_parloop_136772_runs;
    int64_t *futhark_mc_segmap_parloop_136772_iter;
    int64_t futhark_mc_segmap_parloop_136772_total_total_runtime;
    int futhark_mc_segmap_parloop_136772_total_runs;
    int64_t futhark_mc_segmap_parloop_136772_total_iter;
    int64_t *futhark_mc_segmap_task_136770_total_runtime;
    int *futhark_mc_segmap_task_136770_runs;
    int64_t *futhark_mc_segmap_task_136770_iter;
    int64_t futhark_mc_segmap_task_136770_total_time;
    int64_t futhark_mc_segmap_task_136770_total_iter;
    int64_t *futhark_mc_segmap_parloop_136783_total_runtime;
    int *futhark_mc_segmap_parloop_136783_runs;
    int64_t *futhark_mc_segmap_parloop_136783_iter;
    int64_t futhark_mc_segmap_parloop_136783_total_total_runtime;
    int futhark_mc_segmap_parloop_136783_total_runs;
    int64_t futhark_mc_segmap_parloop_136783_total_iter;
    int64_t *futhark_mc_segmap_task_136781_total_runtime;
    int *futhark_mc_segmap_task_136781_runs;
    int64_t *futhark_mc_segmap_task_136781_iter;
    int64_t futhark_mc_segmap_task_136781_total_time;
    int64_t futhark_mc_segmap_task_136781_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136795_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136795_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136795_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136795_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136795_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136795_total_iter;
    int64_t *futhark_mc_segred_task_136788_total_runtime;
    int *futhark_mc_segred_task_136788_runs;
    int64_t *futhark_mc_segred_task_136788_iter;
    int64_t futhark_mc_segred_task_136788_total_time;
    int64_t futhark_mc_segred_task_136788_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136801_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136801_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136801_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136801_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136801_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136801_total_iter;
    int64_t *futhark_mc_segred_task_136797_total_runtime;
    int *futhark_mc_segred_task_136797_runs;
    int64_t *futhark_mc_segred_task_136797_iter;
    int64_t futhark_mc_segred_task_136797_total_time;
    int64_t futhark_mc_segred_task_136797_total_iter;
    int64_t *futhark_mc_segmap_parloop_136786_total_runtime;
    int *futhark_mc_segmap_parloop_136786_runs;
    int64_t *futhark_mc_segmap_parloop_136786_iter;
    int64_t futhark_mc_segmap_parloop_136786_total_total_runtime;
    int futhark_mc_segmap_parloop_136786_total_runs;
    int64_t futhark_mc_segmap_parloop_136786_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136784_total_runtime;
    int *futhark_mc_segmap_nested_task_136784_runs;
    int64_t *futhark_mc_segmap_nested_task_136784_iter;
    int64_t *futhark_mc_segmap_parloop_136777_total_runtime;
    int *futhark_mc_segmap_parloop_136777_runs;
    int64_t *futhark_mc_segmap_parloop_136777_iter;
    int64_t futhark_mc_segmap_parloop_136777_total_total_runtime;
    int futhark_mc_segmap_parloop_136777_total_runs;
    int64_t futhark_mc_segmap_parloop_136777_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136775_total_runtime;
    int *futhark_mc_segmap_nested_task_136775_runs;
    int64_t *futhark_mc_segmap_nested_task_136775_iter;
    int64_t *futhark_mc_segmap_parloop_136805_total_runtime;
    int *futhark_mc_segmap_parloop_136805_runs;
    int64_t *futhark_mc_segmap_parloop_136805_iter;
    int64_t futhark_mc_segmap_parloop_136805_total_total_runtime;
    int futhark_mc_segmap_parloop_136805_total_runs;
    int64_t futhark_mc_segmap_parloop_136805_total_iter;
    int64_t *futhark_mc_segmap_task_136803_total_runtime;
    int *futhark_mc_segmap_task_136803_runs;
    int64_t *futhark_mc_segmap_task_136803_iter;
    int64_t futhark_mc_segmap_task_136803_total_time;
    int64_t futhark_mc_segmap_task_136803_total_iter;
    int64_t *futhark_mc_segmap_parloop_136815_total_runtime;
    int *futhark_mc_segmap_parloop_136815_runs;
    int64_t *futhark_mc_segmap_parloop_136815_iter;
    int64_t futhark_mc_segmap_parloop_136815_total_total_runtime;
    int futhark_mc_segmap_parloop_136815_total_runs;
    int64_t futhark_mc_segmap_parloop_136815_total_iter;
    int64_t *futhark_mc_segmap_task_136813_total_runtime;
    int *futhark_mc_segmap_task_136813_runs;
    int64_t *futhark_mc_segmap_task_136813_iter;
    int64_t futhark_mc_segmap_task_136813_total_time;
    int64_t futhark_mc_segmap_task_136813_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136825_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136825_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136825_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136825_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136825_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136825_total_iter;
    int64_t *futhark_mc_segred_task_136822_total_runtime;
    int *futhark_mc_segred_task_136822_runs;
    int64_t *futhark_mc_segred_task_136822_iter;
    int64_t futhark_mc_segred_task_136822_total_time;
    int64_t futhark_mc_segred_task_136822_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136830_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136830_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136830_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136830_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136830_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136830_total_iter;
    int64_t *futhark_mc_segred_task_136827_total_runtime;
    int *futhark_mc_segred_task_136827_runs;
    int64_t *futhark_mc_segred_task_136827_iter;
    int64_t futhark_mc_segred_task_136827_total_time;
    int64_t futhark_mc_segred_task_136827_total_iter;
    int64_t *futhark_mc_segmap_parloop_136819_total_runtime;
    int *futhark_mc_segmap_parloop_136819_runs;
    int64_t *futhark_mc_segmap_parloop_136819_iter;
    int64_t futhark_mc_segmap_parloop_136819_total_total_runtime;
    int futhark_mc_segmap_parloop_136819_total_runs;
    int64_t futhark_mc_segmap_parloop_136819_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136817_total_runtime;
    int *futhark_mc_segmap_nested_task_136817_runs;
    int64_t *futhark_mc_segmap_nested_task_136817_iter;
    int64_t *futhark_mc_segmap_parloop_136810_total_runtime;
    int *futhark_mc_segmap_parloop_136810_runs;
    int64_t *futhark_mc_segmap_parloop_136810_iter;
    int64_t futhark_mc_segmap_parloop_136810_total_total_runtime;
    int futhark_mc_segmap_parloop_136810_total_runs;
    int64_t futhark_mc_segmap_parloop_136810_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136808_total_runtime;
    int *futhark_mc_segmap_nested_task_136808_runs;
    int64_t *futhark_mc_segmap_nested_task_136808_iter;
    int64_t *futhark_mc_segmap_parloop_136834_total_runtime;
    int *futhark_mc_segmap_parloop_136834_runs;
    int64_t *futhark_mc_segmap_parloop_136834_iter;
    int64_t futhark_mc_segmap_parloop_136834_total_total_runtime;
    int futhark_mc_segmap_parloop_136834_total_runs;
    int64_t futhark_mc_segmap_parloop_136834_total_iter;
    int64_t *futhark_mc_segmap_task_136832_total_runtime;
    int *futhark_mc_segmap_task_136832_runs;
    int64_t *futhark_mc_segmap_task_136832_iter;
    int64_t futhark_mc_segmap_task_136832_total_time;
    int64_t futhark_mc_segmap_task_136832_total_iter;
    int64_t *futhark_mc_segmap_parloop_136847_total_runtime;
    int *futhark_mc_segmap_parloop_136847_runs;
    int64_t *futhark_mc_segmap_parloop_136847_iter;
    int64_t futhark_mc_segmap_parloop_136847_total_total_runtime;
    int futhark_mc_segmap_parloop_136847_total_runs;
    int64_t futhark_mc_segmap_parloop_136847_total_iter;
    int64_t *futhark_mc_segmap_task_136845_total_runtime;
    int *futhark_mc_segmap_task_136845_runs;
    int64_t *futhark_mc_segmap_task_136845_iter;
    int64_t futhark_mc_segmap_task_136845_total_time;
    int64_t futhark_mc_segmap_task_136845_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136861_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136861_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136861_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136861_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136861_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136861_total_iter;
    int64_t *futhark_mc_segred_task_136856_total_runtime;
    int *futhark_mc_segred_task_136856_runs;
    int64_t *futhark_mc_segred_task_136856_iter;
    int64_t futhark_mc_segred_task_136856_total_time;
    int64_t futhark_mc_segred_task_136856_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136867_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136867_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136867_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136867_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136867_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136867_total_iter;
    int64_t *futhark_mc_segred_task_136863_total_runtime;
    int *futhark_mc_segred_task_136863_runs;
    int64_t *futhark_mc_segred_task_136863_iter;
    int64_t futhark_mc_segred_task_136863_total_time;
    int64_t futhark_mc_segred_task_136863_total_iter;
    int64_t *futhark_mc_segmap_parloop_136852_total_runtime;
    int *futhark_mc_segmap_parloop_136852_runs;
    int64_t *futhark_mc_segmap_parloop_136852_iter;
    int64_t futhark_mc_segmap_parloop_136852_total_total_runtime;
    int futhark_mc_segmap_parloop_136852_total_runs;
    int64_t futhark_mc_segmap_parloop_136852_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136850_total_runtime;
    int *futhark_mc_segmap_nested_task_136850_runs;
    int64_t *futhark_mc_segmap_nested_task_136850_iter;
    int64_t *futhark_mc_segmap_parloop_136841_total_runtime;
    int *futhark_mc_segmap_parloop_136841_runs;
    int64_t *futhark_mc_segmap_parloop_136841_iter;
    int64_t futhark_mc_segmap_parloop_136841_total_total_runtime;
    int futhark_mc_segmap_parloop_136841_total_runs;
    int64_t futhark_mc_segmap_parloop_136841_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136839_total_runtime;
    int *futhark_mc_segmap_nested_task_136839_runs;
    int64_t *futhark_mc_segmap_nested_task_136839_iter;
    int64_t *futhark_mc_segmap_parloop_136871_total_runtime;
    int *futhark_mc_segmap_parloop_136871_runs;
    int64_t *futhark_mc_segmap_parloop_136871_iter;
    int64_t futhark_mc_segmap_parloop_136871_total_total_runtime;
    int futhark_mc_segmap_parloop_136871_total_runs;
    int64_t futhark_mc_segmap_parloop_136871_total_iter;
    int64_t *futhark_mc_segmap_task_136869_total_runtime;
    int *futhark_mc_segmap_task_136869_runs;
    int64_t *futhark_mc_segmap_task_136869_iter;
    int64_t futhark_mc_segmap_task_136869_total_time;
    int64_t futhark_mc_segmap_task_136869_total_iter;
    int64_t *futhark_mc_segmap_parloop_136886_total_runtime;
    int *futhark_mc_segmap_parloop_136886_runs;
    int64_t *futhark_mc_segmap_parloop_136886_iter;
    int64_t futhark_mc_segmap_parloop_136886_total_total_runtime;
    int futhark_mc_segmap_parloop_136886_total_runs;
    int64_t futhark_mc_segmap_parloop_136886_total_iter;
    int64_t *futhark_mc_segmap_task_136884_total_runtime;
    int *futhark_mc_segmap_task_136884_runs;
    int64_t *futhark_mc_segmap_task_136884_iter;
    int64_t futhark_mc_segmap_task_136884_total_time;
    int64_t futhark_mc_segmap_task_136884_total_iter;
    int64_t *futhark_mc_segmap_parloop_136901_total_runtime;
    int *futhark_mc_segmap_parloop_136901_runs;
    int64_t *futhark_mc_segmap_parloop_136901_iter;
    int64_t futhark_mc_segmap_parloop_136901_total_total_runtime;
    int futhark_mc_segmap_parloop_136901_total_runs;
    int64_t futhark_mc_segmap_parloop_136901_total_iter;
    int64_t *futhark_mc_segmap_task_136899_total_runtime;
    int *futhark_mc_segmap_task_136899_runs;
    int64_t *futhark_mc_segmap_task_136899_iter;
    int64_t futhark_mc_segmap_task_136899_total_time;
    int64_t futhark_mc_segmap_task_136899_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136910_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136910_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136910_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136910_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136910_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136910_total_iter;
    int64_t *futhark_mc_segred_task_136903_total_runtime;
    int *futhark_mc_segred_task_136903_runs;
    int64_t *futhark_mc_segred_task_136903_iter;
    int64_t futhark_mc_segred_task_136903_total_time;
    int64_t futhark_mc_segred_task_136903_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_136916_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_136916_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_136916_iter;
    int64_t futhark_mc_segred_stage_1_parloop_136916_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_136916_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_136916_total_iter;
    int64_t *futhark_mc_segred_task_136912_total_runtime;
    int *futhark_mc_segred_task_136912_runs;
    int64_t *futhark_mc_segred_task_136912_iter;
    int64_t futhark_mc_segred_task_136912_total_time;
    int64_t futhark_mc_segred_task_136912_total_iter;
    int64_t *futhark_mc_segmap_parloop_136893_total_runtime;
    int *futhark_mc_segmap_parloop_136893_runs;
    int64_t *futhark_mc_segmap_parloop_136893_iter;
    int64_t futhark_mc_segmap_parloop_136893_total_total_runtime;
    int futhark_mc_segmap_parloop_136893_total_runs;
    int64_t futhark_mc_segmap_parloop_136893_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136891_total_runtime;
    int *futhark_mc_segmap_nested_task_136891_runs;
    int64_t *futhark_mc_segmap_nested_task_136891_iter;
    int64_t *futhark_mc_segmap_parloop_136880_total_runtime;
    int *futhark_mc_segmap_parloop_136880_runs;
    int64_t *futhark_mc_segmap_parloop_136880_iter;
    int64_t futhark_mc_segmap_parloop_136880_total_total_runtime;
    int futhark_mc_segmap_parloop_136880_total_runs;
    int64_t futhark_mc_segmap_parloop_136880_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136878_total_runtime;
    int *futhark_mc_segmap_nested_task_136878_runs;
    int64_t *futhark_mc_segmap_nested_task_136878_iter;
    int64_t *futhark_mc_segmap_parloop_136920_total_runtime;
    int *futhark_mc_segmap_parloop_136920_runs;
    int64_t *futhark_mc_segmap_parloop_136920_iter;
    int64_t futhark_mc_segmap_parloop_136920_total_total_runtime;
    int futhark_mc_segmap_parloop_136920_total_runs;
    int64_t futhark_mc_segmap_parloop_136920_total_iter;
    int64_t *futhark_mc_segmap_task_136918_total_runtime;
    int *futhark_mc_segmap_task_136918_runs;
    int64_t *futhark_mc_segmap_task_136918_iter;
    int64_t futhark_mc_segmap_task_136918_total_time;
    int64_t futhark_mc_segmap_task_136918_total_iter;
    int64_t *futhark_mc_segmap_parloop_136929_total_runtime;
    int *futhark_mc_segmap_parloop_136929_runs;
    int64_t *futhark_mc_segmap_parloop_136929_iter;
    int64_t futhark_mc_segmap_parloop_136929_total_total_runtime;
    int futhark_mc_segmap_parloop_136929_total_runs;
    int64_t futhark_mc_segmap_parloop_136929_total_iter;
    int64_t *futhark_mc_segmap_task_136927_total_runtime;
    int *futhark_mc_segmap_task_136927_runs;
    int64_t *futhark_mc_segmap_task_136927_iter;
    int64_t futhark_mc_segmap_task_136927_total_time;
    int64_t futhark_mc_segmap_task_136927_total_iter;
    int64_t *futhark_mc_segmap_parloop_136924_total_runtime;
    int *futhark_mc_segmap_parloop_136924_runs;
    int64_t *futhark_mc_segmap_parloop_136924_iter;
    int64_t futhark_mc_segmap_parloop_136924_total_total_runtime;
    int futhark_mc_segmap_parloop_136924_total_runs;
    int64_t futhark_mc_segmap_parloop_136924_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136922_total_runtime;
    int *futhark_mc_segmap_nested_task_136922_runs;
    int64_t *futhark_mc_segmap_nested_task_136922_iter;
    int64_t *futhark_mc_segmap_parloop_136933_total_runtime;
    int *futhark_mc_segmap_parloop_136933_runs;
    int64_t *futhark_mc_segmap_parloop_136933_iter;
    int64_t futhark_mc_segmap_parloop_136933_total_total_runtime;
    int futhark_mc_segmap_parloop_136933_total_runs;
    int64_t futhark_mc_segmap_parloop_136933_total_iter;
    int64_t *futhark_mc_segmap_task_136931_total_runtime;
    int *futhark_mc_segmap_task_136931_runs;
    int64_t *futhark_mc_segmap_task_136931_iter;
    int64_t futhark_mc_segmap_task_136931_total_time;
    int64_t futhark_mc_segmap_task_136931_total_iter;
    int64_t *futhark_mc_segmap_parloop_136942_total_runtime;
    int *futhark_mc_segmap_parloop_136942_runs;
    int64_t *futhark_mc_segmap_parloop_136942_iter;
    int64_t futhark_mc_segmap_parloop_136942_total_total_runtime;
    int futhark_mc_segmap_parloop_136942_total_runs;
    int64_t futhark_mc_segmap_parloop_136942_total_iter;
    int64_t *futhark_mc_segmap_task_136940_total_runtime;
    int *futhark_mc_segmap_task_136940_runs;
    int64_t *futhark_mc_segmap_task_136940_iter;
    int64_t futhark_mc_segmap_task_136940_total_time;
    int64_t futhark_mc_segmap_task_136940_total_iter;
    int64_t *futhark_mc_segmap_parloop_136937_total_runtime;
    int *futhark_mc_segmap_parloop_136937_runs;
    int64_t *futhark_mc_segmap_parloop_136937_iter;
    int64_t futhark_mc_segmap_parloop_136937_total_total_runtime;
    int futhark_mc_segmap_parloop_136937_total_runs;
    int64_t futhark_mc_segmap_parloop_136937_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136935_total_runtime;
    int *futhark_mc_segmap_nested_task_136935_runs;
    int64_t *futhark_mc_segmap_nested_task_136935_iter;
    int64_t *futhark_mc_segmap_parloop_136946_total_runtime;
    int *futhark_mc_segmap_parloop_136946_runs;
    int64_t *futhark_mc_segmap_parloop_136946_iter;
    int64_t futhark_mc_segmap_parloop_136946_total_total_runtime;
    int futhark_mc_segmap_parloop_136946_total_runs;
    int64_t futhark_mc_segmap_parloop_136946_total_iter;
    int64_t *futhark_mc_segmap_task_136944_total_runtime;
    int *futhark_mc_segmap_task_136944_runs;
    int64_t *futhark_mc_segmap_task_136944_iter;
    int64_t futhark_mc_segmap_task_136944_total_time;
    int64_t futhark_mc_segmap_task_136944_total_iter;
    int64_t *futhark_mc_segmap_parloop_136955_total_runtime;
    int *futhark_mc_segmap_parloop_136955_runs;
    int64_t *futhark_mc_segmap_parloop_136955_iter;
    int64_t futhark_mc_segmap_parloop_136955_total_total_runtime;
    int futhark_mc_segmap_parloop_136955_total_runs;
    int64_t futhark_mc_segmap_parloop_136955_total_iter;
    int64_t *futhark_mc_segmap_task_136953_total_runtime;
    int *futhark_mc_segmap_task_136953_runs;
    int64_t *futhark_mc_segmap_task_136953_iter;
    int64_t futhark_mc_segmap_task_136953_total_time;
    int64_t futhark_mc_segmap_task_136953_total_iter;
    int64_t *futhark_mc_segmap_parloop_136950_total_runtime;
    int *futhark_mc_segmap_parloop_136950_runs;
    int64_t *futhark_mc_segmap_parloop_136950_iter;
    int64_t futhark_mc_segmap_parloop_136950_total_total_runtime;
    int futhark_mc_segmap_parloop_136950_total_runs;
    int64_t futhark_mc_segmap_parloop_136950_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136948_total_runtime;
    int *futhark_mc_segmap_nested_task_136948_runs;
    int64_t *futhark_mc_segmap_nested_task_136948_iter;
    int64_t *futhark_mc_segmap_parloop_136959_total_runtime;
    int *futhark_mc_segmap_parloop_136959_runs;
    int64_t *futhark_mc_segmap_parloop_136959_iter;
    int64_t futhark_mc_segmap_parloop_136959_total_total_runtime;
    int futhark_mc_segmap_parloop_136959_total_runs;
    int64_t futhark_mc_segmap_parloop_136959_total_iter;
    int64_t *futhark_mc_segmap_task_136957_total_runtime;
    int *futhark_mc_segmap_task_136957_runs;
    int64_t *futhark_mc_segmap_task_136957_iter;
    int64_t futhark_mc_segmap_task_136957_total_time;
    int64_t futhark_mc_segmap_task_136957_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_136984_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_136984_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_136984_iter;
    int64_t futhark_mc_scan_stage_1_parloop_136984_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_136984_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_136984_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_136986_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_136986_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_136986_iter;
    int64_t futhark_mc_scan_stage_3_parloop_136986_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_136986_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_136986_total_iter;
    int64_t *futhark_mc_segscan_task_136978_total_runtime;
    int *futhark_mc_segscan_task_136978_runs;
    int64_t *futhark_mc_segscan_task_136978_iter;
    int64_t futhark_mc_segscan_task_136978_total_time;
    int64_t futhark_mc_segscan_task_136978_total_iter;
    int64_t *futhark_mc_segmap_parloop_136990_total_runtime;
    int *futhark_mc_segmap_parloop_136990_runs;
    int64_t *futhark_mc_segmap_parloop_136990_iter;
    int64_t futhark_mc_segmap_parloop_136990_total_total_runtime;
    int futhark_mc_segmap_parloop_136990_total_runs;
    int64_t futhark_mc_segmap_parloop_136990_total_iter;
    int64_t *futhark_mc_segmap_task_136988_total_runtime;
    int *futhark_mc_segmap_task_136988_runs;
    int64_t *futhark_mc_segmap_task_136988_iter;
    int64_t futhark_mc_segmap_task_136988_total_time;
    int64_t futhark_mc_segmap_task_136988_total_iter;
    int64_t *futhark_mc_segmap_parloop_136969_total_runtime;
    int *futhark_mc_segmap_parloop_136969_runs;
    int64_t *futhark_mc_segmap_parloop_136969_iter;
    int64_t futhark_mc_segmap_parloop_136969_total_total_runtime;
    int futhark_mc_segmap_parloop_136969_total_runs;
    int64_t futhark_mc_segmap_parloop_136969_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136967_total_runtime;
    int *futhark_mc_segmap_nested_task_136967_runs;
    int64_t *futhark_mc_segmap_nested_task_136967_iter;
    int64_t *futhark_mc_segmap_parloop_136994_total_runtime;
    int *futhark_mc_segmap_parloop_136994_runs;
    int64_t *futhark_mc_segmap_parloop_136994_iter;
    int64_t futhark_mc_segmap_parloop_136994_total_total_runtime;
    int futhark_mc_segmap_parloop_136994_total_runs;
    int64_t futhark_mc_segmap_parloop_136994_total_iter;
    int64_t *futhark_mc_segmap_task_136992_total_runtime;
    int *futhark_mc_segmap_task_136992_runs;
    int64_t *futhark_mc_segmap_task_136992_iter;
    int64_t futhark_mc_segmap_task_136992_total_time;
    int64_t futhark_mc_segmap_task_136992_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_137002_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_137002_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_137002_iter;
    int64_t futhark_mc_segred_stage_1_parloop_137002_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_137002_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_137002_total_iter;
    int64_t *futhark_mc_segred_task_136999_total_runtime;
    int *futhark_mc_segred_task_136999_runs;
    int64_t *futhark_mc_segred_task_136999_iter;
    int64_t futhark_mc_segred_task_136999_total_time;
    int64_t futhark_mc_segred_task_136999_total_iter;
    int64_t *futhark_mc_segmap_parloop_136997_total_runtime;
    int *futhark_mc_segmap_parloop_136997_runs;
    int64_t *futhark_mc_segmap_parloop_136997_iter;
    int64_t futhark_mc_segmap_parloop_136997_total_total_runtime;
    int futhark_mc_segmap_parloop_136997_total_runs;
    int64_t futhark_mc_segmap_parloop_136997_total_iter;
    int64_t *futhark_mc_segmap_nested_task_136995_total_runtime;
    int *futhark_mc_segmap_nested_task_136995_runs;
    int64_t *futhark_mc_segmap_nested_task_136995_iter;
    int64_t *futhark_mc_segmap_parloop_137006_total_runtime;
    int *futhark_mc_segmap_parloop_137006_runs;
    int64_t *futhark_mc_segmap_parloop_137006_iter;
    int64_t futhark_mc_segmap_parloop_137006_total_total_runtime;
    int futhark_mc_segmap_parloop_137006_total_runs;
    int64_t futhark_mc_segmap_parloop_137006_total_iter;
    int64_t *futhark_mc_segmap_task_137004_total_runtime;
    int *futhark_mc_segmap_task_137004_runs;
    int64_t *futhark_mc_segmap_task_137004_iter;
    int64_t futhark_mc_segmap_task_137004_total_time;
    int64_t futhark_mc_segmap_task_137004_total_iter;
    int64_t *futhark_mc_segmap_parloop_137015_total_runtime;
    int *futhark_mc_segmap_parloop_137015_runs;
    int64_t *futhark_mc_segmap_parloop_137015_iter;
    int64_t futhark_mc_segmap_parloop_137015_total_total_runtime;
    int futhark_mc_segmap_parloop_137015_total_runs;
    int64_t futhark_mc_segmap_parloop_137015_total_iter;
    int64_t *futhark_mc_segmap_task_137013_total_runtime;
    int *futhark_mc_segmap_task_137013_runs;
    int64_t *futhark_mc_segmap_task_137013_iter;
    int64_t futhark_mc_segmap_task_137013_total_time;
    int64_t futhark_mc_segmap_task_137013_total_iter;
    int64_t *futhark_mc_segmap_parloop_137010_total_runtime;
    int *futhark_mc_segmap_parloop_137010_runs;
    int64_t *futhark_mc_segmap_parloop_137010_iter;
    int64_t futhark_mc_segmap_parloop_137010_total_total_runtime;
    int futhark_mc_segmap_parloop_137010_total_runs;
    int64_t futhark_mc_segmap_parloop_137010_total_iter;
    int64_t *futhark_mc_segmap_nested_task_137008_total_runtime;
    int *futhark_mc_segmap_nested_task_137008_runs;
    int64_t *futhark_mc_segmap_nested_task_137008_iter;
    int64_t *futhark_mc_segmap_parloop_137019_total_runtime;
    int *futhark_mc_segmap_parloop_137019_runs;
    int64_t *futhark_mc_segmap_parloop_137019_iter;
    int64_t futhark_mc_segmap_parloop_137019_total_total_runtime;
    int futhark_mc_segmap_parloop_137019_total_runs;
    int64_t futhark_mc_segmap_parloop_137019_total_iter;
    int64_t *futhark_mc_segmap_task_137017_total_runtime;
    int *futhark_mc_segmap_task_137017_runs;
    int64_t *futhark_mc_segmap_task_137017_iter;
    int64_t futhark_mc_segmap_task_137017_total_time;
    int64_t futhark_mc_segmap_task_137017_total_iter;
    int64_t *futhark_mc_segmap_parloop_137028_total_runtime;
    int *futhark_mc_segmap_parloop_137028_runs;
    int64_t *futhark_mc_segmap_parloop_137028_iter;
    int64_t futhark_mc_segmap_parloop_137028_total_total_runtime;
    int futhark_mc_segmap_parloop_137028_total_runs;
    int64_t futhark_mc_segmap_parloop_137028_total_iter;
    int64_t *futhark_mc_segmap_task_137026_total_runtime;
    int *futhark_mc_segmap_task_137026_runs;
    int64_t *futhark_mc_segmap_task_137026_iter;
    int64_t futhark_mc_segmap_task_137026_total_time;
    int64_t futhark_mc_segmap_task_137026_total_iter;
    int64_t *futhark_mc_segmap_parloop_137023_total_runtime;
    int *futhark_mc_segmap_parloop_137023_runs;
    int64_t *futhark_mc_segmap_parloop_137023_iter;
    int64_t futhark_mc_segmap_parloop_137023_total_total_runtime;
    int futhark_mc_segmap_parloop_137023_total_runs;
    int64_t futhark_mc_segmap_parloop_137023_total_iter;
    int64_t *futhark_mc_segmap_nested_task_137021_total_runtime;
    int *futhark_mc_segmap_nested_task_137021_runs;
    int64_t *futhark_mc_segmap_nested_task_137021_iter;
    int64_t *futhark_mc_segmap_parloop_137032_total_runtime;
    int *futhark_mc_segmap_parloop_137032_runs;
    int64_t *futhark_mc_segmap_parloop_137032_iter;
    int64_t futhark_mc_segmap_parloop_137032_total_total_runtime;
    int futhark_mc_segmap_parloop_137032_total_runs;
    int64_t futhark_mc_segmap_parloop_137032_total_iter;
    int64_t *futhark_mc_segmap_task_137030_total_runtime;
    int *futhark_mc_segmap_task_137030_runs;
    int64_t *futhark_mc_segmap_task_137030_iter;
    int64_t futhark_mc_segmap_task_137030_total_time;
    int64_t futhark_mc_segmap_task_137030_total_iter;
    int64_t *futhark_mc_segmap_parloop_137045_total_runtime;
    int *futhark_mc_segmap_parloop_137045_runs;
    int64_t *futhark_mc_segmap_parloop_137045_iter;
    int64_t futhark_mc_segmap_parloop_137045_total_total_runtime;
    int futhark_mc_segmap_parloop_137045_total_runs;
    int64_t futhark_mc_segmap_parloop_137045_total_iter;
    int64_t *futhark_mc_segmap_task_137043_total_runtime;
    int *futhark_mc_segmap_task_137043_runs;
    int64_t *futhark_mc_segmap_task_137043_iter;
    int64_t futhark_mc_segmap_task_137043_total_time;
    int64_t futhark_mc_segmap_task_137043_total_iter;
    int64_t *futhark_mc_segmap_parloop_137049_total_runtime;
    int *futhark_mc_segmap_parloop_137049_runs;
    int64_t *futhark_mc_segmap_parloop_137049_iter;
    int64_t futhark_mc_segmap_parloop_137049_total_total_runtime;
    int futhark_mc_segmap_parloop_137049_total_runs;
    int64_t futhark_mc_segmap_parloop_137049_total_iter;
    int64_t *futhark_mc_segmap_task_137047_total_runtime;
    int *futhark_mc_segmap_task_137047_runs;
    int64_t *futhark_mc_segmap_task_137047_iter;
    int64_t futhark_mc_segmap_task_137047_total_time;
    int64_t futhark_mc_segmap_task_137047_total_iter;
    int64_t *futhark_mc_segmap_parloop_137058_total_runtime;
    int *futhark_mc_segmap_parloop_137058_runs;
    int64_t *futhark_mc_segmap_parloop_137058_iter;
    int64_t futhark_mc_segmap_parloop_137058_total_total_runtime;
    int futhark_mc_segmap_parloop_137058_total_runs;
    int64_t futhark_mc_segmap_parloop_137058_total_iter;
    int64_t *futhark_mc_segmap_task_137056_total_runtime;
    int *futhark_mc_segmap_task_137056_runs;
    int64_t *futhark_mc_segmap_task_137056_iter;
    int64_t futhark_mc_segmap_task_137056_total_time;
    int64_t futhark_mc_segmap_task_137056_total_iter;
    int64_t *futhark_mc_segmap_parloop_137053_total_runtime;
    int *futhark_mc_segmap_parloop_137053_runs;
    int64_t *futhark_mc_segmap_parloop_137053_iter;
    int64_t futhark_mc_segmap_parloop_137053_total_total_runtime;
    int futhark_mc_segmap_parloop_137053_total_runs;
    int64_t futhark_mc_segmap_parloop_137053_total_iter;
    int64_t *futhark_mc_segmap_nested_task_137051_total_runtime;
    int *futhark_mc_segmap_nested_task_137051_runs;
    int64_t *futhark_mc_segmap_nested_task_137051_iter;
    int64_t *futhark_mc_segmap_parloop_137038_total_runtime;
    int *futhark_mc_segmap_parloop_137038_runs;
    int64_t *futhark_mc_segmap_parloop_137038_iter;
    int64_t futhark_mc_segmap_parloop_137038_total_total_runtime;
    int futhark_mc_segmap_parloop_137038_total_runs;
    int64_t futhark_mc_segmap_parloop_137038_total_iter;
    int64_t *futhark_mc_segmap_nested_task_137036_total_runtime;
    int *futhark_mc_segmap_nested_task_137036_runs;
    int64_t *futhark_mc_segmap_nested_task_137036_iter;
    int64_t tuning_timing;
    int64_t tuning_iter;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    fast_srand(time(0));
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->profiling;
    ctx->profiling_paused = 0;
    ctx->logging = 0;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    
    int tune_kappa = 0;
    double kappa = 5.1f * 1000;
    
    if (tune_kappa) {
        if (determine_kappa(&kappa) != 0)
            return NULL;
    }
    if (scheduler_init(&ctx->scheduler, cfg->num_threads >
                       0 ? cfg->num_threads : num_processors(), kappa) != 0)
        return NULL;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->futhark_mc_segmap_parloop_136267_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136267_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136267_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136267_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136267_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136267_total_iter = 0;
    ctx->futhark_mc_segmap_task_136265_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136265_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136265_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136265_total_time = 0;
    ctx->futhark_mc_segmap_task_136265_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136279_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136279_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136279_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136279_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136279_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136281_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136281_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136281_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136281_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136281_total_iter = 0;
    ctx->futhark_mc_segscan_task_136276_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136276_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136276_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136276_total_time = 0;
    ctx->futhark_mc_segscan_task_136276_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136285_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136285_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136285_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136285_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136285_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136285_total_iter = 0;
    ctx->futhark_mc_segmap_task_136283_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136283_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136283_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136283_total_time = 0;
    ctx->futhark_mc_segmap_task_136283_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136272_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136272_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136272_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136272_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136272_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136272_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136270_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136270_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136270_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136289_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136289_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136289_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136289_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136289_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136289_total_iter = 0;
    ctx->futhark_mc_segmap_task_136287_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136287_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136287_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136287_total_time = 0;
    ctx->futhark_mc_segmap_task_136287_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136298_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136298_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136298_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136298_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136298_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136298_total_iter = 0;
    ctx->futhark_mc_segmap_task_136296_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136296_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136296_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136296_total_time = 0;
    ctx->futhark_mc_segmap_task_136296_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136293_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136293_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136293_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136293_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136293_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136293_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136291_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136291_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136291_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136302_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136302_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136302_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136302_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136302_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136302_total_iter = 0;
    ctx->futhark_mc_segmap_task_136300_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136300_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136300_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136300_total_time = 0;
    ctx->futhark_mc_segmap_task_136300_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136311_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136311_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136311_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136311_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136311_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136311_total_iter = 0;
    ctx->futhark_mc_segmap_task_136309_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136309_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136309_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136309_total_time = 0;
    ctx->futhark_mc_segmap_task_136309_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136306_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136306_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136306_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136306_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136306_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136306_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136304_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136304_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136304_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136315_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136315_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136315_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136315_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136315_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136315_total_iter = 0;
    ctx->futhark_mc_segmap_task_136313_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136313_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136313_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136313_total_time = 0;
    ctx->futhark_mc_segmap_task_136313_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136324_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136324_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136324_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136324_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136324_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136324_total_iter = 0;
    ctx->futhark_mc_segmap_task_136322_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136322_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136322_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136322_total_time = 0;
    ctx->futhark_mc_segmap_task_136322_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136332_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136332_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136332_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136332_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136332_total_iter = 0;
    ctx->futhark_mc_segred_task_136329_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136329_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136329_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136329_total_time = 0;
    ctx->futhark_mc_segred_task_136329_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136327_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136327_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136327_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136327_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136327_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136327_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136325_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136325_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136325_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136319_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136319_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136319_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136319_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136319_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136319_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136317_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136317_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136317_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136336_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136336_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136336_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136336_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136336_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136336_total_iter = 0;
    ctx->futhark_mc_segmap_task_136334_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136334_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136334_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136334_total_time = 0;
    ctx->futhark_mc_segmap_task_136334_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136349_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136349_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136349_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136349_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136349_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136349_total_iter = 0;
    ctx->futhark_mc_segmap_task_136347_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136347_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136347_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136347_total_time = 0;
    ctx->futhark_mc_segmap_task_136347_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136353_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136353_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136353_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136353_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136353_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136353_total_iter = 0;
    ctx->futhark_mc_segmap_task_136351_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136351_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136351_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136351_total_time = 0;
    ctx->futhark_mc_segmap_task_136351_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136342_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136342_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136342_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136342_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136342_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136342_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136340_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136340_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136340_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136357_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136357_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136357_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136357_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136357_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136357_total_iter = 0;
    ctx->futhark_mc_segmap_task_136355_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136355_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136355_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136355_total_time = 0;
    ctx->futhark_mc_segmap_task_136355_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136370_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136370_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136370_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136370_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136370_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136370_total_iter = 0;
    ctx->futhark_mc_segmap_task_136368_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136368_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136368_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136368_total_time = 0;
    ctx->futhark_mc_segmap_task_136368_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136374_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136374_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136374_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136374_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136374_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136374_total_iter = 0;
    ctx->futhark_mc_segmap_task_136372_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136372_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136372_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136372_total_time = 0;
    ctx->futhark_mc_segmap_task_136372_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136363_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136363_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136363_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136363_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136363_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136363_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136361_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136361_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136361_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136378_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136378_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136378_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136378_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136378_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136378_total_iter = 0;
    ctx->futhark_mc_segmap_task_136376_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136376_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136376_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136376_total_time = 0;
    ctx->futhark_mc_segmap_task_136376_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136387_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136387_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136387_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136387_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136387_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136387_total_iter = 0;
    ctx->futhark_mc_segmap_task_136385_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136385_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136385_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136385_total_time = 0;
    ctx->futhark_mc_segmap_task_136385_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136382_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136382_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136382_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136382_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136382_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136382_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136380_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136380_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136380_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136391_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136391_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136391_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136391_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136391_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136391_total_iter = 0;
    ctx->futhark_mc_segmap_task_136389_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136389_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136389_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136389_total_time = 0;
    ctx->futhark_mc_segmap_task_136389_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136400_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136400_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136400_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136400_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136400_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136400_total_iter = 0;
    ctx->futhark_mc_segmap_task_136398_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136398_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136398_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136398_total_time = 0;
    ctx->futhark_mc_segmap_task_136398_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136408_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136408_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136408_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136408_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136408_total_iter = 0;
    ctx->futhark_mc_segred_task_136405_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136405_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136405_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136405_total_time = 0;
    ctx->futhark_mc_segred_task_136405_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136403_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136403_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136403_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136403_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136403_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136403_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136401_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136401_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136401_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136395_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136395_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136395_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136395_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136395_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136395_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136393_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136393_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136393_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136412_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136412_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136412_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136412_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136412_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136412_total_iter = 0;
    ctx->futhark_mc_segmap_task_136410_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136410_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136410_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136410_total_time = 0;
    ctx->futhark_mc_segmap_task_136410_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136421_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136421_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136421_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136421_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136421_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136421_total_iter = 0;
    ctx->futhark_mc_segmap_task_136419_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136419_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136419_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136419_total_time = 0;
    ctx->futhark_mc_segmap_task_136419_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136416_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136416_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136416_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136416_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136416_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136416_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136414_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136414_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136414_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136425_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136425_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136425_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136425_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136425_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136425_total_iter = 0;
    ctx->futhark_mc_segmap_task_136423_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136423_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136423_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136423_total_time = 0;
    ctx->futhark_mc_segmap_task_136423_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136439_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136439_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136439_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136439_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136439_total_iter = 0;
    ctx->futhark_mc_segred_task_136436_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136436_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136436_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136436_total_time = 0;
    ctx->futhark_mc_segred_task_136436_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136444_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136444_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136444_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136444_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136444_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136446_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136446_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136446_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136446_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136446_total_iter = 0;
    ctx->futhark_mc_segscan_task_136441_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136441_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136441_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136441_total_time = 0;
    ctx->futhark_mc_segscan_task_136441_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136451_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136451_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136451_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136451_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136451_total_iter = 0;
    ctx->futhark_mc_segred_task_136448_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136448_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136448_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136448_total_time = 0;
    ctx->futhark_mc_segred_task_136448_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136456_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136456_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136456_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136456_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136456_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136458_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136458_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136458_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136458_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136458_total_iter = 0;
    ctx->futhark_mc_segscan_task_136453_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136453_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136453_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136453_total_time = 0;
    ctx->futhark_mc_segscan_task_136453_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136463_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136463_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136463_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136463_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136463_total_iter = 0;
    ctx->futhark_mc_segred_task_136460_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136460_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136460_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136460_total_time = 0;
    ctx->futhark_mc_segred_task_136460_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136468_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136468_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136468_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136468_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136468_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136470_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136470_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136470_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136470_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136470_total_iter = 0;
    ctx->futhark_mc_segscan_task_136465_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136465_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136465_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136465_total_time = 0;
    ctx->futhark_mc_segscan_task_136465_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136431_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136431_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136431_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136431_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136431_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136431_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136429_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136429_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136429_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136474_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136474_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136474_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136474_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136474_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136474_total_iter = 0;
    ctx->futhark_mc_segmap_task_136472_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136472_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136472_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136472_total_time = 0;
    ctx->futhark_mc_segmap_task_136472_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136483_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136483_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136483_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136483_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136483_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136483_total_iter = 0;
    ctx->futhark_mc_segmap_task_136481_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136481_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136481_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136481_total_time = 0;
    ctx->futhark_mc_segmap_task_136481_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136491_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136491_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136491_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136491_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136491_total_iter = 0;
    ctx->futhark_mc_segred_task_136488_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136488_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136488_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136488_total_time = 0;
    ctx->futhark_mc_segred_task_136488_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136496_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136496_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136496_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136496_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136496_total_iter = 0;
    ctx->futhark_mc_segred_task_136493_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136493_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136493_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136493_total_time = 0;
    ctx->futhark_mc_segred_task_136493_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136486_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136486_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136486_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136486_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136486_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136486_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136484_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136484_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136484_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136478_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136478_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136478_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136478_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136478_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136478_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136476_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136476_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136476_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136500_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136500_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136500_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136500_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136500_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136500_total_iter = 0;
    ctx->futhark_mc_segmap_task_136498_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136498_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136498_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136498_total_time = 0;
    ctx->futhark_mc_segmap_task_136498_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136511_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136511_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136511_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136511_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136511_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136511_total_iter = 0;
    ctx->futhark_mc_segmap_task_136509_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136509_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136509_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136509_total_time = 0;
    ctx->futhark_mc_segmap_task_136509_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136521_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136521_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136521_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136521_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136521_total_iter = 0;
    ctx->futhark_mc_segred_task_136516_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136516_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136516_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136516_total_time = 0;
    ctx->futhark_mc_segred_task_136516_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136527_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136527_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136527_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136527_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136527_total_iter = 0;
    ctx->futhark_mc_segred_task_136523_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136523_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136523_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136523_total_time = 0;
    ctx->futhark_mc_segred_task_136523_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136514_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136514_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136514_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136514_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136514_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136514_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136512_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136512_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136512_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136505_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136505_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136505_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136505_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136505_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136505_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136503_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136503_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136503_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136531_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136531_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136531_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136531_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136531_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136531_total_iter = 0;
    ctx->futhark_mc_segmap_task_136529_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136529_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136529_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136529_total_time = 0;
    ctx->futhark_mc_segmap_task_136529_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136542_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136542_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136542_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136542_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136542_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136542_total_iter = 0;
    ctx->futhark_mc_segmap_task_136540_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136540_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136540_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136540_total_time = 0;
    ctx->futhark_mc_segmap_task_136540_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136554_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136554_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136554_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136554_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136554_total_iter = 0;
    ctx->futhark_mc_segred_task_136547_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136547_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136547_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136547_total_time = 0;
    ctx->futhark_mc_segred_task_136547_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136560_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136560_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136560_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136560_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136560_total_iter = 0;
    ctx->futhark_mc_segred_task_136556_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136556_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136556_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136556_total_time = 0;
    ctx->futhark_mc_segred_task_136556_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136545_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136545_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136545_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136545_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136545_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136545_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136543_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136543_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136543_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136536_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136536_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136536_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136536_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136536_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136536_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136534_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136534_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136534_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136564_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136564_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136564_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136564_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136564_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136564_total_iter = 0;
    ctx->futhark_mc_segmap_task_136562_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136562_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136562_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136562_total_time = 0;
    ctx->futhark_mc_segmap_task_136562_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136574_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136574_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136574_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136574_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136574_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136574_total_iter = 0;
    ctx->futhark_mc_segmap_task_136572_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136572_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136572_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136572_total_time = 0;
    ctx->futhark_mc_segmap_task_136572_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136584_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136584_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136584_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136584_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136584_total_iter = 0;
    ctx->futhark_mc_segred_task_136581_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136581_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136581_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136581_total_time = 0;
    ctx->futhark_mc_segred_task_136581_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136589_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136589_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136589_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136589_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136589_total_iter = 0;
    ctx->futhark_mc_segred_task_136586_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136586_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136586_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136586_total_time = 0;
    ctx->futhark_mc_segred_task_136586_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136578_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136578_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136578_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136578_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136578_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136578_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136576_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136576_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136576_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136569_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136569_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136569_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136569_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136569_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136569_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136567_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136567_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136567_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136593_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136593_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136593_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136593_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136593_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136593_total_iter = 0;
    ctx->futhark_mc_segmap_task_136591_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136591_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136591_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136591_total_time = 0;
    ctx->futhark_mc_segmap_task_136591_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136606_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136606_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136606_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136606_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136606_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136606_total_iter = 0;
    ctx->futhark_mc_segmap_task_136604_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136604_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136604_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136604_total_time = 0;
    ctx->futhark_mc_segmap_task_136604_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136620_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136620_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136620_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136620_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136620_total_iter = 0;
    ctx->futhark_mc_segred_task_136615_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136615_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136615_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136615_total_time = 0;
    ctx->futhark_mc_segred_task_136615_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136626_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136626_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136626_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136626_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136626_total_iter = 0;
    ctx->futhark_mc_segred_task_136622_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136622_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136622_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136622_total_time = 0;
    ctx->futhark_mc_segred_task_136622_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136611_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136611_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136611_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136611_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136611_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136611_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136609_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136609_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136609_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136600_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136600_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136600_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136600_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136600_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136600_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136598_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136598_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136598_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136630_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136630_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136630_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136630_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136630_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136630_total_iter = 0;
    ctx->futhark_mc_segmap_task_136628_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136628_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136628_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136628_total_time = 0;
    ctx->futhark_mc_segmap_task_136628_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136645_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136645_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136645_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136645_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136645_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136645_total_iter = 0;
    ctx->futhark_mc_segmap_task_136643_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136643_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136643_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136643_total_time = 0;
    ctx->futhark_mc_segmap_task_136643_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136660_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136660_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136660_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136660_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136660_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136660_total_iter = 0;
    ctx->futhark_mc_segmap_task_136658_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136658_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136658_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136658_total_time = 0;
    ctx->futhark_mc_segmap_task_136658_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136669_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136669_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136669_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136669_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136669_total_iter = 0;
    ctx->futhark_mc_segred_task_136662_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136662_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136662_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136662_total_time = 0;
    ctx->futhark_mc_segred_task_136662_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136675_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136675_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136675_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136675_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136675_total_iter = 0;
    ctx->futhark_mc_segred_task_136671_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136671_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136671_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136671_total_time = 0;
    ctx->futhark_mc_segred_task_136671_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136652_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136652_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136652_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136652_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136652_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136652_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136650_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136650_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136650_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136639_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136639_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136639_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136639_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136639_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136639_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136637_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136637_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136637_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136679_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136679_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136679_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136679_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136679_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136679_total_iter = 0;
    ctx->futhark_mc_segmap_task_136677_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136677_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136677_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136677_total_time = 0;
    ctx->futhark_mc_segmap_task_136677_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136688_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136688_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136688_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136688_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136688_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136688_total_iter = 0;
    ctx->futhark_mc_segmap_task_136686_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136686_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136686_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136686_total_time = 0;
    ctx->futhark_mc_segmap_task_136686_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136683_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136683_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136683_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136683_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136683_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136683_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136681_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136681_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136681_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136692_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136692_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136692_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136692_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136692_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136692_total_iter = 0;
    ctx->futhark_mc_segmap_task_136690_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136690_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136690_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136690_total_time = 0;
    ctx->futhark_mc_segmap_task_136690_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136707_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136707_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136707_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136707_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136707_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136707_total_iter = 0;
    ctx->futhark_mc_segmap_task_136705_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136705_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136705_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136705_total_time = 0;
    ctx->futhark_mc_segmap_task_136705_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136711_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136711_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136711_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136711_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136711_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136711_total_iter = 0;
    ctx->futhark_mc_segmap_task_136709_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136709_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136709_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136709_total_time = 0;
    ctx->futhark_mc_segmap_task_136709_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136699_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136699_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136699_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136699_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136699_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136699_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136697_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136697_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136697_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136715_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136715_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136715_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136715_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136715_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136715_total_iter = 0;
    ctx->futhark_mc_segmap_task_136713_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136713_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136713_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136713_total_time = 0;
    ctx->futhark_mc_segmap_task_136713_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136724_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136724_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136724_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136724_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136724_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136724_total_iter = 0;
    ctx->futhark_mc_segmap_task_136722_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136722_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136722_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136722_total_time = 0;
    ctx->futhark_mc_segmap_task_136722_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136732_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136732_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136732_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136732_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136732_total_iter = 0;
    ctx->futhark_mc_segred_task_136729_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136729_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136729_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136729_total_time = 0;
    ctx->futhark_mc_segred_task_136729_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136737_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136737_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136737_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136737_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136737_total_iter = 0;
    ctx->futhark_mc_segred_task_136734_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136734_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136734_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136734_total_time = 0;
    ctx->futhark_mc_segred_task_136734_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136727_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136727_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136727_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136727_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136727_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136727_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136725_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136725_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136725_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136719_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136719_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136719_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136719_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136719_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136719_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136717_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136717_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136717_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136741_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136741_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136741_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136741_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136741_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136741_total_iter = 0;
    ctx->futhark_mc_segmap_task_136739_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136739_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136739_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136739_total_time = 0;
    ctx->futhark_mc_segmap_task_136739_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136752_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136752_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136752_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136752_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136752_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136752_total_iter = 0;
    ctx->futhark_mc_segmap_task_136750_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136750_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136750_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136750_total_time = 0;
    ctx->futhark_mc_segmap_task_136750_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136762_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136762_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136762_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136762_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136762_total_iter = 0;
    ctx->futhark_mc_segred_task_136757_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136757_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136757_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136757_total_time = 0;
    ctx->futhark_mc_segred_task_136757_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136768_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136768_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136768_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136768_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136768_total_iter = 0;
    ctx->futhark_mc_segred_task_136764_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136764_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136764_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136764_total_time = 0;
    ctx->futhark_mc_segred_task_136764_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136755_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136755_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136755_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136755_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136755_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136755_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136753_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136753_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136753_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136746_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136746_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136746_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136746_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136746_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136746_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136744_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136744_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136744_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136772_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136772_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136772_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136772_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136772_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136772_total_iter = 0;
    ctx->futhark_mc_segmap_task_136770_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136770_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136770_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136770_total_time = 0;
    ctx->futhark_mc_segmap_task_136770_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136783_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136783_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136783_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136783_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136783_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136783_total_iter = 0;
    ctx->futhark_mc_segmap_task_136781_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136781_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136781_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136781_total_time = 0;
    ctx->futhark_mc_segmap_task_136781_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136795_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136795_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136795_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136795_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136795_total_iter = 0;
    ctx->futhark_mc_segred_task_136788_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136788_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136788_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136788_total_time = 0;
    ctx->futhark_mc_segred_task_136788_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136801_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136801_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136801_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136801_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136801_total_iter = 0;
    ctx->futhark_mc_segred_task_136797_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136797_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136797_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136797_total_time = 0;
    ctx->futhark_mc_segred_task_136797_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136786_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136786_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136786_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136786_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136786_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136786_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136784_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136784_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136784_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136777_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136777_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136777_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136777_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136777_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136777_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136775_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136775_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136775_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136805_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136805_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136805_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136805_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136805_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136805_total_iter = 0;
    ctx->futhark_mc_segmap_task_136803_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136803_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136803_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136803_total_time = 0;
    ctx->futhark_mc_segmap_task_136803_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136815_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136815_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136815_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136815_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136815_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136815_total_iter = 0;
    ctx->futhark_mc_segmap_task_136813_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136813_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136813_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136813_total_time = 0;
    ctx->futhark_mc_segmap_task_136813_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136825_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136825_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136825_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136825_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136825_total_iter = 0;
    ctx->futhark_mc_segred_task_136822_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136822_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136822_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136822_total_time = 0;
    ctx->futhark_mc_segred_task_136822_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136830_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136830_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136830_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136830_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136830_total_iter = 0;
    ctx->futhark_mc_segred_task_136827_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136827_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136827_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136827_total_time = 0;
    ctx->futhark_mc_segred_task_136827_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136819_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136819_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136819_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136819_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136819_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136819_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136817_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136817_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136817_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136810_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136810_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136810_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136810_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136810_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136810_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136808_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136808_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136808_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136834_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136834_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136834_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136834_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136834_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136834_total_iter = 0;
    ctx->futhark_mc_segmap_task_136832_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136832_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136832_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136832_total_time = 0;
    ctx->futhark_mc_segmap_task_136832_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136847_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136847_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136847_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136847_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136847_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136847_total_iter = 0;
    ctx->futhark_mc_segmap_task_136845_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136845_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136845_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136845_total_time = 0;
    ctx->futhark_mc_segmap_task_136845_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136861_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136861_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136861_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136861_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136861_total_iter = 0;
    ctx->futhark_mc_segred_task_136856_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136856_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136856_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136856_total_time = 0;
    ctx->futhark_mc_segred_task_136856_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136867_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136867_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136867_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136867_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136867_total_iter = 0;
    ctx->futhark_mc_segred_task_136863_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136863_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136863_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136863_total_time = 0;
    ctx->futhark_mc_segred_task_136863_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136852_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136852_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136852_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136852_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136852_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136852_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136850_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136850_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136850_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136841_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136841_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136841_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136841_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136841_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136841_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136839_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136839_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136839_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136871_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136871_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136871_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136871_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136871_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136871_total_iter = 0;
    ctx->futhark_mc_segmap_task_136869_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136869_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136869_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136869_total_time = 0;
    ctx->futhark_mc_segmap_task_136869_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136886_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136886_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136886_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136886_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136886_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136886_total_iter = 0;
    ctx->futhark_mc_segmap_task_136884_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136884_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136884_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136884_total_time = 0;
    ctx->futhark_mc_segmap_task_136884_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136901_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136901_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136901_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136901_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136901_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136901_total_iter = 0;
    ctx->futhark_mc_segmap_task_136899_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136899_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136899_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136899_total_time = 0;
    ctx->futhark_mc_segmap_task_136899_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136910_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136910_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136910_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136910_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136910_total_iter = 0;
    ctx->futhark_mc_segred_task_136903_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136903_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136903_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136903_total_time = 0;
    ctx->futhark_mc_segred_task_136903_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136916_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136916_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136916_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_136916_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_136916_total_iter = 0;
    ctx->futhark_mc_segred_task_136912_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136912_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136912_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136912_total_time = 0;
    ctx->futhark_mc_segred_task_136912_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136893_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136893_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136893_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136893_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136893_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136893_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136891_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136891_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136891_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136880_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136880_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136880_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136880_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136880_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136880_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136878_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136878_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136878_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136920_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136920_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136920_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136920_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136920_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136920_total_iter = 0;
    ctx->futhark_mc_segmap_task_136918_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136918_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136918_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136918_total_time = 0;
    ctx->futhark_mc_segmap_task_136918_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136929_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136929_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136929_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136929_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136929_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136929_total_iter = 0;
    ctx->futhark_mc_segmap_task_136927_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136927_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136927_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136927_total_time = 0;
    ctx->futhark_mc_segmap_task_136927_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136924_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136924_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136924_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136924_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136924_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136924_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136922_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136922_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136922_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136933_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136933_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136933_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136933_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136933_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136933_total_iter = 0;
    ctx->futhark_mc_segmap_task_136931_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136931_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136931_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136931_total_time = 0;
    ctx->futhark_mc_segmap_task_136931_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136942_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136942_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136942_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136942_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136942_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136942_total_iter = 0;
    ctx->futhark_mc_segmap_task_136940_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136940_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136940_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136940_total_time = 0;
    ctx->futhark_mc_segmap_task_136940_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136937_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136937_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136937_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136937_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136937_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136937_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136935_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136935_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136935_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136946_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136946_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136946_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136946_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136946_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136946_total_iter = 0;
    ctx->futhark_mc_segmap_task_136944_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136944_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136944_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136944_total_time = 0;
    ctx->futhark_mc_segmap_task_136944_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136955_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136955_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136955_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136955_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136955_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136955_total_iter = 0;
    ctx->futhark_mc_segmap_task_136953_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136953_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136953_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136953_total_time = 0;
    ctx->futhark_mc_segmap_task_136953_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136950_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136950_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136950_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136950_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136950_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136950_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136948_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136948_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136948_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136959_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136959_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136959_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136959_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136959_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136959_total_iter = 0;
    ctx->futhark_mc_segmap_task_136957_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136957_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136957_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136957_total_time = 0;
    ctx->futhark_mc_segmap_task_136957_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136984_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136984_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136984_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_136984_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_136984_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136986_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136986_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136986_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_136986_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_136986_total_iter = 0;
    ctx->futhark_mc_segscan_task_136978_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136978_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136978_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_136978_total_time = 0;
    ctx->futhark_mc_segscan_task_136978_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136990_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136990_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136990_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136990_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136990_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136990_total_iter = 0;
    ctx->futhark_mc_segmap_task_136988_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136988_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136988_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136988_total_time = 0;
    ctx->futhark_mc_segmap_task_136988_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136969_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136969_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136969_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136969_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136969_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136969_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136967_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136967_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136967_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136994_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136994_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136994_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136994_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136994_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136994_total_iter = 0;
    ctx->futhark_mc_segmap_task_136992_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136992_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136992_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_136992_total_time = 0;
    ctx->futhark_mc_segmap_task_136992_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_137002_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_137002_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_137002_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_137002_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_137002_total_iter = 0;
    ctx->futhark_mc_segred_task_136999_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136999_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136999_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_136999_total_time = 0;
    ctx->futhark_mc_segred_task_136999_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_136997_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136997_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136997_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_136997_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_136997_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_136997_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_136995_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136995_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_136995_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137006_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137006_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137006_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137006_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137006_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137006_total_iter = 0;
    ctx->futhark_mc_segmap_task_137004_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137004_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137004_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137004_total_time = 0;
    ctx->futhark_mc_segmap_task_137004_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137015_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137015_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137015_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137015_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137015_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137015_total_iter = 0;
    ctx->futhark_mc_segmap_task_137013_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137013_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137013_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137013_total_time = 0;
    ctx->futhark_mc_segmap_task_137013_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137010_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137010_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137010_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137010_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137010_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137010_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_137008_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137008_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137008_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137019_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137019_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137019_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137019_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137019_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137019_total_iter = 0;
    ctx->futhark_mc_segmap_task_137017_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137017_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137017_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137017_total_time = 0;
    ctx->futhark_mc_segmap_task_137017_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137028_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137028_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137028_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137028_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137028_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137028_total_iter = 0;
    ctx->futhark_mc_segmap_task_137026_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137026_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137026_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137026_total_time = 0;
    ctx->futhark_mc_segmap_task_137026_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137023_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137023_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137023_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137023_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137023_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137023_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_137021_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137021_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137021_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137032_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137032_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137032_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137032_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137032_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137032_total_iter = 0;
    ctx->futhark_mc_segmap_task_137030_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137030_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137030_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137030_total_time = 0;
    ctx->futhark_mc_segmap_task_137030_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137045_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137045_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137045_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137045_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137045_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137045_total_iter = 0;
    ctx->futhark_mc_segmap_task_137043_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137043_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137043_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137043_total_time = 0;
    ctx->futhark_mc_segmap_task_137043_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137049_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137049_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137049_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137049_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137049_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137049_total_iter = 0;
    ctx->futhark_mc_segmap_task_137047_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137047_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137047_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137047_total_time = 0;
    ctx->futhark_mc_segmap_task_137047_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137058_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137058_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137058_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137058_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137058_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137058_total_iter = 0;
    ctx->futhark_mc_segmap_task_137056_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137056_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137056_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_137056_total_time = 0;
    ctx->futhark_mc_segmap_task_137056_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_137053_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137053_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137053_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137053_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137053_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137053_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_137051_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137051_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137051_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137038_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137038_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137038_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_137038_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_137038_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_137038_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_137036_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137036_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_137036_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    (void) scheduler_destroy(&ctx->scheduler);
    free_lock(&ctx->lock);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *size_names[0];
static const char *size_vars[0];
static const char *size_classes[0];
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    (void) cfg;
    (void) size_name;
    (void) size_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (char *) malloc(size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) {
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136267         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136267_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136267_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136267_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136267_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136267_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136267_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136267_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136267_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136267_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136267_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136267_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136267_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136267_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136267_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136267_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136267_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136267_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136267_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136267_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136267_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136267_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136267_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136267_total_iter /
                (ctx->futhark_mc_segmap_parloop_136267_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136267_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136267_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136267_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_136279   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_136279_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136279_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136279_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136279_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136279_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_136279_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136279_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136279_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136279_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136279_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136279_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136279_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_136279_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136279_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136279_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_136279_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136279_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136279_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136279_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136279_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_136279_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_136281   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_136281_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136281_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136281_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136281_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136281_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_136281_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136281_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136281_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136281_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136281_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136281_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136281_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_136281_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136281_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136281_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_136281_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136281_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136281_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136281_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136281_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_136281_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_136276           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_136276_runs[i],
                    (long) ctx->futhark_mc_segscan_task_136276_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136276_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136276_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_136276_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_136276_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136276_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_136276_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_136276_iter[i],
                    (long) ctx->futhark_mc_segscan_task_136276_iter[i] /
                    (ctx->futhark_mc_segscan_task_136276_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136276_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136285         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136285_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136285_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136285_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136285_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136285_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136285_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136285_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136285_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136285_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136285_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136285_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136285_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136285_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136285_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136285_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136285_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136285_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136285_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136285_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136285_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136285_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136285_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136285_total_iter /
                (ctx->futhark_mc_segmap_parloop_136285_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136285_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136285_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136285_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136283            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136283_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136283_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136283_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136283_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136283_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136283_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136283_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136283_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136283_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136283_iter[i] /
                    (ctx->futhark_mc_segmap_task_136283_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136283_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136272         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136272_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136272_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136272_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136272_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136272_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136272_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136272_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136272_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136272_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136272_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136272_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136272_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136272_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136272_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136272_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136272_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136272_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136272_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136272_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136272_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136272_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136272_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136272_total_iter /
                (ctx->futhark_mc_segmap_parloop_136272_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136272_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136272_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136272_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136265            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136265_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136265_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136265_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136265_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136265_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136265_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136265_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136265_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136265_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136265_iter[i] /
                    (ctx->futhark_mc_segmap_task_136265_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136265_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136270     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136270_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136270_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136270_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136270_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136270_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136270_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136270_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136270_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136270_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136270_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136270_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136270_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136289         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136289_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136289_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136289_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136289_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136289_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136289_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136289_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136289_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136289_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136289_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136289_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136289_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136289_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136289_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136289_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136289_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136289_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136289_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136289_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136289_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136289_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136289_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136289_total_iter /
                (ctx->futhark_mc_segmap_parloop_136289_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136289_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136289_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136289_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136298         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136298_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136298_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136298_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136298_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136298_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136298_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136298_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136298_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136298_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136298_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136298_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136298_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136298_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136298_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136298_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136298_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136298_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136298_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136298_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136298_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136298_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136298_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136298_total_iter /
                (ctx->futhark_mc_segmap_parloop_136298_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136298_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136298_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136298_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136296            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136296_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136296_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136296_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136296_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136296_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136296_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136296_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136296_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136296_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136296_iter[i] /
                    (ctx->futhark_mc_segmap_task_136296_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136296_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136293         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136293_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136293_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136293_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136293_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136293_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136293_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136293_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136293_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136293_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136293_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136293_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136293_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136293_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136293_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136293_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136293_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136293_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136293_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136293_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136293_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136293_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136293_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136293_total_iter /
                (ctx->futhark_mc_segmap_parloop_136293_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136293_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136293_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136293_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136287            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136287_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136287_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136287_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136287_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136287_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136287_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136287_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136287_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136287_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136287_iter[i] /
                    (ctx->futhark_mc_segmap_task_136287_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136287_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136291     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136291_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136291_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136291_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136291_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136291_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136291_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136291_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136291_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136291_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136291_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136291_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136291_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136302         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136302_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136302_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136302_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136302_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136302_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136302_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136302_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136302_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136302_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136302_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136302_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136302_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136302_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136302_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136302_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136302_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136302_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136302_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136302_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136302_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136302_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136302_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136302_total_iter /
                (ctx->futhark_mc_segmap_parloop_136302_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136302_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136302_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136302_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136311         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136311_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136311_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136311_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136311_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136311_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136311_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136311_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136311_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136311_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136311_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136311_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136311_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136311_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136311_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136311_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136311_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136311_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136311_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136311_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136311_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136311_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136311_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136311_total_iter /
                (ctx->futhark_mc_segmap_parloop_136311_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136311_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136311_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136311_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136309            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136309_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136309_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136309_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136309_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136309_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136309_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136309_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136309_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136309_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136309_iter[i] /
                    (ctx->futhark_mc_segmap_task_136309_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136309_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136306         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136306_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136306_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136306_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136306_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136306_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136306_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136306_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136306_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136306_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136306_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136306_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136306_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136306_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136306_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136306_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136306_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136306_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136306_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136306_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136306_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136306_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136306_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136306_total_iter /
                (ctx->futhark_mc_segmap_parloop_136306_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136306_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136306_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136306_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136300            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136300_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136300_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136300_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136300_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136300_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136300_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136300_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136300_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136300_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136300_iter[i] /
                    (ctx->futhark_mc_segmap_task_136300_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136300_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136304     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136304_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136304_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136304_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136304_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136304_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136304_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136304_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136304_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136304_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136304_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136304_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136304_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136315         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136315_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136315_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136315_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136315_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136315_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136315_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136315_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136315_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136315_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136315_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136315_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136315_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136315_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136315_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136315_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136315_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136315_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136315_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136315_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136315_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136315_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136315_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136315_total_iter /
                (ctx->futhark_mc_segmap_parloop_136315_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136315_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136315_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136315_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136324         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136324_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136324_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136324_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136324_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136324_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136324_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136324_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136324_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136324_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136324_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136324_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136324_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136324_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136324_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136324_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136324_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136324_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136324_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136324_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136324_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136324_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136324_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136324_total_iter /
                (ctx->futhark_mc_segmap_parloop_136324_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136324_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136324_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136324_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136332 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136332_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136332_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136332_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136332_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136332_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136332_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136332_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136332_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136332_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136332_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136332_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136332_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136332_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136332_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136332_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136332_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136332_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136332_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136332_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136332_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136332_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136329            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136329_runs[i],
                    (long) ctx->futhark_mc_segred_task_136329_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136329_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136329_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136329_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136329_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136329_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136329_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136329_iter[i],
                    (long) ctx->futhark_mc_segred_task_136329_iter[i] /
                    (ctx->futhark_mc_segred_task_136329_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136329_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136327         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136327_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136327_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136327_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136327_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136327_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136327_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136327_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136327_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136327_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136327_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136327_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136327_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136327_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136327_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136327_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136327_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136327_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136327_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136327_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136327_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136327_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136327_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136327_total_iter /
                (ctx->futhark_mc_segmap_parloop_136327_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136327_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136327_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136327_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136322            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136322_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136322_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136322_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136322_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136322_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136322_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136322_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136322_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136322_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136322_iter[i] /
                    (ctx->futhark_mc_segmap_task_136322_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136322_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136325     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136325_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136325_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136325_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136325_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136325_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136325_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136325_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136325_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136325_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136325_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136325_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136325_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136319         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136319_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136319_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136319_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136319_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136319_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136319_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136319_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136319_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136319_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136319_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136319_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136319_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136319_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136319_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136319_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136319_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136319_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136319_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136319_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136319_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136319_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136319_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136319_total_iter /
                (ctx->futhark_mc_segmap_parloop_136319_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136319_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136319_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136319_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136313            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136313_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136313_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136313_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136313_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136313_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136313_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136313_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136313_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136313_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136313_iter[i] /
                    (ctx->futhark_mc_segmap_task_136313_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136313_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136317     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136317_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136317_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136317_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136317_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136317_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136317_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136317_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136317_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136317_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136317_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136317_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136317_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136336         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136336_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136336_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136336_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136336_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136336_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136336_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136336_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136336_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136336_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136336_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136336_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136336_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136336_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136336_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136336_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136336_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136336_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136336_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136336_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136336_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136336_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136336_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136336_total_iter /
                (ctx->futhark_mc_segmap_parloop_136336_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136336_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136336_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136336_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136349         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136349_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136349_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136349_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136349_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136349_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136349_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136349_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136349_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136349_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136349_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136349_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136349_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136349_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136349_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136349_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136349_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136349_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136349_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136349_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136349_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136349_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136349_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136349_total_iter /
                (ctx->futhark_mc_segmap_parloop_136349_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136349_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136349_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136349_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136347            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136347_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136347_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136347_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136347_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136347_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136347_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136347_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136347_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136347_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136347_iter[i] /
                    (ctx->futhark_mc_segmap_task_136347_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136347_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136353         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136353_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136353_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136353_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136353_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136353_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136353_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136353_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136353_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136353_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136353_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136353_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136353_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136353_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136353_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136353_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136353_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136353_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136353_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136353_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136353_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136353_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136353_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136353_total_iter /
                (ctx->futhark_mc_segmap_parloop_136353_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136353_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136353_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136353_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136351            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136351_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136351_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136351_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136351_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136351_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136351_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136351_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136351_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136351_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136351_iter[i] /
                    (ctx->futhark_mc_segmap_task_136351_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136351_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136342         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136342_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136342_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136342_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136342_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136342_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136342_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136342_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136342_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136342_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136342_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136342_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136342_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136342_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136342_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136342_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136342_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136342_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136342_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136342_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136342_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136342_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136342_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136342_total_iter /
                (ctx->futhark_mc_segmap_parloop_136342_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136342_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136342_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136342_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136334            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136334_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136334_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136334_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136334_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136334_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136334_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136334_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136334_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136334_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136334_iter[i] /
                    (ctx->futhark_mc_segmap_task_136334_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136334_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136340     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136340_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136340_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136340_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136340_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136340_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136340_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136340_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136340_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136340_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136340_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136340_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136340_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136357         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136357_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136357_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136357_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136357_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136357_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136357_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136357_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136357_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136357_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136357_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136357_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136357_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136357_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136357_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136357_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136357_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136357_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136357_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136357_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136357_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136357_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136357_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136357_total_iter /
                (ctx->futhark_mc_segmap_parloop_136357_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136357_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136357_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136357_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136370         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136370_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136370_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136370_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136370_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136370_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136370_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136370_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136370_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136370_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136370_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136370_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136370_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136370_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136370_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136370_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136370_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136370_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136370_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136370_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136370_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136370_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136370_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136370_total_iter /
                (ctx->futhark_mc_segmap_parloop_136370_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136370_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136370_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136370_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136368            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136368_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136368_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136368_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136368_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136368_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136368_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136368_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136368_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136368_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136368_iter[i] /
                    (ctx->futhark_mc_segmap_task_136368_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136368_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136374         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136374_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136374_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136374_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136374_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136374_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136374_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136374_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136374_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136374_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136374_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136374_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136374_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136374_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136374_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136374_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136374_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136374_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136374_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136374_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136374_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136374_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136374_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136374_total_iter /
                (ctx->futhark_mc_segmap_parloop_136374_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136374_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136374_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136374_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136372            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136372_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136372_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136372_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136372_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136372_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136372_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136372_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136372_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136372_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136372_iter[i] /
                    (ctx->futhark_mc_segmap_task_136372_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136372_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136363         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136363_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136363_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136363_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136363_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136363_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136363_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136363_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136363_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136363_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136363_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136363_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136363_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136363_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136363_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136363_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136363_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136363_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136363_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136363_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136363_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136363_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136363_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136363_total_iter /
                (ctx->futhark_mc_segmap_parloop_136363_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136363_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136363_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136363_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136355            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136355_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136355_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136355_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136355_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136355_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136355_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136355_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136355_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136355_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136355_iter[i] /
                    (ctx->futhark_mc_segmap_task_136355_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136355_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136361     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136361_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136361_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136361_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136361_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136361_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136361_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136361_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136361_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136361_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136361_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136361_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136361_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136378         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136378_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136378_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136378_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136378_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136378_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136378_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136378_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136378_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136378_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136378_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136378_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136378_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136378_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136378_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136378_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136378_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136378_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136378_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136378_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136378_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136378_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136378_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136378_total_iter /
                (ctx->futhark_mc_segmap_parloop_136378_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136378_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136378_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136378_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136387         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136387_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136387_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136387_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136387_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136387_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136387_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136387_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136387_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136387_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136387_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136387_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136387_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136387_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136387_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136387_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136387_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136387_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136387_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136387_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136387_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136387_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136387_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136387_total_iter /
                (ctx->futhark_mc_segmap_parloop_136387_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136387_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136387_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136387_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136385            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136385_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136385_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136385_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136385_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136385_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136385_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136385_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136385_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136385_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136385_iter[i] /
                    (ctx->futhark_mc_segmap_task_136385_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136385_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136382         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136382_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136382_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136382_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136382_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136382_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136382_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136382_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136382_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136382_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136382_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136382_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136382_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136382_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136382_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136382_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136382_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136382_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136382_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136382_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136382_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136382_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136382_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136382_total_iter /
                (ctx->futhark_mc_segmap_parloop_136382_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136382_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136382_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136382_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136376            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136376_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136376_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136376_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136376_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136376_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136376_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136376_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136376_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136376_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136376_iter[i] /
                    (ctx->futhark_mc_segmap_task_136376_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136376_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136380     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136380_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136380_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136380_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136380_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136380_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136380_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136380_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136380_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136380_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136380_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136380_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136380_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136391         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136391_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136391_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136391_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136391_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136391_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136391_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136391_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136391_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136391_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136391_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136391_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136391_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136391_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136391_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136391_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136391_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136391_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136391_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136391_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136391_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136391_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136391_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136391_total_iter /
                (ctx->futhark_mc_segmap_parloop_136391_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136391_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136391_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136391_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136400         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136400_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136400_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136400_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136400_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136400_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136400_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136400_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136400_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136400_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136400_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136400_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136400_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136400_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136400_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136400_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136400_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136400_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136400_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136400_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136400_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136400_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136400_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136400_total_iter /
                (ctx->futhark_mc_segmap_parloop_136400_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136400_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136400_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136400_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136408 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136408_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136408_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136408_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136408_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136408_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136408_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136408_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136408_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136408_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136408_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136408_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136408_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136408_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136408_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136408_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136408_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136408_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136408_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136408_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136408_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136408_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136405            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136405_runs[i],
                    (long) ctx->futhark_mc_segred_task_136405_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136405_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136405_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136405_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136405_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136405_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136405_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136405_iter[i],
                    (long) ctx->futhark_mc_segred_task_136405_iter[i] /
                    (ctx->futhark_mc_segred_task_136405_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136405_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136403         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136403_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136403_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136403_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136403_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136403_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136403_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136403_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136403_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136403_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136403_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136403_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136403_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136403_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136403_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136403_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136403_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136403_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136403_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136403_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136403_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136403_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136403_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136403_total_iter /
                (ctx->futhark_mc_segmap_parloop_136403_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136403_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136403_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136403_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136398            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136398_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136398_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136398_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136398_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136398_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136398_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136398_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136398_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136398_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136398_iter[i] /
                    (ctx->futhark_mc_segmap_task_136398_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136398_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136401     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136401_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136401_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136401_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136401_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136401_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136401_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136401_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136401_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136401_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136401_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136401_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136401_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136395         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136395_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136395_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136395_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136395_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136395_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136395_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136395_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136395_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136395_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136395_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136395_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136395_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136395_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136395_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136395_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136395_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136395_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136395_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136395_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136395_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136395_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136395_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136395_total_iter /
                (ctx->futhark_mc_segmap_parloop_136395_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136395_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136395_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136395_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136389            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136389_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136389_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136389_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136389_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136389_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136389_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136389_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136389_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136389_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136389_iter[i] /
                    (ctx->futhark_mc_segmap_task_136389_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136389_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136393     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136393_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136393_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136393_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136393_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136393_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136393_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136393_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136393_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136393_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136393_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136393_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136393_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136412         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136412_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136412_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136412_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136412_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136412_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136412_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136412_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136412_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136412_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136412_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136412_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136412_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136412_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136412_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136412_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136412_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136412_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136412_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136412_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136412_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136412_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136412_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136412_total_iter /
                (ctx->futhark_mc_segmap_parloop_136412_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136412_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136412_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136412_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136421         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136421_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136421_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136421_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136421_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136421_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136421_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136421_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136421_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136421_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136421_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136421_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136421_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136421_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136421_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136421_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136421_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136421_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136421_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136421_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136421_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136421_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136421_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136421_total_iter /
                (ctx->futhark_mc_segmap_parloop_136421_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136421_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136421_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136421_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136419            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136419_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136419_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136419_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136419_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136419_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136419_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136419_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136419_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136419_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136419_iter[i] /
                    (ctx->futhark_mc_segmap_task_136419_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136419_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136416         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136416_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136416_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136416_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136416_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136416_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136416_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136416_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136416_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136416_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136416_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136416_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136416_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136416_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136416_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136416_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136416_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136416_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136416_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136416_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136416_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136416_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136416_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136416_total_iter /
                (ctx->futhark_mc_segmap_parloop_136416_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136416_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136416_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136416_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136410            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136410_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136410_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136410_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136410_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136410_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136410_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136410_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136410_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136410_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136410_iter[i] /
                    (ctx->futhark_mc_segmap_task_136410_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136410_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136414     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136414_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136414_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136414_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136414_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136414_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136414_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136414_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136414_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136414_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136414_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136414_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136414_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136425         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136425_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136425_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136425_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136425_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136425_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136425_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136425_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136425_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136425_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136425_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136425_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136425_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136425_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136425_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136425_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136425_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136425_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136425_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136425_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136425_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136425_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136425_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136425_total_iter /
                (ctx->futhark_mc_segmap_parloop_136425_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136425_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136425_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136425_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136439 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136439_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136439_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136439_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136439_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136439_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136439_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136439_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136439_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136439_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136439_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136439_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136439_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136439_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136439_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136439_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136439_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136439_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136439_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136439_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136439_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136439_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136436            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136436_runs[i],
                    (long) ctx->futhark_mc_segred_task_136436_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136436_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136436_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136436_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136436_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136436_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136436_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136436_iter[i],
                    (long) ctx->futhark_mc_segred_task_136436_iter[i] /
                    (ctx->futhark_mc_segred_task_136436_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136436_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_136444   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_136444_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136444_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136444_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136444_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136444_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_136444_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136444_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136444_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136444_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136444_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136444_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136444_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_136444_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136444_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136444_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_136444_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136444_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136444_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136444_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136444_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_136444_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_136446   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_136446_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136446_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136446_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136446_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136446_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_136446_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136446_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136446_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136446_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136446_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136446_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136446_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_136446_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136446_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136446_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_136446_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136446_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136446_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136446_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136446_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_136446_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_136441           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_136441_runs[i],
                    (long) ctx->futhark_mc_segscan_task_136441_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136441_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136441_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_136441_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_136441_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136441_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_136441_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_136441_iter[i],
                    (long) ctx->futhark_mc_segscan_task_136441_iter[i] /
                    (ctx->futhark_mc_segscan_task_136441_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136441_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136451 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136451_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136451_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136451_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136451_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136451_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136451_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136451_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136451_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136451_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136451_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136451_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136451_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136451_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136451_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136451_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136451_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136451_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136451_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136451_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136451_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136451_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136448            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136448_runs[i],
                    (long) ctx->futhark_mc_segred_task_136448_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136448_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136448_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136448_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136448_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136448_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136448_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136448_iter[i],
                    (long) ctx->futhark_mc_segred_task_136448_iter[i] /
                    (ctx->futhark_mc_segred_task_136448_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136448_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_136456   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_136456_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136456_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136456_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136456_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136456_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_136456_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136456_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136456_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136456_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136456_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136456_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136456_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_136456_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136456_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136456_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_136456_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136456_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136456_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136456_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136456_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_136456_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_136458   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_136458_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136458_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136458_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136458_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136458_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_136458_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136458_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136458_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136458_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136458_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136458_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136458_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_136458_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136458_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136458_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_136458_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136458_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136458_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136458_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136458_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_136458_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_136453           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_136453_runs[i],
                    (long) ctx->futhark_mc_segscan_task_136453_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136453_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136453_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_136453_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_136453_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136453_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_136453_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_136453_iter[i],
                    (long) ctx->futhark_mc_segscan_task_136453_iter[i] /
                    (ctx->futhark_mc_segscan_task_136453_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136453_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136463 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136463_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136463_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136463_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136463_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136463_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136463_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136463_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136463_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136463_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136463_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136463_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136463_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136463_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136463_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136463_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136463_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136463_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136463_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136463_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136463_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136463_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136460            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136460_runs[i],
                    (long) ctx->futhark_mc_segred_task_136460_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136460_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136460_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136460_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136460_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136460_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136460_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136460_iter[i],
                    (long) ctx->futhark_mc_segred_task_136460_iter[i] /
                    (ctx->futhark_mc_segred_task_136460_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136460_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_136468   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_136468_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136468_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136468_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136468_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136468_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_136468_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136468_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136468_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136468_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136468_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136468_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136468_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_136468_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136468_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136468_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_136468_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136468_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136468_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136468_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136468_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_136468_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_136470   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_136470_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136470_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136470_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136470_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136470_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_136470_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136470_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136470_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136470_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136470_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136470_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136470_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_136470_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136470_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136470_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_136470_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136470_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136470_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136470_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136470_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_136470_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_136465           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_136465_runs[i],
                    (long) ctx->futhark_mc_segscan_task_136465_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136465_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136465_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_136465_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_136465_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136465_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_136465_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_136465_iter[i],
                    (long) ctx->futhark_mc_segscan_task_136465_iter[i] /
                    (ctx->futhark_mc_segscan_task_136465_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136465_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136431         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136431_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136431_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136431_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136431_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136431_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136431_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136431_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136431_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136431_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136431_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136431_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136431_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136431_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136431_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136431_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136431_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136431_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136431_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136431_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136431_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136431_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136431_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136431_total_iter /
                (ctx->futhark_mc_segmap_parloop_136431_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136431_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136431_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136431_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136423            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136423_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136423_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136423_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136423_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136423_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136423_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136423_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136423_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136423_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136423_iter[i] /
                    (ctx->futhark_mc_segmap_task_136423_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136423_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136429     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136429_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136429_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136429_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136429_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136429_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136429_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136429_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136429_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136429_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136429_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136429_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136429_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136474         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136474_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136474_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136474_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136474_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136474_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136474_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136474_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136474_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136474_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136474_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136474_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136474_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136474_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136474_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136474_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136474_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136474_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136474_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136474_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136474_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136474_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136474_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136474_total_iter /
                (ctx->futhark_mc_segmap_parloop_136474_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136474_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136474_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136474_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136483         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136483_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136483_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136483_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136483_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136483_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136483_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136483_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136483_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136483_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136483_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136483_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136483_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136483_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136483_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136483_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136483_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136483_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136483_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136483_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136483_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136483_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136483_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136483_total_iter /
                (ctx->futhark_mc_segmap_parloop_136483_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136483_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136483_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136483_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136491 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136491_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136491_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136491_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136491_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136491_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136491_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136491_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136491_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136491_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136491_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136491_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136491_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136491_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136491_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136491_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136491_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136491_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136491_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136491_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136491_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136491_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136488            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136488_runs[i],
                    (long) ctx->futhark_mc_segred_task_136488_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136488_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136488_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136488_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136488_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136488_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136488_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136488_iter[i],
                    (long) ctx->futhark_mc_segred_task_136488_iter[i] /
                    (ctx->futhark_mc_segred_task_136488_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136488_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136496 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136496_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136496_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136496_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136496_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136496_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136496_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136496_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136496_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136496_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136496_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136496_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136496_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136496_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136496_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136496_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136496_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136496_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136496_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136496_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136496_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136496_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136493            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136493_runs[i],
                    (long) ctx->futhark_mc_segred_task_136493_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136493_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136493_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136493_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136493_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136493_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136493_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136493_iter[i],
                    (long) ctx->futhark_mc_segred_task_136493_iter[i] /
                    (ctx->futhark_mc_segred_task_136493_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136493_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136486         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136486_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136486_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136486_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136486_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136486_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136486_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136486_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136486_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136486_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136486_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136486_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136486_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136486_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136486_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136486_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136486_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136486_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136486_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136486_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136486_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136486_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136486_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136486_total_iter /
                (ctx->futhark_mc_segmap_parloop_136486_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136486_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136486_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136486_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136481            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136481_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136481_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136481_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136481_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136481_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136481_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136481_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136481_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136481_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136481_iter[i] /
                    (ctx->futhark_mc_segmap_task_136481_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136481_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136484     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136484_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136484_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136484_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136484_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136484_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136484_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136484_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136484_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136484_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136484_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136484_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136484_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136478         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136478_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136478_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136478_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136478_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136478_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136478_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136478_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136478_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136478_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136478_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136478_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136478_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136478_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136478_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136478_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136478_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136478_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136478_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136478_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136478_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136478_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136478_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136478_total_iter /
                (ctx->futhark_mc_segmap_parloop_136478_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136478_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136478_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136478_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136472            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136472_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136472_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136472_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136472_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136472_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136472_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136472_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136472_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136472_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136472_iter[i] /
                    (ctx->futhark_mc_segmap_task_136472_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136472_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136476     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136476_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136476_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136476_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136476_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136476_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136476_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136476_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136476_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136476_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136476_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136476_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136476_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136500         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136500_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136500_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136500_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136500_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136500_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136500_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136500_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136500_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136500_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136500_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136500_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136500_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136500_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136500_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136500_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136500_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136500_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136500_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136500_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136500_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136500_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136500_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136500_total_iter /
                (ctx->futhark_mc_segmap_parloop_136500_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136500_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136500_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136500_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136511         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136511_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136511_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136511_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136511_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136511_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136511_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136511_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136511_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136511_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136511_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136511_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136511_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136511_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136511_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136511_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136511_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136511_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136511_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136511_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136511_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136511_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136511_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136511_total_iter /
                (ctx->futhark_mc_segmap_parloop_136511_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136511_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136511_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136511_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136521 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136521_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136521_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136521_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136521_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136521_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136521_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136521_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136521_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136521_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136521_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136521_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136521_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136521_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136521_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136521_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136521_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136521_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136521_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136521_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136521_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136521_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136516            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136516_runs[i],
                    (long) ctx->futhark_mc_segred_task_136516_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136516_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136516_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136516_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136516_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136516_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136516_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136516_iter[i],
                    (long) ctx->futhark_mc_segred_task_136516_iter[i] /
                    (ctx->futhark_mc_segred_task_136516_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136516_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136527 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136527_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136527_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136527_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136527_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136527_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136527_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136527_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136527_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136527_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136527_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136527_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136527_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136527_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136527_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136527_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136527_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136527_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136527_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136527_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136527_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136527_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136523            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136523_runs[i],
                    (long) ctx->futhark_mc_segred_task_136523_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136523_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136523_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136523_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136523_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136523_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136523_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136523_iter[i],
                    (long) ctx->futhark_mc_segred_task_136523_iter[i] /
                    (ctx->futhark_mc_segred_task_136523_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136523_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136514         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136514_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136514_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136514_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136514_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136514_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136514_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136514_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136514_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136514_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136514_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136514_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136514_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136514_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136514_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136514_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136514_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136514_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136514_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136514_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136514_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136514_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136514_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136514_total_iter /
                (ctx->futhark_mc_segmap_parloop_136514_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136514_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136514_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136514_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136509            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136509_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136509_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136509_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136509_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136509_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136509_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136509_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136509_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136509_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136509_iter[i] /
                    (ctx->futhark_mc_segmap_task_136509_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136509_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136512     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136512_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136512_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136512_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136512_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136512_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136512_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136512_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136512_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136512_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136512_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136512_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136512_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136505         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136505_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136505_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136505_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136505_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136505_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136505_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136505_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136505_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136505_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136505_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136505_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136505_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136505_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136505_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136505_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136505_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136505_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136505_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136505_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136505_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136505_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136505_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136505_total_iter /
                (ctx->futhark_mc_segmap_parloop_136505_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136505_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136505_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136505_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136498            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136498_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136498_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136498_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136498_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136498_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136498_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136498_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136498_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136498_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136498_iter[i] /
                    (ctx->futhark_mc_segmap_task_136498_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136498_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136503     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136503_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136503_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136503_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136503_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136503_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136503_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136503_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136503_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136503_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136503_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136503_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136503_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136531         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136531_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136531_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136531_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136531_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136531_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136531_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136531_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136531_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136531_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136531_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136531_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136531_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136531_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136531_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136531_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136531_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136531_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136531_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136531_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136531_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136531_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136531_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136531_total_iter /
                (ctx->futhark_mc_segmap_parloop_136531_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136531_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136531_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136531_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136542         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136542_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136542_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136542_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136542_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136542_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136542_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136542_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136542_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136542_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136542_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136542_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136542_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136542_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136542_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136542_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136542_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136542_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136542_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136542_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136542_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136542_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136542_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136542_total_iter /
                (ctx->futhark_mc_segmap_parloop_136542_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136542_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136542_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136542_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136554 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136554_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136554_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136554_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136554_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136554_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136554_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136554_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136554_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136554_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136554_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136554_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136554_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136554_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136554_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136554_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136554_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136554_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136554_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136554_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136554_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136554_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136547            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136547_runs[i],
                    (long) ctx->futhark_mc_segred_task_136547_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136547_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136547_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136547_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136547_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136547_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136547_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136547_iter[i],
                    (long) ctx->futhark_mc_segred_task_136547_iter[i] /
                    (ctx->futhark_mc_segred_task_136547_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136547_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136560 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136560_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136560_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136560_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136560_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136560_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136560_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136560_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136560_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136560_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136560_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136560_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136560_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136560_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136560_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136560_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136560_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136560_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136560_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136560_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136560_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136560_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136556            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136556_runs[i],
                    (long) ctx->futhark_mc_segred_task_136556_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136556_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136556_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136556_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136556_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136556_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136556_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136556_iter[i],
                    (long) ctx->futhark_mc_segred_task_136556_iter[i] /
                    (ctx->futhark_mc_segred_task_136556_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136556_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136545         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136545_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136545_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136545_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136545_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136545_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136545_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136545_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136545_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136545_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136545_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136545_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136545_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136545_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136545_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136545_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136545_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136545_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136545_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136545_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136545_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136545_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136545_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136545_total_iter /
                (ctx->futhark_mc_segmap_parloop_136545_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136545_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136545_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136545_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136540            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136540_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136540_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136540_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136540_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136540_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136540_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136540_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136540_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136540_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136540_iter[i] /
                    (ctx->futhark_mc_segmap_task_136540_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136540_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136543     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136543_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136543_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136543_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136543_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136543_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136543_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136543_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136543_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136543_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136543_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136543_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136543_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136536         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136536_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136536_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136536_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136536_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136536_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136536_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136536_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136536_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136536_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136536_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136536_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136536_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136536_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136536_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136536_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136536_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136536_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136536_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136536_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136536_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136536_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136536_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136536_total_iter /
                (ctx->futhark_mc_segmap_parloop_136536_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136536_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136536_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136536_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136529            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136529_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136529_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136529_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136529_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136529_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136529_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136529_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136529_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136529_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136529_iter[i] /
                    (ctx->futhark_mc_segmap_task_136529_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136529_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136534     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136534_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136534_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136534_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136534_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136534_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136534_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136534_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136534_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136534_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136534_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136534_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136534_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136564         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136564_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136564_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136564_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136564_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136564_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136564_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136564_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136564_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136564_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136564_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136564_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136564_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136564_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136564_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136564_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136564_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136564_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136564_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136564_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136564_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136564_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136564_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136564_total_iter /
                (ctx->futhark_mc_segmap_parloop_136564_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136564_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136564_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136564_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136574         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136574_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136574_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136574_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136574_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136574_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136574_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136574_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136574_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136574_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136574_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136574_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136574_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136574_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136574_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136574_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136574_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136574_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136574_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136574_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136574_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136574_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136574_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136574_total_iter /
                (ctx->futhark_mc_segmap_parloop_136574_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136574_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136574_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136574_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136584 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136584_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136584_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136584_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136584_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136584_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136584_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136584_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136584_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136584_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136584_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136584_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136584_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136584_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136584_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136584_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136584_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136584_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136584_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136584_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136584_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136584_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136581            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136581_runs[i],
                    (long) ctx->futhark_mc_segred_task_136581_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136581_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136581_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136581_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136581_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136581_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136581_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136581_iter[i],
                    (long) ctx->futhark_mc_segred_task_136581_iter[i] /
                    (ctx->futhark_mc_segred_task_136581_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136581_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136589 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136589_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136589_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136589_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136589_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136589_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136589_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136589_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136589_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136589_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136589_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136589_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136589_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136589_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136589_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136589_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136589_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136589_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136589_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136589_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136589_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136589_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136586            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136586_runs[i],
                    (long) ctx->futhark_mc_segred_task_136586_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136586_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136586_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136586_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136586_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136586_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136586_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136586_iter[i],
                    (long) ctx->futhark_mc_segred_task_136586_iter[i] /
                    (ctx->futhark_mc_segred_task_136586_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136586_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136578         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136578_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136578_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136578_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136578_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136578_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136578_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136578_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136578_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136578_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136578_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136578_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136578_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136578_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136578_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136578_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136578_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136578_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136578_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136578_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136578_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136578_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136578_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136578_total_iter /
                (ctx->futhark_mc_segmap_parloop_136578_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136578_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136578_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136578_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136572            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136572_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136572_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136572_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136572_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136572_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136572_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136572_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136572_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136572_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136572_iter[i] /
                    (ctx->futhark_mc_segmap_task_136572_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136572_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136576     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136576_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136576_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136576_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136576_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136576_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136576_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136576_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136576_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136576_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136576_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136576_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136576_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136569         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136569_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136569_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136569_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136569_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136569_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136569_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136569_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136569_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136569_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136569_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136569_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136569_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136569_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136569_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136569_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136569_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136569_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136569_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136569_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136569_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136569_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136569_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136569_total_iter /
                (ctx->futhark_mc_segmap_parloop_136569_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136569_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136569_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136569_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136562            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136562_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136562_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136562_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136562_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136562_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136562_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136562_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136562_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136562_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136562_iter[i] /
                    (ctx->futhark_mc_segmap_task_136562_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136562_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136567     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136567_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136567_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136567_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136567_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136567_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136567_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136567_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136567_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136567_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136567_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136567_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136567_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136593         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136593_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136593_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136593_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136593_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136593_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136593_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136593_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136593_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136593_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136593_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136593_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136593_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136593_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136593_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136593_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136593_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136593_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136593_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136593_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136593_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136593_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136593_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136593_total_iter /
                (ctx->futhark_mc_segmap_parloop_136593_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136593_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136593_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136593_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136606         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136606_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136606_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136606_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136606_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136606_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136606_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136606_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136606_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136606_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136606_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136606_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136606_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136606_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136606_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136606_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136606_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136606_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136606_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136606_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136606_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136606_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136606_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136606_total_iter /
                (ctx->futhark_mc_segmap_parloop_136606_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136606_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136606_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136606_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136620 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136620_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136620_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136620_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136620_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136620_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136620_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136620_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136620_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136620_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136620_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136620_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136620_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136620_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136620_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136620_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136620_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136620_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136620_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136620_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136620_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136620_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136615            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136615_runs[i],
                    (long) ctx->futhark_mc_segred_task_136615_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136615_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136615_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136615_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136615_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136615_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136615_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136615_iter[i],
                    (long) ctx->futhark_mc_segred_task_136615_iter[i] /
                    (ctx->futhark_mc_segred_task_136615_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136615_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136626 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136626_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136626_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136626_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136626_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136626_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136626_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136626_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136626_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136626_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136626_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136626_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136626_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136626_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136626_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136626_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136626_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136626_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136626_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136626_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136626_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136626_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136622            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136622_runs[i],
                    (long) ctx->futhark_mc_segred_task_136622_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136622_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136622_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136622_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136622_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136622_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136622_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136622_iter[i],
                    (long) ctx->futhark_mc_segred_task_136622_iter[i] /
                    (ctx->futhark_mc_segred_task_136622_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136622_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136611         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136611_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136611_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136611_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136611_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136611_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136611_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136611_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136611_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136611_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136611_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136611_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136611_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136611_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136611_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136611_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136611_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136611_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136611_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136611_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136611_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136611_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136611_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136611_total_iter /
                (ctx->futhark_mc_segmap_parloop_136611_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136611_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136611_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136611_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136604            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136604_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136604_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136604_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136604_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136604_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136604_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136604_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136604_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136604_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136604_iter[i] /
                    (ctx->futhark_mc_segmap_task_136604_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136604_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136609     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136609_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136609_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136609_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136609_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136609_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136609_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136609_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136609_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136609_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136609_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136609_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136609_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136600         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136600_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136600_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136600_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136600_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136600_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136600_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136600_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136600_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136600_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136600_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136600_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136600_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136600_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136600_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136600_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136600_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136600_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136600_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136600_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136600_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136600_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136600_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136600_total_iter /
                (ctx->futhark_mc_segmap_parloop_136600_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136600_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136600_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136600_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136591            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136591_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136591_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136591_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136591_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136591_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136591_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136591_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136591_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136591_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136591_iter[i] /
                    (ctx->futhark_mc_segmap_task_136591_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136591_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136598     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136598_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136598_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136598_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136598_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136598_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136598_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136598_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136598_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136598_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136598_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136598_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136598_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136630         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136630_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136630_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136630_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136630_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136630_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136630_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136630_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136630_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136630_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136630_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136630_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136630_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136630_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136630_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136630_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136630_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136630_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136630_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136630_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136630_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136630_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136630_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136630_total_iter /
                (ctx->futhark_mc_segmap_parloop_136630_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136630_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136630_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136630_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136645         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136645_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136645_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136645_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136645_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136645_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136645_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136645_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136645_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136645_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136645_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136645_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136645_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136645_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136645_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136645_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136645_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136645_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136645_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136645_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136645_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136645_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136645_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136645_total_iter /
                (ctx->futhark_mc_segmap_parloop_136645_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136645_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136645_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136645_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136660         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136660_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136660_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136660_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136660_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136660_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136660_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136660_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136660_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136660_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136660_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136660_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136660_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136660_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136660_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136660_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136660_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136660_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136660_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136660_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136660_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136660_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136660_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136660_total_iter /
                (ctx->futhark_mc_segmap_parloop_136660_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136660_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136660_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136660_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136658            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136658_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136658_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136658_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136658_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136658_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136658_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136658_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136658_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136658_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136658_iter[i] /
                    (ctx->futhark_mc_segmap_task_136658_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136658_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136669 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136669_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136669_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136669_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136669_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136669_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136669_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136669_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136669_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136669_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136669_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136669_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136669_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136669_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136669_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136669_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136669_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136669_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136669_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136669_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136669_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136669_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136662            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136662_runs[i],
                    (long) ctx->futhark_mc_segred_task_136662_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136662_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136662_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136662_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136662_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136662_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136662_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136662_iter[i],
                    (long) ctx->futhark_mc_segred_task_136662_iter[i] /
                    (ctx->futhark_mc_segred_task_136662_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136662_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136675 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136675_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136675_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136675_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136675_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136675_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136675_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136675_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136675_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136675_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136675_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136675_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136675_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136675_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136675_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136675_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136675_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136675_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136675_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136675_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136675_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136675_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136671            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136671_runs[i],
                    (long) ctx->futhark_mc_segred_task_136671_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136671_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136671_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136671_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136671_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136671_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136671_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136671_iter[i],
                    (long) ctx->futhark_mc_segred_task_136671_iter[i] /
                    (ctx->futhark_mc_segred_task_136671_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136671_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136652         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136652_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136652_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136652_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136652_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136652_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136652_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136652_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136652_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136652_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136652_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136652_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136652_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136652_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136652_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136652_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136652_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136652_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136652_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136652_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136652_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136652_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136652_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136652_total_iter /
                (ctx->futhark_mc_segmap_parloop_136652_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136652_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136652_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136652_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136643            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136643_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136643_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136643_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136643_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136643_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136643_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136643_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136643_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136643_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136643_iter[i] /
                    (ctx->futhark_mc_segmap_task_136643_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136643_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136650     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136650_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136650_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136650_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136650_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136650_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136650_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136650_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136650_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136650_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136650_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136650_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136650_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136639         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136639_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136639_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136639_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136639_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136639_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136639_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136639_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136639_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136639_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136639_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136639_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136639_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136639_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136639_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136639_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136639_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136639_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136639_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136639_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136639_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136639_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136639_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136639_total_iter /
                (ctx->futhark_mc_segmap_parloop_136639_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136639_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136639_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136639_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136628            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136628_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136628_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136628_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136628_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136628_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136628_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136628_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136628_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136628_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136628_iter[i] /
                    (ctx->futhark_mc_segmap_task_136628_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136628_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136637     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136637_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136637_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136637_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136637_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136637_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136637_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136637_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136637_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136637_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136637_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136637_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136637_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136679         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136679_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136679_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136679_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136679_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136679_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136679_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136679_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136679_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136679_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136679_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136679_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136679_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136679_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136679_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136679_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136679_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136679_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136679_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136679_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136679_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136679_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136679_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136679_total_iter /
                (ctx->futhark_mc_segmap_parloop_136679_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136679_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136679_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136679_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136688         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136688_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136688_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136688_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136688_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136688_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136688_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136688_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136688_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136688_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136688_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136688_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136688_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136688_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136688_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136688_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136688_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136688_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136688_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136688_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136688_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136688_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136688_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136688_total_iter /
                (ctx->futhark_mc_segmap_parloop_136688_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136688_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136688_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136688_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136686            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136686_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136686_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136686_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136686_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136686_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136686_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136686_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136686_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136686_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136686_iter[i] /
                    (ctx->futhark_mc_segmap_task_136686_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136686_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136683         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136683_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136683_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136683_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136683_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136683_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136683_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136683_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136683_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136683_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136683_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136683_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136683_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136683_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136683_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136683_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136683_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136683_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136683_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136683_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136683_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136683_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136683_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136683_total_iter /
                (ctx->futhark_mc_segmap_parloop_136683_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136683_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136683_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136683_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136677            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136677_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136677_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136677_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136677_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136677_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136677_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136677_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136677_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136677_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136677_iter[i] /
                    (ctx->futhark_mc_segmap_task_136677_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136677_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136681     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136681_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136681_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136681_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136681_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136681_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136681_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136681_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136681_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136681_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136681_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136681_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136681_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136692         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136692_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136692_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136692_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136692_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136692_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136692_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136692_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136692_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136692_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136692_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136692_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136692_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136692_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136692_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136692_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136692_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136692_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136692_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136692_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136692_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136692_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136692_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136692_total_iter /
                (ctx->futhark_mc_segmap_parloop_136692_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136692_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136692_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136692_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136707         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136707_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136707_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136707_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136707_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136707_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136707_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136707_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136707_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136707_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136707_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136707_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136707_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136707_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136707_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136707_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136707_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136707_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136707_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136707_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136707_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136707_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136707_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136707_total_iter /
                (ctx->futhark_mc_segmap_parloop_136707_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136707_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136707_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136707_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136705            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136705_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136705_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136705_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136705_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136705_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136705_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136705_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136705_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136705_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136705_iter[i] /
                    (ctx->futhark_mc_segmap_task_136705_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136705_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136711         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136711_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136711_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136711_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136711_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136711_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136711_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136711_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136711_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136711_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136711_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136711_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136711_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136711_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136711_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136711_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136711_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136711_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136711_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136711_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136711_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136711_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136711_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136711_total_iter /
                (ctx->futhark_mc_segmap_parloop_136711_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136711_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136711_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136711_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136709            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136709_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136709_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136709_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136709_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136709_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136709_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136709_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136709_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136709_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136709_iter[i] /
                    (ctx->futhark_mc_segmap_task_136709_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136709_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136699         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136699_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136699_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136699_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136699_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136699_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136699_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136699_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136699_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136699_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136699_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136699_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136699_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136699_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136699_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136699_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136699_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136699_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136699_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136699_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136699_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136699_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136699_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136699_total_iter /
                (ctx->futhark_mc_segmap_parloop_136699_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136699_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136699_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136699_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136690            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136690_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136690_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136690_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136690_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136690_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136690_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136690_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136690_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136690_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136690_iter[i] /
                    (ctx->futhark_mc_segmap_task_136690_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136690_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136697     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136697_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136697_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136697_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136697_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136697_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136697_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136697_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136697_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136697_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136697_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136697_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136697_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136715         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136715_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136715_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136715_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136715_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136715_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136715_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136715_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136715_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136715_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136715_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136715_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136715_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136715_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136715_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136715_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136715_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136715_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136715_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136715_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136715_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136715_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136715_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136715_total_iter /
                (ctx->futhark_mc_segmap_parloop_136715_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136715_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136715_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136715_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136724         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136724_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136724_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136724_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136724_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136724_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136724_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136724_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136724_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136724_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136724_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136724_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136724_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136724_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136724_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136724_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136724_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136724_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136724_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136724_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136724_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136724_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136724_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136724_total_iter /
                (ctx->futhark_mc_segmap_parloop_136724_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136724_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136724_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136724_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136732 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136732_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136732_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136732_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136732_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136732_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136732_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136732_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136732_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136732_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136732_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136732_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136732_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136732_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136732_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136732_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136732_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136732_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136732_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136732_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136732_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136732_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136729            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136729_runs[i],
                    (long) ctx->futhark_mc_segred_task_136729_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136729_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136729_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136729_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136729_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136729_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136729_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136729_iter[i],
                    (long) ctx->futhark_mc_segred_task_136729_iter[i] /
                    (ctx->futhark_mc_segred_task_136729_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136729_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136737 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136737_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136737_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136737_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136737_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136737_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136737_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136737_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136737_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136737_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136737_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136737_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136737_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136737_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136737_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136737_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136737_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136737_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136737_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136737_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136737_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136737_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136734            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136734_runs[i],
                    (long) ctx->futhark_mc_segred_task_136734_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136734_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136734_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136734_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136734_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136734_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136734_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136734_iter[i],
                    (long) ctx->futhark_mc_segred_task_136734_iter[i] /
                    (ctx->futhark_mc_segred_task_136734_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136734_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136727         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136727_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136727_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136727_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136727_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136727_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136727_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136727_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136727_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136727_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136727_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136727_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136727_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136727_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136727_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136727_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136727_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136727_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136727_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136727_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136727_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136727_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136727_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136727_total_iter /
                (ctx->futhark_mc_segmap_parloop_136727_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136727_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136727_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136727_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136722            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136722_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136722_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136722_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136722_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136722_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136722_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136722_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136722_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136722_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136722_iter[i] /
                    (ctx->futhark_mc_segmap_task_136722_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136722_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136725     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136725_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136725_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136725_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136725_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136725_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136725_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136725_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136725_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136725_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136725_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136725_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136725_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136719         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136719_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136719_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136719_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136719_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136719_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136719_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136719_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136719_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136719_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136719_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136719_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136719_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136719_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136719_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136719_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136719_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136719_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136719_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136719_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136719_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136719_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136719_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136719_total_iter /
                (ctx->futhark_mc_segmap_parloop_136719_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136719_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136719_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136719_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136713            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136713_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136713_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136713_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136713_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136713_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136713_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136713_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136713_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136713_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136713_iter[i] /
                    (ctx->futhark_mc_segmap_task_136713_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136713_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136717     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136717_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136717_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136717_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136717_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136717_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136717_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136717_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136717_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136717_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136717_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136717_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136717_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136741         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136741_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136741_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136741_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136741_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136741_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136741_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136741_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136741_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136741_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136741_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136741_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136741_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136741_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136741_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136741_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136741_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136741_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136741_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136741_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136741_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136741_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136741_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136741_total_iter /
                (ctx->futhark_mc_segmap_parloop_136741_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136741_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136741_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136741_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136752         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136752_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136752_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136752_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136752_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136752_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136752_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136752_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136752_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136752_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136752_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136752_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136752_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136752_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136752_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136752_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136752_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136752_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136752_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136752_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136752_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136752_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136752_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136752_total_iter /
                (ctx->futhark_mc_segmap_parloop_136752_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136752_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136752_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136752_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136762 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136762_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136762_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136762_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136762_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136762_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136762_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136762_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136762_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136762_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136762_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136762_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136762_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136762_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136762_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136762_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136762_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136762_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136762_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136762_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136762_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136762_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136757            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136757_runs[i],
                    (long) ctx->futhark_mc_segred_task_136757_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136757_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136757_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136757_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136757_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136757_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136757_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136757_iter[i],
                    (long) ctx->futhark_mc_segred_task_136757_iter[i] /
                    (ctx->futhark_mc_segred_task_136757_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136757_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136768 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136768_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136768_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136768_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136768_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136768_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136768_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136768_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136768_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136768_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136768_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136768_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136768_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136768_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136768_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136768_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136768_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136768_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136768_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136768_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136768_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136768_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136764            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136764_runs[i],
                    (long) ctx->futhark_mc_segred_task_136764_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136764_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136764_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136764_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136764_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136764_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136764_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136764_iter[i],
                    (long) ctx->futhark_mc_segred_task_136764_iter[i] /
                    (ctx->futhark_mc_segred_task_136764_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136764_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136755         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136755_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136755_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136755_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136755_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136755_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136755_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136755_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136755_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136755_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136755_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136755_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136755_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136755_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136755_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136755_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136755_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136755_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136755_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136755_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136755_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136755_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136755_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136755_total_iter /
                (ctx->futhark_mc_segmap_parloop_136755_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136755_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136755_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136755_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136750            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136750_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136750_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136750_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136750_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136750_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136750_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136750_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136750_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136750_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136750_iter[i] /
                    (ctx->futhark_mc_segmap_task_136750_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136750_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136753     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136753_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136753_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136753_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136753_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136753_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136753_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136753_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136753_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136753_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136753_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136753_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136753_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136746         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136746_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136746_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136746_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136746_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136746_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136746_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136746_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136746_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136746_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136746_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136746_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136746_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136746_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136746_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136746_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136746_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136746_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136746_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136746_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136746_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136746_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136746_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136746_total_iter /
                (ctx->futhark_mc_segmap_parloop_136746_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136746_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136746_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136746_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136739            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136739_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136739_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136739_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136739_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136739_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136739_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136739_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136739_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136739_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136739_iter[i] /
                    (ctx->futhark_mc_segmap_task_136739_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136739_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136744     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136744_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136744_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136744_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136744_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136744_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136744_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136744_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136744_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136744_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136744_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136744_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136744_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136772         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136772_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136772_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136772_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136772_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136772_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136772_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136772_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136772_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136772_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136772_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136772_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136772_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136772_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136772_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136772_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136772_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136772_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136772_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136772_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136772_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136772_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136772_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136772_total_iter /
                (ctx->futhark_mc_segmap_parloop_136772_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136772_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136772_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136772_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136783         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136783_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136783_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136783_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136783_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136783_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136783_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136783_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136783_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136783_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136783_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136783_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136783_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136783_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136783_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136783_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136783_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136783_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136783_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136783_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136783_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136783_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136783_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136783_total_iter /
                (ctx->futhark_mc_segmap_parloop_136783_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136783_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136783_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136783_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136795 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136795_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136795_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136795_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136795_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136795_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136795_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136795_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136795_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136795_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136795_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136795_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136795_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136795_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136795_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136795_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136795_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136795_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136795_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136795_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136795_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136795_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136788            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136788_runs[i],
                    (long) ctx->futhark_mc_segred_task_136788_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136788_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136788_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136788_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136788_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136788_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136788_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136788_iter[i],
                    (long) ctx->futhark_mc_segred_task_136788_iter[i] /
                    (ctx->futhark_mc_segred_task_136788_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136788_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136801 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136801_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136801_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136801_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136801_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136801_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136801_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136801_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136801_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136801_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136801_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136801_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136801_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136801_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136801_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136801_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136801_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136801_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136801_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136801_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136801_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136801_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136797            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136797_runs[i],
                    (long) ctx->futhark_mc_segred_task_136797_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136797_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136797_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136797_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136797_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136797_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136797_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136797_iter[i],
                    (long) ctx->futhark_mc_segred_task_136797_iter[i] /
                    (ctx->futhark_mc_segred_task_136797_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136797_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136786         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136786_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136786_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136786_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136786_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136786_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136786_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136786_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136786_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136786_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136786_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136786_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136786_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136786_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136786_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136786_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136786_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136786_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136786_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136786_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136786_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136786_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136786_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136786_total_iter /
                (ctx->futhark_mc_segmap_parloop_136786_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136786_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136786_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136786_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136781            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136781_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136781_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136781_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136781_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136781_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136781_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136781_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136781_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136781_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136781_iter[i] /
                    (ctx->futhark_mc_segmap_task_136781_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136781_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136784     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136784_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136784_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136784_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136784_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136784_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136784_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136784_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136784_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136784_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136784_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136784_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136784_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136777         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136777_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136777_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136777_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136777_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136777_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136777_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136777_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136777_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136777_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136777_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136777_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136777_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136777_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136777_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136777_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136777_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136777_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136777_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136777_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136777_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136777_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136777_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136777_total_iter /
                (ctx->futhark_mc_segmap_parloop_136777_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136777_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136777_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136777_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136770            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136770_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136770_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136770_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136770_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136770_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136770_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136770_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136770_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136770_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136770_iter[i] /
                    (ctx->futhark_mc_segmap_task_136770_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136770_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136775     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136775_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136775_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136775_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136775_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136775_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136775_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136775_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136775_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136775_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136775_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136775_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136775_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136805         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136805_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136805_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136805_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136805_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136805_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136805_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136805_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136805_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136805_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136805_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136805_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136805_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136805_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136805_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136805_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136805_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136805_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136805_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136805_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136805_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136805_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136805_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136805_total_iter /
                (ctx->futhark_mc_segmap_parloop_136805_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136805_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136805_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136805_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136815         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136815_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136815_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136815_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136815_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136815_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136815_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136815_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136815_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136815_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136815_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136815_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136815_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136815_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136815_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136815_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136815_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136815_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136815_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136815_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136815_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136815_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136815_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136815_total_iter /
                (ctx->futhark_mc_segmap_parloop_136815_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136815_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136815_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136815_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136825 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136825_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136825_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136825_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136825_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136825_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136825_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136825_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136825_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136825_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136825_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136825_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136825_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136825_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136825_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136825_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136825_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136825_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136825_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136825_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136825_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136825_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136822            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136822_runs[i],
                    (long) ctx->futhark_mc_segred_task_136822_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136822_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136822_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136822_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136822_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136822_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136822_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136822_iter[i],
                    (long) ctx->futhark_mc_segred_task_136822_iter[i] /
                    (ctx->futhark_mc_segred_task_136822_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136822_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136830 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136830_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136830_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136830_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136830_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136830_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136830_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136830_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136830_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136830_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136830_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136830_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136830_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136830_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136830_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136830_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136830_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136830_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136830_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136830_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136830_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136830_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136827            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136827_runs[i],
                    (long) ctx->futhark_mc_segred_task_136827_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136827_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136827_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136827_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136827_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136827_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136827_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136827_iter[i],
                    (long) ctx->futhark_mc_segred_task_136827_iter[i] /
                    (ctx->futhark_mc_segred_task_136827_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136827_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136819         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136819_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136819_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136819_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136819_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136819_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136819_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136819_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136819_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136819_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136819_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136819_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136819_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136819_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136819_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136819_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136819_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136819_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136819_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136819_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136819_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136819_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136819_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136819_total_iter /
                (ctx->futhark_mc_segmap_parloop_136819_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136819_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136819_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136819_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136813            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136813_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136813_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136813_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136813_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136813_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136813_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136813_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136813_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136813_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136813_iter[i] /
                    (ctx->futhark_mc_segmap_task_136813_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136813_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136817     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136817_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136817_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136817_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136817_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136817_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136817_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136817_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136817_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136817_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136817_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136817_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136817_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136810         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136810_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136810_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136810_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136810_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136810_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136810_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136810_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136810_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136810_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136810_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136810_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136810_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136810_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136810_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136810_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136810_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136810_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136810_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136810_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136810_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136810_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136810_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136810_total_iter /
                (ctx->futhark_mc_segmap_parloop_136810_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136810_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136810_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136810_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136803            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136803_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136803_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136803_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136803_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136803_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136803_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136803_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136803_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136803_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136803_iter[i] /
                    (ctx->futhark_mc_segmap_task_136803_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136803_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136808     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136808_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136808_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136808_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136808_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136808_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136808_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136808_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136808_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136808_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136808_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136808_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136808_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136834         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136834_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136834_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136834_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136834_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136834_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136834_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136834_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136834_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136834_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136834_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136834_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136834_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136834_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136834_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136834_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136834_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136834_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136834_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136834_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136834_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136834_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136834_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136834_total_iter /
                (ctx->futhark_mc_segmap_parloop_136834_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136834_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136834_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136834_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136847         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136847_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136847_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136847_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136847_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136847_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136847_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136847_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136847_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136847_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136847_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136847_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136847_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136847_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136847_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136847_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136847_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136847_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136847_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136847_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136847_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136847_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136847_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136847_total_iter /
                (ctx->futhark_mc_segmap_parloop_136847_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136847_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136847_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136847_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136861 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136861_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136861_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136861_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136861_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136861_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136861_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136861_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136861_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136861_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136861_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136861_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136861_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136861_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136861_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136861_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136861_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136861_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136861_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136861_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136861_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136861_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136856            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136856_runs[i],
                    (long) ctx->futhark_mc_segred_task_136856_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136856_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136856_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136856_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136856_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136856_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136856_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136856_iter[i],
                    (long) ctx->futhark_mc_segred_task_136856_iter[i] /
                    (ctx->futhark_mc_segred_task_136856_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136856_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136867 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136867_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136867_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136867_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136867_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136867_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136867_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136867_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136867_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136867_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136867_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136867_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136867_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136867_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136867_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136867_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136867_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136867_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136867_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136867_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136867_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136867_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136863            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136863_runs[i],
                    (long) ctx->futhark_mc_segred_task_136863_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136863_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136863_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136863_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136863_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136863_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136863_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136863_iter[i],
                    (long) ctx->futhark_mc_segred_task_136863_iter[i] /
                    (ctx->futhark_mc_segred_task_136863_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136863_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136852         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136852_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136852_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136852_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136852_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136852_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136852_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136852_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136852_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136852_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136852_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136852_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136852_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136852_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136852_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136852_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136852_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136852_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136852_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136852_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136852_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136852_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136852_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136852_total_iter /
                (ctx->futhark_mc_segmap_parloop_136852_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136852_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136852_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136852_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136845            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136845_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136845_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136845_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136845_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136845_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136845_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136845_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136845_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136845_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136845_iter[i] /
                    (ctx->futhark_mc_segmap_task_136845_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136845_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136850     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136850_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136850_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136850_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136850_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136850_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136850_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136850_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136850_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136850_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136850_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136850_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136850_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136841         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136841_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136841_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136841_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136841_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136841_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136841_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136841_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136841_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136841_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136841_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136841_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136841_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136841_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136841_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136841_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136841_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136841_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136841_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136841_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136841_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136841_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136841_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136841_total_iter /
                (ctx->futhark_mc_segmap_parloop_136841_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136841_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136841_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136841_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136832            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136832_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136832_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136832_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136832_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136832_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136832_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136832_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136832_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136832_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136832_iter[i] /
                    (ctx->futhark_mc_segmap_task_136832_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136832_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136839     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136839_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136839_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136839_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136839_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136839_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136839_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136839_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136839_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136839_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136839_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136839_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136839_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136871         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136871_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136871_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136871_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136871_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136871_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136871_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136871_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136871_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136871_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136871_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136871_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136871_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136871_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136871_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136871_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136871_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136871_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136871_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136871_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136871_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136871_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136871_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136871_total_iter /
                (ctx->futhark_mc_segmap_parloop_136871_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136871_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136871_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136871_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136886         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136886_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136886_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136886_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136886_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136886_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136886_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136886_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136886_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136886_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136886_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136886_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136886_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136886_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136886_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136886_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136886_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136886_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136886_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136886_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136886_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136886_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136886_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136886_total_iter /
                (ctx->futhark_mc_segmap_parloop_136886_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136886_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136886_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136886_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136901         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136901_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136901_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136901_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136901_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136901_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136901_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136901_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136901_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136901_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136901_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136901_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136901_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136901_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136901_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136901_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136901_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136901_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136901_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136901_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136901_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136901_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136901_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136901_total_iter /
                (ctx->futhark_mc_segmap_parloop_136901_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136901_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136901_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136901_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136899            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136899_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136899_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136899_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136899_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136899_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136899_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136899_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136899_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136899_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136899_iter[i] /
                    (ctx->futhark_mc_segmap_task_136899_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136899_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136910 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136910_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136910_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136910_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136910_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136910_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136910_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136910_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136910_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136910_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136910_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136910_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136910_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136910_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136910_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136910_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136910_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136910_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136910_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136910_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136910_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136910_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136903            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136903_runs[i],
                    (long) ctx->futhark_mc_segred_task_136903_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136903_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136903_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136903_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136903_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136903_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136903_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136903_iter[i],
                    (long) ctx->futhark_mc_segred_task_136903_iter[i] /
                    (ctx->futhark_mc_segred_task_136903_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136903_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_136916 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_136916_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136916_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136916_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136916_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136916_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_136916_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136916_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136916_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136916_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_136916_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_136916_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_136916_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_136916_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136916_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136916_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_136916_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_136916_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_136916_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_136916_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_136916_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_136916_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136912            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136912_runs[i],
                    (long) ctx->futhark_mc_segred_task_136912_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136912_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136912_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136912_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136912_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136912_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136912_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136912_iter[i],
                    (long) ctx->futhark_mc_segred_task_136912_iter[i] /
                    (ctx->futhark_mc_segred_task_136912_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136912_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136893         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136893_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136893_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136893_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136893_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136893_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136893_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136893_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136893_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136893_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136893_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136893_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136893_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136893_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136893_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136893_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136893_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136893_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136893_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136893_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136893_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136893_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136893_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136893_total_iter /
                (ctx->futhark_mc_segmap_parloop_136893_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136893_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136893_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136893_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136884            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136884_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136884_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136884_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136884_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136884_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136884_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136884_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136884_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136884_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136884_iter[i] /
                    (ctx->futhark_mc_segmap_task_136884_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136884_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136891     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136891_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136891_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136891_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136891_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136891_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136891_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136891_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136891_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136891_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136891_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136891_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136891_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136880         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136880_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136880_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136880_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136880_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136880_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136880_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136880_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136880_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136880_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136880_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136880_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136880_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136880_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136880_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136880_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136880_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136880_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136880_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136880_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136880_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136880_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136880_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136880_total_iter /
                (ctx->futhark_mc_segmap_parloop_136880_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136880_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136880_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136880_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136869            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136869_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136869_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136869_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136869_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136869_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136869_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136869_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136869_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136869_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136869_iter[i] /
                    (ctx->futhark_mc_segmap_task_136869_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136869_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136878     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136878_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136878_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136878_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136878_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136878_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136878_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136878_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136878_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136878_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136878_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136878_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136878_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136920         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136920_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136920_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136920_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136920_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136920_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136920_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136920_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136920_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136920_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136920_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136920_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136920_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136920_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136920_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136920_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136920_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136920_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136920_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136920_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136920_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136920_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136920_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136920_total_iter /
                (ctx->futhark_mc_segmap_parloop_136920_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136920_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136920_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136920_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136929         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136929_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136929_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136929_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136929_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136929_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136929_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136929_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136929_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136929_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136929_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136929_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136929_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136929_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136929_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136929_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136929_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136929_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136929_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136929_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136929_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136929_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136929_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136929_total_iter /
                (ctx->futhark_mc_segmap_parloop_136929_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136929_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136929_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136929_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136927            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136927_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136927_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136927_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136927_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136927_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136927_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136927_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136927_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136927_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136927_iter[i] /
                    (ctx->futhark_mc_segmap_task_136927_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136927_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136924         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136924_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136924_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136924_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136924_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136924_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136924_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136924_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136924_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136924_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136924_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136924_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136924_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136924_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136924_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136924_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136924_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136924_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136924_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136924_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136924_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136924_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136924_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136924_total_iter /
                (ctx->futhark_mc_segmap_parloop_136924_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136924_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136924_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136924_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136918            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136918_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136918_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136918_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136918_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136918_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136918_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136918_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136918_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136918_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136918_iter[i] /
                    (ctx->futhark_mc_segmap_task_136918_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136918_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136922     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136922_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136922_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136922_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136922_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136922_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136922_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136922_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136922_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136922_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136922_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136922_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136922_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136933         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136933_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136933_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136933_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136933_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136933_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136933_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136933_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136933_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136933_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136933_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136933_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136933_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136933_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136933_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136933_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136933_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136933_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136933_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136933_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136933_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136933_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136933_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136933_total_iter /
                (ctx->futhark_mc_segmap_parloop_136933_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136933_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136933_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136933_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136942         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136942_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136942_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136942_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136942_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136942_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136942_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136942_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136942_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136942_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136942_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136942_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136942_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136942_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136942_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136942_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136942_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136942_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136942_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136942_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136942_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136942_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136942_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136942_total_iter /
                (ctx->futhark_mc_segmap_parloop_136942_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136942_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136942_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136942_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136940            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136940_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136940_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136940_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136940_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136940_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136940_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136940_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136940_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136940_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136940_iter[i] /
                    (ctx->futhark_mc_segmap_task_136940_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136940_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136937         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136937_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136937_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136937_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136937_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136937_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136937_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136937_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136937_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136937_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136937_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136937_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136937_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136937_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136937_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136937_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136937_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136937_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136937_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136937_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136937_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136937_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136937_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136937_total_iter /
                (ctx->futhark_mc_segmap_parloop_136937_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136937_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136937_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136937_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136931            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136931_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136931_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136931_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136931_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136931_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136931_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136931_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136931_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136931_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136931_iter[i] /
                    (ctx->futhark_mc_segmap_task_136931_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136931_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136935     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136935_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136935_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136935_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136935_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136935_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136935_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136935_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136935_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136935_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136935_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136935_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136935_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136946         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136946_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136946_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136946_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136946_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136946_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136946_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136946_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136946_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136946_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136946_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136946_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136946_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136946_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136946_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136946_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136946_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136946_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136946_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136946_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136946_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136946_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136946_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136946_total_iter /
                (ctx->futhark_mc_segmap_parloop_136946_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136946_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136946_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136946_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136955         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136955_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136955_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136955_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136955_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136955_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136955_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136955_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136955_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136955_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136955_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136955_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136955_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136955_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136955_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136955_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136955_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136955_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136955_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136955_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136955_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136955_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136955_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136955_total_iter /
                (ctx->futhark_mc_segmap_parloop_136955_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136955_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136955_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136955_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136953            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136953_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136953_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136953_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136953_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136953_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136953_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136953_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136953_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136953_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136953_iter[i] /
                    (ctx->futhark_mc_segmap_task_136953_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136953_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136950         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136950_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136950_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136950_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136950_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136950_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136950_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136950_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136950_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136950_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136950_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136950_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136950_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136950_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136950_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136950_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136950_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136950_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136950_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136950_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136950_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136950_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136950_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136950_total_iter /
                (ctx->futhark_mc_segmap_parloop_136950_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136950_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136950_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136950_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136944            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136944_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136944_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136944_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136944_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136944_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136944_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136944_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136944_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136944_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136944_iter[i] /
                    (ctx->futhark_mc_segmap_task_136944_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136944_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136948     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136948_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136948_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136948_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136948_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136948_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136948_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136948_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136948_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136948_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136948_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136948_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136948_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136959         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136959_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136959_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136959_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136959_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136959_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136959_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136959_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136959_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136959_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136959_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136959_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136959_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136959_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136959_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136959_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136959_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136959_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136959_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136959_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136959_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136959_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136959_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136959_total_iter /
                (ctx->futhark_mc_segmap_parloop_136959_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136959_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136959_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136959_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_136984   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_136984_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136984_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136984_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136984_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136984_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_136984_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136984_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136984_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136984_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_136984_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_136984_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_136984_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_136984_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136984_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136984_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_136984_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_136984_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_136984_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_136984_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_136984_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_136984_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_136986   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_136986_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136986_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136986_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136986_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136986_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_136986_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136986_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136986_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136986_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_136986_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_136986_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_136986_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_136986_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136986_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136986_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_136986_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_136986_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_136986_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_136986_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_136986_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_136986_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_136978           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_136978_runs[i],
                    (long) ctx->futhark_mc_segscan_task_136978_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136978_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136978_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_136978_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_136978_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_136978_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_136978_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_136978_iter[i],
                    (long) ctx->futhark_mc_segscan_task_136978_iter[i] /
                    (ctx->futhark_mc_segscan_task_136978_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_136978_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136990         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136990_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136990_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136990_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136990_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136990_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136990_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136990_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136990_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136990_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136990_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136990_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136990_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136990_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136990_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136990_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136990_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136990_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136990_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136990_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136990_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136990_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136990_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136990_total_iter /
                (ctx->futhark_mc_segmap_parloop_136990_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136990_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136990_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136990_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136988            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136988_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136988_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136988_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136988_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136988_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136988_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136988_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136988_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136988_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136988_iter[i] /
                    (ctx->futhark_mc_segmap_task_136988_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136988_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136969         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136969_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136969_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136969_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136969_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136969_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136969_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136969_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136969_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136969_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136969_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136969_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136969_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136969_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136969_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136969_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136969_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136969_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136969_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136969_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136969_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136969_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136969_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136969_total_iter /
                (ctx->futhark_mc_segmap_parloop_136969_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136969_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136969_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136969_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136957            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136957_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136957_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136957_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136957_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136957_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136957_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136957_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136957_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136957_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136957_iter[i] /
                    (ctx->futhark_mc_segmap_task_136957_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136957_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136967     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136967_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136967_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136967_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136967_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136967_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136967_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136967_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136967_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136967_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136967_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136967_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136967_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136994         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136994_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136994_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136994_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136994_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136994_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136994_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136994_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136994_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136994_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136994_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136994_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136994_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136994_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136994_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136994_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136994_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136994_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136994_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136994_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136994_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136994_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136994_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136994_total_iter /
                (ctx->futhark_mc_segmap_parloop_136994_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136994_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136994_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136994_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_137002 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_137002_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_137002_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_137002_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_137002_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_137002_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_137002_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_137002_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_137002_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_137002_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_137002_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_137002_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_137002_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_137002_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_137002_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_137002_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_137002_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_137002_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_137002_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_137002_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_137002_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_137002_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_136999            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_136999_runs[i],
                    (long) ctx->futhark_mc_segred_task_136999_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136999_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136999_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_136999_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_136999_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_136999_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_136999_iter[i]),
                    (long) ctx->futhark_mc_segred_task_136999_iter[i],
                    (long) ctx->futhark_mc_segred_task_136999_iter[i] /
                    (ctx->futhark_mc_segred_task_136999_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_136999_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_136997         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_136997_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_136997_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136997_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136997_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_136997_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_136997_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_136997_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136997_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_136997_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_136997_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_136997_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_136997_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_136997_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_136997_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_136997_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136997_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136997_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_136997_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_136997_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_136997_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_136997_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_136997_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_136997_total_iter /
                (ctx->futhark_mc_segmap_parloop_136997_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_136997_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_136997_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_136997_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_136992            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_136992_runs[i],
                    (long) ctx->futhark_mc_segmap_task_136992_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136992_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136992_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_136992_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_136992_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_136992_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_136992_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_136992_iter[i],
                    (long) ctx->futhark_mc_segmap_task_136992_iter[i] /
                    (ctx->futhark_mc_segmap_task_136992_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_136992_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_136995     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_136995_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136995_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136995_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136995_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_136995_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_136995_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_136995_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_136995_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_136995_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_136995_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_136995_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_136995_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137006         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137006_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137006_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137006_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137006_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137006_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137006_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137006_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137006_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137006_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137006_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137006_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137006_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137006_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137006_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137006_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137006_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137006_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137006_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137006_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137006_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137006_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137006_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137006_total_iter /
                (ctx->futhark_mc_segmap_parloop_137006_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137006_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137006_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137006_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137015         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137015_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137015_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137015_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137015_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137015_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137015_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137015_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137015_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137015_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137015_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137015_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137015_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137015_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137015_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137015_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137015_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137015_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137015_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137015_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137015_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137015_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137015_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137015_total_iter /
                (ctx->futhark_mc_segmap_parloop_137015_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137015_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137015_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137015_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137013            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137013_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137013_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137013_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137013_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137013_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137013_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137013_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137013_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137013_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137013_iter[i] /
                    (ctx->futhark_mc_segmap_task_137013_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137013_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137010         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137010_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137010_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137010_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137010_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137010_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137010_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137010_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137010_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137010_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137010_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137010_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137010_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137010_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137010_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137010_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137010_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137010_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137010_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137010_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137010_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137010_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137010_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137010_total_iter /
                (ctx->futhark_mc_segmap_parloop_137010_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137010_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137010_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137010_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137004            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137004_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137004_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137004_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137004_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137004_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137004_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137004_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137004_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137004_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137004_iter[i] /
                    (ctx->futhark_mc_segmap_task_137004_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137004_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_137008     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_137008_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137008_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137008_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137008_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_137008_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_137008_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137008_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_137008_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_137008_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137008_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_137008_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137008_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137019         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137019_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137019_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137019_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137019_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137019_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137019_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137019_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137019_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137019_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137019_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137019_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137019_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137019_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137019_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137019_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137019_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137019_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137019_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137019_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137019_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137019_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137019_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137019_total_iter /
                (ctx->futhark_mc_segmap_parloop_137019_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137019_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137019_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137019_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137028         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137028_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137028_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137028_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137028_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137028_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137028_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137028_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137028_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137028_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137028_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137028_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137028_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137028_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137028_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137028_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137028_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137028_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137028_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137028_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137028_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137028_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137028_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137028_total_iter /
                (ctx->futhark_mc_segmap_parloop_137028_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137028_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137028_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137028_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137026            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137026_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137026_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137026_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137026_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137026_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137026_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137026_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137026_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137026_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137026_iter[i] /
                    (ctx->futhark_mc_segmap_task_137026_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137026_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137023         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137023_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137023_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137023_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137023_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137023_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137023_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137023_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137023_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137023_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137023_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137023_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137023_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137023_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137023_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137023_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137023_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137023_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137023_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137023_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137023_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137023_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137023_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137023_total_iter /
                (ctx->futhark_mc_segmap_parloop_137023_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137023_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137023_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137023_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137017            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137017_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137017_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137017_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137017_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137017_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137017_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137017_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137017_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137017_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137017_iter[i] /
                    (ctx->futhark_mc_segmap_task_137017_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137017_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_137021     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_137021_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137021_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137021_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137021_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_137021_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_137021_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137021_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_137021_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_137021_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137021_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_137021_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137021_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137032         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137032_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137032_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137032_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137032_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137032_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137032_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137032_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137032_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137032_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137032_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137032_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137032_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137032_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137032_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137032_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137032_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137032_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137032_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137032_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137032_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137032_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137032_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137032_total_iter /
                (ctx->futhark_mc_segmap_parloop_137032_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137032_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137032_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137032_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137045         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137045_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137045_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137045_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137045_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137045_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137045_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137045_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137045_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137045_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137045_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137045_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137045_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137045_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137045_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137045_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137045_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137045_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137045_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137045_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137045_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137045_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137045_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137045_total_iter /
                (ctx->futhark_mc_segmap_parloop_137045_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137045_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137045_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137045_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137043            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137043_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137043_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137043_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137043_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137043_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137043_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137043_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137043_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137043_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137043_iter[i] /
                    (ctx->futhark_mc_segmap_task_137043_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137043_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137049         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137049_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137049_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137049_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137049_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137049_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137049_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137049_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137049_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137049_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137049_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137049_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137049_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137049_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137049_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137049_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137049_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137049_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137049_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137049_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137049_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137049_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137049_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137049_total_iter /
                (ctx->futhark_mc_segmap_parloop_137049_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137049_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137049_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137049_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137058         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137058_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137058_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137058_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137058_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137058_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137058_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137058_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137058_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137058_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137058_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137058_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137058_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137058_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137058_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137058_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137058_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137058_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137058_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137058_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137058_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137058_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137058_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137058_total_iter /
                (ctx->futhark_mc_segmap_parloop_137058_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137058_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137058_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137058_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137056            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137056_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137056_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137056_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137056_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137056_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137056_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137056_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137056_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137056_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137056_iter[i] /
                    (ctx->futhark_mc_segmap_task_137056_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137056_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137053         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137053_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137053_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137053_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137053_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137053_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137053_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137053_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137053_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137053_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137053_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137053_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137053_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137053_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137053_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137053_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137053_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137053_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137053_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137053_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137053_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137053_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137053_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137053_total_iter /
                (ctx->futhark_mc_segmap_parloop_137053_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137053_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137053_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137053_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137047            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137047_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137047_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137047_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137047_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137047_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137047_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137047_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137047_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137047_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137047_iter[i] /
                    (ctx->futhark_mc_segmap_task_137047_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137047_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_137051     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_137051_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137051_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137051_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137051_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_137051_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_137051_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137051_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_137051_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_137051_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137051_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_137051_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137051_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_137038         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_137038_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_137038_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137038_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137038_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_137038_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_137038_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_137038_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137038_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_137038_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_137038_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_137038_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_137038_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_137038_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_137038_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_137038_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137038_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137038_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_137038_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_137038_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_137038_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_137038_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_137038_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_137038_total_iter /
                (ctx->futhark_mc_segmap_parloop_137038_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_137038_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_137038_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_137038_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_137030            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_137030_runs[i],
                    (long) ctx->futhark_mc_segmap_task_137030_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137030_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137030_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_137030_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_137030_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_137030_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_137030_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_137030_iter[i],
                    (long) ctx->futhark_mc_segmap_task_137030_iter[i] /
                    (ctx->futhark_mc_segmap_task_137030_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_137030_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_137036     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_137036_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137036_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137036_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137036_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_137036_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_137036_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_137036_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_137036_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_137036_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_137036_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_137036_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_137036_runs[i] : 1));
    }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_136238,
                             struct memblock *mem_out_p_136239,
                             struct memblock *mem_out_p_136240,
                             struct memblock *mem_out_p_136241,
                             int64_t *out_prim_out_136242,
                             struct memblock Y_mem_126881, int64_t m_119474,
                             int64_t n_119475, int64_t n_p_119477,
                             int64_t t_window_119478, int64_t l_window_119479,
                             int64_t t_degree_119480, int64_t l_degree_119481,
                             int64_t t_jump_119482, int64_t l_jump_119483,
                             int64_t inner_119484, int64_t outer_119485,
                             int64_t jump_threshold_119486,
                             int64_t max_group_sizze_119487);
static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_mc_task_136264 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_i_119551;
    char *free_Y_mem_126881;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
};
struct futhark_mc_segmap_parloop_struct_136266 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_i_119551;
    char *free_Y_mem_126881;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
};
static int futhark_mc_segmap_parloop_136267(void *args, int64_t start,
                                            int64_t end, int flat_tid_121785,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136266
    *futhark_mc_segmap_parloop_struct_136266 =
    (struct futhark_mc_segmap_parloop_struct_136266 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136266->ctx;
    uint64_t futhark_mc_segmap_parloop_136267_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136267_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136266->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136266->free_n_119475;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136266->free_i_119551;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136266->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136266->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136266->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136266->free_mem_126924,
                                  .size =0, .references =NULL};
    size_t mem_126890_cached_sizze_136268 = 0;
    char *mem_126890 = NULL;
    size_t mem_126905_cached_sizze_136269 = 0;
    char *mem_126905 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128847 = start;
    
    if (mem_126890_cached_sizze_136268 < (size_t) bytes_126882) {
        mem_126890 = realloc(mem_126890, bytes_126882);
        mem_126890_cached_sizze_136268 = bytes_126882;
    }
    if (mem_126905_cached_sizze_136269 < (size_t) bytes_126882) {
        mem_126905 = realloc(mem_126905, bytes_126882);
        mem_126905_cached_sizze_136269 = bytes_126882;
    }
    for (; iter_128847 < end; iter_128847++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128866 = m_119474;
        int64_t gtid_121786 = iter_128847;
        int64_t remnant_128867 = iter_128847 - gtid_121786;
        int64_t discard_126227;
        int64_t scanacc_128849 = (int64_t) 0;
        
        for (int64_t i_128848 = 0; i_128848 < n_119475; i_128848++) {
            float x_128851 = ((float *) Y_mem_126881.mem)[gtid_121786 *
                                                          n_119475 + i_128848];
            bool isnan_res_128852;
            
            isnan_res_128852 = futrts_isnan32(x_128851);
            
            bool defunc_0_p_res_128853 = !isnan_res_128852;
            int64_t defunc_0_f_res_128854 =
                    btoi_bool_i64(defunc_0_p_res_128853);
            int64_t defunc_1_op_res_128855 = add64(defunc_0_f_res_128854,
                                                   scanacc_128849);
            
            ((int64_t *) mem_126890)[i_128848] = defunc_1_op_res_128855;
            
            int64_t scanacc_tmp_128868 = defunc_1_op_res_128855;
            
            scanacc_128849 = scanacc_tmp_128868;
        }
        discard_126227 = scanacc_128849;
        
        int64_t last_res_119568 = ((int64_t *) mem_126890)[i_119551];
        
        for (int64_t i_128870 = 0; i_128870 < n_119475; i_128870++) {
            ((int64_t *) mem_126905)[i_128870] = (int64_t) -1;
        }
        for (int64_t write_iter_128857 = 0; write_iter_128857 < n_119475;
             write_iter_128857++) {
            float write_iv_128859 = ((float *) Y_mem_126881.mem)[gtid_121786 *
                                                                 n_119475 +
                                                                 write_iter_128857];
            bool isnan_res_128860;
            
            isnan_res_128860 = futrts_isnan32(write_iv_128859);
            
            bool defunc_0_p_res_128861 = !isnan_res_128860;
            int64_t defunc_1_f_res_128862;
            
            if (defunc_0_p_res_128861) {
                int64_t write_iv_128863 =
                        ((int64_t *) mem_126890)[write_iter_128857];
                int64_t defunc_1_f_res_t_res_128864 = sub64(write_iv_128863,
                                                            (int64_t) 1);
                
                defunc_1_f_res_128862 = defunc_1_f_res_t_res_128864;
            } else {
                defunc_1_f_res_128862 = (int64_t) -1;
            }
            if (sle64((int64_t) 0, defunc_1_f_res_128862) &&
                slt64(defunc_1_f_res_128862, n_119475)) {
                ((int64_t *) mem_126905)[defunc_1_f_res_128862] =
                    write_iter_128857;
            }
        }
        memmove(mem_126921.mem + gtid_121786 * n_119475 * (int64_t) 8,
                mem_126905 + (int64_t) 0, n_119475 * (int64_t) 8);
        ((int64_t *) mem_126924.mem)[gtid_121786] = last_res_119568;
    }
    
  cleanup:
    { }
    free(mem_126890);
    free(mem_126905);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136267_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136267_end -
                 futhark_mc_segmap_parloop_136267_start;
        
        ctx->futhark_mc_segmap_parloop_136267_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136267_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136267_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136265(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121785 = tid;
    int num_tasks_128846 = info.nsubtasks;
    struct futhark_mc_task_136264 *futhark_mc_task_136264 =
                                  (struct futhark_mc_task_136264 *) args;
    struct futhark_context *ctx = futhark_mc_task_136264->ctx;
    uint64_t futhark_mc_segmap_task_136265_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136265_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136264->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136264->free_n_119475;
    int64_t i_119551 = futhark_mc_task_136264->free_i_119551;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136264->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126882 = futhark_mc_task_136264->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136264->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136264->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t iter_128847;
    struct futhark_mc_segmap_parloop_struct_136266
    futhark_mc_segmap_parloop_struct_136266;
    
    futhark_mc_segmap_parloop_struct_136266.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136266.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136266.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136266.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136266.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136266.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136266.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136266.free_mem_126924 = mem_126924.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136267_task;
    
    futhark_mc_segmap_parloop_136267_task.name =
        "futhark_mc_segmap_parloop_136267";
    futhark_mc_segmap_parloop_136267_task.fn = futhark_mc_segmap_parloop_136267;
    futhark_mc_segmap_parloop_136267_task.args =
        &futhark_mc_segmap_parloop_struct_136266;
    futhark_mc_segmap_parloop_136267_task.iterations = iterations;
    futhark_mc_segmap_parloop_136267_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136267_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136267_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136267_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136267_task);
    
    if (futhark_mc_segmap_parloop_136267_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136267_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136267_total_end -
                 futhark_mc_segmap_parloop_136267_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136267_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136267_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136267_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136265_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136265_end -
                 futhark_mc_segmap_task_136265_start;
        
        ctx->futhark_mc_segmap_task_136265_runs[tid]++;
        ctx->futhark_mc_segmap_task_136265_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136265_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136271 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_i_119551;
    char *free_Y_mem_126881;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
};
struct futhark_mc_task_136275 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121788;
    char *free_Y_mem_126881;
    char *free_mem_126884;
};
struct futhark_mc_scan_stage_1_parloop_struct_136278 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121788;
    char *free_Y_mem_126881;
    char *free_mem_126884;
};
static int futhark_mc_scan_stage_1_parloop_136279(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_121789, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_136278
    *futhark_mc_scan_stage_1_parloop_struct_136278 =
    (struct futhark_mc_scan_stage_1_parloop_struct_136278 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_136278->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_136279_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136279_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_scan_stage_1_parloop_struct_136278->free_n_119475;
    int64_t gtid_121788 =
            futhark_mc_scan_stage_1_parloop_struct_136278->free_gtid_121788;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_scan_stage_1_parloop_struct_136278->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126884 = {.desc ="mem_126884", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136278->free_mem_126884,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128889 = start;
    int64_t x_128873;
    int64_t x_128874;
    
    x_128873 = (int64_t) 0;
    for (; iter_128889 < end; iter_128889++) {
        int64_t gtid_121790 = iter_128889;
        
        // stage 1 scan body
        {
            float x_128876 = ((float *) Y_mem_126881.mem)[gtid_121788 *
                                                          n_119475 +
                                                          gtid_121790];
            bool isnan_res_128877;
            
            isnan_res_128877 = futrts_isnan32(x_128876);
            
            bool defunc_0_p_res_128878 = !isnan_res_128877;
            int64_t defunc_0_f_res_128879 =
                    btoi_bool_i64(defunc_0_p_res_128878);
            
            // write mapped values results to memory
            { }
            x_128873 = x_128873;
            // Read next values
            {
                x_128874 = defunc_0_f_res_128879;
            }
            
            int64_t defunc_1_op_res_128875 = add64(x_128873, x_128874);
            
            ((int64_t *) mem_126884.mem)[gtid_121790] = defunc_1_op_res_128875;
            x_128873 = defunc_1_op_res_128875;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136279_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136279_end -
                 futhark_mc_scan_stage_1_parloop_136279_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_136279_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_136279_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_136279_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_136280 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121788;
    char *free_Y_mem_126881;
    char *free_mem_126884;
};
static int futhark_mc_scan_stage_3_parloop_136281(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_121789, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_136280
    *futhark_mc_scan_stage_3_parloop_struct_136280 =
    (struct futhark_mc_scan_stage_3_parloop_struct_136280 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_136280->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_136281_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_136281_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_scan_stage_3_parloop_struct_136280->free_n_119475;
    int64_t gtid_121788 =
            futhark_mc_scan_stage_3_parloop_struct_136280->free_gtid_121788;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_scan_stage_3_parloop_struct_136280->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126884 = {.desc ="mem_126884", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136280->free_mem_126884,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128901 = start;
    int64_t x_128898;
    int64_t x_128899;
    
    if (iter_128901 == (int64_t) 0) {
        x_128898 = (int64_t) 0;
    } else {
        x_128898 = ((int64_t *) mem_126884.mem)[iter_128901 - (int64_t) 1];
    }
    for (; iter_128901 < end; iter_128901++) {
        int64_t gtid_121790 = iter_128901;
        
        // stage 3 scan body
        {
            float x_128876 = ((float *) Y_mem_126881.mem)[gtid_121788 *
                                                          n_119475 +
                                                          gtid_121790];
            bool isnan_res_128877;
            
            isnan_res_128877 = futrts_isnan32(x_128876);
            
            bool defunc_0_p_res_128878 = !isnan_res_128877;
            int64_t defunc_0_f_res_128879 =
                    btoi_bool_i64(defunc_0_p_res_128878);
            
            x_128898 = x_128898;
            x_128899 = defunc_0_f_res_128879;
            
            int64_t defunc_1_op_res_128900 = add64(x_128898, x_128899);
            
            ((int64_t *) mem_126884.mem)[gtid_121790] = defunc_1_op_res_128900;
            x_128898 = defunc_1_op_res_128900;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_136281_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_136281_end -
                 futhark_mc_scan_stage_3_parloop_136281_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_136281_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_136281_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_136281_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_136276(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121789 = tid;
    int num_tasks_128888 = info.nsubtasks;
    struct futhark_mc_task_136275 *futhark_mc_task_136275 =
                                  (struct futhark_mc_task_136275 *) args;
    struct futhark_context *ctx = futhark_mc_task_136275->ctx;
    uint64_t futhark_mc_segscan_task_136276_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_136276_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136275->free_n_119475;
    int64_t gtid_121788 = futhark_mc_task_136275->free_gtid_121788;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136275->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126884 = {.desc ="mem_126884", .mem =
                                  futhark_mc_task_136275->free_mem_126884,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_128895_cached_sizze_136277 = 0;
    char *scan_stage_2_accum_mem_128895 = NULL;
    int64_t iter_128889;
    struct futhark_mc_scan_stage_1_parloop_struct_136278
    futhark_mc_scan_stage_1_parloop_struct_136278;
    
    futhark_mc_scan_stage_1_parloop_struct_136278.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_136278.free_n_119475 = n_119475;
    futhark_mc_scan_stage_1_parloop_struct_136278.free_gtid_121788 =
        gtid_121788;
    futhark_mc_scan_stage_1_parloop_struct_136278.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_scan_stage_1_parloop_struct_136278.free_mem_126884 =
        mem_126884.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_136279_task;
    
    futhark_mc_scan_stage_1_parloop_136279_task.name =
        "futhark_mc_scan_stage_1_parloop_136279";
    futhark_mc_scan_stage_1_parloop_136279_task.fn =
        futhark_mc_scan_stage_1_parloop_136279;
    futhark_mc_scan_stage_1_parloop_136279_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_136278;
    futhark_mc_scan_stage_1_parloop_136279_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_136279_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_136279_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136279_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_136279_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_136279_task);
    
    if (futhark_mc_scan_stage_1_parloop_136279_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136279_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136279_total_end -
                 futhark_mc_scan_stage_1_parloop_136279_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136279_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136279_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136279_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_128888)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        int64_t x_128890;
        int64_t x_128891;
        int64_t offset_128893 = (int64_t) 0;
        int64_t offset_index_128894 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_128895_cached_sizze_136277 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_128895 =
                realloc(scan_stage_2_accum_mem_128895, (int64_t) 8);
            scan_stage_2_accum_mem_128895_cached_sizze_136277 = (int64_t) 8;
        }
        ((int64_t *) scan_stage_2_accum_mem_128895)[(int64_t) 0] = (int64_t) 0;
        for (int32_t i_128897 = 0; i_128897 < num_tasks_128888 - 1;
             i_128897++) {
            offset_128893 = squot64(n_119475, sext_i32_i64(num_tasks_128888));
            if (slt64(sext_i32_i64(i_128897), srem64(n_119475,
                                                     sext_i32_i64(num_tasks_128888)))) {
                offset_128893 += (int64_t) 1;
            }
            offset_index_128894 += offset_128893;
            
            int64_t gtid_121790 = offset_index_128894;
            float x_128876 = ((float *) Y_mem_126881.mem)[gtid_121788 *
                                                          n_119475 +
                                                          gtid_121790];
            bool isnan_res_128877;
            
            isnan_res_128877 = futrts_isnan32(x_128876);
            
            bool defunc_0_p_res_128878 = !isnan_res_128877;
            int64_t defunc_0_f_res_128879 =
                    btoi_bool_i64(defunc_0_p_res_128878);
            
            // Read carry in
            {
                x_128890 =
                    ((int64_t *) scan_stage_2_accum_mem_128895)[(int64_t) 0];
            }
            // Read next values
            {
                x_128891 = ((int64_t *) mem_126884.mem)[offset_index_128894 -
                                                        (int64_t) 1];
            }
            
            int64_t defunc_1_op_res_128892 = add64(x_128890, x_128891);
            
            ((int64_t *) mem_126884.mem)[offset_index_128894 - (int64_t) 1] =
                defunc_1_op_res_128892;
            ((int64_t *) scan_stage_2_accum_mem_128895)[(int64_t) 0] =
                defunc_1_op_res_128892;
        }
        
        int64_t iter_128901 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_136280
        futhark_mc_scan_stage_3_parloop_struct_136280;
        
        futhark_mc_scan_stage_3_parloop_struct_136280.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_136280.free_n_119475 = n_119475;
        futhark_mc_scan_stage_3_parloop_struct_136280.free_gtid_121788 =
            gtid_121788;
        futhark_mc_scan_stage_3_parloop_struct_136280.free_Y_mem_126881 =
            Y_mem_126881.mem;
        futhark_mc_scan_stage_3_parloop_struct_136280.free_mem_126884 =
            mem_126884.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_136281_task;
        
        futhark_mc_scan_stage_3_parloop_136281_task.name =
            "futhark_mc_scan_stage_3_parloop_136281";
        futhark_mc_scan_stage_3_parloop_136281_task.fn =
            futhark_mc_scan_stage_3_parloop_136281;
        futhark_mc_scan_stage_3_parloop_136281_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_136280;
        futhark_mc_scan_stage_3_parloop_136281_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_136281_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_136281_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_136281_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_136281_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_136281_task);
        
        if (futhark_mc_scan_stage_3_parloop_136281_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_136281_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_136281_total_end -
                     futhark_mc_scan_stage_3_parloop_136281_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136281_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136281_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136281_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_128895);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_136276_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_136276_end -
                 futhark_mc_segscan_task_136276_start;
        
        ctx->futhark_mc_segscan_task_136276_runs[tid]++;
        ctx->futhark_mc_segscan_task_136276_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_136276_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136282 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121788;
    char *free_Y_mem_126881;
    char *free_mem_126884;
    char *free_mem_126887;
};
struct futhark_mc_segmap_parloop_struct_136284 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121788;
    char *free_Y_mem_126881;
    char *free_mem_126884;
    char *free_mem_126887;
};
static int futhark_mc_segmap_parloop_136285(void *args, int64_t start,
                                            int64_t end, int flat_tid_121791,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136284
    *futhark_mc_segmap_parloop_struct_136284 =
    (struct futhark_mc_segmap_parloop_struct_136284 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136284->ctx;
    uint64_t futhark_mc_segmap_parloop_136285_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136285_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136284->free_n_119475;
    int64_t gtid_121788 =
            futhark_mc_segmap_parloop_struct_136284->free_gtid_121788;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136284->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126884 = {.desc ="mem_126884", .mem =
                                  futhark_mc_segmap_parloop_struct_136284->free_mem_126884,
                                  .size =0, .references =NULL};
    struct memblock mem_126887 = {.desc ="mem_126887", .mem =
                                  futhark_mc_segmap_parloop_struct_136284->free_mem_126887,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128904 = start;
    
    for (; iter_128904 < end; iter_128904++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128907 = n_119475;
        int64_t gtid_121792 = iter_128904;
        int64_t remnant_128908 = iter_128904 - gtid_121792;
        float x_128880 = ((float *) Y_mem_126881.mem)[gtid_121788 * n_119475 +
                                                      gtid_121792];
        bool isnan_res_128881;
        
        isnan_res_128881 = futrts_isnan32(x_128880);
        
        bool defunc_0_p_res_128882 = !isnan_res_128881;
        int64_t defunc_1_f_res_128883;
        
        if (defunc_0_p_res_128882) {
            int64_t x_128905 = ((int64_t *) mem_126884.mem)[gtid_121792];
            int64_t defunc_1_f_res_t_res_128906 = sub64(x_128905, (int64_t) 1);
            
            defunc_1_f_res_128883 = defunc_1_f_res_t_res_128906;
        } else {
            defunc_1_f_res_128883 = (int64_t) -1;
        }
        if (sle64((int64_t) 0, defunc_1_f_res_128883) &&
            slt64(defunc_1_f_res_128883, n_119475)) {
            ((int64_t *) mem_126887.mem)[defunc_1_f_res_128883] = gtid_121792;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136285_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136285_end -
                 futhark_mc_segmap_parloop_136285_start;
        
        ctx->futhark_mc_segmap_parloop_136285_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136285_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136285_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136283(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121791 = tid;
    int num_tasks_128903 = info.nsubtasks;
    struct futhark_mc_task_136282 *futhark_mc_task_136282 =
                                  (struct futhark_mc_task_136282 *) args;
    struct futhark_context *ctx = futhark_mc_task_136282->ctx;
    uint64_t futhark_mc_segmap_task_136283_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136283_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136282->free_n_119475;
    int64_t gtid_121788 = futhark_mc_task_136282->free_gtid_121788;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136282->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126884 = {.desc ="mem_126884", .mem =
                                  futhark_mc_task_136282->free_mem_126884,
                                  .size =0, .references =NULL};
    struct memblock mem_126887 = {.desc ="mem_126887", .mem =
                                  futhark_mc_task_136282->free_mem_126887,
                                  .size =0, .references =NULL};
    int64_t iter_128904;
    struct futhark_mc_segmap_parloop_struct_136284
    futhark_mc_segmap_parloop_struct_136284;
    
    futhark_mc_segmap_parloop_struct_136284.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136284.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136284.free_gtid_121788 = gtid_121788;
    futhark_mc_segmap_parloop_struct_136284.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136284.free_mem_126884 = mem_126884.mem;
    futhark_mc_segmap_parloop_struct_136284.free_mem_126887 = mem_126887.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136285_task;
    
    futhark_mc_segmap_parloop_136285_task.name =
        "futhark_mc_segmap_parloop_136285";
    futhark_mc_segmap_parloop_136285_task.fn = futhark_mc_segmap_parloop_136285;
    futhark_mc_segmap_parloop_136285_task.args =
        &futhark_mc_segmap_parloop_struct_136284;
    futhark_mc_segmap_parloop_136285_task.iterations = iterations;
    futhark_mc_segmap_parloop_136285_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136285_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136285_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136285_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136285_task);
    
    if (futhark_mc_segmap_parloop_136285_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136285_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136285_total_end -
                 futhark_mc_segmap_parloop_136285_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136285_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136285_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136285_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136283_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136283_end -
                 futhark_mc_segmap_task_136283_start;
        
        ctx->futhark_mc_segmap_task_136283_runs[tid]++;
        ctx->futhark_mc_segmap_task_136283_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136283_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136272(void *args, int64_t start,
                                            int64_t end, int flat_tid_121787,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136271
    *futhark_mc_segmap_parloop_struct_136271 =
    (struct futhark_mc_segmap_parloop_struct_136271 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136271->ctx;
    uint64_t futhark_mc_segmap_parloop_136272_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136272_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136271->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136271->free_n_119475;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136271->free_i_119551;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136271->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136271->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136271->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136271->free_mem_126924,
                                  .size =0, .references =NULL};
    size_t mem_126884_cached_sizze_136273 = 0;
    char *mem_126884 = NULL;
    size_t mem_126887_cached_sizze_136274 = 0;
    char *mem_126887 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128872 = start;
    
    if (mem_126884_cached_sizze_136273 < (size_t) bytes_126882) {
        mem_126884 = realloc(mem_126884, bytes_126882);
        mem_126884_cached_sizze_136273 = bytes_126882;
    }
    if (mem_126887_cached_sizze_136274 < (size_t) bytes_126882) {
        mem_126887 = realloc(mem_126887, bytes_126882);
        mem_126887_cached_sizze_136274 = bytes_126882;
    }
    for (; iter_128872 < end; iter_128872++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128886 = m_119474;
        int64_t gtid_121788 = iter_128872;
        int64_t remnant_128887 = iter_128872 - gtid_121788;
        int64_t flat_tid_121789 = (int64_t) 0;
        int32_t num_tasks_128888;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_136275 futhark_mc_task_136275;
        
        futhark_mc_task_136275.ctx = ctx;
        futhark_mc_task_136275.free_n_119475 = n_119475;
        futhark_mc_task_136275.free_gtid_121788 = gtid_121788;
        futhark_mc_task_136275.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136275.free_mem_126884 = mem_126884;
        
        struct scheduler_segop futhark_mc_task_136275_task;
        
        futhark_mc_task_136275_task.args = &futhark_mc_task_136275;
        futhark_mc_task_136275_task.top_level_fn =
            futhark_mc_segscan_task_136276;
        futhark_mc_task_136275_task.name = "futhark_mc_segscan_task_136276";
        futhark_mc_task_136275_task.iterations = n_119475;
        futhark_mc_task_136275_task.task_time =
            &ctx->futhark_mc_segscan_task_136276_total_time;
        futhark_mc_task_136275_task.task_iter =
            &ctx->futhark_mc_segscan_task_136276_total_iter;
        futhark_mc_task_136275_task.sched = STATIC;
        futhark_mc_task_136275_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_136276_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136275_task);
        
        if (futhark_mc_segscan_task_136276_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t last_res_121802 = ((int64_t *) mem_126884)[i_119551];
        
        for (int64_t i_128902 = 0; i_128902 < n_119475; i_128902++) {
            ((int64_t *) mem_126887)[i_128902] = (int64_t) -1;
        }
        
        int64_t flat_tid_121791 = (int64_t) 0;
        int32_t num_tasks_128903;
        struct futhark_mc_task_136282 futhark_mc_task_136282;
        
        futhark_mc_task_136282.ctx = ctx;
        futhark_mc_task_136282.free_n_119475 = n_119475;
        futhark_mc_task_136282.free_gtid_121788 = gtid_121788;
        futhark_mc_task_136282.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136282.free_mem_126884 = mem_126884;
        futhark_mc_task_136282.free_mem_126887 = mem_126887;
        
        struct scheduler_segop futhark_mc_task_136282_task;
        
        futhark_mc_task_136282_task.args = &futhark_mc_task_136282;
        futhark_mc_task_136282_task.top_level_fn =
            futhark_mc_segmap_task_136283;
        futhark_mc_task_136282_task.name = "futhark_mc_segmap_task_136283";
        futhark_mc_task_136282_task.iterations = n_119475;
        futhark_mc_task_136282_task.task_time =
            &ctx->futhark_mc_segmap_task_136283_total_time;
        futhark_mc_task_136282_task.task_iter =
            &ctx->futhark_mc_segmap_task_136283_total_iter;
        futhark_mc_task_136282_task.sched = STATIC;
        futhark_mc_task_136282_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136283_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136282_task);
        
        if (futhark_mc_segmap_task_136283_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_126921.mem + gtid_121788 * n_119475 * (int64_t) 8,
                mem_126887 + (int64_t) 0, n_119475 * (int64_t) 8);
        ((int64_t *) mem_126924.mem)[gtid_121788] = last_res_121802;
    }
    
  cleanup:
    { }
    free(mem_126884);
    free(mem_126887);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136272_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136272_end -
                 futhark_mc_segmap_parloop_136272_start;
        
        ctx->futhark_mc_segmap_parloop_136272_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136272_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136272_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136270(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121787 = tid;
    int num_tasks_128846 = info.nsubtasks;
    struct futhark_mc_task_136264 *futhark_mc_task_136264 =
                                  (struct futhark_mc_task_136264 *) args;
    struct futhark_context *ctx = futhark_mc_task_136264->ctx;
    uint64_t futhark_mc_segmap_nested_task_136270_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136270_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136264->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136264->free_n_119475;
    int64_t i_119551 = futhark_mc_task_136264->free_i_119551;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136264->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126882 = futhark_mc_task_136264->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136264->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136264->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t iter_128872;
    struct futhark_mc_segmap_parloop_struct_136271
    futhark_mc_segmap_parloop_struct_136271;
    
    futhark_mc_segmap_parloop_struct_136271.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136271.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136271.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136271.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136271.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136271.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136271.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136271.free_mem_126924 = mem_126924.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136272_task;
    
    futhark_mc_segmap_parloop_136272_task.name =
        "futhark_mc_segmap_parloop_136272";
    futhark_mc_segmap_parloop_136272_task.fn = futhark_mc_segmap_parloop_136272;
    futhark_mc_segmap_parloop_136272_task.args =
        &futhark_mc_segmap_parloop_struct_136271;
    futhark_mc_segmap_parloop_136272_task.iterations = iterations;
    futhark_mc_segmap_parloop_136272_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136272_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136272_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136272_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136272_task);
    
    if (futhark_mc_segmap_parloop_136272_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136272_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136272_total_end -
                 futhark_mc_segmap_parloop_136272_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136272_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136272_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136272_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136270_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136270_end -
                 futhark_mc_segmap_nested_task_136270_start;
        
        ctx->futhark_mc_segmap_nested_task_136270_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136270_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136270_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136286 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    char *free_mem_126946;
};
struct futhark_mc_segmap_parloop_struct_136288 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    char *free_mem_126946;
};
static int futhark_mc_segmap_parloop_136289(void *args, int64_t start,
                                            int64_t end, int flat_tid_121812,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136288
    *futhark_mc_segmap_parloop_struct_136288 =
    (struct futhark_mc_segmap_parloop_struct_136288 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136288->ctx;
    uint64_t futhark_mc_segmap_parloop_136289_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136289_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136288->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136288->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136288->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136288->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136288->free_mem_126946,
                                  .size =0, .references =NULL};
    size_t mem_126930_cached_sizze_136290 = 0;
    char *mem_126930 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128910 = start;
    
    if (mem_126930_cached_sizze_136290 < (size_t) bytes_126925) {
        mem_126930 = realloc(mem_126930, bytes_126925);
        mem_126930_cached_sizze_136290 = bytes_126925;
    }
    for (; iter_128910 < end; iter_128910++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128916 = m_119474;
        int64_t gtid_121813 = iter_128910;
        int64_t remnant_128917 = iter_128910 - gtid_121813;
        
        for (int64_t i_128911 = 0; i_128911 < n_119475; i_128911++) {
            int64_t x_128913 = ((int64_t *) mem_126921.mem)[gtid_121813 *
                                                            n_119475 +
                                                            i_128911];
            float i64_res_128914 = sitofp_i64_f32(x_128913);
            
            ((float *) mem_126930)[i_128911] = i64_res_128914;
        }
        memmove(mem_126946.mem + gtid_121813 * n_119475 * (int64_t) 4,
                mem_126930 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_126930);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136289_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136289_end -
                 futhark_mc_segmap_parloop_136289_start;
        
        ctx->futhark_mc_segmap_parloop_136289_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136289_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136289_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136287(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121812 = tid;
    int num_tasks_128909 = info.nsubtasks;
    struct futhark_mc_task_136286 *futhark_mc_task_136286 =
                                  (struct futhark_mc_task_136286 *) args;
    struct futhark_context *ctx = futhark_mc_task_136286->ctx;
    uint64_t futhark_mc_segmap_task_136287_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136287_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136286->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136286->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136286->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136286->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136286->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t iter_128910;
    struct futhark_mc_segmap_parloop_struct_136288
    futhark_mc_segmap_parloop_struct_136288;
    
    futhark_mc_segmap_parloop_struct_136288.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136288.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136288.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136288.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136288.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136288.free_mem_126946 = mem_126946.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136289_task;
    
    futhark_mc_segmap_parloop_136289_task.name =
        "futhark_mc_segmap_parloop_136289";
    futhark_mc_segmap_parloop_136289_task.fn = futhark_mc_segmap_parloop_136289;
    futhark_mc_segmap_parloop_136289_task.args =
        &futhark_mc_segmap_parloop_struct_136288;
    futhark_mc_segmap_parloop_136289_task.iterations = iterations;
    futhark_mc_segmap_parloop_136289_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136289_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136289_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136289_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136289_task);
    
    if (futhark_mc_segmap_parloop_136289_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136289_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136289_total_end -
                 futhark_mc_segmap_parloop_136289_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136289_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136289_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136289_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136287_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136287_end -
                 futhark_mc_segmap_task_136287_start;
        
        ctx->futhark_mc_segmap_task_136287_runs[tid]++;
        ctx->futhark_mc_segmap_task_136287_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136287_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136292 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    char *free_mem_126946;
};
struct futhark_mc_task_136295 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121815;
    char *free_mem_126921;
    char *free_mem_126927;
};
struct futhark_mc_segmap_parloop_struct_136297 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121815;
    char *free_mem_126921;
    char *free_mem_126927;
};
static int futhark_mc_segmap_parloop_136298(void *args, int64_t start,
                                            int64_t end, int flat_tid_121816,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136297
    *futhark_mc_segmap_parloop_struct_136297 =
    (struct futhark_mc_segmap_parloop_struct_136297 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136297->ctx;
    uint64_t futhark_mc_segmap_parloop_136298_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136298_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136297->free_n_119475;
    int64_t gtid_121815 =
            futhark_mc_segmap_parloop_struct_136297->free_gtid_121815;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136297->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126927 = {.desc ="mem_126927", .mem =
                                  futhark_mc_segmap_parloop_struct_136297->free_mem_126927,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128925 = start;
    
    for (; iter_128925 < end; iter_128925++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128926 = n_119475;
        int64_t gtid_121817 = iter_128925;
        int64_t remnant_128927 = iter_128925 - gtid_121817;
        int64_t x_128920 = ((int64_t *) mem_126921.mem)[gtid_121815 * n_119475 +
                                                        gtid_121817];
        float i64_res_128921 = sitofp_i64_f32(x_128920);
        
        ((float *) mem_126927.mem)[gtid_121817] = i64_res_128921;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136298_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136298_end -
                 futhark_mc_segmap_parloop_136298_start;
        
        ctx->futhark_mc_segmap_parloop_136298_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136298_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136298_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136296(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121816 = tid;
    int num_tasks_128924 = info.nsubtasks;
    struct futhark_mc_task_136295 *futhark_mc_task_136295 =
                                  (struct futhark_mc_task_136295 *) args;
    struct futhark_context *ctx = futhark_mc_task_136295->ctx;
    uint64_t futhark_mc_segmap_task_136296_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136296_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136295->free_n_119475;
    int64_t gtid_121815 = futhark_mc_task_136295->free_gtid_121815;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136295->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126927 = {.desc ="mem_126927", .mem =
                                  futhark_mc_task_136295->free_mem_126927,
                                  .size =0, .references =NULL};
    int64_t iter_128925;
    struct futhark_mc_segmap_parloop_struct_136297
    futhark_mc_segmap_parloop_struct_136297;
    
    futhark_mc_segmap_parloop_struct_136297.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136297.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136297.free_gtid_121815 = gtid_121815;
    futhark_mc_segmap_parloop_struct_136297.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136297.free_mem_126927 = mem_126927.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136298_task;
    
    futhark_mc_segmap_parloop_136298_task.name =
        "futhark_mc_segmap_parloop_136298";
    futhark_mc_segmap_parloop_136298_task.fn = futhark_mc_segmap_parloop_136298;
    futhark_mc_segmap_parloop_136298_task.args =
        &futhark_mc_segmap_parloop_struct_136297;
    futhark_mc_segmap_parloop_136298_task.iterations = iterations;
    futhark_mc_segmap_parloop_136298_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136298_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136298_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136298_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136298_task);
    
    if (futhark_mc_segmap_parloop_136298_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136298_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136298_total_end -
                 futhark_mc_segmap_parloop_136298_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136298_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136298_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136298_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136296_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136296_end -
                 futhark_mc_segmap_task_136296_start;
        
        ctx->futhark_mc_segmap_task_136296_runs[tid]++;
        ctx->futhark_mc_segmap_task_136296_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136296_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136293(void *args, int64_t start,
                                            int64_t end, int flat_tid_121814,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136292
    *futhark_mc_segmap_parloop_struct_136292 =
    (struct futhark_mc_segmap_parloop_struct_136292 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136292->ctx;
    uint64_t futhark_mc_segmap_parloop_136293_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136293_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136292->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136292->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136292->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136292->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136292->free_mem_126946,
                                  .size =0, .references =NULL};
    size_t mem_126927_cached_sizze_136294 = 0;
    char *mem_126927 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128919 = start;
    
    if (mem_126927_cached_sizze_136294 < (size_t) bytes_126925) {
        mem_126927 = realloc(mem_126927, bytes_126925);
        mem_126927_cached_sizze_136294 = bytes_126925;
    }
    for (; iter_128919 < end; iter_128919++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128922 = m_119474;
        int64_t gtid_121815 = iter_128919;
        int64_t remnant_128923 = iter_128919 - gtid_121815;
        int64_t flat_tid_121816 = (int64_t) 0;
        int32_t num_tasks_128924;
        struct futhark_mc_task_136295 futhark_mc_task_136295;
        
        futhark_mc_task_136295.ctx = ctx;
        futhark_mc_task_136295.free_n_119475 = n_119475;
        futhark_mc_task_136295.free_gtid_121815 = gtid_121815;
        futhark_mc_task_136295.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136295.free_mem_126927 = mem_126927;
        
        struct scheduler_segop futhark_mc_task_136295_task;
        
        futhark_mc_task_136295_task.args = &futhark_mc_task_136295;
        futhark_mc_task_136295_task.top_level_fn =
            futhark_mc_segmap_task_136296;
        futhark_mc_task_136295_task.name = "futhark_mc_segmap_task_136296";
        futhark_mc_task_136295_task.iterations = n_119475;
        futhark_mc_task_136295_task.task_time =
            &ctx->futhark_mc_segmap_task_136296_total_time;
        futhark_mc_task_136295_task.task_iter =
            &ctx->futhark_mc_segmap_task_136296_total_iter;
        futhark_mc_task_136295_task.sched = STATIC;
        futhark_mc_task_136295_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136296_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136295_task);
        
        if (futhark_mc_segmap_task_136296_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_126946.mem + gtid_121815 * n_119475 * (int64_t) 4,
                mem_126927 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_126927);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136293_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136293_end -
                 futhark_mc_segmap_parloop_136293_start;
        
        ctx->futhark_mc_segmap_parloop_136293_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136293_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136293_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136291(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121814 = tid;
    int num_tasks_128909 = info.nsubtasks;
    struct futhark_mc_task_136286 *futhark_mc_task_136286 =
                                  (struct futhark_mc_task_136286 *) args;
    struct futhark_context *ctx = futhark_mc_task_136286->ctx;
    uint64_t futhark_mc_segmap_nested_task_136291_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136291_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136286->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136286->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136286->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136286->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136286->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t iter_128919;
    struct futhark_mc_segmap_parloop_struct_136292
    futhark_mc_segmap_parloop_struct_136292;
    
    futhark_mc_segmap_parloop_struct_136292.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136292.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136292.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136292.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136292.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136292.free_mem_126946 = mem_126946.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136293_task;
    
    futhark_mc_segmap_parloop_136293_task.name =
        "futhark_mc_segmap_parloop_136293";
    futhark_mc_segmap_parloop_136293_task.fn = futhark_mc_segmap_parloop_136293;
    futhark_mc_segmap_parloop_136293_task.args =
        &futhark_mc_segmap_parloop_struct_136292;
    futhark_mc_segmap_parloop_136293_task.iterations = iterations;
    futhark_mc_segmap_parloop_136293_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136293_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136293_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136293_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136293_task);
    
    if (futhark_mc_segmap_parloop_136293_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136293_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136293_total_end -
                 futhark_mc_segmap_parloop_136293_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136293_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136293_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136293_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136291_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136291_end -
                 futhark_mc_segmap_nested_task_136291_start;
        
        ctx->futhark_mc_segmap_nested_task_136291_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136291_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136291_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136299 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_i_119551;
    int64_t free_bytes_126947;
    char *free_mem_126968;
};
struct futhark_mc_segmap_parloop_struct_136301 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_i_119551;
    int64_t free_bytes_126947;
    char *free_mem_126968;
};
static int futhark_mc_segmap_parloop_136302(void *args, int64_t start,
                                            int64_t end, int flat_tid_121822,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136301
    *futhark_mc_segmap_parloop_struct_136301 =
    (struct futhark_mc_segmap_parloop_struct_136301 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136301->ctx;
    uint64_t futhark_mc_segmap_parloop_136302_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136302_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136301->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136301->free_css_chunk_len_119521;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136301->free_i_119551;
    int64_t bytes_126947 =
            futhark_mc_segmap_parloop_struct_136301->free_bytes_126947;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136301->free_mem_126968,
                                  .size =0, .references =NULL};
    size_t mem_126952_cached_sizze_136303 = 0;
    char *mem_126952 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128929 = start;
    
    if (mem_126952_cached_sizze_136303 < (size_t) bytes_126947) {
        mem_126952 = realloc(mem_126952, bytes_126947);
        mem_126952_cached_sizze_136303 = bytes_126947;
    }
    for (; iter_128929 < end; iter_128929++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128937 = n_p_119477;
        int64_t gtid_121823 = iter_128929;
        int64_t remnant_128938 = iter_128929 - gtid_121823;
        
        for (int64_t i_128930 = 0; i_128930 < css_chunk_len_119521;
             i_128930++) {
            int64_t y_128932 = mul64(n_p_119477, i_128930);
            int64_t res_idx_128933 = add64(y_128932, gtid_121823);
            bool cond_128934 = slt64(i_119551, res_idx_128933);
            int64_t defunc_0_f_res_128935;
            
            if (cond_128934) {
                defunc_0_f_res_128935 = (int64_t) -1;
            } else {
                defunc_0_f_res_128935 = res_idx_128933;
            }
            ((int64_t *) mem_126952)[i_128930] = defunc_0_f_res_128935;
        }
        memmove(mem_126968.mem + gtid_121823 * css_chunk_len_119521 *
                (int64_t) 8, mem_126952 + (int64_t) 0, css_chunk_len_119521 *
                (int64_t) 8);
    }
    
  cleanup:
    { }
    free(mem_126952);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136302_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136302_end -
                 futhark_mc_segmap_parloop_136302_start;
        
        ctx->futhark_mc_segmap_parloop_136302_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136302_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136302_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136300(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121822 = tid;
    int num_tasks_128928 = info.nsubtasks;
    struct futhark_mc_task_136299 *futhark_mc_task_136299 =
                                  (struct futhark_mc_task_136299 *) args;
    struct futhark_context *ctx = futhark_mc_task_136299->ctx;
    uint64_t futhark_mc_segmap_task_136300_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136300_start = get_wall_time();
    
    int64_t n_p_119477 = futhark_mc_task_136299->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136299->free_css_chunk_len_119521;
    int64_t i_119551 = futhark_mc_task_136299->free_i_119551;
    int64_t bytes_126947 = futhark_mc_task_136299->free_bytes_126947;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136299->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t iter_128929;
    struct futhark_mc_segmap_parloop_struct_136301
    futhark_mc_segmap_parloop_struct_136301;
    
    futhark_mc_segmap_parloop_struct_136301.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136301.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136301.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136301.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136301.free_bytes_126947 = bytes_126947;
    futhark_mc_segmap_parloop_struct_136301.free_mem_126968 = mem_126968.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136302_task;
    
    futhark_mc_segmap_parloop_136302_task.name =
        "futhark_mc_segmap_parloop_136302";
    futhark_mc_segmap_parloop_136302_task.fn = futhark_mc_segmap_parloop_136302;
    futhark_mc_segmap_parloop_136302_task.args =
        &futhark_mc_segmap_parloop_struct_136301;
    futhark_mc_segmap_parloop_136302_task.iterations = iterations;
    futhark_mc_segmap_parloop_136302_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136302_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136302_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136302_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136302_task);
    
    if (futhark_mc_segmap_parloop_136302_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136302_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136302_total_end -
                 futhark_mc_segmap_parloop_136302_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136302_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136302_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136302_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136300_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136300_end -
                 futhark_mc_segmap_task_136300_start;
        
        ctx->futhark_mc_segmap_task_136300_runs[tid]++;
        ctx->futhark_mc_segmap_task_136300_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136300_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136305 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_i_119551;
    int64_t free_bytes_126947;
    char *free_mem_126968;
};
struct futhark_mc_task_136308 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_i_119551;
    int64_t free_gtid_121825;
    char *free_mem_126949;
};
struct futhark_mc_segmap_parloop_struct_136310 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_i_119551;
    int64_t free_gtid_121825;
    char *free_mem_126949;
};
static int futhark_mc_segmap_parloop_136311(void *args, int64_t start,
                                            int64_t end, int flat_tid_121826,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136310
    *futhark_mc_segmap_parloop_struct_136310 =
    (struct futhark_mc_segmap_parloop_struct_136310 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136310->ctx;
    uint64_t futhark_mc_segmap_parloop_136311_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136311_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136310->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136310->free_css_chunk_len_119521;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136310->free_i_119551;
    int64_t gtid_121825 =
            futhark_mc_segmap_parloop_struct_136310->free_gtid_121825;
    struct memblock mem_126949 = {.desc ="mem_126949", .mem =
                                  futhark_mc_segmap_parloop_struct_136310->free_mem_126949,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128948 = start;
    
    for (; iter_128948 < end; iter_128948++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128949 = css_chunk_len_119521;
        int64_t gtid_121827 = iter_128948;
        int64_t remnant_128950 = iter_128948 - gtid_121827;
        int64_t y_128941 = mul64(n_p_119477, gtid_121827);
        int64_t res_idx_128942 = add64(gtid_121825, y_128941);
        bool cond_128943 = slt64(i_119551, res_idx_128942);
        int64_t defunc_0_f_res_128944;
        
        if (cond_128943) {
            defunc_0_f_res_128944 = (int64_t) -1;
        } else {
            defunc_0_f_res_128944 = res_idx_128942;
        }
        ((int64_t *) mem_126949.mem)[gtid_121827] = defunc_0_f_res_128944;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136311_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136311_end -
                 futhark_mc_segmap_parloop_136311_start;
        
        ctx->futhark_mc_segmap_parloop_136311_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136311_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136311_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136309(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121826 = tid;
    int num_tasks_128947 = info.nsubtasks;
    struct futhark_mc_task_136308 *futhark_mc_task_136308 =
                                  (struct futhark_mc_task_136308 *) args;
    struct futhark_context *ctx = futhark_mc_task_136308->ctx;
    uint64_t futhark_mc_segmap_task_136309_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136309_start = get_wall_time();
    
    int64_t n_p_119477 = futhark_mc_task_136308->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136308->free_css_chunk_len_119521;
    int64_t i_119551 = futhark_mc_task_136308->free_i_119551;
    int64_t gtid_121825 = futhark_mc_task_136308->free_gtid_121825;
    struct memblock mem_126949 = {.desc ="mem_126949", .mem =
                                  futhark_mc_task_136308->free_mem_126949,
                                  .size =0, .references =NULL};
    int64_t iter_128948;
    struct futhark_mc_segmap_parloop_struct_136310
    futhark_mc_segmap_parloop_struct_136310;
    
    futhark_mc_segmap_parloop_struct_136310.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136310.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136310.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136310.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136310.free_gtid_121825 = gtid_121825;
    futhark_mc_segmap_parloop_struct_136310.free_mem_126949 = mem_126949.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136311_task;
    
    futhark_mc_segmap_parloop_136311_task.name =
        "futhark_mc_segmap_parloop_136311";
    futhark_mc_segmap_parloop_136311_task.fn = futhark_mc_segmap_parloop_136311;
    futhark_mc_segmap_parloop_136311_task.args =
        &futhark_mc_segmap_parloop_struct_136310;
    futhark_mc_segmap_parloop_136311_task.iterations = iterations;
    futhark_mc_segmap_parloop_136311_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136311_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136311_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136311_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136311_task);
    
    if (futhark_mc_segmap_parloop_136311_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136311_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136311_total_end -
                 futhark_mc_segmap_parloop_136311_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136311_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136311_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136311_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136309_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136309_end -
                 futhark_mc_segmap_task_136309_start;
        
        ctx->futhark_mc_segmap_task_136309_runs[tid]++;
        ctx->futhark_mc_segmap_task_136309_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136309_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136306(void *args, int64_t start,
                                            int64_t end, int flat_tid_121824,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136305
    *futhark_mc_segmap_parloop_struct_136305 =
    (struct futhark_mc_segmap_parloop_struct_136305 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136305->ctx;
    uint64_t futhark_mc_segmap_parloop_136306_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136306_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136305->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136305->free_css_chunk_len_119521;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136305->free_i_119551;
    int64_t bytes_126947 =
            futhark_mc_segmap_parloop_struct_136305->free_bytes_126947;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136305->free_mem_126968,
                                  .size =0, .references =NULL};
    size_t mem_126949_cached_sizze_136307 = 0;
    char *mem_126949 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128940 = start;
    
    if (mem_126949_cached_sizze_136307 < (size_t) bytes_126947) {
        mem_126949 = realloc(mem_126949, bytes_126947);
        mem_126949_cached_sizze_136307 = bytes_126947;
    }
    for (; iter_128940 < end; iter_128940++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128945 = n_p_119477;
        int64_t gtid_121825 = iter_128940;
        int64_t remnant_128946 = iter_128940 - gtid_121825;
        int64_t flat_tid_121826 = (int64_t) 0;
        int32_t num_tasks_128947;
        struct futhark_mc_task_136308 futhark_mc_task_136308;
        
        futhark_mc_task_136308.ctx = ctx;
        futhark_mc_task_136308.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136308.free_css_chunk_len_119521 = css_chunk_len_119521;
        futhark_mc_task_136308.free_i_119551 = i_119551;
        futhark_mc_task_136308.free_gtid_121825 = gtid_121825;
        futhark_mc_task_136308.free_mem_126949 = mem_126949;
        
        struct scheduler_segop futhark_mc_task_136308_task;
        
        futhark_mc_task_136308_task.args = &futhark_mc_task_136308;
        futhark_mc_task_136308_task.top_level_fn =
            futhark_mc_segmap_task_136309;
        futhark_mc_task_136308_task.name = "futhark_mc_segmap_task_136309";
        futhark_mc_task_136308_task.iterations = css_chunk_len_119521;
        futhark_mc_task_136308_task.task_time =
            &ctx->futhark_mc_segmap_task_136309_total_time;
        futhark_mc_task_136308_task.task_iter =
            &ctx->futhark_mc_segmap_task_136309_total_iter;
        futhark_mc_task_136308_task.sched = STATIC;
        futhark_mc_task_136308_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136309_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136308_task);
        
        if (futhark_mc_segmap_task_136309_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_126968.mem + gtid_121825 * css_chunk_len_119521 *
                (int64_t) 8, mem_126949 + (int64_t) 0, css_chunk_len_119521 *
                (int64_t) 8);
    }
    
  cleanup:
    { }
    free(mem_126949);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136306_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136306_end -
                 futhark_mc_segmap_parloop_136306_start;
        
        ctx->futhark_mc_segmap_parloop_136306_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136306_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136306_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136304(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121824 = tid;
    int num_tasks_128928 = info.nsubtasks;
    struct futhark_mc_task_136299 *futhark_mc_task_136299 =
                                  (struct futhark_mc_task_136299 *) args;
    struct futhark_context *ctx = futhark_mc_task_136299->ctx;
    uint64_t futhark_mc_segmap_nested_task_136304_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136304_start = get_wall_time();
    
    int64_t n_p_119477 = futhark_mc_task_136299->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136299->free_css_chunk_len_119521;
    int64_t i_119551 = futhark_mc_task_136299->free_i_119551;
    int64_t bytes_126947 = futhark_mc_task_136299->free_bytes_126947;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136299->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t iter_128940;
    struct futhark_mc_segmap_parloop_struct_136305
    futhark_mc_segmap_parloop_struct_136305;
    
    futhark_mc_segmap_parloop_struct_136305.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136305.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136305.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136305.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136305.free_bytes_126947 = bytes_126947;
    futhark_mc_segmap_parloop_struct_136305.free_mem_126968 = mem_126968.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136306_task;
    
    futhark_mc_segmap_parloop_136306_task.name =
        "futhark_mc_segmap_parloop_136306";
    futhark_mc_segmap_parloop_136306_task.fn = futhark_mc_segmap_parloop_136306;
    futhark_mc_segmap_parloop_136306_task.args =
        &futhark_mc_segmap_parloop_struct_136305;
    futhark_mc_segmap_parloop_136306_task.iterations = iterations;
    futhark_mc_segmap_parloop_136306_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136306_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136306_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136306_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136306_task);
    
    if (futhark_mc_segmap_parloop_136306_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136306_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136306_total_end -
                 futhark_mc_segmap_parloop_136306_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136306_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136306_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136306_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136304_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136304_end -
                 futhark_mc_segmap_nested_task_136304_start;
        
        ctx->futhark_mc_segmap_nested_task_136304_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136304_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136304_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136312 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    int64_t free_bytes_126969;
    char *free_mem_126990;
};
struct futhark_mc_segmap_parloop_struct_136314 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    int64_t free_bytes_126969;
    char *free_mem_126990;
};
static int futhark_mc_segmap_parloop_136315(void *args, int64_t start,
                                            int64_t end, int flat_tid_121835,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136314
    *futhark_mc_segmap_parloop_struct_136314 =
    (struct futhark_mc_segmap_parloop_struct_136314 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136314->ctx;
    uint64_t futhark_mc_segmap_parloop_136315_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136315_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136314->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136314->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136314->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136314->free_css_chunk_len_119521;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136314->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136314->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 =
            futhark_mc_segmap_parloop_struct_136314->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_segmap_parloop_struct_136314->free_mem_126990,
                                  .size =0, .references =NULL};
    size_t mem_126974_cached_sizze_136316 = 0;
    char *mem_126974 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128952 = start;
    
    if (mem_126974_cached_sizze_136316 < (size_t) bytes_126969) {
        mem_126974 = realloc(mem_126974, bytes_126969);
        mem_126974_cached_sizze_136316 = bytes_126969;
    }
    for (; iter_128952 < end; iter_128952++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128971 = m_119474;
        int64_t gtid_121836 = iter_128952;
        int64_t remnant_128972 = iter_128952 - gtid_121836;
        
        for (int64_t i_128953 = 0; i_128953 < n_p_119477; i_128953++) {
            float defunc_2_reduce_res_128955;
            float redout_128957 = 0.0F;
            
            for (int64_t i_128956 = 0; i_128956 < css_chunk_len_119521;
                 i_128956++) {
                int64_t x_128958 = ((int64_t *) mem_126968.mem)[i_128953 *
                                                                css_chunk_len_119521 +
                                                                i_128956];
                bool cond_128959 = sle64((int64_t) 0, x_128958);
                float defunc_0_f_res_128960;
                
                if (cond_128959) {
                    bool y_128961 = slt64(x_128958, n_119475);
                    bool bounds_check_128962 = cond_128959 && y_128961;
                    bool index_certs_128963;
                    
                    if (!bounds_check_128962) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) x_128958,
                                      "] out of bounds for array of shape [",
                                      (long long) n_119475, "].",
                                      "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:129:30-55\n   #3  stl.fut:127:13-136:26\n   #4  stl.fut:125:5-137:11\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
                        return 1;
                    }
                    
                    float defunc_0_f_res_t_res_128964 =
                          ((float *) Y_mem_126881.mem)[gtid_121836 * n_119475 +
                                                       x_128958];
                    
                    defunc_0_f_res_128960 = defunc_0_f_res_t_res_128964;
                } else {
                    defunc_0_f_res_128960 = NAN;
                }
                
                bool isnan_res_128965;
                
                isnan_res_128965 = futrts_isnan32(defunc_0_f_res_128960);
                
                float defunc_0_f_res_128966;
                
                if (isnan_res_128965) {
                    defunc_0_f_res_128966 = 0.0F;
                } else {
                    defunc_0_f_res_128966 = 1.0F;
                }
                
                float defunc_1_op_res_128967 = defunc_0_f_res_128966 +
                      redout_128957;
                float redout_tmp_128974 = defunc_1_op_res_128967;
                
                redout_128957 = redout_tmp_128974;
            }
            defunc_2_reduce_res_128955 = redout_128957;
            
            bool sub_series_is_not_all_nan_128968 = 0.0F <
                 defunc_2_reduce_res_128955;
            bool assert_c_128969;
            
            if (!sub_series_is_not_all_nan_128968) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "Assertion is false: sub_series_is_not_all_nan",
                                       "-> #0  stl.fut:134:34-75\n   #1  stl.fut:127:13-136:26\n   #2  stl.fut:125:5-137:11\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
                return 1;
            }
            ((float *) mem_126974)[i_128953] = defunc_2_reduce_res_128955;
        }
        memmove(mem_126990.mem + gtid_121836 * n_p_119477 * (int64_t) 4,
                mem_126974 + (int64_t) 0, n_p_119477 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_126974);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136315_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136315_end -
                 futhark_mc_segmap_parloop_136315_start;
        
        ctx->futhark_mc_segmap_parloop_136315_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136315_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136315_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136313(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121835 = tid;
    int num_tasks_128951 = info.nsubtasks;
    struct futhark_mc_task_136312 *futhark_mc_task_136312 =
                                  (struct futhark_mc_task_136312 *) args;
    struct futhark_context *ctx = futhark_mc_task_136312->ctx;
    uint64_t futhark_mc_segmap_task_136313_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136313_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136312->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136312->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136312->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136312->free_css_chunk_len_119521;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136312->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136312->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 = futhark_mc_task_136312->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_task_136312->free_mem_126990,
                                  .size =0, .references =NULL};
    int64_t iter_128952;
    struct futhark_mc_segmap_parloop_struct_136314
    futhark_mc_segmap_parloop_struct_136314;
    
    futhark_mc_segmap_parloop_struct_136314.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136314.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136314.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136314.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136314.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136314.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136314.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136314.free_bytes_126969 = bytes_126969;
    futhark_mc_segmap_parloop_struct_136314.free_mem_126990 = mem_126990.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136315_task;
    
    futhark_mc_segmap_parloop_136315_task.name =
        "futhark_mc_segmap_parloop_136315";
    futhark_mc_segmap_parloop_136315_task.fn = futhark_mc_segmap_parloop_136315;
    futhark_mc_segmap_parloop_136315_task.args =
        &futhark_mc_segmap_parloop_struct_136314;
    futhark_mc_segmap_parloop_136315_task.iterations = iterations;
    futhark_mc_segmap_parloop_136315_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136315_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136315_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136315_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136315_task);
    
    if (futhark_mc_segmap_parloop_136315_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136315_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136315_total_end -
                 futhark_mc_segmap_parloop_136315_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136315_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136315_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136315_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136313_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136313_end -
                 futhark_mc_segmap_task_136313_start;
        
        ctx->futhark_mc_segmap_task_136313_runs[tid]++;
        ctx->futhark_mc_segmap_task_136313_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136313_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136318 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    int64_t free_bytes_126969;
    char *free_mem_126990;
};
struct futhark_mc_task_136321 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_121838;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    char *free_mem_126971;
};
struct futhark_mc_segmap_parloop_struct_136323 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_121838;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    char *free_mem_126971;
};
static int futhark_mc_segmap_parloop_136324(void *args, int64_t start,
                                            int64_t end, int flat_tid_121839,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136323
    *futhark_mc_segmap_parloop_struct_136323 =
    (struct futhark_mc_segmap_parloop_struct_136323 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136323->ctx;
    uint64_t futhark_mc_segmap_parloop_136324_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136324_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136323->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136323->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136323->free_css_chunk_len_119521;
    int64_t gtid_121838 =
            futhark_mc_segmap_parloop_struct_136323->free_gtid_121838;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136323->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136323->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126971 = {.desc ="mem_126971", .mem =
                                  futhark_mc_segmap_parloop_struct_136323->free_mem_126971,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129009 = start;
    
    for (; iter_129009 < end; iter_129009++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129022 = n_p_119477;
        int64_t gtid_121840 = iter_129009;
        int64_t remnant_129023 = iter_129009 - gtid_121840;
        float defunc_2_reduce_res_128991;
        float redout_129011 = 0.0F;
        
        for (int64_t i_129010 = 0; i_129010 < css_chunk_len_119521;
             i_129010++) {
            int64_t x_129012 = ((int64_t *) mem_126968.mem)[gtid_121840 *
                                                            css_chunk_len_119521 +
                                                            i_129010];
            bool cond_129013 = sle64((int64_t) 0, x_129012);
            float defunc_0_f_res_129014;
            
            if (cond_129013) {
                bool y_129015 = slt64(x_129012, n_119475);
                bool bounds_check_129016 = cond_129013 && y_129015;
                bool index_certs_129017;
                
                if (!bounds_check_129016) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_129012,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:129:30-55\n   #3  stl.fut:127:13-136:26\n   #4  stl.fut:125:5-137:11\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_129018 =
                      ((float *) Y_mem_126881.mem)[gtid_121838 * n_119475 +
                                                   x_129012];
                
                defunc_0_f_res_129014 = defunc_0_f_res_t_res_129018;
            } else {
                defunc_0_f_res_129014 = NAN;
            }
            
            bool isnan_res_129019;
            
            isnan_res_129019 = futrts_isnan32(defunc_0_f_res_129014);
            
            float defunc_0_f_res_129020;
            
            if (isnan_res_129019) {
                defunc_0_f_res_129020 = 0.0F;
            } else {
                defunc_0_f_res_129020 = 1.0F;
            }
            
            float defunc_1_op_res_129021 = defunc_0_f_res_129020 +
                  redout_129011;
            float redout_tmp_129024 = defunc_1_op_res_129021;
            
            redout_129011 = redout_tmp_129024;
        }
        defunc_2_reduce_res_128991 = redout_129011;
        
        bool sub_series_is_not_all_nan_129004 = 0.0F <
             defunc_2_reduce_res_128991;
        bool assert_c_129005;
        
        if (!sub_series_is_not_all_nan_129004) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "Assertion is false: sub_series_is_not_all_nan",
                                   "-> #0  stl.fut:134:34-75\n   #1  stl.fut:127:13-136:26\n   #2  stl.fut:125:5-137:11\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
            return 1;
        }
        ((float *) mem_126971.mem)[gtid_121840] = defunc_2_reduce_res_128991;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136324_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136324_end -
                 futhark_mc_segmap_parloop_136324_start;
        
        ctx->futhark_mc_segmap_parloop_136324_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136324_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136324_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136322(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121839 = tid;
    int num_tasks_129008 = info.nsubtasks;
    struct futhark_mc_task_136321 *futhark_mc_task_136321 =
                                  (struct futhark_mc_task_136321 *) args;
    struct futhark_context *ctx = futhark_mc_task_136321->ctx;
    uint64_t futhark_mc_segmap_task_136322_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136322_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136321->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136321->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136321->free_css_chunk_len_119521;
    int64_t gtid_121838 = futhark_mc_task_136321->free_gtid_121838;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136321->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136321->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126971 = {.desc ="mem_126971", .mem =
                                  futhark_mc_task_136321->free_mem_126971,
                                  .size =0, .references =NULL};
    int64_t iter_129009;
    struct futhark_mc_segmap_parloop_struct_136323
    futhark_mc_segmap_parloop_struct_136323;
    
    futhark_mc_segmap_parloop_struct_136323.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136323.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136323.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136323.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136323.free_gtid_121838 = gtid_121838;
    futhark_mc_segmap_parloop_struct_136323.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136323.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136323.free_mem_126971 = mem_126971.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136324_task;
    
    futhark_mc_segmap_parloop_136324_task.name =
        "futhark_mc_segmap_parloop_136324";
    futhark_mc_segmap_parloop_136324_task.fn = futhark_mc_segmap_parloop_136324;
    futhark_mc_segmap_parloop_136324_task.args =
        &futhark_mc_segmap_parloop_struct_136323;
    futhark_mc_segmap_parloop_136324_task.iterations = iterations;
    futhark_mc_segmap_parloop_136324_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136324_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136324_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136324_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136324_task);
    
    if (futhark_mc_segmap_parloop_136324_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136324_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136324_total_end -
                 futhark_mc_segmap_parloop_136324_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136324_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136324_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136324_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136322_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136322_end -
                 futhark_mc_segmap_task_136322_start;
        
        ctx->futhark_mc_segmap_task_136322_runs[tid]++;
        ctx->futhark_mc_segmap_task_136322_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136322_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136326 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_121838;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    char *free_mem_126971;
};
struct futhark_mc_task_136328 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_121838;
    int64_t free_gtid_121842;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    float *retval_defunc_2_reduce_res_128976;
};
struct futhark_mc_segred_stage_1_parloop_struct_136331 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_121838;
    int64_t free_gtid_121842;
    char *free_Y_mem_126881;
    char *free_mem_126968;
    char *free_reduce_stage_1_tid_res_arr_mem_129041;
};
static int futhark_mc_segred_stage_1_parloop_136332(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_121843,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136331
    *futhark_mc_segred_stage_1_parloop_struct_136331 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136331 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136331->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136332_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136332_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136331->free_n_119475;
    int64_t css_chunk_len_119521 =
            futhark_mc_segred_stage_1_parloop_struct_136331->free_css_chunk_len_119521;
    int64_t gtid_121838 =
            futhark_mc_segred_stage_1_parloop_struct_136331->free_gtid_121838;
    int64_t gtid_121842 =
            futhark_mc_segred_stage_1_parloop_struct_136331->free_gtid_121842;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segred_stage_1_parloop_struct_136331->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136331->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129041 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129041",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136331->free_reduce_stage_1_tid_res_arr_mem_129041,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129043 = start;
    float x_129026;
    float x_129027;
    float local_acc_129044 = 0.0F;
    
    for (; iter_129043 < end; iter_129043++) {
        int64_t gtid_121844 = iter_129043;
        int64_t x_129029 = ((int64_t *) mem_126968.mem)[gtid_121842 *
                                                        css_chunk_len_119521 +
                                                        gtid_121844];
        bool cond_129030 = sle64((int64_t) 0, x_129029);
        float defunc_0_f_res_129031;
        
        if (cond_129030) {
            bool y_129032 = slt64(x_129029, n_119475);
            bool bounds_check_129033 = cond_129030 && y_129032;
            bool index_certs_129034;
            
            if (!bounds_check_129033) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_129029,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:129:30-55\n   #3  stl.fut:127:13-136:26\n   #4  stl.fut:125:5-137:11\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_129035 =
                  ((float *) Y_mem_126881.mem)[gtid_121838 * n_119475 +
                                               x_129029];
            
            defunc_0_f_res_129031 = defunc_0_f_res_t_res_129035;
        } else {
            defunc_0_f_res_129031 = NAN;
        }
        
        bool isnan_res_129036;
        
        isnan_res_129036 = futrts_isnan32(defunc_0_f_res_129031);
        
        float defunc_0_f_res_129037;
        
        if (isnan_res_129036) {
            defunc_0_f_res_129037 = 0.0F;
        } else {
            defunc_0_f_res_129037 = 1.0F;
        }
        // save map-out results
        { }
        // Load accum params
        {
            x_129026 = local_acc_129044;
        }
        // Load next params
        {
            x_129027 = defunc_0_f_res_129037;
        }
        // Red body
        {
            float defunc_1_op_res_129028 = x_129026 + x_129027;
            
            local_acc_129044 = defunc_1_op_res_129028;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129041.mem)[flat_tid_121843] =
        local_acc_129044;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136332_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136332_end -
                 futhark_mc_segred_stage_1_parloop_136332_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136332_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136332_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136332_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136329(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121843 = tid;
    int num_tasks_129040 = info.nsubtasks;
    struct futhark_mc_task_136328 *futhark_mc_task_136328 =
                                  (struct futhark_mc_task_136328 *) args;
    struct futhark_context *ctx = futhark_mc_task_136328->ctx;
    uint64_t futhark_mc_segred_task_136329_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136329_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136328->free_n_119475;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136328->free_css_chunk_len_119521;
    int64_t gtid_121838 = futhark_mc_task_136328->free_gtid_121838;
    int64_t gtid_121842 = futhark_mc_task_136328->free_gtid_121842;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136328->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136328->free_mem_126968,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_128976 =
          *futhark_mc_task_136328->retval_defunc_2_reduce_res_128976;
    size_t reduce_stage_1_tid_res_arr_mem_129041_cached_sizze_136330 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129041 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129041_cached_sizze_136330 <
        (size_t) ((int64_t) 4 * num_tasks_129040)) {
        reduce_stage_1_tid_res_arr_mem_129041 =
            realloc(reduce_stage_1_tid_res_arr_mem_129041, (int64_t) 4 *
                    num_tasks_129040);
        reduce_stage_1_tid_res_arr_mem_129041_cached_sizze_136330 =
            (int64_t) 4 * num_tasks_129040;
    }
    
    int64_t iter_129043;
    struct futhark_mc_segred_stage_1_parloop_struct_136331
    futhark_mc_segred_stage_1_parloop_struct_136331;
    
    futhark_mc_segred_stage_1_parloop_struct_136331.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_gtid_121838 =
        gtid_121838;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_gtid_121842 =
        gtid_121842;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_mem_126968 =
        mem_126968.mem;
    futhark_mc_segred_stage_1_parloop_struct_136331.free_reduce_stage_1_tid_res_arr_mem_129041 =
        reduce_stage_1_tid_res_arr_mem_129041;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136332_task;
    
    futhark_mc_segred_stage_1_parloop_136332_task.name =
        "futhark_mc_segred_stage_1_parloop_136332";
    futhark_mc_segred_stage_1_parloop_136332_task.fn =
        futhark_mc_segred_stage_1_parloop_136332;
    futhark_mc_segred_stage_1_parloop_136332_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136331;
    futhark_mc_segred_stage_1_parloop_136332_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136332_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136332_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136332_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136332_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136332_task);
    
    if (futhark_mc_segred_stage_1_parloop_136332_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136332_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136332_total_end -
                 futhark_mc_segred_stage_1_parloop_136332_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136332_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136332_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136332_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128976 = 0.0F;
    }
    
    float x_129045;
    float x_129046;
    
    for (int32_t i_129048 = 0; i_129048 < num_tasks_129040; i_129048++) {
        flat_tid_121843 = i_129048;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129045 = defunc_2_reduce_res_128976;
            }
            // load next params
            {
                x_129046 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129041)[flat_tid_121843];
            }
            // red body
            {
                float defunc_1_op_res_129047 = x_129045 + x_129046;
                
                defunc_2_reduce_res_128976 = defunc_1_op_res_129047;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129041);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136329_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136329_end -
                 futhark_mc_segred_task_136329_start;
        
        ctx->futhark_mc_segred_task_136329_runs[tid]++;
        ctx->futhark_mc_segred_task_136329_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136329_iter[tid] += iterations;
    }
    *futhark_mc_task_136328->retval_defunc_2_reduce_res_128976 =
        defunc_2_reduce_res_128976;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136327(void *args, int64_t start,
                                            int64_t end, int flat_tid_121841,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136326
    *futhark_mc_segmap_parloop_struct_136326 =
    (struct futhark_mc_segmap_parloop_struct_136326 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136326->ctx;
    uint64_t futhark_mc_segmap_parloop_136327_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136327_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136326->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136326->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136326->free_css_chunk_len_119521;
    int64_t gtid_121838 =
            futhark_mc_segmap_parloop_struct_136326->free_gtid_121838;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136326->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136326->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126971 = {.desc ="mem_126971", .mem =
                                  futhark_mc_segmap_parloop_struct_136326->free_mem_126971,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129025 = start;
    
    for (; iter_129025 < end; iter_129025++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129038 = n_p_119477;
        int64_t gtid_121842 = iter_129025;
        int64_t remnant_129039 = iter_129025 - gtid_121842;
        float defunc_2_reduce_res_128976;
        int64_t flat_tid_121843 = (int64_t) 0;
        int32_t num_tasks_129040;
        struct futhark_mc_task_136328 futhark_mc_task_136328;
        
        futhark_mc_task_136328.ctx = ctx;
        futhark_mc_task_136328.free_n_119475 = n_119475;
        futhark_mc_task_136328.free_css_chunk_len_119521 = css_chunk_len_119521;
        futhark_mc_task_136328.free_gtid_121838 = gtid_121838;
        futhark_mc_task_136328.free_gtid_121842 = gtid_121842;
        futhark_mc_task_136328.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136328.free_mem_126968 = mem_126968.mem;
        futhark_mc_task_136328.retval_defunc_2_reduce_res_128976 =
            &defunc_2_reduce_res_128976;
        
        struct scheduler_segop futhark_mc_task_136328_task;
        
        futhark_mc_task_136328_task.args = &futhark_mc_task_136328;
        futhark_mc_task_136328_task.top_level_fn =
            futhark_mc_segred_task_136329;
        futhark_mc_task_136328_task.name = "futhark_mc_segred_task_136329";
        futhark_mc_task_136328_task.iterations = css_chunk_len_119521;
        futhark_mc_task_136328_task.task_time =
            &ctx->futhark_mc_segred_task_136329_total_time;
        futhark_mc_task_136328_task.task_iter =
            &ctx->futhark_mc_segred_task_136329_total_iter;
        futhark_mc_task_136328_task.sched = STATIC;
        futhark_mc_task_136328_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136329_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136328_task);
        
        if (futhark_mc_segred_task_136329_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        bool sub_series_is_not_all_nan_128989 = 0.0F <
             defunc_2_reduce_res_128976;
        bool assert_c_128990;
        
        if (!sub_series_is_not_all_nan_128989) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "Assertion is false: sub_series_is_not_all_nan",
                                   "-> #0  stl.fut:134:34-75\n   #1  stl.fut:127:13-136:26\n   #2  stl.fut:125:5-137:11\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
            return 1;
        }
        ((float *) mem_126971.mem)[gtid_121842] = defunc_2_reduce_res_128976;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136327_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136327_end -
                 futhark_mc_segmap_parloop_136327_start;
        
        ctx->futhark_mc_segmap_parloop_136327_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136327_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136327_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136325(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121841 = tid;
    int num_tasks_129008 = info.nsubtasks;
    struct futhark_mc_task_136321 *futhark_mc_task_136321 =
                                  (struct futhark_mc_task_136321 *) args;
    struct futhark_context *ctx = futhark_mc_task_136321->ctx;
    uint64_t futhark_mc_segmap_nested_task_136325_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136325_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136321->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136321->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136321->free_css_chunk_len_119521;
    int64_t gtid_121838 = futhark_mc_task_136321->free_gtid_121838;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136321->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136321->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126971 = {.desc ="mem_126971", .mem =
                                  futhark_mc_task_136321->free_mem_126971,
                                  .size =0, .references =NULL};
    int64_t iter_129025;
    struct futhark_mc_segmap_parloop_struct_136326
    futhark_mc_segmap_parloop_struct_136326;
    
    futhark_mc_segmap_parloop_struct_136326.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136326.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136326.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136326.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136326.free_gtid_121838 = gtid_121838;
    futhark_mc_segmap_parloop_struct_136326.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136326.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136326.free_mem_126971 = mem_126971.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136327_task;
    
    futhark_mc_segmap_parloop_136327_task.name =
        "futhark_mc_segmap_parloop_136327";
    futhark_mc_segmap_parloop_136327_task.fn = futhark_mc_segmap_parloop_136327;
    futhark_mc_segmap_parloop_136327_task.args =
        &futhark_mc_segmap_parloop_struct_136326;
    futhark_mc_segmap_parloop_136327_task.iterations = iterations;
    futhark_mc_segmap_parloop_136327_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136327_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136327_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136327_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136327_task);
    
    if (futhark_mc_segmap_parloop_136327_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136327_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136327_total_end -
                 futhark_mc_segmap_parloop_136327_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136327_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136327_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136327_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136325_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136325_end -
                 futhark_mc_segmap_nested_task_136325_start;
        
        ctx->futhark_mc_segmap_nested_task_136325_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136325_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136325_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136319(void *args, int64_t start,
                                            int64_t end, int flat_tid_121837,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136318
    *futhark_mc_segmap_parloop_struct_136318 =
    (struct futhark_mc_segmap_parloop_struct_136318 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136318->ctx;
    uint64_t futhark_mc_segmap_parloop_136319_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136319_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136318->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136318->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136318->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136318->free_css_chunk_len_119521;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136318->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136318->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 =
            futhark_mc_segmap_parloop_struct_136318->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_segmap_parloop_struct_136318->free_mem_126990,
                                  .size =0, .references =NULL};
    size_t mem_126971_cached_sizze_136320 = 0;
    char *mem_126971 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128975 = start;
    
    if (mem_126971_cached_sizze_136320 < (size_t) bytes_126969) {
        mem_126971 = realloc(mem_126971, bytes_126969);
        mem_126971_cached_sizze_136320 = bytes_126969;
    }
    for (; iter_128975 < end; iter_128975++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129006 = m_119474;
        int64_t gtid_121838 = iter_128975;
        int64_t remnant_129007 = iter_128975 - gtid_121838;
        int64_t flat_tid_121839 = (int64_t) 0;
        int32_t num_tasks_129008;
        int64_t flat_tid_121841 = (int64_t) 0;
        struct futhark_mc_task_136321 futhark_mc_task_136321;
        
        futhark_mc_task_136321.ctx = ctx;
        futhark_mc_task_136321.free_n_119475 = n_119475;
        futhark_mc_task_136321.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136321.free_css_chunk_len_119521 = css_chunk_len_119521;
        futhark_mc_task_136321.free_gtid_121838 = gtid_121838;
        futhark_mc_task_136321.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136321.free_mem_126968 = mem_126968.mem;
        futhark_mc_task_136321.free_mem_126971 = mem_126971;
        
        struct scheduler_segop futhark_mc_task_136321_task;
        
        futhark_mc_task_136321_task.args = &futhark_mc_task_136321;
        futhark_mc_task_136321_task.top_level_fn =
            futhark_mc_segmap_task_136322;
        futhark_mc_task_136321_task.name = "futhark_mc_segmap_task_136322";
        futhark_mc_task_136321_task.iterations = n_p_119477;
        futhark_mc_task_136321_task.task_time =
            &ctx->futhark_mc_segmap_task_136322_total_time;
        futhark_mc_task_136321_task.task_iter =
            &ctx->futhark_mc_segmap_task_136322_total_iter;
        futhark_mc_task_136321_task.sched = STATIC;
        futhark_mc_task_136321_task.nested_fn =
            futhark_mc_segmap_nested_task_136325;
        
        int futhark_mc_segmap_task_136322_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136321_task);
        
        if (futhark_mc_segmap_task_136322_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_126990.mem + gtid_121838 * n_p_119477 * (int64_t) 4,
                mem_126971 + (int64_t) 0, n_p_119477 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_126971);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136319_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136319_end -
                 futhark_mc_segmap_parloop_136319_start;
        
        ctx->futhark_mc_segmap_parloop_136319_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136319_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136319_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136317(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121837 = tid;
    int num_tasks_128951 = info.nsubtasks;
    struct futhark_mc_task_136312 *futhark_mc_task_136312 =
                                  (struct futhark_mc_task_136312 *) args;
    struct futhark_context *ctx = futhark_mc_task_136312->ctx;
    uint64_t futhark_mc_segmap_nested_task_136317_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136317_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136312->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136312->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136312->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136312->free_css_chunk_len_119521;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136312->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136312->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 = futhark_mc_task_136312->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_task_136312->free_mem_126990,
                                  .size =0, .references =NULL};
    int64_t iter_128975;
    struct futhark_mc_segmap_parloop_struct_136318
    futhark_mc_segmap_parloop_struct_136318;
    
    futhark_mc_segmap_parloop_struct_136318.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136318.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136318.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136318.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136318.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136318.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136318.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136318.free_bytes_126969 = bytes_126969;
    futhark_mc_segmap_parloop_struct_136318.free_mem_126990 = mem_126990.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136319_task;
    
    futhark_mc_segmap_parloop_136319_task.name =
        "futhark_mc_segmap_parloop_136319";
    futhark_mc_segmap_parloop_136319_task.fn = futhark_mc_segmap_parloop_136319;
    futhark_mc_segmap_parloop_136319_task.args =
        &futhark_mc_segmap_parloop_struct_136318;
    futhark_mc_segmap_parloop_136319_task.iterations = iterations;
    futhark_mc_segmap_parloop_136319_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136319_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136319_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136319_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136319_task);
    
    if (futhark_mc_segmap_parloop_136319_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136319_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136319_total_end -
                 futhark_mc_segmap_parloop_136319_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136319_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136319_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136319_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136317_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136317_end -
                 futhark_mc_segmap_nested_task_136317_start;
        
        ctx->futhark_mc_segmap_nested_task_136317_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136317_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136317_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136333 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119623;
    bool free_loop_cond_119628;
    float free_i64_res_119629;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_126994;
    int64_t free_bytes_126997;
    char *free_mem_127048;
    char *free_mem_127052;
};
struct futhark_mc_segmap_parloop_struct_136335 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119623;
    bool free_loop_cond_119628;
    float free_i64_res_119629;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_126994;
    int64_t free_bytes_126997;
    char *free_mem_127048;
    char *free_mem_127052;
};
static int futhark_mc_segmap_parloop_136336(void *args, int64_t start,
                                            int64_t end, int flat_tid_121895,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136335
    *futhark_mc_segmap_parloop_struct_136335 =
    (struct futhark_mc_segmap_parloop_struct_136335 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136335->ctx;
    uint64_t futhark_mc_segmap_parloop_136336_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136336_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136335->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136335->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136335->free_l_window_119479;
    int64_t l_jump_119483 =
            futhark_mc_segmap_parloop_struct_136335->free_l_jump_119483;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136335->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136335->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_136335->free_x_119552;
    int64_t min_res_119623 =
            futhark_mc_segmap_parloop_struct_136335->free_min_res_119623;
    bool loop_cond_119628 =
         futhark_mc_segmap_parloop_struct_136335->free_loop_cond_119628;
    float i64_res_119629 =
          futhark_mc_segmap_parloop_struct_136335->free_i64_res_119629;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136335->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136335->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136335->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136335->free_bytes_126994;
    int64_t bytes_126997 =
            futhark_mc_segmap_parloop_struct_136335->free_bytes_126997;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136335->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136335->free_mem_127052,
                                  .size =0, .references =NULL};
    size_t mem_127002_cached_sizze_136337 = 0;
    char *mem_127002 = NULL;
    size_t mem_127017_cached_sizze_136338 = 0;
    char *mem_127017 = NULL;
    size_t mem_127020_cached_sizze_136339 = 0;
    char *mem_127020 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129050 = start;
    
    if (mem_127002_cached_sizze_136337 < (size_t) bytes_126882) {
        mem_127002 = realloc(mem_127002, bytes_126882);
        mem_127002_cached_sizze_136337 = bytes_126882;
    }
    if (mem_127017_cached_sizze_136338 < (size_t) bytes_126994) {
        mem_127017 = realloc(mem_127017, bytes_126994);
        mem_127017_cached_sizze_136338 = bytes_126994;
    }
    if (mem_127020_cached_sizze_136339 < (size_t) bytes_126997) {
        mem_127020 = realloc(mem_127020, bytes_126997);
        mem_127020_cached_sizze_136339 = bytes_126997;
    }
    for (; iter_129050 < end; iter_129050++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129147 = m_119474;
        int64_t gtid_121896 = iter_129050;
        int64_t remnant_129148 = iter_129050 - gtid_121896;
        int64_t x_119633 = ((int64_t *) mem_126924.mem)[gtid_121896];
        
        for (int64_t i_129051 = 0; i_129051 < n_119475; i_129051++) {
            int64_t x_129053 = ((int64_t *) mem_126921.mem)[gtid_121896 *
                                                            n_119475 +
                                                            i_129051];
            int64_t defunc_0_f_res_129054 = add64((int64_t) 1, x_129053);
            
            ((int64_t *) mem_127002)[i_129051] = defunc_0_f_res_129054;
        }
        
        int64_t min_arg_119637 = sub64(x_119633, (int64_t) 1);
        int64_t min_arg_119638 = sub64(x_119633, min_res_119623);
        int64_t min_res_119639 = smin64(l_window_119479, x_119633);
        float i64_res_119640 = sitofp_i64_f32(x_119633);
        float x_119641 = i64_res_119629 - i64_res_119640;
        float max_arg_119642 = x_119641 / 2.0F;
        float max_res_119643 = fmax32(0.0F, max_arg_119642);
        
        for (int64_t i_129056 = 0; i_129056 < l_n_m_119525; i_129056++) {
            int64_t min_arg_129059 = mul64(l_jump_119483, i_129056);
            int64_t min_res_129060 = smin64(i_119551, min_arg_129059);
            int64_t defunc_0_g_res_129061 = add64((int64_t) 1, min_res_129060);
            bool init_idx_129062;
            int64_t init_idx_129063;
            int64_t init_idx_129064;
            bool loop_while_129065;
            int64_t low_129066;
            int64_t high_129067;
            
            loop_while_129065 = x_119552;
            low_129066 = (int64_t) 0;
            high_129067 = i_119551;
            while (loop_while_129065) {
                int64_t x_129068 = add64(low_129066, high_129067);
                int64_t mid_129069 = sdiv64(x_129068, (int64_t) 2);
                bool x_129070 = sle64((int64_t) 0, mid_129069);
                bool y_129071 = slt64(mid_129069, n_119475);
                bool bounds_check_129072 = x_129070 && y_129071;
                bool index_certs_129073;
                
                if (!bounds_check_129072) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) mid_129069,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t mid_id_129074 = ((int64_t *) mem_127002)[mid_129069];
                bool cond_129075 = slt64(mid_id_129074, (int64_t) 0);
                int64_t mid_idx_129076;
                
                if (cond_129075) {
                    mid_idx_129076 = (int64_t) 9223372036854775807;
                } else {
                    mid_idx_129076 = mid_id_129074;
                }
                
                bool cond_129077 = sle64(defunc_0_g_res_129061, mid_idx_129076);
                int64_t loopres_129078;
                int64_t loopres_129079;
                
                if (cond_129077) {
                    int64_t loopres_t_res_129080 = sub64(mid_129069,
                                                         (int64_t) 1);
                    
                    loopres_129078 = low_129066;
                    loopres_129079 = loopres_t_res_129080;
                } else {
                    int64_t loopres_f_res_129081 = add64((int64_t) 1,
                                                         mid_129069);
                    
                    loopres_129078 = loopres_f_res_129081;
                    loopres_129079 = high_129067;
                }
                
                bool loop_cond_129082 = sle64(loopres_129078, loopres_129079);
                bool loop_while_tmp_129152 = loop_cond_129082;
                int64_t low_tmp_129153 = loopres_129078;
                int64_t high_tmp_129154 = loopres_129079;
                
                loop_while_129065 = loop_while_tmp_129152;
                low_129066 = low_tmp_129153;
                high_129067 = high_tmp_129154;
            }
            init_idx_129062 = loop_while_129065;
            init_idx_129063 = low_129066;
            init_idx_129064 = high_129067;
            
            bool idx_129083;
            int64_t idx_129084;
            int64_t idx_129085;
            int64_t idx_129086;
            bool loop_while_129087;
            int64_t l_idx_129088;
            int64_t r_idx_129089;
            int64_t span_129090;
            
            loop_while_129087 = loop_cond_119628;
            l_idx_129088 = init_idx_129063;
            r_idx_129089 = init_idx_129063;
            span_129090 = (int64_t) 1;
            while (loop_while_129087) {
                int64_t max_arg_129091 = sub64(l_idx_129088, (int64_t) 1);
                int64_t max_res_129092 = smax64((int64_t) 0, max_arg_129091);
                int64_t min_arg_129093 = add64((int64_t) 1, r_idx_129089);
                int64_t min_res_129094 = smin64(min_arg_119637, min_arg_129093);
                bool x_129095 = sle64((int64_t) 0, max_res_129092);
                bool y_129096 = slt64(max_res_129092, n_119475);
                bool bounds_check_129097 = x_129095 && y_129096;
                bool index_certs_129098;
                
                if (!bounds_check_129097) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) max_res_129092,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t x_129099 = ((int64_t *) mem_127002)[max_res_129092];
                int64_t abs_arg_129100 = sub64(x_129099, defunc_0_g_res_129061);
                int64_t abs_res_129101 = abs64(abs_arg_129100);
                bool x_129102 = sle64((int64_t) 0, min_res_129094);
                bool y_129103 = slt64(min_res_129094, n_119475);
                bool bounds_check_129104 = x_129102 && y_129103;
                bool index_certs_129105;
                
                if (!bounds_check_129104) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) min_res_129094,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t x_129106 = ((int64_t *) mem_127002)[min_res_129094];
                int64_t abs_arg_129107 = sub64(x_129106, defunc_0_g_res_129061);
                int64_t abs_res_129108 = abs64(abs_arg_129107);
                bool cond_129109 = max_res_129092 == l_idx_129088;
                int64_t loopres_129110;
                int64_t loopres_129111;
                int64_t loopres_129112;
                
                if (cond_129109) {
                    loopres_129110 = l_idx_129088;
                    loopres_129111 = r_idx_129089;
                    loopres_129112 = min_res_119623;
                } else {
                    bool cond_129113 = slt64(abs_res_129101, abs_res_129108);
                    bool cond_f_res_129114 = min_res_129094 == r_idx_129089;
                    bool x_129115 = !cond_129113;
                    bool y_129116 = cond_f_res_129114 && x_129115;
                    bool cond_129117 = cond_129113 || y_129116;
                    int64_t loopres_f_res_129118;
                    
                    if (cond_129117) {
                        loopres_f_res_129118 = max_res_129092;
                    } else {
                        loopres_f_res_129118 = l_idx_129088;
                    }
                    
                    int64_t loopres_f_res_129119;
                    
                    if (cond_129117) {
                        loopres_f_res_129119 = r_idx_129089;
                    } else {
                        loopres_f_res_129119 = min_res_129094;
                    }
                    
                    int64_t loopres_f_res_129120;
                    
                    if (cond_129117) {
                        int64_t loopres_f_res_t_res_129121 = add64((int64_t) 1,
                                                                   span_129090);
                        
                        loopres_f_res_129120 = loopres_f_res_t_res_129121;
                    } else {
                        int64_t loopres_f_res_f_res_129122 = add64((int64_t) 1,
                                                                   span_129090);
                        
                        loopres_f_res_129120 = loopres_f_res_f_res_129122;
                    }
                    loopres_129110 = loopres_f_res_129118;
                    loopres_129111 = loopres_f_res_129119;
                    loopres_129112 = loopres_f_res_129120;
                }
                
                bool loop_cond_129123 = slt64(loopres_129112, min_res_119623);
                bool loop_while_tmp_129155 = loop_cond_129123;
                int64_t l_idx_tmp_129156 = loopres_129110;
                int64_t r_idx_tmp_129157 = loopres_129111;
                int64_t span_tmp_129158 = loopres_129112;
                
                loop_while_129087 = loop_while_tmp_129155;
                l_idx_129088 = l_idx_tmp_129156;
                r_idx_129089 = r_idx_tmp_129157;
                span_129090 = span_tmp_129158;
            }
            idx_129083 = loop_while_129087;
            idx_129084 = l_idx_129088;
            idx_129085 = r_idx_129089;
            idx_129086 = span_129090;
            
            int64_t min_res_129124 = smin64(min_arg_119638, idx_129084);
            int64_t max_res_129125 = smax64((int64_t) 0, min_res_129124);
            int64_t x_129126 = add64(min_res_119639, max_res_129125);
            int64_t r_129127 = sub64(x_129126, (int64_t) 1);
            bool x_129128 = sle64((int64_t) 0, r_129127);
            bool y_129129 = slt64(r_129127, n_119475);
            bool bounds_check_129130 = x_129128 && y_129129;
            bool index_certs_129131;
            
            if (!bounds_check_129130) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) r_129127,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129132 = ((int64_t *) mem_126921.mem)[gtid_121896 *
                                                            n_119475 +
                                                            r_129127];
            int64_t abs_arg_129133 = sub64(x_129132, min_res_129060);
            int64_t abs_res_129134 = abs64(abs_arg_129133);
            bool x_129135 = sle64((int64_t) 0, max_res_129125);
            bool y_129136 = slt64(max_res_129125, n_119475);
            bool bounds_check_129137 = x_129135 && y_129136;
            bool index_certs_129138;
            
            if (!bounds_check_129137) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_129125,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129139 = ((int64_t *) mem_126921.mem)[gtid_121896 *
                                                            n_119475 +
                                                            max_res_129125];
            int64_t abs_arg_129140 = sub64(x_129139, min_res_129060);
            int64_t abs_res_129141 = abs64(abs_arg_129140);
            int64_t max_res_129142 = smax64(abs_res_129134, abs_res_129141);
            float defunc_0_f_res_129143 = sitofp_i64_f32(max_res_129142);
            float defunc_1_f_res_129144 = max_res_119643 +
                  defunc_0_f_res_129143;
            
            ((float *) mem_127017)[i_129056] = defunc_1_f_res_129144;
            ((int64_t *) mem_127020)[i_129056] = max_res_129125;
        }
        memmove(mem_127048.mem + gtid_121896 * l_n_m_119525 * (int64_t) 8,
                mem_127020 + (int64_t) 0, l_n_m_119525 * (int64_t) 8);
        memmove(mem_127052.mem + gtid_121896 * l_n_m_119525 * (int64_t) 4,
                mem_127017 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127002);
    free(mem_127017);
    free(mem_127020);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136336_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136336_end -
                 futhark_mc_segmap_parloop_136336_start;
        
        ctx->futhark_mc_segmap_parloop_136336_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136336_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136336_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136334(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121895 = tid;
    int num_tasks_129049 = info.nsubtasks;
    struct futhark_mc_task_136333 *futhark_mc_task_136333 =
                                  (struct futhark_mc_task_136333 *) args;
    struct futhark_context *ctx = futhark_mc_task_136333->ctx;
    uint64_t futhark_mc_segmap_task_136334_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136334_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136333->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136333->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136333->free_l_window_119479;
    int64_t l_jump_119483 = futhark_mc_task_136333->free_l_jump_119483;
    int64_t l_n_m_119525 = futhark_mc_task_136333->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136333->free_i_119551;
    bool x_119552 = futhark_mc_task_136333->free_x_119552;
    int64_t min_res_119623 = futhark_mc_task_136333->free_min_res_119623;
    bool loop_cond_119628 = futhark_mc_task_136333->free_loop_cond_119628;
    float i64_res_119629 = futhark_mc_task_136333->free_i64_res_119629;
    int64_t bytes_126882 = futhark_mc_task_136333->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136333->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136333->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126994 = futhark_mc_task_136333->free_bytes_126994;
    int64_t bytes_126997 = futhark_mc_task_136333->free_bytes_126997;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136333->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136333->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t iter_129050;
    struct futhark_mc_segmap_parloop_struct_136335
    futhark_mc_segmap_parloop_struct_136335;
    
    futhark_mc_segmap_parloop_struct_136335.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136335.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136335.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136335.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136335.free_l_jump_119483 = l_jump_119483;
    futhark_mc_segmap_parloop_struct_136335.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136335.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136335.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_136335.free_min_res_119623 =
        min_res_119623;
    futhark_mc_segmap_parloop_struct_136335.free_loop_cond_119628 =
        loop_cond_119628;
    futhark_mc_segmap_parloop_struct_136335.free_i64_res_119629 =
        i64_res_119629;
    futhark_mc_segmap_parloop_struct_136335.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136335.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136335.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136335.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136335.free_bytes_126997 = bytes_126997;
    futhark_mc_segmap_parloop_struct_136335.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136335.free_mem_127052 = mem_127052.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136336_task;
    
    futhark_mc_segmap_parloop_136336_task.name =
        "futhark_mc_segmap_parloop_136336";
    futhark_mc_segmap_parloop_136336_task.fn = futhark_mc_segmap_parloop_136336;
    futhark_mc_segmap_parloop_136336_task.args =
        &futhark_mc_segmap_parloop_struct_136335;
    futhark_mc_segmap_parloop_136336_task.iterations = iterations;
    futhark_mc_segmap_parloop_136336_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136336_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136336_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136336_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136336_task);
    
    if (futhark_mc_segmap_parloop_136336_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136336_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136336_total_end -
                 futhark_mc_segmap_parloop_136336_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136336_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136336_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136336_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136334_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136334_end -
                 futhark_mc_segmap_task_136334_start;
        
        ctx->futhark_mc_segmap_task_136334_runs[tid]++;
        ctx->futhark_mc_segmap_task_136334_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136334_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136341 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119623;
    bool free_loop_cond_119628;
    float free_i64_res_119629;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_126994;
    int64_t free_bytes_126997;
    char *free_mem_127048;
    char *free_mem_127052;
};
struct futhark_mc_task_136346 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121898;
    char *free_mem_126921;
    char *free_mem_126993;
};
struct futhark_mc_segmap_parloop_struct_136348 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_121898;
    char *free_mem_126921;
    char *free_mem_126993;
};
static int futhark_mc_segmap_parloop_136349(void *args, int64_t start,
                                            int64_t end, int flat_tid_121899,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136348
    *futhark_mc_segmap_parloop_struct_136348 =
    (struct futhark_mc_segmap_parloop_struct_136348 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136348->ctx;
    uint64_t futhark_mc_segmap_parloop_136349_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136349_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136348->free_n_119475;
    int64_t gtid_121898 =
            futhark_mc_segmap_parloop_struct_136348->free_gtid_121898;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136348->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126993 = {.desc ="mem_126993", .mem =
                                  futhark_mc_segmap_parloop_struct_136348->free_mem_126993,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129251 = start;
    
    for (; iter_129251 < end; iter_129251++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129252 = n_119475;
        int64_t gtid_121900 = iter_129251;
        int64_t remnant_129253 = iter_129251 - gtid_121900;
        int64_t x_129160 = ((int64_t *) mem_126921.mem)[gtid_121898 * n_119475 +
                                                        gtid_121900];
        int64_t defunc_0_f_res_129161 = add64((int64_t) 1, x_129160);
        
        ((int64_t *) mem_126993.mem)[gtid_121900] = defunc_0_f_res_129161;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136349_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136349_end -
                 futhark_mc_segmap_parloop_136349_start;
        
        ctx->futhark_mc_segmap_parloop_136349_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136349_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136349_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136347(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121899 = tid;
    int num_tasks_129250 = info.nsubtasks;
    struct futhark_mc_task_136346 *futhark_mc_task_136346 =
                                  (struct futhark_mc_task_136346 *) args;
    struct futhark_context *ctx = futhark_mc_task_136346->ctx;
    uint64_t futhark_mc_segmap_task_136347_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136347_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136346->free_n_119475;
    int64_t gtid_121898 = futhark_mc_task_136346->free_gtid_121898;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136346->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126993 = {.desc ="mem_126993", .mem =
                                  futhark_mc_task_136346->free_mem_126993,
                                  .size =0, .references =NULL};
    int64_t iter_129251;
    struct futhark_mc_segmap_parloop_struct_136348
    futhark_mc_segmap_parloop_struct_136348;
    
    futhark_mc_segmap_parloop_struct_136348.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136348.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136348.free_gtid_121898 = gtid_121898;
    futhark_mc_segmap_parloop_struct_136348.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136348.free_mem_126993 = mem_126993.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136349_task;
    
    futhark_mc_segmap_parloop_136349_task.name =
        "futhark_mc_segmap_parloop_136349";
    futhark_mc_segmap_parloop_136349_task.fn = futhark_mc_segmap_parloop_136349;
    futhark_mc_segmap_parloop_136349_task.args =
        &futhark_mc_segmap_parloop_struct_136348;
    futhark_mc_segmap_parloop_136349_task.iterations = iterations;
    futhark_mc_segmap_parloop_136349_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136349_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136349_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136349_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136349_task);
    
    if (futhark_mc_segmap_parloop_136349_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136349_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136349_total_end -
                 futhark_mc_segmap_parloop_136349_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136349_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136349_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136349_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136347_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136347_end -
                 futhark_mc_segmap_task_136347_start;
        
        ctx->futhark_mc_segmap_task_136347_runs[tid]++;
        ctx->futhark_mc_segmap_task_136347_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136347_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136350 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119623;
    bool free_loop_cond_119628;
    int64_t free_gtid_121898;
    int64_t free_min_arg_121908;
    int64_t free_min_arg_121909;
    int64_t free_min_res_121910;
    float free_max_res_121914;
    char *free_mem_126921;
    char *free_mem_126993;
    char *free_mem_126996;
    char *free_mem_126999;
};
struct futhark_mc_segmap_parloop_struct_136352 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119623;
    bool free_loop_cond_119628;
    int64_t free_gtid_121898;
    int64_t free_min_arg_121908;
    int64_t free_min_arg_121909;
    int64_t free_min_res_121910;
    float free_max_res_121914;
    char *free_mem_126921;
    char *free_mem_126993;
    char *free_mem_126996;
    char *free_mem_126999;
};
static int futhark_mc_segmap_parloop_136353(void *args, int64_t start,
                                            int64_t end, int flat_tid_121901,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136352
    *futhark_mc_segmap_parloop_struct_136352 =
    (struct futhark_mc_segmap_parloop_struct_136352 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136352->ctx;
    uint64_t futhark_mc_segmap_parloop_136353_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136353_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136352->free_n_119475;
    int64_t l_jump_119483 =
            futhark_mc_segmap_parloop_struct_136352->free_l_jump_119483;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136352->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136352->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_136352->free_x_119552;
    int64_t min_res_119623 =
            futhark_mc_segmap_parloop_struct_136352->free_min_res_119623;
    bool loop_cond_119628 =
         futhark_mc_segmap_parloop_struct_136352->free_loop_cond_119628;
    int64_t gtid_121898 =
            futhark_mc_segmap_parloop_struct_136352->free_gtid_121898;
    int64_t min_arg_121908 =
            futhark_mc_segmap_parloop_struct_136352->free_min_arg_121908;
    int64_t min_arg_121909 =
            futhark_mc_segmap_parloop_struct_136352->free_min_arg_121909;
    int64_t min_res_121910 =
            futhark_mc_segmap_parloop_struct_136352->free_min_res_121910;
    float max_res_121914 =
          futhark_mc_segmap_parloop_struct_136352->free_max_res_121914;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136352->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126993 = {.desc ="mem_126993", .mem =
                                  futhark_mc_segmap_parloop_struct_136352->free_mem_126993,
                                  .size =0, .references =NULL};
    struct memblock mem_126996 = {.desc ="mem_126996", .mem =
                                  futhark_mc_segmap_parloop_struct_136352->free_mem_126996,
                                  .size =0, .references =NULL};
    struct memblock mem_126999 = {.desc ="mem_126999", .mem =
                                  futhark_mc_segmap_parloop_struct_136352->free_mem_126999,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129255 = start;
    
    for (; iter_129255 < end; iter_129255++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129311 = l_n_m_119525;
        int64_t gtid_121902 = iter_129255;
        int64_t remnant_129312 = iter_129255 - gtid_121902;
        int64_t min_arg_129162 = mul64(l_jump_119483, gtid_121902);
        int64_t min_res_129163 = smin64(i_119551, min_arg_129162);
        int64_t defunc_0_g_res_129164 = add64((int64_t) 1, min_res_129163);
        bool init_idx_129165;
        int64_t init_idx_129166;
        int64_t init_idx_129167;
        bool loop_while_129256;
        int64_t low_129257;
        int64_t high_129258;
        
        loop_while_129256 = x_119552;
        low_129257 = (int64_t) 0;
        high_129258 = i_119551;
        while (loop_while_129256) {
            int64_t x_129259 = add64(low_129257, high_129258);
            int64_t mid_129260 = sdiv64(x_129259, (int64_t) 2);
            bool x_129261 = sle64((int64_t) 0, mid_129260);
            bool y_129262 = slt64(mid_129260, n_119475);
            bool bounds_check_129263 = x_129261 && y_129262;
            bool index_certs_129264;
            
            if (!bounds_check_129263) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) mid_129260,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t mid_id_129265 = ((int64_t *) mem_126993.mem)[mid_129260];
            bool cond_129266 = slt64(mid_id_129265, (int64_t) 0);
            int64_t mid_idx_129267;
            
            if (cond_129266) {
                mid_idx_129267 = (int64_t) 9223372036854775807;
            } else {
                mid_idx_129267 = mid_id_129265;
            }
            
            bool cond_129268 = sle64(defunc_0_g_res_129164, mid_idx_129267);
            int64_t loopres_129269;
            int64_t loopres_129270;
            
            if (cond_129268) {
                int64_t loopres_t_res_129271 = sub64(mid_129260, (int64_t) 1);
                
                loopres_129269 = low_129257;
                loopres_129270 = loopres_t_res_129271;
            } else {
                int64_t loopres_f_res_129272 = add64((int64_t) 1, mid_129260);
                
                loopres_129269 = loopres_f_res_129272;
                loopres_129270 = high_129258;
            }
            
            bool loop_cond_129273 = sle64(loopres_129269, loopres_129270);
            bool loop_while_tmp_129313 = loop_cond_129273;
            int64_t low_tmp_129314 = loopres_129269;
            int64_t high_tmp_129315 = loopres_129270;
            
            loop_while_129256 = loop_while_tmp_129313;
            low_129257 = low_tmp_129314;
            high_129258 = high_tmp_129315;
        }
        init_idx_129165 = loop_while_129256;
        init_idx_129166 = low_129257;
        init_idx_129167 = high_129258;
        
        bool idx_129186;
        int64_t idx_129187;
        int64_t idx_129188;
        int64_t idx_129189;
        bool loop_while_129274;
        int64_t l_idx_129275;
        int64_t r_idx_129276;
        int64_t span_129277;
        
        loop_while_129274 = loop_cond_119628;
        l_idx_129275 = init_idx_129166;
        r_idx_129276 = init_idx_129166;
        span_129277 = (int64_t) 1;
        while (loop_while_129274) {
            int64_t max_arg_129278 = sub64(l_idx_129275, (int64_t) 1);
            int64_t max_res_129279 = smax64((int64_t) 0, max_arg_129278);
            int64_t min_arg_129280 = add64((int64_t) 1, r_idx_129276);
            int64_t min_res_129281 = smin64(min_arg_121908, min_arg_129280);
            bool x_129282 = sle64((int64_t) 0, max_res_129279);
            bool y_129283 = slt64(max_res_129279, n_119475);
            bool bounds_check_129284 = x_129282 && y_129283;
            bool index_certs_129285;
            
            if (!bounds_check_129284) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_129279,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129286 = ((int64_t *) mem_126993.mem)[max_res_129279];
            int64_t abs_arg_129287 = sub64(x_129286, defunc_0_g_res_129164);
            int64_t abs_res_129288 = abs64(abs_arg_129287);
            bool x_129289 = sle64((int64_t) 0, min_res_129281);
            bool y_129290 = slt64(min_res_129281, n_119475);
            bool bounds_check_129291 = x_129289 && y_129290;
            bool index_certs_129292;
            
            if (!bounds_check_129291) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) min_res_129281,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129293 = ((int64_t *) mem_126993.mem)[min_res_129281];
            int64_t abs_arg_129294 = sub64(x_129293, defunc_0_g_res_129164);
            int64_t abs_res_129295 = abs64(abs_arg_129294);
            bool cond_129296 = max_res_129279 == l_idx_129275;
            int64_t loopres_129297;
            int64_t loopres_129298;
            int64_t loopres_129299;
            
            if (cond_129296) {
                loopres_129297 = l_idx_129275;
                loopres_129298 = r_idx_129276;
                loopres_129299 = min_res_119623;
            } else {
                bool cond_129300 = slt64(abs_res_129288, abs_res_129295);
                bool cond_f_res_129301 = min_res_129281 == r_idx_129276;
                bool x_129302 = !cond_129300;
                bool y_129303 = cond_f_res_129301 && x_129302;
                bool cond_129304 = cond_129300 || y_129303;
                int64_t loopres_f_res_129305;
                
                if (cond_129304) {
                    loopres_f_res_129305 = max_res_129279;
                } else {
                    loopres_f_res_129305 = l_idx_129275;
                }
                
                int64_t loopres_f_res_129306;
                
                if (cond_129304) {
                    loopres_f_res_129306 = r_idx_129276;
                } else {
                    loopres_f_res_129306 = min_res_129281;
                }
                
                int64_t loopres_f_res_129307;
                
                if (cond_129304) {
                    int64_t loopres_f_res_t_res_129308 = add64((int64_t) 1,
                                                               span_129277);
                    
                    loopres_f_res_129307 = loopres_f_res_t_res_129308;
                } else {
                    int64_t loopres_f_res_f_res_129309 = add64((int64_t) 1,
                                                               span_129277);
                    
                    loopres_f_res_129307 = loopres_f_res_f_res_129309;
                }
                loopres_129297 = loopres_f_res_129305;
                loopres_129298 = loopres_f_res_129306;
                loopres_129299 = loopres_f_res_129307;
            }
            
            bool loop_cond_129310 = slt64(loopres_129299, min_res_119623);
            bool loop_while_tmp_129316 = loop_cond_129310;
            int64_t l_idx_tmp_129317 = loopres_129297;
            int64_t r_idx_tmp_129318 = loopres_129298;
            int64_t span_tmp_129319 = loopres_129299;
            
            loop_while_129274 = loop_while_tmp_129316;
            l_idx_129275 = l_idx_tmp_129317;
            r_idx_129276 = r_idx_tmp_129318;
            span_129277 = span_tmp_129319;
        }
        idx_129186 = loop_while_129274;
        idx_129187 = l_idx_129275;
        idx_129188 = r_idx_129276;
        idx_129189 = span_129277;
        
        int64_t min_res_129227 = smin64(min_arg_121909, idx_129187);
        int64_t max_res_129228 = smax64((int64_t) 0, min_res_129227);
        int64_t x_129229 = add64(min_res_121910, max_res_129228);
        int64_t r_129230 = sub64(x_129229, (int64_t) 1);
        bool x_129231 = sle64((int64_t) 0, r_129230);
        bool y_129232 = slt64(r_129230, n_119475);
        bool bounds_check_129233 = x_129231 && y_129232;
        bool index_certs_129234;
        
        if (!bounds_check_129233) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) r_129230,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_129235 = ((int64_t *) mem_126921.mem)[gtid_121898 * n_119475 +
                                                        r_129230];
        int64_t abs_arg_129236 = sub64(x_129235, min_res_129163);
        int64_t abs_res_129237 = abs64(abs_arg_129236);
        bool x_129238 = sle64((int64_t) 0, max_res_129228);
        bool y_129239 = slt64(max_res_129228, n_119475);
        bool bounds_check_129240 = x_129238 && y_129239;
        bool index_certs_129241;
        
        if (!bounds_check_129240) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) max_res_129228,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:143:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:141:5-144:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_129242 = ((int64_t *) mem_126921.mem)[gtid_121898 * n_119475 +
                                                        max_res_129228];
        int64_t abs_arg_129243 = sub64(x_129242, min_res_129163);
        int64_t abs_res_129244 = abs64(abs_arg_129243);
        int64_t max_res_129245 = smax64(abs_res_129237, abs_res_129244);
        float defunc_0_f_res_129246 = sitofp_i64_f32(max_res_129245);
        float defunc_1_f_res_129247 = max_res_121914 + defunc_0_f_res_129246;
        
        ((float *) mem_126996.mem)[gtid_121902] = defunc_1_f_res_129247;
        ((int64_t *) mem_126999.mem)[gtid_121902] = max_res_129228;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136353_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136353_end -
                 futhark_mc_segmap_parloop_136353_start;
        
        ctx->futhark_mc_segmap_parloop_136353_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136353_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136353_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136351(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121901 = tid;
    int num_tasks_129254 = info.nsubtasks;
    struct futhark_mc_task_136350 *futhark_mc_task_136350 =
                                  (struct futhark_mc_task_136350 *) args;
    struct futhark_context *ctx = futhark_mc_task_136350->ctx;
    uint64_t futhark_mc_segmap_task_136351_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136351_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136350->free_n_119475;
    int64_t l_jump_119483 = futhark_mc_task_136350->free_l_jump_119483;
    int64_t l_n_m_119525 = futhark_mc_task_136350->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136350->free_i_119551;
    bool x_119552 = futhark_mc_task_136350->free_x_119552;
    int64_t min_res_119623 = futhark_mc_task_136350->free_min_res_119623;
    bool loop_cond_119628 = futhark_mc_task_136350->free_loop_cond_119628;
    int64_t gtid_121898 = futhark_mc_task_136350->free_gtid_121898;
    int64_t min_arg_121908 = futhark_mc_task_136350->free_min_arg_121908;
    int64_t min_arg_121909 = futhark_mc_task_136350->free_min_arg_121909;
    int64_t min_res_121910 = futhark_mc_task_136350->free_min_res_121910;
    float max_res_121914 = futhark_mc_task_136350->free_max_res_121914;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136350->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126993 = {.desc ="mem_126993", .mem =
                                  futhark_mc_task_136350->free_mem_126993,
                                  .size =0, .references =NULL};
    struct memblock mem_126996 = {.desc ="mem_126996", .mem =
                                  futhark_mc_task_136350->free_mem_126996,
                                  .size =0, .references =NULL};
    struct memblock mem_126999 = {.desc ="mem_126999", .mem =
                                  futhark_mc_task_136350->free_mem_126999,
                                  .size =0, .references =NULL};
    int64_t iter_129255;
    struct futhark_mc_segmap_parloop_struct_136352
    futhark_mc_segmap_parloop_struct_136352;
    
    futhark_mc_segmap_parloop_struct_136352.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136352.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136352.free_l_jump_119483 = l_jump_119483;
    futhark_mc_segmap_parloop_struct_136352.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136352.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136352.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_136352.free_min_res_119623 =
        min_res_119623;
    futhark_mc_segmap_parloop_struct_136352.free_loop_cond_119628 =
        loop_cond_119628;
    futhark_mc_segmap_parloop_struct_136352.free_gtid_121898 = gtid_121898;
    futhark_mc_segmap_parloop_struct_136352.free_min_arg_121908 =
        min_arg_121908;
    futhark_mc_segmap_parloop_struct_136352.free_min_arg_121909 =
        min_arg_121909;
    futhark_mc_segmap_parloop_struct_136352.free_min_res_121910 =
        min_res_121910;
    futhark_mc_segmap_parloop_struct_136352.free_max_res_121914 =
        max_res_121914;
    futhark_mc_segmap_parloop_struct_136352.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136352.free_mem_126993 = mem_126993.mem;
    futhark_mc_segmap_parloop_struct_136352.free_mem_126996 = mem_126996.mem;
    futhark_mc_segmap_parloop_struct_136352.free_mem_126999 = mem_126999.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136353_task;
    
    futhark_mc_segmap_parloop_136353_task.name =
        "futhark_mc_segmap_parloop_136353";
    futhark_mc_segmap_parloop_136353_task.fn = futhark_mc_segmap_parloop_136353;
    futhark_mc_segmap_parloop_136353_task.args =
        &futhark_mc_segmap_parloop_struct_136352;
    futhark_mc_segmap_parloop_136353_task.iterations = iterations;
    futhark_mc_segmap_parloop_136353_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136353_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136353_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136353_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136353_task);
    
    if (futhark_mc_segmap_parloop_136353_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136353_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136353_total_end -
                 futhark_mc_segmap_parloop_136353_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136353_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136353_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136353_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136351_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136351_end -
                 futhark_mc_segmap_task_136351_start;
        
        ctx->futhark_mc_segmap_task_136351_runs[tid]++;
        ctx->futhark_mc_segmap_task_136351_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136351_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136342(void *args, int64_t start,
                                            int64_t end, int flat_tid_121897,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136341
    *futhark_mc_segmap_parloop_struct_136341 =
    (struct futhark_mc_segmap_parloop_struct_136341 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136341->ctx;
    uint64_t futhark_mc_segmap_parloop_136342_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136342_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136341->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136341->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136341->free_l_window_119479;
    int64_t l_jump_119483 =
            futhark_mc_segmap_parloop_struct_136341->free_l_jump_119483;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136341->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136341->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_136341->free_x_119552;
    int64_t min_res_119623 =
            futhark_mc_segmap_parloop_struct_136341->free_min_res_119623;
    bool loop_cond_119628 =
         futhark_mc_segmap_parloop_struct_136341->free_loop_cond_119628;
    float i64_res_119629 =
          futhark_mc_segmap_parloop_struct_136341->free_i64_res_119629;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136341->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136341->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136341->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136341->free_bytes_126994;
    int64_t bytes_126997 =
            futhark_mc_segmap_parloop_struct_136341->free_bytes_126997;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136341->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136341->free_mem_127052,
                                  .size =0, .references =NULL};
    size_t mem_126993_cached_sizze_136343 = 0;
    char *mem_126993 = NULL;
    size_t mem_126996_cached_sizze_136344 = 0;
    char *mem_126996 = NULL;
    size_t mem_126999_cached_sizze_136345 = 0;
    char *mem_126999 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129159 = start;
    
    if (mem_126993_cached_sizze_136343 < (size_t) bytes_126882) {
        mem_126993 = realloc(mem_126993, bytes_126882);
        mem_126993_cached_sizze_136343 = bytes_126882;
    }
    if (mem_126996_cached_sizze_136344 < (size_t) bytes_126994) {
        mem_126996 = realloc(mem_126996, bytes_126994);
        mem_126996_cached_sizze_136344 = bytes_126994;
    }
    if (mem_126999_cached_sizze_136345 < (size_t) bytes_126997) {
        mem_126999 = realloc(mem_126999, bytes_126997);
        mem_126999_cached_sizze_136345 = bytes_126997;
    }
    for (; iter_129159 < end; iter_129159++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129248 = m_119474;
        int64_t gtid_121898 = iter_129159;
        int64_t remnant_129249 = iter_129159 - gtid_121898;
        int64_t x_121904 = ((int64_t *) mem_126924.mem)[gtid_121898];
        int64_t flat_tid_121899 = (int64_t) 0;
        int32_t num_tasks_129250;
        struct futhark_mc_task_136346 futhark_mc_task_136346;
        
        futhark_mc_task_136346.ctx = ctx;
        futhark_mc_task_136346.free_n_119475 = n_119475;
        futhark_mc_task_136346.free_gtid_121898 = gtid_121898;
        futhark_mc_task_136346.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136346.free_mem_126993 = mem_126993;
        
        struct scheduler_segop futhark_mc_task_136346_task;
        
        futhark_mc_task_136346_task.args = &futhark_mc_task_136346;
        futhark_mc_task_136346_task.top_level_fn =
            futhark_mc_segmap_task_136347;
        futhark_mc_task_136346_task.name = "futhark_mc_segmap_task_136347";
        futhark_mc_task_136346_task.iterations = n_119475;
        futhark_mc_task_136346_task.task_time =
            &ctx->futhark_mc_segmap_task_136347_total_time;
        futhark_mc_task_136346_task.task_iter =
            &ctx->futhark_mc_segmap_task_136347_total_iter;
        futhark_mc_task_136346_task.sched = STATIC;
        futhark_mc_task_136346_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136347_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136346_task);
        
        if (futhark_mc_segmap_task_136347_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t min_arg_121908 = sub64(x_121904, (int64_t) 1);
        int64_t min_arg_121909 = sub64(x_121904, min_res_119623);
        int64_t min_res_121910 = smin64(l_window_119479, x_121904);
        float i64_res_121911 = sitofp_i64_f32(x_121904);
        float x_121912 = i64_res_119629 - i64_res_121911;
        float max_arg_121913 = x_121912 / 2.0F;
        float max_res_121914 = fmax32(0.0F, max_arg_121913);
        int64_t flat_tid_121901 = (int64_t) 0;
        int32_t num_tasks_129254;
        struct futhark_mc_task_136350 futhark_mc_task_136350;
        
        futhark_mc_task_136350.ctx = ctx;
        futhark_mc_task_136350.free_n_119475 = n_119475;
        futhark_mc_task_136350.free_l_jump_119483 = l_jump_119483;
        futhark_mc_task_136350.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136350.free_i_119551 = i_119551;
        futhark_mc_task_136350.free_x_119552 = x_119552;
        futhark_mc_task_136350.free_min_res_119623 = min_res_119623;
        futhark_mc_task_136350.free_loop_cond_119628 = loop_cond_119628;
        futhark_mc_task_136350.free_gtid_121898 = gtid_121898;
        futhark_mc_task_136350.free_min_arg_121908 = min_arg_121908;
        futhark_mc_task_136350.free_min_arg_121909 = min_arg_121909;
        futhark_mc_task_136350.free_min_res_121910 = min_res_121910;
        futhark_mc_task_136350.free_max_res_121914 = max_res_121914;
        futhark_mc_task_136350.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136350.free_mem_126993 = mem_126993;
        futhark_mc_task_136350.free_mem_126996 = mem_126996;
        futhark_mc_task_136350.free_mem_126999 = mem_126999;
        
        struct scheduler_segop futhark_mc_task_136350_task;
        
        futhark_mc_task_136350_task.args = &futhark_mc_task_136350;
        futhark_mc_task_136350_task.top_level_fn =
            futhark_mc_segmap_task_136351;
        futhark_mc_task_136350_task.name = "futhark_mc_segmap_task_136351";
        futhark_mc_task_136350_task.iterations = l_n_m_119525;
        futhark_mc_task_136350_task.task_time =
            &ctx->futhark_mc_segmap_task_136351_total_time;
        futhark_mc_task_136350_task.task_iter =
            &ctx->futhark_mc_segmap_task_136351_total_iter;
        futhark_mc_task_136350_task.sched = DYNAMIC;
        futhark_mc_task_136350_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136351_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136350_task);
        
        if (futhark_mc_segmap_task_136351_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127048.mem + gtid_121898 * l_n_m_119525 * (int64_t) 8,
                mem_126999 + (int64_t) 0, l_n_m_119525 * (int64_t) 8);
        memmove(mem_127052.mem + gtid_121898 * l_n_m_119525 * (int64_t) 4,
                mem_126996 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_126993);
    free(mem_126996);
    free(mem_126999);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136342_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136342_end -
                 futhark_mc_segmap_parloop_136342_start;
        
        ctx->futhark_mc_segmap_parloop_136342_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136342_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136342_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136340(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_121897 = tid;
    int num_tasks_129049 = info.nsubtasks;
    struct futhark_mc_task_136333 *futhark_mc_task_136333 =
                                  (struct futhark_mc_task_136333 *) args;
    struct futhark_context *ctx = futhark_mc_task_136333->ctx;
    uint64_t futhark_mc_segmap_nested_task_136340_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136340_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136333->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136333->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136333->free_l_window_119479;
    int64_t l_jump_119483 = futhark_mc_task_136333->free_l_jump_119483;
    int64_t l_n_m_119525 = futhark_mc_task_136333->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136333->free_i_119551;
    bool x_119552 = futhark_mc_task_136333->free_x_119552;
    int64_t min_res_119623 = futhark_mc_task_136333->free_min_res_119623;
    bool loop_cond_119628 = futhark_mc_task_136333->free_loop_cond_119628;
    float i64_res_119629 = futhark_mc_task_136333->free_i64_res_119629;
    int64_t bytes_126882 = futhark_mc_task_136333->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136333->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136333->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126994 = futhark_mc_task_136333->free_bytes_126994;
    int64_t bytes_126997 = futhark_mc_task_136333->free_bytes_126997;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136333->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136333->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t iter_129159;
    struct futhark_mc_segmap_parloop_struct_136341
    futhark_mc_segmap_parloop_struct_136341;
    
    futhark_mc_segmap_parloop_struct_136341.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136341.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136341.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136341.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136341.free_l_jump_119483 = l_jump_119483;
    futhark_mc_segmap_parloop_struct_136341.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136341.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136341.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_136341.free_min_res_119623 =
        min_res_119623;
    futhark_mc_segmap_parloop_struct_136341.free_loop_cond_119628 =
        loop_cond_119628;
    futhark_mc_segmap_parloop_struct_136341.free_i64_res_119629 =
        i64_res_119629;
    futhark_mc_segmap_parloop_struct_136341.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136341.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136341.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136341.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136341.free_bytes_126997 = bytes_126997;
    futhark_mc_segmap_parloop_struct_136341.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136341.free_mem_127052 = mem_127052.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136342_task;
    
    futhark_mc_segmap_parloop_136342_task.name =
        "futhark_mc_segmap_parloop_136342";
    futhark_mc_segmap_parloop_136342_task.fn = futhark_mc_segmap_parloop_136342;
    futhark_mc_segmap_parloop_136342_task.args =
        &futhark_mc_segmap_parloop_struct_136341;
    futhark_mc_segmap_parloop_136342_task.iterations = iterations;
    futhark_mc_segmap_parloop_136342_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136342_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136342_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136342_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136342_task);
    
    if (futhark_mc_segmap_parloop_136342_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136342_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136342_total_end -
                 futhark_mc_segmap_parloop_136342_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136342_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136342_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136342_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136340_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136340_end -
                 futhark_mc_segmap_nested_task_136340_start;
        
        ctx->futhark_mc_segmap_nested_task_136340_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136340_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136340_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136354 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    float free_i64_res_119741;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_127056;
    int64_t free_bytes_127059;
    char *free_mem_127110;
    char *free_mem_127114;
};
struct futhark_mc_segmap_parloop_struct_136356 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    float free_i64_res_119741;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_127056;
    int64_t free_bytes_127059;
    char *free_mem_127110;
    char *free_mem_127114;
};
static int futhark_mc_segmap_parloop_136357(void *args, int64_t start,
                                            int64_t end, int flat_tid_122004,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136356
    *futhark_mc_segmap_parloop_struct_136356 =
    (struct futhark_mc_segmap_parloop_struct_136356 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136356->ctx;
    uint64_t futhark_mc_segmap_parloop_136357_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136357_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136356->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136356->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136356->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136356->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136356->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136356->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_136356->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_136356->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_136356->free_loop_cond_119740;
    float i64_res_119741 =
          futhark_mc_segmap_parloop_struct_136356->free_i64_res_119741;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136356->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136356->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136356->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136356->free_bytes_127056;
    int64_t bytes_127059 =
            futhark_mc_segmap_parloop_struct_136356->free_bytes_127059;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136356->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136356->free_mem_127114,
                                  .size =0, .references =NULL};
    size_t mem_127064_cached_sizze_136358 = 0;
    char *mem_127064 = NULL;
    size_t mem_127079_cached_sizze_136359 = 0;
    char *mem_127079 = NULL;
    size_t mem_127082_cached_sizze_136360 = 0;
    char *mem_127082 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129321 = start;
    
    if (mem_127064_cached_sizze_136358 < (size_t) bytes_126882) {
        mem_127064 = realloc(mem_127064, bytes_126882);
        mem_127064_cached_sizze_136358 = bytes_126882;
    }
    if (mem_127079_cached_sizze_136359 < (size_t) bytes_127056) {
        mem_127079 = realloc(mem_127079, bytes_127056);
        mem_127079_cached_sizze_136359 = bytes_127056;
    }
    if (mem_127082_cached_sizze_136360 < (size_t) bytes_127059) {
        mem_127082 = realloc(mem_127082, bytes_127059);
        mem_127082_cached_sizze_136360 = bytes_127059;
    }
    for (; iter_129321 < end; iter_129321++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129418 = m_119474;
        int64_t gtid_122005 = iter_129321;
        int64_t remnant_129419 = iter_129321 - gtid_122005;
        int64_t x_119745 = ((int64_t *) mem_126924.mem)[gtid_122005];
        
        for (int64_t i_129322 = 0; i_129322 < n_119475; i_129322++) {
            int64_t x_129324 = ((int64_t *) mem_126921.mem)[gtid_122005 *
                                                            n_119475 +
                                                            i_129322];
            int64_t defunc_0_f_res_129325 = add64((int64_t) 1, x_129324);
            
            ((int64_t *) mem_127064)[i_129322] = defunc_0_f_res_129325;
        }
        
        int64_t min_arg_119749 = sub64(x_119745, (int64_t) 1);
        int64_t min_arg_119750 = sub64(x_119745, min_res_119735);
        int64_t min_res_119751 = smin64(t_window_119478, x_119745);
        float i64_res_119752 = sitofp_i64_f32(x_119745);
        float x_119753 = i64_res_119741 - i64_res_119752;
        float max_arg_119754 = x_119753 / 2.0F;
        float max_res_119755 = fmax32(0.0F, max_arg_119754);
        
        for (int64_t i_129327 = 0; i_129327 < t_n_m_119532; i_129327++) {
            int64_t min_arg_129330 = mul64(t_jump_119482, i_129327);
            int64_t min_res_129331 = smin64(i_119551, min_arg_129330);
            int64_t defunc_0_g_res_129332 = add64((int64_t) 1, min_res_129331);
            bool init_idx_129333;
            int64_t init_idx_129334;
            int64_t init_idx_129335;
            bool loop_while_129336;
            int64_t low_129337;
            int64_t high_129338;
            
            loop_while_129336 = x_119552;
            low_129337 = (int64_t) 0;
            high_129338 = i_119551;
            while (loop_while_129336) {
                int64_t x_129339 = add64(low_129337, high_129338);
                int64_t mid_129340 = sdiv64(x_129339, (int64_t) 2);
                bool x_129341 = sle64((int64_t) 0, mid_129340);
                bool y_129342 = slt64(mid_129340, n_119475);
                bool bounds_check_129343 = x_129341 && y_129342;
                bool index_certs_129344;
                
                if (!bounds_check_129343) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) mid_129340,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t mid_id_129345 = ((int64_t *) mem_127064)[mid_129340];
                bool cond_129346 = slt64(mid_id_129345, (int64_t) 0);
                int64_t mid_idx_129347;
                
                if (cond_129346) {
                    mid_idx_129347 = (int64_t) 9223372036854775807;
                } else {
                    mid_idx_129347 = mid_id_129345;
                }
                
                bool cond_129348 = sle64(defunc_0_g_res_129332, mid_idx_129347);
                int64_t loopres_129349;
                int64_t loopres_129350;
                
                if (cond_129348) {
                    int64_t loopres_t_res_129351 = sub64(mid_129340,
                                                         (int64_t) 1);
                    
                    loopres_129349 = low_129337;
                    loopres_129350 = loopres_t_res_129351;
                } else {
                    int64_t loopres_f_res_129352 = add64((int64_t) 1,
                                                         mid_129340);
                    
                    loopres_129349 = loopres_f_res_129352;
                    loopres_129350 = high_129338;
                }
                
                bool loop_cond_129353 = sle64(loopres_129349, loopres_129350);
                bool loop_while_tmp_129423 = loop_cond_129353;
                int64_t low_tmp_129424 = loopres_129349;
                int64_t high_tmp_129425 = loopres_129350;
                
                loop_while_129336 = loop_while_tmp_129423;
                low_129337 = low_tmp_129424;
                high_129338 = high_tmp_129425;
            }
            init_idx_129333 = loop_while_129336;
            init_idx_129334 = low_129337;
            init_idx_129335 = high_129338;
            
            bool idx_129354;
            int64_t idx_129355;
            int64_t idx_129356;
            int64_t idx_129357;
            bool loop_while_129358;
            int64_t l_idx_129359;
            int64_t r_idx_129360;
            int64_t span_129361;
            
            loop_while_129358 = loop_cond_119740;
            l_idx_129359 = init_idx_129334;
            r_idx_129360 = init_idx_129334;
            span_129361 = (int64_t) 1;
            while (loop_while_129358) {
                int64_t max_arg_129362 = sub64(l_idx_129359, (int64_t) 1);
                int64_t max_res_129363 = smax64((int64_t) 0, max_arg_129362);
                int64_t min_arg_129364 = add64((int64_t) 1, r_idx_129360);
                int64_t min_res_129365 = smin64(min_arg_119749, min_arg_129364);
                bool x_129366 = sle64((int64_t) 0, max_res_129363);
                bool y_129367 = slt64(max_res_129363, n_119475);
                bool bounds_check_129368 = x_129366 && y_129367;
                bool index_certs_129369;
                
                if (!bounds_check_129368) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) max_res_129363,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t x_129370 = ((int64_t *) mem_127064)[max_res_129363];
                int64_t abs_arg_129371 = sub64(x_129370, defunc_0_g_res_129332);
                int64_t abs_res_129372 = abs64(abs_arg_129371);
                bool x_129373 = sle64((int64_t) 0, min_res_129365);
                bool y_129374 = slt64(min_res_129365, n_119475);
                bool bounds_check_129375 = x_129373 && y_129374;
                bool index_certs_129376;
                
                if (!bounds_check_129375) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) min_res_129365,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t x_129377 = ((int64_t *) mem_127064)[min_res_129365];
                int64_t abs_arg_129378 = sub64(x_129377, defunc_0_g_res_129332);
                int64_t abs_res_129379 = abs64(abs_arg_129378);
                bool cond_129380 = max_res_129363 == l_idx_129359;
                int64_t loopres_129381;
                int64_t loopres_129382;
                int64_t loopres_129383;
                
                if (cond_129380) {
                    loopres_129381 = l_idx_129359;
                    loopres_129382 = r_idx_129360;
                    loopres_129383 = min_res_119735;
                } else {
                    bool cond_129384 = slt64(abs_res_129372, abs_res_129379);
                    bool cond_f_res_129385 = min_res_129365 == r_idx_129360;
                    bool x_129386 = !cond_129384;
                    bool y_129387 = cond_f_res_129385 && x_129386;
                    bool cond_129388 = cond_129384 || y_129387;
                    int64_t loopres_f_res_129389;
                    
                    if (cond_129388) {
                        loopres_f_res_129389 = max_res_129363;
                    } else {
                        loopres_f_res_129389 = l_idx_129359;
                    }
                    
                    int64_t loopres_f_res_129390;
                    
                    if (cond_129388) {
                        loopres_f_res_129390 = r_idx_129360;
                    } else {
                        loopres_f_res_129390 = min_res_129365;
                    }
                    
                    int64_t loopres_f_res_129391;
                    
                    if (cond_129388) {
                        int64_t loopres_f_res_t_res_129392 = add64((int64_t) 1,
                                                                   span_129361);
                        
                        loopres_f_res_129391 = loopres_f_res_t_res_129392;
                    } else {
                        int64_t loopres_f_res_f_res_129393 = add64((int64_t) 1,
                                                                   span_129361);
                        
                        loopres_f_res_129391 = loopres_f_res_f_res_129393;
                    }
                    loopres_129381 = loopres_f_res_129389;
                    loopres_129382 = loopres_f_res_129390;
                    loopres_129383 = loopres_f_res_129391;
                }
                
                bool loop_cond_129394 = slt64(loopres_129383, min_res_119735);
                bool loop_while_tmp_129426 = loop_cond_129394;
                int64_t l_idx_tmp_129427 = loopres_129381;
                int64_t r_idx_tmp_129428 = loopres_129382;
                int64_t span_tmp_129429 = loopres_129383;
                
                loop_while_129358 = loop_while_tmp_129426;
                l_idx_129359 = l_idx_tmp_129427;
                r_idx_129360 = r_idx_tmp_129428;
                span_129361 = span_tmp_129429;
            }
            idx_129354 = loop_while_129358;
            idx_129355 = l_idx_129359;
            idx_129356 = r_idx_129360;
            idx_129357 = span_129361;
            
            int64_t min_res_129395 = smin64(min_arg_119750, idx_129355);
            int64_t max_res_129396 = smax64((int64_t) 0, min_res_129395);
            int64_t x_129397 = add64(min_res_119751, max_res_129396);
            int64_t r_129398 = sub64(x_129397, (int64_t) 1);
            bool x_129399 = sle64((int64_t) 0, r_129398);
            bool y_129400 = slt64(r_129398, n_119475);
            bool bounds_check_129401 = x_129399 && y_129400;
            bool index_certs_129402;
            
            if (!bounds_check_129401) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) r_129398,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129403 = ((int64_t *) mem_126921.mem)[gtid_122005 *
                                                            n_119475 +
                                                            r_129398];
            int64_t abs_arg_129404 = sub64(x_129403, min_res_129331);
            int64_t abs_res_129405 = abs64(abs_arg_129404);
            bool x_129406 = sle64((int64_t) 0, max_res_129396);
            bool y_129407 = slt64(max_res_129396, n_119475);
            bool bounds_check_129408 = x_129406 && y_129407;
            bool index_certs_129409;
            
            if (!bounds_check_129408) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_129396,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129410 = ((int64_t *) mem_126921.mem)[gtid_122005 *
                                                            n_119475 +
                                                            max_res_129396];
            int64_t abs_arg_129411 = sub64(x_129410, min_res_129331);
            int64_t abs_res_129412 = abs64(abs_arg_129411);
            int64_t max_res_129413 = smax64(abs_res_129405, abs_res_129412);
            float defunc_0_f_res_129414 = sitofp_i64_f32(max_res_129413);
            float defunc_1_f_res_129415 = max_res_119755 +
                  defunc_0_f_res_129414;
            
            ((float *) mem_127079)[i_129327] = defunc_1_f_res_129415;
            ((int64_t *) mem_127082)[i_129327] = max_res_129396;
        }
        memmove(mem_127110.mem + gtid_122005 * t_n_m_119532 * (int64_t) 8,
                mem_127082 + (int64_t) 0, t_n_m_119532 * (int64_t) 8);
        memmove(mem_127114.mem + gtid_122005 * t_n_m_119532 * (int64_t) 4,
                mem_127079 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127064);
    free(mem_127079);
    free(mem_127082);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136357_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136357_end -
                 futhark_mc_segmap_parloop_136357_start;
        
        ctx->futhark_mc_segmap_parloop_136357_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136357_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136357_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136355(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122004 = tid;
    int num_tasks_129320 = info.nsubtasks;
    struct futhark_mc_task_136354 *futhark_mc_task_136354 =
                                  (struct futhark_mc_task_136354 *) args;
    struct futhark_context *ctx = futhark_mc_task_136354->ctx;
    uint64_t futhark_mc_segmap_task_136355_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136355_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136354->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136354->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136354->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136354->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136354->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136354->free_i_119551;
    bool x_119552 = futhark_mc_task_136354->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_136354->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_136354->free_loop_cond_119740;
    float i64_res_119741 = futhark_mc_task_136354->free_i64_res_119741;
    int64_t bytes_126882 = futhark_mc_task_136354->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136354->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136354->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136354->free_bytes_127056;
    int64_t bytes_127059 = futhark_mc_task_136354->free_bytes_127059;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136354->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136354->free_mem_127114,
                                  .size =0, .references =NULL};
    int64_t iter_129321;
    struct futhark_mc_segmap_parloop_struct_136356
    futhark_mc_segmap_parloop_struct_136356;
    
    futhark_mc_segmap_parloop_struct_136356.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136356.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136356.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136356.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136356.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136356.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136356.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136356.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_136356.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_136356.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_136356.free_i64_res_119741 =
        i64_res_119741;
    futhark_mc_segmap_parloop_struct_136356.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136356.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136356.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136356.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136356.free_bytes_127059 = bytes_127059;
    futhark_mc_segmap_parloop_struct_136356.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136356.free_mem_127114 = mem_127114.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136357_task;
    
    futhark_mc_segmap_parloop_136357_task.name =
        "futhark_mc_segmap_parloop_136357";
    futhark_mc_segmap_parloop_136357_task.fn = futhark_mc_segmap_parloop_136357;
    futhark_mc_segmap_parloop_136357_task.args =
        &futhark_mc_segmap_parloop_struct_136356;
    futhark_mc_segmap_parloop_136357_task.iterations = iterations;
    futhark_mc_segmap_parloop_136357_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136357_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136357_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136357_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136357_task);
    
    if (futhark_mc_segmap_parloop_136357_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136357_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136357_total_end -
                 futhark_mc_segmap_parloop_136357_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136357_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136357_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136357_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136355_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136355_end -
                 futhark_mc_segmap_task_136355_start;
        
        ctx->futhark_mc_segmap_task_136355_runs[tid]++;
        ctx->futhark_mc_segmap_task_136355_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136355_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136362 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    float free_i64_res_119741;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_127056;
    int64_t free_bytes_127059;
    char *free_mem_127110;
    char *free_mem_127114;
};
struct futhark_mc_task_136367 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122007;
    char *free_mem_126921;
    char *free_mem_127055;
};
struct futhark_mc_segmap_parloop_struct_136369 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122007;
    char *free_mem_126921;
    char *free_mem_127055;
};
static int futhark_mc_segmap_parloop_136370(void *args, int64_t start,
                                            int64_t end, int flat_tid_122008,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136369
    *futhark_mc_segmap_parloop_struct_136369 =
    (struct futhark_mc_segmap_parloop_struct_136369 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136369->ctx;
    uint64_t futhark_mc_segmap_parloop_136370_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136370_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136369->free_n_119475;
    int64_t gtid_122007 =
            futhark_mc_segmap_parloop_struct_136369->free_gtid_122007;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136369->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_127055 = {.desc ="mem_127055", .mem =
                                  futhark_mc_segmap_parloop_struct_136369->free_mem_127055,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129522 = start;
    
    for (; iter_129522 < end; iter_129522++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129523 = n_119475;
        int64_t gtid_122009 = iter_129522;
        int64_t remnant_129524 = iter_129522 - gtid_122009;
        int64_t x_129431 = ((int64_t *) mem_126921.mem)[gtid_122007 * n_119475 +
                                                        gtid_122009];
        int64_t defunc_0_f_res_129432 = add64((int64_t) 1, x_129431);
        
        ((int64_t *) mem_127055.mem)[gtid_122009] = defunc_0_f_res_129432;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136370_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136370_end -
                 futhark_mc_segmap_parloop_136370_start;
        
        ctx->futhark_mc_segmap_parloop_136370_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136370_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136370_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136368(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122008 = tid;
    int num_tasks_129521 = info.nsubtasks;
    struct futhark_mc_task_136367 *futhark_mc_task_136367 =
                                  (struct futhark_mc_task_136367 *) args;
    struct futhark_context *ctx = futhark_mc_task_136367->ctx;
    uint64_t futhark_mc_segmap_task_136368_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136368_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136367->free_n_119475;
    int64_t gtid_122007 = futhark_mc_task_136367->free_gtid_122007;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136367->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_127055 = {.desc ="mem_127055", .mem =
                                  futhark_mc_task_136367->free_mem_127055,
                                  .size =0, .references =NULL};
    int64_t iter_129522;
    struct futhark_mc_segmap_parloop_struct_136369
    futhark_mc_segmap_parloop_struct_136369;
    
    futhark_mc_segmap_parloop_struct_136369.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136369.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136369.free_gtid_122007 = gtid_122007;
    futhark_mc_segmap_parloop_struct_136369.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136369.free_mem_127055 = mem_127055.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136370_task;
    
    futhark_mc_segmap_parloop_136370_task.name =
        "futhark_mc_segmap_parloop_136370";
    futhark_mc_segmap_parloop_136370_task.fn = futhark_mc_segmap_parloop_136370;
    futhark_mc_segmap_parloop_136370_task.args =
        &futhark_mc_segmap_parloop_struct_136369;
    futhark_mc_segmap_parloop_136370_task.iterations = iterations;
    futhark_mc_segmap_parloop_136370_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136370_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136370_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136370_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136370_task);
    
    if (futhark_mc_segmap_parloop_136370_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136370_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136370_total_end -
                 futhark_mc_segmap_parloop_136370_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136370_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136370_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136370_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136368_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136368_end -
                 futhark_mc_segmap_task_136368_start;
        
        ctx->futhark_mc_segmap_task_136368_runs[tid]++;
        ctx->futhark_mc_segmap_task_136368_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136368_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136371 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    int64_t free_gtid_122007;
    int64_t free_min_arg_122017;
    int64_t free_min_arg_122018;
    int64_t free_min_res_122019;
    float free_max_res_122023;
    char *free_mem_126921;
    char *free_mem_127055;
    char *free_mem_127058;
    char *free_mem_127061;
};
struct futhark_mc_segmap_parloop_struct_136373 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    int64_t free_gtid_122007;
    int64_t free_min_arg_122017;
    int64_t free_min_arg_122018;
    int64_t free_min_res_122019;
    float free_max_res_122023;
    char *free_mem_126921;
    char *free_mem_127055;
    char *free_mem_127058;
    char *free_mem_127061;
};
static int futhark_mc_segmap_parloop_136374(void *args, int64_t start,
                                            int64_t end, int flat_tid_122010,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136373
    *futhark_mc_segmap_parloop_struct_136373 =
    (struct futhark_mc_segmap_parloop_struct_136373 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136373->ctx;
    uint64_t futhark_mc_segmap_parloop_136374_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136374_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136373->free_n_119475;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136373->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136373->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136373->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_136373->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_136373->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_136373->free_loop_cond_119740;
    int64_t gtid_122007 =
            futhark_mc_segmap_parloop_struct_136373->free_gtid_122007;
    int64_t min_arg_122017 =
            futhark_mc_segmap_parloop_struct_136373->free_min_arg_122017;
    int64_t min_arg_122018 =
            futhark_mc_segmap_parloop_struct_136373->free_min_arg_122018;
    int64_t min_res_122019 =
            futhark_mc_segmap_parloop_struct_136373->free_min_res_122019;
    float max_res_122023 =
          futhark_mc_segmap_parloop_struct_136373->free_max_res_122023;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136373->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_127055 = {.desc ="mem_127055", .mem =
                                  futhark_mc_segmap_parloop_struct_136373->free_mem_127055,
                                  .size =0, .references =NULL};
    struct memblock mem_127058 = {.desc ="mem_127058", .mem =
                                  futhark_mc_segmap_parloop_struct_136373->free_mem_127058,
                                  .size =0, .references =NULL};
    struct memblock mem_127061 = {.desc ="mem_127061", .mem =
                                  futhark_mc_segmap_parloop_struct_136373->free_mem_127061,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129526 = start;
    
    for (; iter_129526 < end; iter_129526++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129582 = t_n_m_119532;
        int64_t gtid_122011 = iter_129526;
        int64_t remnant_129583 = iter_129526 - gtid_122011;
        int64_t min_arg_129433 = mul64(t_jump_119482, gtid_122011);
        int64_t min_res_129434 = smin64(i_119551, min_arg_129433);
        int64_t defunc_0_g_res_129435 = add64((int64_t) 1, min_res_129434);
        bool init_idx_129436;
        int64_t init_idx_129437;
        int64_t init_idx_129438;
        bool loop_while_129527;
        int64_t low_129528;
        int64_t high_129529;
        
        loop_while_129527 = x_119552;
        low_129528 = (int64_t) 0;
        high_129529 = i_119551;
        while (loop_while_129527) {
            int64_t x_129530 = add64(low_129528, high_129529);
            int64_t mid_129531 = sdiv64(x_129530, (int64_t) 2);
            bool x_129532 = sle64((int64_t) 0, mid_129531);
            bool y_129533 = slt64(mid_129531, n_119475);
            bool bounds_check_129534 = x_129532 && y_129533;
            bool index_certs_129535;
            
            if (!bounds_check_129534) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) mid_129531,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t mid_id_129536 = ((int64_t *) mem_127055.mem)[mid_129531];
            bool cond_129537 = slt64(mid_id_129536, (int64_t) 0);
            int64_t mid_idx_129538;
            
            if (cond_129537) {
                mid_idx_129538 = (int64_t) 9223372036854775807;
            } else {
                mid_idx_129538 = mid_id_129536;
            }
            
            bool cond_129539 = sle64(defunc_0_g_res_129435, mid_idx_129538);
            int64_t loopres_129540;
            int64_t loopres_129541;
            
            if (cond_129539) {
                int64_t loopres_t_res_129542 = sub64(mid_129531, (int64_t) 1);
                
                loopres_129540 = low_129528;
                loopres_129541 = loopres_t_res_129542;
            } else {
                int64_t loopres_f_res_129543 = add64((int64_t) 1, mid_129531);
                
                loopres_129540 = loopres_f_res_129543;
                loopres_129541 = high_129529;
            }
            
            bool loop_cond_129544 = sle64(loopres_129540, loopres_129541);
            bool loop_while_tmp_129584 = loop_cond_129544;
            int64_t low_tmp_129585 = loopres_129540;
            int64_t high_tmp_129586 = loopres_129541;
            
            loop_while_129527 = loop_while_tmp_129584;
            low_129528 = low_tmp_129585;
            high_129529 = high_tmp_129586;
        }
        init_idx_129436 = loop_while_129527;
        init_idx_129437 = low_129528;
        init_idx_129438 = high_129529;
        
        bool idx_129457;
        int64_t idx_129458;
        int64_t idx_129459;
        int64_t idx_129460;
        bool loop_while_129545;
        int64_t l_idx_129546;
        int64_t r_idx_129547;
        int64_t span_129548;
        
        loop_while_129545 = loop_cond_119740;
        l_idx_129546 = init_idx_129437;
        r_idx_129547 = init_idx_129437;
        span_129548 = (int64_t) 1;
        while (loop_while_129545) {
            int64_t max_arg_129549 = sub64(l_idx_129546, (int64_t) 1);
            int64_t max_res_129550 = smax64((int64_t) 0, max_arg_129549);
            int64_t min_arg_129551 = add64((int64_t) 1, r_idx_129547);
            int64_t min_res_129552 = smin64(min_arg_122017, min_arg_129551);
            bool x_129553 = sle64((int64_t) 0, max_res_129550);
            bool y_129554 = slt64(max_res_129550, n_119475);
            bool bounds_check_129555 = x_129553 && y_129554;
            bool index_certs_129556;
            
            if (!bounds_check_129555) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_129550,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129557 = ((int64_t *) mem_127055.mem)[max_res_129550];
            int64_t abs_arg_129558 = sub64(x_129557, defunc_0_g_res_129435);
            int64_t abs_res_129559 = abs64(abs_arg_129558);
            bool x_129560 = sle64((int64_t) 0, min_res_129552);
            bool y_129561 = slt64(min_res_129552, n_119475);
            bool bounds_check_129562 = x_129560 && y_129561;
            bool index_certs_129563;
            
            if (!bounds_check_129562) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) min_res_129552,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_129564 = ((int64_t *) mem_127055.mem)[min_res_129552];
            int64_t abs_arg_129565 = sub64(x_129564, defunc_0_g_res_129435);
            int64_t abs_res_129566 = abs64(abs_arg_129565);
            bool cond_129567 = max_res_129550 == l_idx_129546;
            int64_t loopres_129568;
            int64_t loopres_129569;
            int64_t loopres_129570;
            
            if (cond_129567) {
                loopres_129568 = l_idx_129546;
                loopres_129569 = r_idx_129547;
                loopres_129570 = min_res_119735;
            } else {
                bool cond_129571 = slt64(abs_res_129559, abs_res_129566);
                bool cond_f_res_129572 = min_res_129552 == r_idx_129547;
                bool x_129573 = !cond_129571;
                bool y_129574 = cond_f_res_129572 && x_129573;
                bool cond_129575 = cond_129571 || y_129574;
                int64_t loopres_f_res_129576;
                
                if (cond_129575) {
                    loopres_f_res_129576 = max_res_129550;
                } else {
                    loopres_f_res_129576 = l_idx_129546;
                }
                
                int64_t loopres_f_res_129577;
                
                if (cond_129575) {
                    loopres_f_res_129577 = r_idx_129547;
                } else {
                    loopres_f_res_129577 = min_res_129552;
                }
                
                int64_t loopres_f_res_129578;
                
                if (cond_129575) {
                    int64_t loopres_f_res_t_res_129579 = add64((int64_t) 1,
                                                               span_129548);
                    
                    loopres_f_res_129578 = loopres_f_res_t_res_129579;
                } else {
                    int64_t loopres_f_res_f_res_129580 = add64((int64_t) 1,
                                                               span_129548);
                    
                    loopres_f_res_129578 = loopres_f_res_f_res_129580;
                }
                loopres_129568 = loopres_f_res_129576;
                loopres_129569 = loopres_f_res_129577;
                loopres_129570 = loopres_f_res_129578;
            }
            
            bool loop_cond_129581 = slt64(loopres_129570, min_res_119735);
            bool loop_while_tmp_129587 = loop_cond_129581;
            int64_t l_idx_tmp_129588 = loopres_129568;
            int64_t r_idx_tmp_129589 = loopres_129569;
            int64_t span_tmp_129590 = loopres_129570;
            
            loop_while_129545 = loop_while_tmp_129587;
            l_idx_129546 = l_idx_tmp_129588;
            r_idx_129547 = r_idx_tmp_129589;
            span_129548 = span_tmp_129590;
        }
        idx_129457 = loop_while_129545;
        idx_129458 = l_idx_129546;
        idx_129459 = r_idx_129547;
        idx_129460 = span_129548;
        
        int64_t min_res_129498 = smin64(min_arg_122018, idx_129458);
        int64_t max_res_129499 = smax64((int64_t) 0, min_res_129498);
        int64_t x_129500 = add64(min_res_122019, max_res_129499);
        int64_t r_129501 = sub64(x_129500, (int64_t) 1);
        bool x_129502 = sle64((int64_t) 0, r_129501);
        bool y_129503 = slt64(r_129501, n_119475);
        bool bounds_check_129504 = x_129502 && y_129503;
        bool index_certs_129505;
        
        if (!bounds_check_129504) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) r_129501,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_129506 = ((int64_t *) mem_126921.mem)[gtid_122007 * n_119475 +
                                                        r_129501];
        int64_t abs_arg_129507 = sub64(x_129506, min_res_129434);
        int64_t abs_res_129508 = abs64(abs_arg_129507);
        bool x_129509 = sle64((int64_t) 0, max_res_129499);
        bool y_129510 = slt64(max_res_129499, n_119475);
        bool bounds_check_129511 = x_129509 && y_129510;
        bool index_certs_129512;
        
        if (!bounds_check_129511) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) max_res_129499,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:150:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:148:5-151:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_129513 = ((int64_t *) mem_126921.mem)[gtid_122007 * n_119475 +
                                                        max_res_129499];
        int64_t abs_arg_129514 = sub64(x_129513, min_res_129434);
        int64_t abs_res_129515 = abs64(abs_arg_129514);
        int64_t max_res_129516 = smax64(abs_res_129508, abs_res_129515);
        float defunc_0_f_res_129517 = sitofp_i64_f32(max_res_129516);
        float defunc_1_f_res_129518 = max_res_122023 + defunc_0_f_res_129517;
        
        ((float *) mem_127058.mem)[gtid_122011] = defunc_1_f_res_129518;
        ((int64_t *) mem_127061.mem)[gtid_122011] = max_res_129499;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136374_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136374_end -
                 futhark_mc_segmap_parloop_136374_start;
        
        ctx->futhark_mc_segmap_parloop_136374_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136374_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136374_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136372(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122010 = tid;
    int num_tasks_129525 = info.nsubtasks;
    struct futhark_mc_task_136371 *futhark_mc_task_136371 =
                                  (struct futhark_mc_task_136371 *) args;
    struct futhark_context *ctx = futhark_mc_task_136371->ctx;
    uint64_t futhark_mc_segmap_task_136372_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136372_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136371->free_n_119475;
    int64_t t_jump_119482 = futhark_mc_task_136371->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136371->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136371->free_i_119551;
    bool x_119552 = futhark_mc_task_136371->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_136371->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_136371->free_loop_cond_119740;
    int64_t gtid_122007 = futhark_mc_task_136371->free_gtid_122007;
    int64_t min_arg_122017 = futhark_mc_task_136371->free_min_arg_122017;
    int64_t min_arg_122018 = futhark_mc_task_136371->free_min_arg_122018;
    int64_t min_res_122019 = futhark_mc_task_136371->free_min_res_122019;
    float max_res_122023 = futhark_mc_task_136371->free_max_res_122023;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136371->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_127055 = {.desc ="mem_127055", .mem =
                                  futhark_mc_task_136371->free_mem_127055,
                                  .size =0, .references =NULL};
    struct memblock mem_127058 = {.desc ="mem_127058", .mem =
                                  futhark_mc_task_136371->free_mem_127058,
                                  .size =0, .references =NULL};
    struct memblock mem_127061 = {.desc ="mem_127061", .mem =
                                  futhark_mc_task_136371->free_mem_127061,
                                  .size =0, .references =NULL};
    int64_t iter_129526;
    struct futhark_mc_segmap_parloop_struct_136373
    futhark_mc_segmap_parloop_struct_136373;
    
    futhark_mc_segmap_parloop_struct_136373.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136373.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136373.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136373.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136373.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136373.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_136373.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_136373.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_136373.free_gtid_122007 = gtid_122007;
    futhark_mc_segmap_parloop_struct_136373.free_min_arg_122017 =
        min_arg_122017;
    futhark_mc_segmap_parloop_struct_136373.free_min_arg_122018 =
        min_arg_122018;
    futhark_mc_segmap_parloop_struct_136373.free_min_res_122019 =
        min_res_122019;
    futhark_mc_segmap_parloop_struct_136373.free_max_res_122023 =
        max_res_122023;
    futhark_mc_segmap_parloop_struct_136373.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136373.free_mem_127055 = mem_127055.mem;
    futhark_mc_segmap_parloop_struct_136373.free_mem_127058 = mem_127058.mem;
    futhark_mc_segmap_parloop_struct_136373.free_mem_127061 = mem_127061.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136374_task;
    
    futhark_mc_segmap_parloop_136374_task.name =
        "futhark_mc_segmap_parloop_136374";
    futhark_mc_segmap_parloop_136374_task.fn = futhark_mc_segmap_parloop_136374;
    futhark_mc_segmap_parloop_136374_task.args =
        &futhark_mc_segmap_parloop_struct_136373;
    futhark_mc_segmap_parloop_136374_task.iterations = iterations;
    futhark_mc_segmap_parloop_136374_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136374_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136374_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136374_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136374_task);
    
    if (futhark_mc_segmap_parloop_136374_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136374_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136374_total_end -
                 futhark_mc_segmap_parloop_136374_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136374_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136374_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136374_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136372_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136372_end -
                 futhark_mc_segmap_task_136372_start;
        
        ctx->futhark_mc_segmap_task_136372_runs[tid]++;
        ctx->futhark_mc_segmap_task_136372_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136372_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136363(void *args, int64_t start,
                                            int64_t end, int flat_tid_122006,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136362
    *futhark_mc_segmap_parloop_struct_136362 =
    (struct futhark_mc_segmap_parloop_struct_136362 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136362->ctx;
    uint64_t futhark_mc_segmap_parloop_136363_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136363_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136362->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136362->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136362->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136362->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136362->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136362->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_136362->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_136362->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_136362->free_loop_cond_119740;
    float i64_res_119741 =
          futhark_mc_segmap_parloop_struct_136362->free_i64_res_119741;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136362->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136362->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136362->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136362->free_bytes_127056;
    int64_t bytes_127059 =
            futhark_mc_segmap_parloop_struct_136362->free_bytes_127059;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136362->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136362->free_mem_127114,
                                  .size =0, .references =NULL};
    size_t mem_127055_cached_sizze_136364 = 0;
    char *mem_127055 = NULL;
    size_t mem_127058_cached_sizze_136365 = 0;
    char *mem_127058 = NULL;
    size_t mem_127061_cached_sizze_136366 = 0;
    char *mem_127061 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129430 = start;
    
    if (mem_127055_cached_sizze_136364 < (size_t) bytes_126882) {
        mem_127055 = realloc(mem_127055, bytes_126882);
        mem_127055_cached_sizze_136364 = bytes_126882;
    }
    if (mem_127058_cached_sizze_136365 < (size_t) bytes_127056) {
        mem_127058 = realloc(mem_127058, bytes_127056);
        mem_127058_cached_sizze_136365 = bytes_127056;
    }
    if (mem_127061_cached_sizze_136366 < (size_t) bytes_127059) {
        mem_127061 = realloc(mem_127061, bytes_127059);
        mem_127061_cached_sizze_136366 = bytes_127059;
    }
    for (; iter_129430 < end; iter_129430++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129519 = m_119474;
        int64_t gtid_122007 = iter_129430;
        int64_t remnant_129520 = iter_129430 - gtid_122007;
        int64_t x_122013 = ((int64_t *) mem_126924.mem)[gtid_122007];
        int64_t flat_tid_122008 = (int64_t) 0;
        int32_t num_tasks_129521;
        struct futhark_mc_task_136367 futhark_mc_task_136367;
        
        futhark_mc_task_136367.ctx = ctx;
        futhark_mc_task_136367.free_n_119475 = n_119475;
        futhark_mc_task_136367.free_gtid_122007 = gtid_122007;
        futhark_mc_task_136367.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136367.free_mem_127055 = mem_127055;
        
        struct scheduler_segop futhark_mc_task_136367_task;
        
        futhark_mc_task_136367_task.args = &futhark_mc_task_136367;
        futhark_mc_task_136367_task.top_level_fn =
            futhark_mc_segmap_task_136368;
        futhark_mc_task_136367_task.name = "futhark_mc_segmap_task_136368";
        futhark_mc_task_136367_task.iterations = n_119475;
        futhark_mc_task_136367_task.task_time =
            &ctx->futhark_mc_segmap_task_136368_total_time;
        futhark_mc_task_136367_task.task_iter =
            &ctx->futhark_mc_segmap_task_136368_total_iter;
        futhark_mc_task_136367_task.sched = STATIC;
        futhark_mc_task_136367_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136368_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136367_task);
        
        if (futhark_mc_segmap_task_136368_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t min_arg_122017 = sub64(x_122013, (int64_t) 1);
        int64_t min_arg_122018 = sub64(x_122013, min_res_119735);
        int64_t min_res_122019 = smin64(t_window_119478, x_122013);
        float i64_res_122020 = sitofp_i64_f32(x_122013);
        float x_122021 = i64_res_119741 - i64_res_122020;
        float max_arg_122022 = x_122021 / 2.0F;
        float max_res_122023 = fmax32(0.0F, max_arg_122022);
        int64_t flat_tid_122010 = (int64_t) 0;
        int32_t num_tasks_129525;
        struct futhark_mc_task_136371 futhark_mc_task_136371;
        
        futhark_mc_task_136371.ctx = ctx;
        futhark_mc_task_136371.free_n_119475 = n_119475;
        futhark_mc_task_136371.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136371.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136371.free_i_119551 = i_119551;
        futhark_mc_task_136371.free_x_119552 = x_119552;
        futhark_mc_task_136371.free_min_res_119735 = min_res_119735;
        futhark_mc_task_136371.free_loop_cond_119740 = loop_cond_119740;
        futhark_mc_task_136371.free_gtid_122007 = gtid_122007;
        futhark_mc_task_136371.free_min_arg_122017 = min_arg_122017;
        futhark_mc_task_136371.free_min_arg_122018 = min_arg_122018;
        futhark_mc_task_136371.free_min_res_122019 = min_res_122019;
        futhark_mc_task_136371.free_max_res_122023 = max_res_122023;
        futhark_mc_task_136371.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136371.free_mem_127055 = mem_127055;
        futhark_mc_task_136371.free_mem_127058 = mem_127058;
        futhark_mc_task_136371.free_mem_127061 = mem_127061;
        
        struct scheduler_segop futhark_mc_task_136371_task;
        
        futhark_mc_task_136371_task.args = &futhark_mc_task_136371;
        futhark_mc_task_136371_task.top_level_fn =
            futhark_mc_segmap_task_136372;
        futhark_mc_task_136371_task.name = "futhark_mc_segmap_task_136372";
        futhark_mc_task_136371_task.iterations = t_n_m_119532;
        futhark_mc_task_136371_task.task_time =
            &ctx->futhark_mc_segmap_task_136372_total_time;
        futhark_mc_task_136371_task.task_iter =
            &ctx->futhark_mc_segmap_task_136372_total_iter;
        futhark_mc_task_136371_task.sched = DYNAMIC;
        futhark_mc_task_136371_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136372_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136371_task);
        
        if (futhark_mc_segmap_task_136372_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127110.mem + gtid_122007 * t_n_m_119532 * (int64_t) 8,
                mem_127061 + (int64_t) 0, t_n_m_119532 * (int64_t) 8);
        memmove(mem_127114.mem + gtid_122007 * t_n_m_119532 * (int64_t) 4,
                mem_127058 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127055);
    free(mem_127058);
    free(mem_127061);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136363_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136363_end -
                 futhark_mc_segmap_parloop_136363_start;
        
        ctx->futhark_mc_segmap_parloop_136363_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136363_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136363_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136361(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122006 = tid;
    int num_tasks_129320 = info.nsubtasks;
    struct futhark_mc_task_136354 *futhark_mc_task_136354 =
                                  (struct futhark_mc_task_136354 *) args;
    struct futhark_context *ctx = futhark_mc_task_136354->ctx;
    uint64_t futhark_mc_segmap_nested_task_136361_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136361_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136354->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136354->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136354->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136354->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136354->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136354->free_i_119551;
    bool x_119552 = futhark_mc_task_136354->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_136354->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_136354->free_loop_cond_119740;
    float i64_res_119741 = futhark_mc_task_136354->free_i64_res_119741;
    int64_t bytes_126882 = futhark_mc_task_136354->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136354->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136354->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136354->free_bytes_127056;
    int64_t bytes_127059 = futhark_mc_task_136354->free_bytes_127059;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136354->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136354->free_mem_127114,
                                  .size =0, .references =NULL};
    int64_t iter_129430;
    struct futhark_mc_segmap_parloop_struct_136362
    futhark_mc_segmap_parloop_struct_136362;
    
    futhark_mc_segmap_parloop_struct_136362.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136362.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136362.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136362.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136362.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136362.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136362.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136362.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_136362.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_136362.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_136362.free_i64_res_119741 =
        i64_res_119741;
    futhark_mc_segmap_parloop_struct_136362.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136362.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136362.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136362.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136362.free_bytes_127059 = bytes_127059;
    futhark_mc_segmap_parloop_struct_136362.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136362.free_mem_127114 = mem_127114.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136363_task;
    
    futhark_mc_segmap_parloop_136363_task.name =
        "futhark_mc_segmap_parloop_136363";
    futhark_mc_segmap_parloop_136363_task.fn = futhark_mc_segmap_parloop_136363;
    futhark_mc_segmap_parloop_136363_task.args =
        &futhark_mc_segmap_parloop_struct_136362;
    futhark_mc_segmap_parloop_136363_task.iterations = iterations;
    futhark_mc_segmap_parloop_136363_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136363_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136363_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136363_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136363_task);
    
    if (futhark_mc_segmap_parloop_136363_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136363_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136363_total_end -
                 futhark_mc_segmap_parloop_136363_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136363_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136363_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136363_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136361_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136361_end -
                 futhark_mc_segmap_nested_task_136361_start;
        
        ctx->futhark_mc_segmap_nested_task_136361_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136361_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136361_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136375 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    int64_t free_ctx_param_ext_127164;
    char *free_mem_param_127168;
    char *free_mem_127190;
};
struct futhark_mc_segmap_parloop_struct_136377 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    int64_t free_ctx_param_ext_127164;
    char *free_mem_param_127168;
    char *free_mem_127190;
};
static int futhark_mc_segmap_parloop_136378(void *args, int64_t start,
                                            int64_t end, int flat_tid_122113,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136377
    *futhark_mc_segmap_parloop_struct_136377 =
    (struct futhark_mc_segmap_parloop_struct_136377 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136377->ctx;
    uint64_t futhark_mc_segmap_parloop_136378_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136378_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136377->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136377->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136377->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136377->free_bytes_126925;
    int64_t ctx_param_ext_127164 =
            futhark_mc_segmap_parloop_struct_136377->free_ctx_param_ext_127164;
    struct memblock mem_param_127168 = {.desc ="mem_param_127168", .mem =
                                        futhark_mc_segmap_parloop_struct_136377->free_mem_param_127168,
                                        .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segmap_parloop_struct_136377->free_mem_127190,
                                  .size =0, .references =NULL};
    size_t mem_127174_cached_sizze_136379 = 0;
    char *mem_127174 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129617 = start;
    
    if (mem_127174_cached_sizze_136379 < (size_t) bytes_126925) {
        mem_127174 = realloc(mem_127174, bytes_126925);
        mem_127174_cached_sizze_136379 = bytes_126925;
    }
    for (; iter_129617 < end; iter_129617++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129624 = m_119474;
        int64_t gtid_122114 = iter_129617;
        int64_t remnant_129625 = iter_129617 - gtid_122114;
        
        for (int64_t i_129618 = 0; i_129618 < n_119475; i_129618++) {
            float x_129620 = ((float *) Y_mem_126881.mem)[gtid_122114 *
                                                          n_119475 + i_129618];
            float x_129621 = ((float *) mem_param_127168.mem)[gtid_122114 *
                                                              ctx_param_ext_127164 +
                                                              i_129618];
            float defunc_1_f_res_129622 = x_129620 - x_129621;
            
            ((float *) mem_127174)[i_129618] = defunc_1_f_res_129622;
        }
        memmove(mem_127190.mem + gtid_122114 * n_119475 * (int64_t) 4,
                mem_127174 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127174);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136378_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136378_end -
                 futhark_mc_segmap_parloop_136378_start;
        
        ctx->futhark_mc_segmap_parloop_136378_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136378_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136378_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136376(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122113 = tid;
    int num_tasks_129616 = info.nsubtasks;
    struct futhark_mc_task_136375 *futhark_mc_task_136375 =
                                  (struct futhark_mc_task_136375 *) args;
    struct futhark_context *ctx = futhark_mc_task_136375->ctx;
    uint64_t futhark_mc_segmap_task_136376_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136376_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136375->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136375->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136375->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136375->free_bytes_126925;
    int64_t ctx_param_ext_127164 =
            futhark_mc_task_136375->free_ctx_param_ext_127164;
    struct memblock mem_param_127168 = {.desc ="mem_param_127168", .mem =
                                        futhark_mc_task_136375->free_mem_param_127168,
                                        .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136375->free_mem_127190,
                                  .size =0, .references =NULL};
    int64_t iter_129617;
    struct futhark_mc_segmap_parloop_struct_136377
    futhark_mc_segmap_parloop_struct_136377;
    
    futhark_mc_segmap_parloop_struct_136377.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136377.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136377.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136377.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136377.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136377.free_ctx_param_ext_127164 =
        ctx_param_ext_127164;
    futhark_mc_segmap_parloop_struct_136377.free_mem_param_127168 =
        mem_param_127168.mem;
    futhark_mc_segmap_parloop_struct_136377.free_mem_127190 = mem_127190.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136378_task;
    
    futhark_mc_segmap_parloop_136378_task.name =
        "futhark_mc_segmap_parloop_136378";
    futhark_mc_segmap_parloop_136378_task.fn = futhark_mc_segmap_parloop_136378;
    futhark_mc_segmap_parloop_136378_task.args =
        &futhark_mc_segmap_parloop_struct_136377;
    futhark_mc_segmap_parloop_136378_task.iterations = iterations;
    futhark_mc_segmap_parloop_136378_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136378_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136378_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136378_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136378_task);
    
    if (futhark_mc_segmap_parloop_136378_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136378_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136378_total_end -
                 futhark_mc_segmap_parloop_136378_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136378_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136378_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136378_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136376_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136376_end -
                 futhark_mc_segmap_task_136376_start;
        
        ctx->futhark_mc_segmap_task_136376_runs[tid]++;
        ctx->futhark_mc_segmap_task_136376_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136376_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136381 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    int64_t free_ctx_param_ext_127164;
    char *free_mem_param_127168;
    char *free_mem_127190;
};
struct futhark_mc_task_136384 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122116;
    char *free_Y_mem_126881;
    int64_t free_ctx_param_ext_127164;
    char *free_mem_param_127168;
    char *free_mem_127171;
};
struct futhark_mc_segmap_parloop_struct_136386 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122116;
    char *free_Y_mem_126881;
    int64_t free_ctx_param_ext_127164;
    char *free_mem_param_127168;
    char *free_mem_127171;
};
static int futhark_mc_segmap_parloop_136387(void *args, int64_t start,
                                            int64_t end, int flat_tid_122117,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136386
    *futhark_mc_segmap_parloop_struct_136386 =
    (struct futhark_mc_segmap_parloop_struct_136386 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136386->ctx;
    uint64_t futhark_mc_segmap_parloop_136387_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136387_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136386->free_n_119475;
    int64_t gtid_122116 =
            futhark_mc_segmap_parloop_struct_136386->free_gtid_122116;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136386->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t ctx_param_ext_127164 =
            futhark_mc_segmap_parloop_struct_136386->free_ctx_param_ext_127164;
    struct memblock mem_param_127168 = {.desc ="mem_param_127168", .mem =
                                        futhark_mc_segmap_parloop_struct_136386->free_mem_param_127168,
                                        .size =0, .references =NULL};
    struct memblock mem_127171 = {.desc ="mem_127171", .mem =
                                  futhark_mc_segmap_parloop_struct_136386->free_mem_127171,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129634 = start;
    
    for (; iter_129634 < end; iter_129634++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129635 = n_119475;
        int64_t gtid_122118 = iter_129634;
        int64_t remnant_129636 = iter_129634 - gtid_122118;
        float x_129628 = ((float *) Y_mem_126881.mem)[gtid_122116 * n_119475 +
                                                      gtid_122118];
        float x_129629 = ((float *) mem_param_127168.mem)[gtid_122116 *
                                                          ctx_param_ext_127164 +
                                                          gtid_122118];
        float defunc_1_f_res_129630 = x_129628 - x_129629;
        
        ((float *) mem_127171.mem)[gtid_122118] = defunc_1_f_res_129630;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136387_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136387_end -
                 futhark_mc_segmap_parloop_136387_start;
        
        ctx->futhark_mc_segmap_parloop_136387_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136387_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136387_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136385(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122117 = tid;
    int num_tasks_129633 = info.nsubtasks;
    struct futhark_mc_task_136384 *futhark_mc_task_136384 =
                                  (struct futhark_mc_task_136384 *) args;
    struct futhark_context *ctx = futhark_mc_task_136384->ctx;
    uint64_t futhark_mc_segmap_task_136385_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136385_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136384->free_n_119475;
    int64_t gtid_122116 = futhark_mc_task_136384->free_gtid_122116;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136384->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t ctx_param_ext_127164 =
            futhark_mc_task_136384->free_ctx_param_ext_127164;
    struct memblock mem_param_127168 = {.desc ="mem_param_127168", .mem =
                                        futhark_mc_task_136384->free_mem_param_127168,
                                        .size =0, .references =NULL};
    struct memblock mem_127171 = {.desc ="mem_127171", .mem =
                                  futhark_mc_task_136384->free_mem_127171,
                                  .size =0, .references =NULL};
    int64_t iter_129634;
    struct futhark_mc_segmap_parloop_struct_136386
    futhark_mc_segmap_parloop_struct_136386;
    
    futhark_mc_segmap_parloop_struct_136386.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136386.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136386.free_gtid_122116 = gtid_122116;
    futhark_mc_segmap_parloop_struct_136386.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136386.free_ctx_param_ext_127164 =
        ctx_param_ext_127164;
    futhark_mc_segmap_parloop_struct_136386.free_mem_param_127168 =
        mem_param_127168.mem;
    futhark_mc_segmap_parloop_struct_136386.free_mem_127171 = mem_127171.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136387_task;
    
    futhark_mc_segmap_parloop_136387_task.name =
        "futhark_mc_segmap_parloop_136387";
    futhark_mc_segmap_parloop_136387_task.fn = futhark_mc_segmap_parloop_136387;
    futhark_mc_segmap_parloop_136387_task.args =
        &futhark_mc_segmap_parloop_struct_136386;
    futhark_mc_segmap_parloop_136387_task.iterations = iterations;
    futhark_mc_segmap_parloop_136387_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136387_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136387_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136387_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136387_task);
    
    if (futhark_mc_segmap_parloop_136387_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136387_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136387_total_end -
                 futhark_mc_segmap_parloop_136387_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136387_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136387_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136387_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136385_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136385_end -
                 futhark_mc_segmap_task_136385_start;
        
        ctx->futhark_mc_segmap_task_136385_runs[tid]++;
        ctx->futhark_mc_segmap_task_136385_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136385_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136382(void *args, int64_t start,
                                            int64_t end, int flat_tid_122115,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136381
    *futhark_mc_segmap_parloop_struct_136381 =
    (struct futhark_mc_segmap_parloop_struct_136381 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136381->ctx;
    uint64_t futhark_mc_segmap_parloop_136382_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136382_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136381->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136381->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136381->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136381->free_bytes_126925;
    int64_t ctx_param_ext_127164 =
            futhark_mc_segmap_parloop_struct_136381->free_ctx_param_ext_127164;
    struct memblock mem_param_127168 = {.desc ="mem_param_127168", .mem =
                                        futhark_mc_segmap_parloop_struct_136381->free_mem_param_127168,
                                        .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segmap_parloop_struct_136381->free_mem_127190,
                                  .size =0, .references =NULL};
    size_t mem_127171_cached_sizze_136383 = 0;
    char *mem_127171 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129627 = start;
    
    if (mem_127171_cached_sizze_136383 < (size_t) bytes_126925) {
        mem_127171 = realloc(mem_127171, bytes_126925);
        mem_127171_cached_sizze_136383 = bytes_126925;
    }
    for (; iter_129627 < end; iter_129627++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129631 = m_119474;
        int64_t gtid_122116 = iter_129627;
        int64_t remnant_129632 = iter_129627 - gtid_122116;
        int64_t flat_tid_122117 = (int64_t) 0;
        int32_t num_tasks_129633;
        struct futhark_mc_task_136384 futhark_mc_task_136384;
        
        futhark_mc_task_136384.ctx = ctx;
        futhark_mc_task_136384.free_n_119475 = n_119475;
        futhark_mc_task_136384.free_gtid_122116 = gtid_122116;
        futhark_mc_task_136384.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136384.free_ctx_param_ext_127164 = ctx_param_ext_127164;
        futhark_mc_task_136384.free_mem_param_127168 = mem_param_127168.mem;
        futhark_mc_task_136384.free_mem_127171 = mem_127171;
        
        struct scheduler_segop futhark_mc_task_136384_task;
        
        futhark_mc_task_136384_task.args = &futhark_mc_task_136384;
        futhark_mc_task_136384_task.top_level_fn =
            futhark_mc_segmap_task_136385;
        futhark_mc_task_136384_task.name = "futhark_mc_segmap_task_136385";
        futhark_mc_task_136384_task.iterations = n_119475;
        futhark_mc_task_136384_task.task_time =
            &ctx->futhark_mc_segmap_task_136385_total_time;
        futhark_mc_task_136384_task.task_iter =
            &ctx->futhark_mc_segmap_task_136385_total_iter;
        futhark_mc_task_136384_task.sched = STATIC;
        futhark_mc_task_136384_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136385_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136384_task);
        
        if (futhark_mc_segmap_task_136385_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127190.mem + gtid_122116 * n_119475 * (int64_t) 4,
                mem_127171 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127171);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136382_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136382_end -
                 futhark_mc_segmap_parloop_136382_start;
        
        ctx->futhark_mc_segmap_parloop_136382_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136382_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136382_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136380(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122115 = tid;
    int num_tasks_129616 = info.nsubtasks;
    struct futhark_mc_task_136375 *futhark_mc_task_136375 =
                                  (struct futhark_mc_task_136375 *) args;
    struct futhark_context *ctx = futhark_mc_task_136375->ctx;
    uint64_t futhark_mc_segmap_nested_task_136380_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136380_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136375->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136375->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136375->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136375->free_bytes_126925;
    int64_t ctx_param_ext_127164 =
            futhark_mc_task_136375->free_ctx_param_ext_127164;
    struct memblock mem_param_127168 = {.desc ="mem_param_127168", .mem =
                                        futhark_mc_task_136375->free_mem_param_127168,
                                        .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136375->free_mem_127190,
                                  .size =0, .references =NULL};
    int64_t iter_129627;
    struct futhark_mc_segmap_parloop_struct_136381
    futhark_mc_segmap_parloop_struct_136381;
    
    futhark_mc_segmap_parloop_struct_136381.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136381.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136381.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136381.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136381.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136381.free_ctx_param_ext_127164 =
        ctx_param_ext_127164;
    futhark_mc_segmap_parloop_struct_136381.free_mem_param_127168 =
        mem_param_127168.mem;
    futhark_mc_segmap_parloop_struct_136381.free_mem_127190 = mem_127190.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136382_task;
    
    futhark_mc_segmap_parloop_136382_task.name =
        "futhark_mc_segmap_parloop_136382";
    futhark_mc_segmap_parloop_136382_task.fn = futhark_mc_segmap_parloop_136382;
    futhark_mc_segmap_parloop_136382_task.args =
        &futhark_mc_segmap_parloop_struct_136381;
    futhark_mc_segmap_parloop_136382_task.iterations = iterations;
    futhark_mc_segmap_parloop_136382_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136382_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136382_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136382_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136382_task);
    
    if (futhark_mc_segmap_parloop_136382_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136382_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136382_total_end -
                 futhark_mc_segmap_parloop_136382_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136382_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136382_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136382_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136380_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136380_end -
                 futhark_mc_segmap_nested_task_136380_start;
        
        ctx->futhark_mc_segmap_nested_task_136380_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136380_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136380_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136388 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    char *free_mem_126968;
    int64_t free_bytes_126969;
    char *free_mem_126990;
    char *free_mem_127190;
    char *free_mem_127212;
};
struct futhark_mc_segmap_parloop_struct_136390 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    char *free_mem_126968;
    int64_t free_bytes_126969;
    char *free_mem_126990;
    char *free_mem_127190;
    char *free_mem_127212;
};
static int futhark_mc_segmap_parloop_136391(void *args, int64_t start,
                                            int64_t end, int flat_tid_122125,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136390
    *futhark_mc_segmap_parloop_struct_136390 =
    (struct futhark_mc_segmap_parloop_struct_136390 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136390->ctx;
    uint64_t futhark_mc_segmap_parloop_136391_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136391_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136390->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136390->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136390->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136390->free_css_chunk_len_119521;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136390->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 =
            futhark_mc_segmap_parloop_struct_136390->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_segmap_parloop_struct_136390->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segmap_parloop_struct_136390->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_segmap_parloop_struct_136390->free_mem_127212,
                                  .size =0, .references =NULL};
    size_t mem_127196_cached_sizze_136392 = 0;
    char *mem_127196 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129638 = start;
    
    if (mem_127196_cached_sizze_136392 < (size_t) bytes_126969) {
        mem_127196 = realloc(mem_127196, bytes_126969);
        mem_127196_cached_sizze_136392 = bytes_126969;
    }
    for (; iter_129638 < end; iter_129638++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129657 = m_119474;
        int64_t gtid_122126 = iter_129638;
        int64_t remnant_129658 = iter_129638 - gtid_122126;
        
        for (int64_t i_129639 = 0; i_129639 < n_p_119477; i_129639++) {
            float x_129641 = ((float *) mem_126990.mem)[gtid_122126 *
                                                        n_p_119477 + i_129639];
            float defunc_2_reduce_res_129642;
            float redout_129644 = 0.0F;
            
            for (int64_t i_129643 = 0; i_129643 < css_chunk_len_119521;
                 i_129643++) {
                int64_t x_129645 = ((int64_t *) mem_126968.mem)[i_129639 *
                                                                css_chunk_len_119521 +
                                                                i_129643];
                bool cond_129646 = sle64((int64_t) 0, x_129645);
                float defunc_0_f_res_129647;
                
                if (cond_129646) {
                    bool y_129648 = slt64(x_129645, n_119475);
                    bool bounds_check_129649 = cond_129646 && y_129648;
                    bool index_certs_129650;
                    
                    if (!bounds_check_129649) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) x_129645,
                                      "] out of bounds for array of shape [",
                                      (long long) n_119475, "].",
                                      "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:184:40-75\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:182:21-187:44\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:180:13-188:43\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                        return 1;
                    }
                    
                    float defunc_0_f_res_t_res_129651 =
                          ((float *) mem_127190.mem)[gtid_122126 * n_119475 +
                                                     x_129645];
                    
                    defunc_0_f_res_129647 = defunc_0_f_res_t_res_129651;
                } else {
                    defunc_0_f_res_129647 = NAN;
                }
                
                bool isnan_res_129652;
                
                isnan_res_129652 = futrts_isnan32(defunc_0_f_res_129647);
                
                float defunc_0_f_res_129653;
                
                if (isnan_res_129652) {
                    defunc_0_f_res_129653 = 0.0F;
                } else {
                    defunc_0_f_res_129653 = defunc_0_f_res_129647;
                }
                
                float defunc_1_op_res_129654 = defunc_0_f_res_129653 +
                      redout_129644;
                float redout_tmp_129660 = defunc_1_op_res_129654;
                
                redout_129644 = redout_tmp_129660;
            }
            defunc_2_reduce_res_129642 = redout_129644;
            
            float defunc_1_f_res_129655 = defunc_2_reduce_res_129642 / x_129641;
            
            ((float *) mem_127196)[i_129639] = defunc_1_f_res_129655;
        }
        memmove(mem_127212.mem + gtid_122126 * n_p_119477 * (int64_t) 4,
                mem_127196 + (int64_t) 0, n_p_119477 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127196);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136391_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136391_end -
                 futhark_mc_segmap_parloop_136391_start;
        
        ctx->futhark_mc_segmap_parloop_136391_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136391_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136391_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136389(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122125 = tid;
    int num_tasks_129637 = info.nsubtasks;
    struct futhark_mc_task_136388 *futhark_mc_task_136388 =
                                  (struct futhark_mc_task_136388 *) args;
    struct futhark_context *ctx = futhark_mc_task_136388->ctx;
    uint64_t futhark_mc_segmap_task_136389_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136389_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136388->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136388->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136388->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136388->free_css_chunk_len_119521;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136388->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 = futhark_mc_task_136388->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_task_136388->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136388->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_task_136388->free_mem_127212,
                                  .size =0, .references =NULL};
    int64_t iter_129638;
    struct futhark_mc_segmap_parloop_struct_136390
    futhark_mc_segmap_parloop_struct_136390;
    
    futhark_mc_segmap_parloop_struct_136390.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136390.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136390.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136390.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136390.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136390.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136390.free_bytes_126969 = bytes_126969;
    futhark_mc_segmap_parloop_struct_136390.free_mem_126990 = mem_126990.mem;
    futhark_mc_segmap_parloop_struct_136390.free_mem_127190 = mem_127190.mem;
    futhark_mc_segmap_parloop_struct_136390.free_mem_127212 = mem_127212.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136391_task;
    
    futhark_mc_segmap_parloop_136391_task.name =
        "futhark_mc_segmap_parloop_136391";
    futhark_mc_segmap_parloop_136391_task.fn = futhark_mc_segmap_parloop_136391;
    futhark_mc_segmap_parloop_136391_task.args =
        &futhark_mc_segmap_parloop_struct_136390;
    futhark_mc_segmap_parloop_136391_task.iterations = iterations;
    futhark_mc_segmap_parloop_136391_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136391_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136391_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136391_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136391_task);
    
    if (futhark_mc_segmap_parloop_136391_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136391_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136391_total_end -
                 futhark_mc_segmap_parloop_136391_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136391_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136391_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136391_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136389_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136389_end -
                 futhark_mc_segmap_task_136389_start;
        
        ctx->futhark_mc_segmap_task_136389_runs[tid]++;
        ctx->futhark_mc_segmap_task_136389_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136389_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136394 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    char *free_mem_126968;
    int64_t free_bytes_126969;
    char *free_mem_126990;
    char *free_mem_127190;
    char *free_mem_127212;
};
struct futhark_mc_task_136397 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_122128;
    char *free_mem_126968;
    char *free_mem_126990;
    char *free_mem_127190;
    char *free_mem_127193;
};
struct futhark_mc_segmap_parloop_struct_136399 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_122128;
    char *free_mem_126968;
    char *free_mem_126990;
    char *free_mem_127190;
    char *free_mem_127193;
};
static int futhark_mc_segmap_parloop_136400(void *args, int64_t start,
                                            int64_t end, int flat_tid_122129,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136399
    *futhark_mc_segmap_parloop_struct_136399 =
    (struct futhark_mc_segmap_parloop_struct_136399 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136399->ctx;
    uint64_t futhark_mc_segmap_parloop_136400_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136400_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136399->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136399->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136399->free_css_chunk_len_119521;
    int64_t gtid_122128 =
            futhark_mc_segmap_parloop_struct_136399->free_gtid_122128;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136399->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_segmap_parloop_struct_136399->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segmap_parloop_struct_136399->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127193 = {.desc ="mem_127193", .mem =
                                  futhark_mc_segmap_parloop_struct_136399->free_mem_127193,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129695 = start;
    
    for (; iter_129695 < end; iter_129695++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129708 = n_p_119477;
        int64_t gtid_122130 = iter_129695;
        int64_t remnant_129709 = iter_129695 - gtid_122130;
        float x_129677 = ((float *) mem_126990.mem)[gtid_122128 * n_p_119477 +
                                                    gtid_122130];
        float defunc_2_reduce_res_129678;
        float redout_129697 = 0.0F;
        
        for (int64_t i_129696 = 0; i_129696 < css_chunk_len_119521;
             i_129696++) {
            int64_t x_129698 = ((int64_t *) mem_126968.mem)[gtid_122130 *
                                                            css_chunk_len_119521 +
                                                            i_129696];
            bool cond_129699 = sle64((int64_t) 0, x_129698);
            float defunc_0_f_res_129700;
            
            if (cond_129699) {
                bool y_129701 = slt64(x_129698, n_119475);
                bool bounds_check_129702 = cond_129699 && y_129701;
                bool index_certs_129703;
                
                if (!bounds_check_129702) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_129698,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:184:40-75\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:182:21-187:44\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:180:13-188:43\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_129704 =
                      ((float *) mem_127190.mem)[gtid_122128 * n_119475 +
                                                 x_129698];
                
                defunc_0_f_res_129700 = defunc_0_f_res_t_res_129704;
            } else {
                defunc_0_f_res_129700 = NAN;
            }
            
            bool isnan_res_129705;
            
            isnan_res_129705 = futrts_isnan32(defunc_0_f_res_129700);
            
            float defunc_0_f_res_129706;
            
            if (isnan_res_129705) {
                defunc_0_f_res_129706 = 0.0F;
            } else {
                defunc_0_f_res_129706 = defunc_0_f_res_129700;
            }
            
            float defunc_1_op_res_129707 = defunc_0_f_res_129706 +
                  redout_129697;
            float redout_tmp_129710 = defunc_1_op_res_129707;
            
            redout_129697 = redout_tmp_129710;
        }
        defunc_2_reduce_res_129678 = redout_129697;
        
        float defunc_1_f_res_129691 = defunc_2_reduce_res_129678 / x_129677;
        
        ((float *) mem_127193.mem)[gtid_122130] = defunc_1_f_res_129691;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136400_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136400_end -
                 futhark_mc_segmap_parloop_136400_start;
        
        ctx->futhark_mc_segmap_parloop_136400_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136400_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136400_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136398(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122129 = tid;
    int num_tasks_129694 = info.nsubtasks;
    struct futhark_mc_task_136397 *futhark_mc_task_136397 =
                                  (struct futhark_mc_task_136397 *) args;
    struct futhark_context *ctx = futhark_mc_task_136397->ctx;
    uint64_t futhark_mc_segmap_task_136398_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136398_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136397->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136397->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136397->free_css_chunk_len_119521;
    int64_t gtid_122128 = futhark_mc_task_136397->free_gtid_122128;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136397->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_task_136397->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136397->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127193 = {.desc ="mem_127193", .mem =
                                  futhark_mc_task_136397->free_mem_127193,
                                  .size =0, .references =NULL};
    int64_t iter_129695;
    struct futhark_mc_segmap_parloop_struct_136399
    futhark_mc_segmap_parloop_struct_136399;
    
    futhark_mc_segmap_parloop_struct_136399.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136399.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136399.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136399.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136399.free_gtid_122128 = gtid_122128;
    futhark_mc_segmap_parloop_struct_136399.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136399.free_mem_126990 = mem_126990.mem;
    futhark_mc_segmap_parloop_struct_136399.free_mem_127190 = mem_127190.mem;
    futhark_mc_segmap_parloop_struct_136399.free_mem_127193 = mem_127193.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136400_task;
    
    futhark_mc_segmap_parloop_136400_task.name =
        "futhark_mc_segmap_parloop_136400";
    futhark_mc_segmap_parloop_136400_task.fn = futhark_mc_segmap_parloop_136400;
    futhark_mc_segmap_parloop_136400_task.args =
        &futhark_mc_segmap_parloop_struct_136399;
    futhark_mc_segmap_parloop_136400_task.iterations = iterations;
    futhark_mc_segmap_parloop_136400_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136400_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136400_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136400_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136400_task);
    
    if (futhark_mc_segmap_parloop_136400_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136400_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136400_total_end -
                 futhark_mc_segmap_parloop_136400_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136400_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136400_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136400_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136398_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136398_end -
                 futhark_mc_segmap_task_136398_start;
        
        ctx->futhark_mc_segmap_task_136398_runs[tid]++;
        ctx->futhark_mc_segmap_task_136398_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136398_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136402 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_122128;
    char *free_mem_126968;
    char *free_mem_126990;
    char *free_mem_127190;
    char *free_mem_127193;
};
struct futhark_mc_task_136404 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_122128;
    int64_t free_gtid_122132;
    char *free_mem_126968;
    char *free_mem_127190;
    float *retval_defunc_2_reduce_res_129663;
};
struct futhark_mc_segred_stage_1_parloop_struct_136407 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_css_chunk_len_119521;
    int64_t free_gtid_122128;
    int64_t free_gtid_122132;
    char *free_mem_126968;
    char *free_mem_127190;
    char *free_reduce_stage_1_tid_res_arr_mem_129727;
};
static int futhark_mc_segred_stage_1_parloop_136408(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122133,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136407
    *futhark_mc_segred_stage_1_parloop_struct_136407 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136407 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136407->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136408_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136408_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136407->free_n_119475;
    int64_t css_chunk_len_119521 =
            futhark_mc_segred_stage_1_parloop_struct_136407->free_css_chunk_len_119521;
    int64_t gtid_122128 =
            futhark_mc_segred_stage_1_parloop_struct_136407->free_gtid_122128;
    int64_t gtid_122132 =
            futhark_mc_segred_stage_1_parloop_struct_136407->free_gtid_122132;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136407->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136407->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129727 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129727",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136407->free_reduce_stage_1_tid_res_arr_mem_129727,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129729 = start;
    float x_129712;
    float x_129713;
    float local_acc_129730 = 0.0F;
    
    for (; iter_129729 < end; iter_129729++) {
        int64_t gtid_122134 = iter_129729;
        int64_t x_129715 = ((int64_t *) mem_126968.mem)[gtid_122132 *
                                                        css_chunk_len_119521 +
                                                        gtid_122134];
        bool cond_129716 = sle64((int64_t) 0, x_129715);
        float defunc_0_f_res_129717;
        
        if (cond_129716) {
            bool y_129718 = slt64(x_129715, n_119475);
            bool bounds_check_129719 = cond_129716 && y_129718;
            bool index_certs_129720;
            
            if (!bounds_check_129719) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_129715,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:184:40-75\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:182:21-187:44\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:180:13-188:43\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_129721 =
                  ((float *) mem_127190.mem)[gtid_122128 * n_119475 + x_129715];
            
            defunc_0_f_res_129717 = defunc_0_f_res_t_res_129721;
        } else {
            defunc_0_f_res_129717 = NAN;
        }
        
        bool isnan_res_129722;
        
        isnan_res_129722 = futrts_isnan32(defunc_0_f_res_129717);
        
        float defunc_0_f_res_129723;
        
        if (isnan_res_129722) {
            defunc_0_f_res_129723 = 0.0F;
        } else {
            defunc_0_f_res_129723 = defunc_0_f_res_129717;
        }
        // save map-out results
        { }
        // Load accum params
        {
            x_129712 = local_acc_129730;
        }
        // Load next params
        {
            x_129713 = defunc_0_f_res_129723;
        }
        // Red body
        {
            float defunc_1_op_res_129714 = x_129712 + x_129713;
            
            local_acc_129730 = defunc_1_op_res_129714;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129727.mem)[flat_tid_122133] =
        local_acc_129730;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136408_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136408_end -
                 futhark_mc_segred_stage_1_parloop_136408_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136408_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136408_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136408_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136405(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122133 = tid;
    int num_tasks_129726 = info.nsubtasks;
    struct futhark_mc_task_136404 *futhark_mc_task_136404 =
                                  (struct futhark_mc_task_136404 *) args;
    struct futhark_context *ctx = futhark_mc_task_136404->ctx;
    uint64_t futhark_mc_segred_task_136405_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136405_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136404->free_n_119475;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136404->free_css_chunk_len_119521;
    int64_t gtid_122128 = futhark_mc_task_136404->free_gtid_122128;
    int64_t gtid_122132 = futhark_mc_task_136404->free_gtid_122132;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136404->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136404->free_mem_127190,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_129663 =
          *futhark_mc_task_136404->retval_defunc_2_reduce_res_129663;
    size_t reduce_stage_1_tid_res_arr_mem_129727_cached_sizze_136406 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129727 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129727_cached_sizze_136406 <
        (size_t) ((int64_t) 4 * num_tasks_129726)) {
        reduce_stage_1_tid_res_arr_mem_129727 =
            realloc(reduce_stage_1_tid_res_arr_mem_129727, (int64_t) 4 *
                    num_tasks_129726);
        reduce_stage_1_tid_res_arr_mem_129727_cached_sizze_136406 =
            (int64_t) 4 * num_tasks_129726;
    }
    
    int64_t iter_129729;
    struct futhark_mc_segred_stage_1_parloop_struct_136407
    futhark_mc_segred_stage_1_parloop_struct_136407;
    
    futhark_mc_segred_stage_1_parloop_struct_136407.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_gtid_122128 =
        gtid_122128;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_gtid_122132 =
        gtid_122132;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_mem_126968 =
        mem_126968.mem;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_mem_127190 =
        mem_127190.mem;
    futhark_mc_segred_stage_1_parloop_struct_136407.free_reduce_stage_1_tid_res_arr_mem_129727 =
        reduce_stage_1_tid_res_arr_mem_129727;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136408_task;
    
    futhark_mc_segred_stage_1_parloop_136408_task.name =
        "futhark_mc_segred_stage_1_parloop_136408";
    futhark_mc_segred_stage_1_parloop_136408_task.fn =
        futhark_mc_segred_stage_1_parloop_136408;
    futhark_mc_segred_stage_1_parloop_136408_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136407;
    futhark_mc_segred_stage_1_parloop_136408_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136408_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136408_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136408_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136408_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136408_task);
    
    if (futhark_mc_segred_stage_1_parloop_136408_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136408_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136408_total_end -
                 futhark_mc_segred_stage_1_parloop_136408_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136408_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136408_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136408_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_129663 = 0.0F;
    }
    
    float x_129731;
    float x_129732;
    
    for (int32_t i_129734 = 0; i_129734 < num_tasks_129726; i_129734++) {
        flat_tid_122133 = i_129734;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129731 = defunc_2_reduce_res_129663;
            }
            // load next params
            {
                x_129732 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129727)[flat_tid_122133];
            }
            // red body
            {
                float defunc_1_op_res_129733 = x_129731 + x_129732;
                
                defunc_2_reduce_res_129663 = defunc_1_op_res_129733;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129727);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136405_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136405_end -
                 futhark_mc_segred_task_136405_start;
        
        ctx->futhark_mc_segred_task_136405_runs[tid]++;
        ctx->futhark_mc_segred_task_136405_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136405_iter[tid] += iterations;
    }
    *futhark_mc_task_136404->retval_defunc_2_reduce_res_129663 =
        defunc_2_reduce_res_129663;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136403(void *args, int64_t start,
                                            int64_t end, int flat_tid_122131,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136402
    *futhark_mc_segmap_parloop_struct_136402 =
    (struct futhark_mc_segmap_parloop_struct_136402 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136402->ctx;
    uint64_t futhark_mc_segmap_parloop_136403_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136403_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136402->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136402->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136402->free_css_chunk_len_119521;
    int64_t gtid_122128 =
            futhark_mc_segmap_parloop_struct_136402->free_gtid_122128;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136402->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_segmap_parloop_struct_136402->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segmap_parloop_struct_136402->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127193 = {.desc ="mem_127193", .mem =
                                  futhark_mc_segmap_parloop_struct_136402->free_mem_127193,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129711 = start;
    
    for (; iter_129711 < end; iter_129711++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129724 = n_p_119477;
        int64_t gtid_122132 = iter_129711;
        int64_t remnant_129725 = iter_129711 - gtid_122132;
        float x_129662 = ((float *) mem_126990.mem)[gtid_122128 * n_p_119477 +
                                                    gtid_122132];
        float defunc_2_reduce_res_129663;
        int64_t flat_tid_122133 = (int64_t) 0;
        int32_t num_tasks_129726;
        struct futhark_mc_task_136404 futhark_mc_task_136404;
        
        futhark_mc_task_136404.ctx = ctx;
        futhark_mc_task_136404.free_n_119475 = n_119475;
        futhark_mc_task_136404.free_css_chunk_len_119521 = css_chunk_len_119521;
        futhark_mc_task_136404.free_gtid_122128 = gtid_122128;
        futhark_mc_task_136404.free_gtid_122132 = gtid_122132;
        futhark_mc_task_136404.free_mem_126968 = mem_126968.mem;
        futhark_mc_task_136404.free_mem_127190 = mem_127190.mem;
        futhark_mc_task_136404.retval_defunc_2_reduce_res_129663 =
            &defunc_2_reduce_res_129663;
        
        struct scheduler_segop futhark_mc_task_136404_task;
        
        futhark_mc_task_136404_task.args = &futhark_mc_task_136404;
        futhark_mc_task_136404_task.top_level_fn =
            futhark_mc_segred_task_136405;
        futhark_mc_task_136404_task.name = "futhark_mc_segred_task_136405";
        futhark_mc_task_136404_task.iterations = css_chunk_len_119521;
        futhark_mc_task_136404_task.task_time =
            &ctx->futhark_mc_segred_task_136405_total_time;
        futhark_mc_task_136404_task.task_iter =
            &ctx->futhark_mc_segred_task_136405_total_iter;
        futhark_mc_task_136404_task.sched = STATIC;
        futhark_mc_task_136404_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136405_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136404_task);
        
        if (futhark_mc_segred_task_136405_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_1_f_res_129676 = defunc_2_reduce_res_129663 / x_129662;
        
        ((float *) mem_127193.mem)[gtid_122132] = defunc_1_f_res_129676;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136403_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136403_end -
                 futhark_mc_segmap_parloop_136403_start;
        
        ctx->futhark_mc_segmap_parloop_136403_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136403_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136403_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136401(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122131 = tid;
    int num_tasks_129694 = info.nsubtasks;
    struct futhark_mc_task_136397 *futhark_mc_task_136397 =
                                  (struct futhark_mc_task_136397 *) args;
    struct futhark_context *ctx = futhark_mc_task_136397->ctx;
    uint64_t futhark_mc_segmap_nested_task_136401_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136401_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136397->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136397->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136397->free_css_chunk_len_119521;
    int64_t gtid_122128 = futhark_mc_task_136397->free_gtid_122128;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136397->free_mem_126968,
                                  .size =0, .references =NULL};
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_task_136397->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136397->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127193 = {.desc ="mem_127193", .mem =
                                  futhark_mc_task_136397->free_mem_127193,
                                  .size =0, .references =NULL};
    int64_t iter_129711;
    struct futhark_mc_segmap_parloop_struct_136402
    futhark_mc_segmap_parloop_struct_136402;
    
    futhark_mc_segmap_parloop_struct_136402.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136402.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136402.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136402.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136402.free_gtid_122128 = gtid_122128;
    futhark_mc_segmap_parloop_struct_136402.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136402.free_mem_126990 = mem_126990.mem;
    futhark_mc_segmap_parloop_struct_136402.free_mem_127190 = mem_127190.mem;
    futhark_mc_segmap_parloop_struct_136402.free_mem_127193 = mem_127193.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136403_task;
    
    futhark_mc_segmap_parloop_136403_task.name =
        "futhark_mc_segmap_parloop_136403";
    futhark_mc_segmap_parloop_136403_task.fn = futhark_mc_segmap_parloop_136403;
    futhark_mc_segmap_parloop_136403_task.args =
        &futhark_mc_segmap_parloop_struct_136402;
    futhark_mc_segmap_parloop_136403_task.iterations = iterations;
    futhark_mc_segmap_parloop_136403_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136403_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136403_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136403_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136403_task);
    
    if (futhark_mc_segmap_parloop_136403_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136403_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136403_total_end -
                 futhark_mc_segmap_parloop_136403_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136403_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136403_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136403_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136401_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136401_end -
                 futhark_mc_segmap_nested_task_136401_start;
        
        ctx->futhark_mc_segmap_nested_task_136401_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136401_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136401_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136395(void *args, int64_t start,
                                            int64_t end, int flat_tid_122127,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136394
    *futhark_mc_segmap_parloop_struct_136394 =
    (struct futhark_mc_segmap_parloop_struct_136394 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136394->ctx;
    uint64_t futhark_mc_segmap_parloop_136395_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136395_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136394->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136394->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136394->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_segmap_parloop_struct_136394->free_css_chunk_len_119521;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_segmap_parloop_struct_136394->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 =
            futhark_mc_segmap_parloop_struct_136394->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_segmap_parloop_struct_136394->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_segmap_parloop_struct_136394->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_segmap_parloop_struct_136394->free_mem_127212,
                                  .size =0, .references =NULL};
    size_t mem_127193_cached_sizze_136396 = 0;
    char *mem_127193 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129661 = start;
    
    if (mem_127193_cached_sizze_136396 < (size_t) bytes_126969) {
        mem_127193 = realloc(mem_127193, bytes_126969);
        mem_127193_cached_sizze_136396 = bytes_126969;
    }
    for (; iter_129661 < end; iter_129661++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129692 = m_119474;
        int64_t gtid_122128 = iter_129661;
        int64_t remnant_129693 = iter_129661 - gtid_122128;
        int64_t flat_tid_122129 = (int64_t) 0;
        int32_t num_tasks_129694;
        int64_t flat_tid_122131 = (int64_t) 0;
        struct futhark_mc_task_136397 futhark_mc_task_136397;
        
        futhark_mc_task_136397.ctx = ctx;
        futhark_mc_task_136397.free_n_119475 = n_119475;
        futhark_mc_task_136397.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136397.free_css_chunk_len_119521 = css_chunk_len_119521;
        futhark_mc_task_136397.free_gtid_122128 = gtid_122128;
        futhark_mc_task_136397.free_mem_126968 = mem_126968.mem;
        futhark_mc_task_136397.free_mem_126990 = mem_126990.mem;
        futhark_mc_task_136397.free_mem_127190 = mem_127190.mem;
        futhark_mc_task_136397.free_mem_127193 = mem_127193;
        
        struct scheduler_segop futhark_mc_task_136397_task;
        
        futhark_mc_task_136397_task.args = &futhark_mc_task_136397;
        futhark_mc_task_136397_task.top_level_fn =
            futhark_mc_segmap_task_136398;
        futhark_mc_task_136397_task.name = "futhark_mc_segmap_task_136398";
        futhark_mc_task_136397_task.iterations = n_p_119477;
        futhark_mc_task_136397_task.task_time =
            &ctx->futhark_mc_segmap_task_136398_total_time;
        futhark_mc_task_136397_task.task_iter =
            &ctx->futhark_mc_segmap_task_136398_total_iter;
        futhark_mc_task_136397_task.sched = STATIC;
        futhark_mc_task_136397_task.nested_fn =
            futhark_mc_segmap_nested_task_136401;
        
        int futhark_mc_segmap_task_136398_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136397_task);
        
        if (futhark_mc_segmap_task_136398_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127212.mem + gtid_122128 * n_p_119477 * (int64_t) 4,
                mem_127193 + (int64_t) 0, n_p_119477 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127193);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136395_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136395_end -
                 futhark_mc_segmap_parloop_136395_start;
        
        ctx->futhark_mc_segmap_parloop_136395_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136395_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136395_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136393(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122127 = tid;
    int num_tasks_129637 = info.nsubtasks;
    struct futhark_mc_task_136388 *futhark_mc_task_136388 =
                                  (struct futhark_mc_task_136388 *) args;
    struct futhark_context *ctx = futhark_mc_task_136388->ctx;
    uint64_t futhark_mc_segmap_nested_task_136393_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136393_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136388->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136388->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136388->free_n_p_119477;
    int64_t css_chunk_len_119521 =
            futhark_mc_task_136388->free_css_chunk_len_119521;
    struct memblock mem_126968 = {.desc ="mem_126968", .mem =
                                  futhark_mc_task_136388->free_mem_126968,
                                  .size =0, .references =NULL};
    int64_t bytes_126969 = futhark_mc_task_136388->free_bytes_126969;
    struct memblock mem_126990 = {.desc ="mem_126990", .mem =
                                  futhark_mc_task_136388->free_mem_126990,
                                  .size =0, .references =NULL};
    struct memblock mem_127190 = {.desc ="mem_127190", .mem =
                                  futhark_mc_task_136388->free_mem_127190,
                                  .size =0, .references =NULL};
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_task_136388->free_mem_127212,
                                  .size =0, .references =NULL};
    int64_t iter_129661;
    struct futhark_mc_segmap_parloop_struct_136394
    futhark_mc_segmap_parloop_struct_136394;
    
    futhark_mc_segmap_parloop_struct_136394.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136394.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136394.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136394.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136394.free_css_chunk_len_119521 =
        css_chunk_len_119521;
    futhark_mc_segmap_parloop_struct_136394.free_mem_126968 = mem_126968.mem;
    futhark_mc_segmap_parloop_struct_136394.free_bytes_126969 = bytes_126969;
    futhark_mc_segmap_parloop_struct_136394.free_mem_126990 = mem_126990.mem;
    futhark_mc_segmap_parloop_struct_136394.free_mem_127190 = mem_127190.mem;
    futhark_mc_segmap_parloop_struct_136394.free_mem_127212 = mem_127212.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136395_task;
    
    futhark_mc_segmap_parloop_136395_task.name =
        "futhark_mc_segmap_parloop_136395";
    futhark_mc_segmap_parloop_136395_task.fn = futhark_mc_segmap_parloop_136395;
    futhark_mc_segmap_parloop_136395_task.args =
        &futhark_mc_segmap_parloop_struct_136394;
    futhark_mc_segmap_parloop_136395_task.iterations = iterations;
    futhark_mc_segmap_parloop_136395_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136395_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136395_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136395_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136395_task);
    
    if (futhark_mc_segmap_parloop_136395_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136395_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136395_total_end -
                 futhark_mc_segmap_parloop_136395_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136395_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136395_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136395_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136393_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136393_end -
                 futhark_mc_segmap_nested_task_136393_start;
        
        ctx->futhark_mc_segmap_nested_task_136393_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136393_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136393_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136409 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    char *free_mem_127212;
    int64_t free_bytes_127213;
    char *free_mem_127234;
};
struct futhark_mc_segmap_parloop_struct_136411 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    char *free_mem_127212;
    int64_t free_bytes_127213;
    char *free_mem_127234;
};
static int futhark_mc_segmap_parloop_136412(void *args, int64_t start,
                                            int64_t end, int flat_tid_122186,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136411
    *futhark_mc_segmap_parloop_struct_136411 =
    (struct futhark_mc_segmap_parloop_struct_136411 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136411->ctx;
    uint64_t futhark_mc_segmap_parloop_136412_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136412_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136411->free_m_119474;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136411->free_n_p_119477;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136411->free_C_len_119523;
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_segmap_parloop_struct_136411->free_mem_127212,
                                  .size =0, .references =NULL};
    int64_t bytes_127213 =
            futhark_mc_segmap_parloop_struct_136411->free_bytes_127213;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136411->free_mem_127234,
                                  .size =0, .references =NULL};
    size_t mem_127218_cached_sizze_136413 = 0;
    char *mem_127218 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129736 = start;
    
    if (mem_127218_cached_sizze_136413 < (size_t) bytes_127213) {
        mem_127218 = realloc(mem_127218, bytes_127213);
        mem_127218_cached_sizze_136413 = bytes_127213;
    }
    for (; iter_129736 < end; iter_129736++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129746 = m_119474;
        int64_t gtid_122187 = iter_129736;
        int64_t remnant_129747 = iter_129736 - gtid_122187;
        
        for (int64_t i_129737 = 0; i_129737 < C_len_119523; i_129737++) {
            int64_t i_129739 = smod64(i_129737, n_p_119477);
            bool x_129740 = sle64((int64_t) 0, i_129739);
            bool y_129741 = slt64(i_129739, n_p_119477);
            bool bounds_check_129742 = x_129740 && y_129741;
            bool index_certs_129743;
            
            if (!bounds_check_129742) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) i_129739,
                              "] out of bounds for array of shape [",
                              (long long) n_p_119477, "].",
                              "-> #0  stl.fut:194:42-58\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:194:20-59\n   #4  stl.fut:192:13-195:24\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
                return 1;
            }
            memmove(mem_127218 + i_129737 * (int64_t) 4, mem_127212.mem +
                    (gtid_122187 * n_p_119477 + i_129739) * (int64_t) 4,
                    (int64_t) 4);
        }
        memmove(mem_127234.mem + gtid_122187 * C_len_119523 * (int64_t) 4,
                mem_127218 + (int64_t) 0, C_len_119523 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127218);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136412_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136412_end -
                 futhark_mc_segmap_parloop_136412_start;
        
        ctx->futhark_mc_segmap_parloop_136412_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136412_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136412_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136410(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122186 = tid;
    int num_tasks_129735 = info.nsubtasks;
    struct futhark_mc_task_136409 *futhark_mc_task_136409 =
                                  (struct futhark_mc_task_136409 *) args;
    struct futhark_context *ctx = futhark_mc_task_136409->ctx;
    uint64_t futhark_mc_segmap_task_136410_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136410_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136409->free_m_119474;
    int64_t n_p_119477 = futhark_mc_task_136409->free_n_p_119477;
    int64_t C_len_119523 = futhark_mc_task_136409->free_C_len_119523;
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_task_136409->free_mem_127212,
                                  .size =0, .references =NULL};
    int64_t bytes_127213 = futhark_mc_task_136409->free_bytes_127213;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136409->free_mem_127234,
                                  .size =0, .references =NULL};
    int64_t iter_129736;
    struct futhark_mc_segmap_parloop_struct_136411
    futhark_mc_segmap_parloop_struct_136411;
    
    futhark_mc_segmap_parloop_struct_136411.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136411.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136411.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136411.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136411.free_mem_127212 = mem_127212.mem;
    futhark_mc_segmap_parloop_struct_136411.free_bytes_127213 = bytes_127213;
    futhark_mc_segmap_parloop_struct_136411.free_mem_127234 = mem_127234.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136412_task;
    
    futhark_mc_segmap_parloop_136412_task.name =
        "futhark_mc_segmap_parloop_136412";
    futhark_mc_segmap_parloop_136412_task.fn = futhark_mc_segmap_parloop_136412;
    futhark_mc_segmap_parloop_136412_task.args =
        &futhark_mc_segmap_parloop_struct_136411;
    futhark_mc_segmap_parloop_136412_task.iterations = iterations;
    futhark_mc_segmap_parloop_136412_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136412_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136412_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136412_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136412_task);
    
    if (futhark_mc_segmap_parloop_136412_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136412_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136412_total_end -
                 futhark_mc_segmap_parloop_136412_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136412_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136412_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136412_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136410_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136410_end -
                 futhark_mc_segmap_task_136410_start;
        
        ctx->futhark_mc_segmap_task_136410_runs[tid]++;
        ctx->futhark_mc_segmap_task_136410_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136410_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136415 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    char *free_mem_127212;
    int64_t free_bytes_127213;
    char *free_mem_127234;
};
struct futhark_mc_task_136418 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    int64_t free_gtid_122189;
    char *free_mem_127212;
    char *free_mem_127215;
};
struct futhark_mc_segmap_parloop_struct_136420 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    int64_t free_gtid_122189;
    char *free_mem_127212;
    char *free_mem_127215;
};
static int futhark_mc_segmap_parloop_136421(void *args, int64_t start,
                                            int64_t end, int flat_tid_122190,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136420
    *futhark_mc_segmap_parloop_struct_136420 =
    (struct futhark_mc_segmap_parloop_struct_136420 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136420->ctx;
    uint64_t futhark_mc_segmap_parloop_136421_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136421_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136420->free_n_p_119477;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136420->free_C_len_119523;
    int64_t gtid_122189 =
            futhark_mc_segmap_parloop_struct_136420->free_gtid_122189;
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_segmap_parloop_struct_136420->free_mem_127212,
                                  .size =0, .references =NULL};
    struct memblock mem_127215 = {.desc ="mem_127215", .mem =
                                  futhark_mc_segmap_parloop_struct_136420->free_mem_127215,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129759 = start;
    
    for (; iter_129759 < end; iter_129759++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129760 = C_len_119523;
        int64_t gtid_122191 = iter_129759;
        int64_t remnant_129761 = iter_129759 - gtid_122191;
        int64_t i_129750 = smod64(gtid_122191, n_p_119477);
        bool x_129751 = sle64((int64_t) 0, i_129750);
        bool y_129752 = slt64(i_129750, n_p_119477);
        bool bounds_check_129753 = x_129751 && y_129752;
        bool index_certs_129754;
        
        if (!bounds_check_129753) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) i_129750,
                                   "] out of bounds for array of shape [",
                                   (long long) n_p_119477, "].",
                                   "-> #0  stl.fut:194:42-58\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:194:20-59\n   #4  stl.fut:192:13-195:24\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
            return 1;
        }
        
        float defunc_0_f_res_129755 = ((float *) mem_127212.mem)[gtid_122189 *
                                                                 n_p_119477 +
                                                                 i_129750];
        
        ((float *) mem_127215.mem)[gtid_122191] = defunc_0_f_res_129755;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136421_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136421_end -
                 futhark_mc_segmap_parloop_136421_start;
        
        ctx->futhark_mc_segmap_parloop_136421_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136421_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136421_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136419(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122190 = tid;
    int num_tasks_129758 = info.nsubtasks;
    struct futhark_mc_task_136418 *futhark_mc_task_136418 =
                                  (struct futhark_mc_task_136418 *) args;
    struct futhark_context *ctx = futhark_mc_task_136418->ctx;
    uint64_t futhark_mc_segmap_task_136419_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136419_start = get_wall_time();
    
    int64_t n_p_119477 = futhark_mc_task_136418->free_n_p_119477;
    int64_t C_len_119523 = futhark_mc_task_136418->free_C_len_119523;
    int64_t gtid_122189 = futhark_mc_task_136418->free_gtid_122189;
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_task_136418->free_mem_127212,
                                  .size =0, .references =NULL};
    struct memblock mem_127215 = {.desc ="mem_127215", .mem =
                                  futhark_mc_task_136418->free_mem_127215,
                                  .size =0, .references =NULL};
    int64_t iter_129759;
    struct futhark_mc_segmap_parloop_struct_136420
    futhark_mc_segmap_parloop_struct_136420;
    
    futhark_mc_segmap_parloop_struct_136420.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136420.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136420.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136420.free_gtid_122189 = gtid_122189;
    futhark_mc_segmap_parloop_struct_136420.free_mem_127212 = mem_127212.mem;
    futhark_mc_segmap_parloop_struct_136420.free_mem_127215 = mem_127215.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136421_task;
    
    futhark_mc_segmap_parloop_136421_task.name =
        "futhark_mc_segmap_parloop_136421";
    futhark_mc_segmap_parloop_136421_task.fn = futhark_mc_segmap_parloop_136421;
    futhark_mc_segmap_parloop_136421_task.args =
        &futhark_mc_segmap_parloop_struct_136420;
    futhark_mc_segmap_parloop_136421_task.iterations = iterations;
    futhark_mc_segmap_parloop_136421_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136421_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136421_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136421_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136421_task);
    
    if (futhark_mc_segmap_parloop_136421_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136421_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136421_total_end -
                 futhark_mc_segmap_parloop_136421_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136421_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136421_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136421_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136419_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136419_end -
                 futhark_mc_segmap_task_136419_start;
        
        ctx->futhark_mc_segmap_task_136419_runs[tid]++;
        ctx->futhark_mc_segmap_task_136419_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136419_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136416(void *args, int64_t start,
                                            int64_t end, int flat_tid_122188,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136415
    *futhark_mc_segmap_parloop_struct_136415 =
    (struct futhark_mc_segmap_parloop_struct_136415 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136415->ctx;
    uint64_t futhark_mc_segmap_parloop_136416_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136416_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136415->free_m_119474;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136415->free_n_p_119477;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136415->free_C_len_119523;
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_segmap_parloop_struct_136415->free_mem_127212,
                                  .size =0, .references =NULL};
    int64_t bytes_127213 =
            futhark_mc_segmap_parloop_struct_136415->free_bytes_127213;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136415->free_mem_127234,
                                  .size =0, .references =NULL};
    size_t mem_127215_cached_sizze_136417 = 0;
    char *mem_127215 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129749 = start;
    
    if (mem_127215_cached_sizze_136417 < (size_t) bytes_127213) {
        mem_127215 = realloc(mem_127215, bytes_127213);
        mem_127215_cached_sizze_136417 = bytes_127213;
    }
    for (; iter_129749 < end; iter_129749++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129756 = m_119474;
        int64_t gtid_122189 = iter_129749;
        int64_t remnant_129757 = iter_129749 - gtid_122189;
        int64_t flat_tid_122190 = (int64_t) 0;
        int32_t num_tasks_129758;
        struct futhark_mc_task_136418 futhark_mc_task_136418;
        
        futhark_mc_task_136418.ctx = ctx;
        futhark_mc_task_136418.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136418.free_C_len_119523 = C_len_119523;
        futhark_mc_task_136418.free_gtid_122189 = gtid_122189;
        futhark_mc_task_136418.free_mem_127212 = mem_127212.mem;
        futhark_mc_task_136418.free_mem_127215 = mem_127215;
        
        struct scheduler_segop futhark_mc_task_136418_task;
        
        futhark_mc_task_136418_task.args = &futhark_mc_task_136418;
        futhark_mc_task_136418_task.top_level_fn =
            futhark_mc_segmap_task_136419;
        futhark_mc_task_136418_task.name = "futhark_mc_segmap_task_136419";
        futhark_mc_task_136418_task.iterations = C_len_119523;
        futhark_mc_task_136418_task.task_time =
            &ctx->futhark_mc_segmap_task_136419_total_time;
        futhark_mc_task_136418_task.task_iter =
            &ctx->futhark_mc_segmap_task_136419_total_iter;
        futhark_mc_task_136418_task.sched = STATIC;
        futhark_mc_task_136418_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136419_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136418_task);
        
        if (futhark_mc_segmap_task_136419_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127234.mem + gtid_122189 * C_len_119523 * (int64_t) 4,
                mem_127215 + (int64_t) 0, C_len_119523 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127215);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136416_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136416_end -
                 futhark_mc_segmap_parloop_136416_start;
        
        ctx->futhark_mc_segmap_parloop_136416_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136416_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136416_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136414(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122188 = tid;
    int num_tasks_129735 = info.nsubtasks;
    struct futhark_mc_task_136409 *futhark_mc_task_136409 =
                                  (struct futhark_mc_task_136409 *) args;
    struct futhark_context *ctx = futhark_mc_task_136409->ctx;
    uint64_t futhark_mc_segmap_nested_task_136414_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136414_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136409->free_m_119474;
    int64_t n_p_119477 = futhark_mc_task_136409->free_n_p_119477;
    int64_t C_len_119523 = futhark_mc_task_136409->free_C_len_119523;
    struct memblock mem_127212 = {.desc ="mem_127212", .mem =
                                  futhark_mc_task_136409->free_mem_127212,
                                  .size =0, .references =NULL};
    int64_t bytes_127213 = futhark_mc_task_136409->free_bytes_127213;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136409->free_mem_127234,
                                  .size =0, .references =NULL};
    int64_t iter_129749;
    struct futhark_mc_segmap_parloop_struct_136415
    futhark_mc_segmap_parloop_struct_136415;
    
    futhark_mc_segmap_parloop_struct_136415.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136415.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136415.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136415.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136415.free_mem_127212 = mem_127212.mem;
    futhark_mc_segmap_parloop_struct_136415.free_bytes_127213 = bytes_127213;
    futhark_mc_segmap_parloop_struct_136415.free_mem_127234 = mem_127234.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136416_task;
    
    futhark_mc_segmap_parloop_136416_task.name =
        "futhark_mc_segmap_parloop_136416";
    futhark_mc_segmap_parloop_136416_task.fn = futhark_mc_segmap_parloop_136416;
    futhark_mc_segmap_parloop_136416_task.args =
        &futhark_mc_segmap_parloop_struct_136415;
    futhark_mc_segmap_parloop_136416_task.iterations = iterations;
    futhark_mc_segmap_parloop_136416_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136416_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136416_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136416_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136416_task);
    
    if (futhark_mc_segmap_parloop_136416_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136416_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136416_total_end -
                 futhark_mc_segmap_parloop_136416_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136416_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136416_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136416_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136414_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136414_end -
                 futhark_mc_segmap_nested_task_136414_start;
        
        ctx->futhark_mc_segmap_nested_task_136414_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136414_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136414_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136422 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_C_len_119523;
    int64_t free_lifted_single_ma_arg_119867;
    int64_t free_lifted_single_ma_arg_119884;
    int64_t free_bytes_126925;
    char *free_mem_127234;
    int64_t free_bytes_127235;
    int64_t free_bytes_127238;
    char *free_mem_127292;
};
struct futhark_mc_segmap_parloop_struct_136424 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_C_len_119523;
    int64_t free_lifted_single_ma_arg_119867;
    int64_t free_lifted_single_ma_arg_119884;
    int64_t free_bytes_126925;
    char *free_mem_127234;
    int64_t free_bytes_127235;
    int64_t free_bytes_127238;
    char *free_mem_127292;
};
static int futhark_mc_segmap_parloop_136425(void *args, int64_t start,
                                            int64_t end, int flat_tid_122201,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136424
    *futhark_mc_segmap_parloop_struct_136424 =
    (struct futhark_mc_segmap_parloop_struct_136424 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136424->ctx;
    uint64_t futhark_mc_segmap_parloop_136425_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136425_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136424->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136424->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136424->free_n_p_119477;
    float i64_res_119517 =
          futhark_mc_segmap_parloop_struct_136424->free_i64_res_119517;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136424->free_C_len_119523;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_segmap_parloop_struct_136424->free_lifted_single_ma_arg_119867;
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_segmap_parloop_struct_136424->free_lifted_single_ma_arg_119884;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136424->free_bytes_126925;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136424->free_mem_127234,
                                  .size =0, .references =NULL};
    int64_t bytes_127235 =
            futhark_mc_segmap_parloop_struct_136424->free_bytes_127235;
    int64_t bytes_127238 =
            futhark_mc_segmap_parloop_struct_136424->free_bytes_127238;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136424->free_mem_127292,
                                  .size =0, .references =NULL};
    size_t mem_127246_cached_sizze_136426 = 0;
    char *mem_127246 = NULL;
    size_t mem_127261_cached_sizze_136427 = 0;
    char *mem_127261 = NULL;
    size_t mem_127276_cached_sizze_136428 = 0;
    char *mem_127276 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129763 = start;
    
    if (mem_127246_cached_sizze_136426 < (size_t) bytes_127235) {
        mem_127246 = realloc(mem_127246, bytes_127235);
        mem_127246_cached_sizze_136426 = bytes_127235;
    }
    if (mem_127261_cached_sizze_136427 < (size_t) bytes_127238) {
        mem_127261 = realloc(mem_127261, bytes_127238);
        mem_127261_cached_sizze_136427 = bytes_127238;
    }
    if (mem_127276_cached_sizze_136428 < (size_t) bytes_126925) {
        mem_127276 = realloc(mem_127276, bytes_126925);
        mem_127276_cached_sizze_136428 = bytes_126925;
    }
    for (; iter_129763 < end; iter_129763++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129846 = m_119474;
        int64_t gtid_122202 = iter_129763;
        int64_t remnant_129847 = iter_129763 - gtid_122202;
        float defunc_2_reduce_res_119982;
        float redout_129765 = 0.0F;
        
        for (int64_t i_129764 = 0; i_129764 < n_p_119477; i_129764++) {
            float x_129766 = ((float *) mem_127234.mem)[gtid_122202 *
                                                        C_len_119523 +
                                                        i_129764];
            float defunc_1_op_res_129767 = x_129766 + redout_129765;
            float redout_tmp_129848 = defunc_1_op_res_129767;
            
            redout_129765 = redout_tmp_129848;
        }
        defunc_2_reduce_res_119982 = redout_129765;
        
        float discard_126295;
        float scanacc_129769 = 0.0F;
        
        for (int64_t i_129768 = 0; i_129768 < lifted_single_ma_arg_119867;
             i_129768++) {
            bool cond_129771 = i_129768 == (int64_t) 0;
            float defunc_0_f_res_129772;
            
            if (cond_129771) {
                float defunc_0_f_res_t_res_129773 = defunc_2_reduce_res_119982 /
                      i64_res_119517;
                
                defunc_0_f_res_129772 = defunc_0_f_res_t_res_129773;
            } else {
                int64_t x_129774 = add64(n_p_119477, i_129768);
                int64_t i_129775 = sub64(x_129774, (int64_t) 1);
                bool x_129776 = sle64((int64_t) 0, i_129775);
                bool y_129777 = slt64(i_129775, C_len_119523);
                bool bounds_check_129778 = x_129776 && y_129777;
                bool index_certs_129779;
                
                if (!bounds_check_129778) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129775,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129780 = ((float *) mem_127234.mem)[gtid_122202 *
                                                            C_len_119523 +
                                                            i_129775];
                int64_t i_129781 = sub64(i_129768, (int64_t) 1);
                bool x_129782 = sle64((int64_t) 0, i_129781);
                bool y_129783 = slt64(i_129781, C_len_119523);
                bool bounds_check_129784 = x_129782 && y_129783;
                bool index_certs_129785;
                
                if (!bounds_check_129784) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129781,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129786 = ((float *) mem_127234.mem)[gtid_122202 *
                                                            C_len_119523 +
                                                            i_129781];
                float x_129787 = x_129780 - y_129786;
                float defunc_0_f_res_f_res_129788 = x_129787 / i64_res_119517;
                
                defunc_0_f_res_129772 = defunc_0_f_res_f_res_129788;
            }
            
            float defunc_1_op_res_129789 = defunc_0_f_res_129772 +
                  scanacc_129769;
            
            ((float *) mem_127246)[i_129768] = defunc_1_op_res_129789;
            
            float scanacc_tmp_129849 = defunc_1_op_res_129789;
            
            scanacc_129769 = scanacc_tmp_129849;
        }
        discard_126295 = scanacc_129769;
        
        float defunc_2_reduce_res_120011;
        float redout_129792 = 0.0F;
        
        for (int64_t i_129791 = 0; i_129791 < n_p_119477; i_129791++) {
            float x_129793 = ((float *) mem_127246)[i_129791];
            float defunc_1_op_res_129794 = x_129793 + redout_129792;
            float redout_tmp_129851 = defunc_1_op_res_129794;
            
            redout_129792 = redout_tmp_129851;
        }
        defunc_2_reduce_res_120011 = redout_129792;
        
        float discard_126303;
        float scanacc_129796 = 0.0F;
        
        for (int64_t i_129795 = 0; i_129795 < lifted_single_ma_arg_119884;
             i_129795++) {
            bool cond_129798 = i_129795 == (int64_t) 0;
            float defunc_0_f_res_129799;
            
            if (cond_129798) {
                float defunc_0_f_res_t_res_129800 = defunc_2_reduce_res_120011 /
                      i64_res_119517;
                
                defunc_0_f_res_129799 = defunc_0_f_res_t_res_129800;
            } else {
                int64_t x_129801 = add64(n_p_119477, i_129795);
                int64_t i_129802 = sub64(x_129801, (int64_t) 1);
                bool x_129803 = sle64((int64_t) 0, i_129802);
                bool y_129804 = slt64(i_129802, lifted_single_ma_arg_119867);
                bool bounds_check_129805 = x_129803 && y_129804;
                bool index_certs_129806;
                
                if (!bounds_check_129805) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129802,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129807 = ((float *) mem_127246)[i_129802];
                int64_t i_129808 = sub64(i_129795, (int64_t) 1);
                bool x_129809 = sle64((int64_t) 0, i_129808);
                bool y_129810 = slt64(i_129808, lifted_single_ma_arg_119867);
                bool bounds_check_129811 = x_129809 && y_129810;
                bool index_certs_129812;
                
                if (!bounds_check_129811) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129808,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129813 = ((float *) mem_127246)[i_129808];
                float x_129814 = x_129807 - y_129813;
                float defunc_0_f_res_f_res_129815 = x_129814 / i64_res_119517;
                
                defunc_0_f_res_129799 = defunc_0_f_res_f_res_129815;
            }
            
            float defunc_1_op_res_129816 = defunc_0_f_res_129799 +
                  scanacc_129796;
            
            ((float *) mem_127261)[i_129795] = defunc_1_op_res_129816;
            
            float scanacc_tmp_129852 = defunc_1_op_res_129816;
            
            scanacc_129796 = scanacc_tmp_129852;
        }
        discard_126303 = scanacc_129796;
        
        float defunc_2_reduce_res_120040;
        float redout_129819 = 0.0F;
        
        for (int32_t i_129818 = 0; i_129818 < 3; i_129818++) {
            int64_t i_129820 = sext_i32_i64(i_129818);
            float x_129821 = ((float *) mem_127261)[i_129820];
            float defunc_1_op_res_129822 = x_129821 + redout_129819;
            float redout_tmp_129854 = defunc_1_op_res_129822;
            
            redout_129819 = redout_tmp_129854;
        }
        defunc_2_reduce_res_120040 = redout_129819;
        
        float discard_126311;
        float scanacc_129824 = 0.0F;
        
        for (int64_t i_129823 = 0; i_129823 < n_119475; i_129823++) {
            bool cond_129826 = i_129823 == (int64_t) 0;
            float defunc_0_f_res_129827;
            
            if (cond_129826) {
                float defunc_0_f_res_t_res_129828 = defunc_2_reduce_res_120040 /
                      3.0F;
                
                defunc_0_f_res_129827 = defunc_0_f_res_t_res_129828;
            } else {
                int64_t x_129829 = add64((int64_t) 3, i_129823);
                int64_t i_129830 = sub64(x_129829, (int64_t) 1);
                bool x_129831 = sle64((int64_t) 0, i_129830);
                bool y_129832 = slt64(i_129830, lifted_single_ma_arg_119884);
                bool bounds_check_129833 = x_129831 && y_129832;
                bool index_certs_129834;
                
                if (!bounds_check_129833) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129830,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129835 = ((float *) mem_127261)[i_129830];
                int64_t i_129836 = sub64(i_129823, (int64_t) 1);
                bool x_129837 = sle64((int64_t) 0, i_129836);
                bool y_129838 = slt64(i_129836, lifted_single_ma_arg_119884);
                bool bounds_check_129839 = x_129837 && y_129838;
                bool index_certs_129840;
                
                if (!bounds_check_129839) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129836,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129841 = ((float *) mem_127261)[i_129836];
                float x_129842 = x_129835 - y_129841;
                float defunc_0_f_res_f_res_129843 = x_129842 / 3.0F;
                
                defunc_0_f_res_129827 = defunc_0_f_res_f_res_129843;
            }
            
            float defunc_1_op_res_129844 = defunc_0_f_res_129827 +
                  scanacc_129824;
            
            ((float *) mem_127276)[i_129823] = defunc_1_op_res_129844;
            
            float scanacc_tmp_129855 = defunc_1_op_res_129844;
            
            scanacc_129824 = scanacc_tmp_129855;
        }
        discard_126311 = scanacc_129824;
        memmove(mem_127292.mem + gtid_122202 * n_119475 * (int64_t) 4,
                mem_127276 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127246);
    free(mem_127261);
    free(mem_127276);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136425_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136425_end -
                 futhark_mc_segmap_parloop_136425_start;
        
        ctx->futhark_mc_segmap_parloop_136425_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136425_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136425_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136423(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122201 = tid;
    int num_tasks_129762 = info.nsubtasks;
    struct futhark_mc_task_136422 *futhark_mc_task_136422 =
                                  (struct futhark_mc_task_136422 *) args;
    struct futhark_context *ctx = futhark_mc_task_136422->ctx;
    uint64_t futhark_mc_segmap_task_136423_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136423_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136422->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136422->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136422->free_n_p_119477;
    float i64_res_119517 = futhark_mc_task_136422->free_i64_res_119517;
    int64_t C_len_119523 = futhark_mc_task_136422->free_C_len_119523;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_task_136422->free_lifted_single_ma_arg_119867;
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_task_136422->free_lifted_single_ma_arg_119884;
    int64_t bytes_126925 = futhark_mc_task_136422->free_bytes_126925;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136422->free_mem_127234,
                                  .size =0, .references =NULL};
    int64_t bytes_127235 = futhark_mc_task_136422->free_bytes_127235;
    int64_t bytes_127238 = futhark_mc_task_136422->free_bytes_127238;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136422->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t iter_129763;
    struct futhark_mc_segmap_parloop_struct_136424
    futhark_mc_segmap_parloop_struct_136424;
    
    futhark_mc_segmap_parloop_struct_136424.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136424.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136424.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136424.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136424.free_i64_res_119517 =
        i64_res_119517;
    futhark_mc_segmap_parloop_struct_136424.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136424.free_lifted_single_ma_arg_119867 =
        lifted_single_ma_arg_119867;
    futhark_mc_segmap_parloop_struct_136424.free_lifted_single_ma_arg_119884 =
        lifted_single_ma_arg_119884;
    futhark_mc_segmap_parloop_struct_136424.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136424.free_mem_127234 = mem_127234.mem;
    futhark_mc_segmap_parloop_struct_136424.free_bytes_127235 = bytes_127235;
    futhark_mc_segmap_parloop_struct_136424.free_bytes_127238 = bytes_127238;
    futhark_mc_segmap_parloop_struct_136424.free_mem_127292 = mem_127292.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136425_task;
    
    futhark_mc_segmap_parloop_136425_task.name =
        "futhark_mc_segmap_parloop_136425";
    futhark_mc_segmap_parloop_136425_task.fn = futhark_mc_segmap_parloop_136425;
    futhark_mc_segmap_parloop_136425_task.args =
        &futhark_mc_segmap_parloop_struct_136424;
    futhark_mc_segmap_parloop_136425_task.iterations = iterations;
    futhark_mc_segmap_parloop_136425_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136425_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136425_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136425_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136425_task);
    
    if (futhark_mc_segmap_parloop_136425_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136425_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136425_total_end -
                 futhark_mc_segmap_parloop_136425_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136425_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136425_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136425_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136423_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136423_end -
                 futhark_mc_segmap_task_136423_start;
        
        ctx->futhark_mc_segmap_task_136423_runs[tid]++;
        ctx->futhark_mc_segmap_task_136423_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136423_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136430 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_C_len_119523;
    int64_t free_lifted_single_ma_arg_119867;
    int64_t free_lifted_single_ma_arg_119884;
    int64_t free_bytes_126925;
    char *free_mem_127234;
    int64_t free_bytes_127235;
    int64_t free_bytes_127238;
    char *free_mem_127292;
};
struct futhark_mc_task_136435 {
    struct futhark_context *ctx;
    int64_t free_C_len_119523;
    int64_t free_gtid_122204;
    char *free_mem_127234;
    float *retval_defunc_2_reduce_res_122219;
};
struct futhark_mc_segred_stage_1_parloop_struct_136438 {
    struct futhark_context *ctx;
    int64_t free_C_len_119523;
    int64_t free_gtid_122204;
    char *free_mem_127234;
    char *free_reduce_stage_1_tid_res_arr_mem_129936;
};
static int futhark_mc_segred_stage_1_parloop_136439(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122205,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136438
    *futhark_mc_segred_stage_1_parloop_struct_136438 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136438 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136438->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136439_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136439_start = get_wall_time();
    
    int64_t C_len_119523 =
            futhark_mc_segred_stage_1_parloop_struct_136438->free_C_len_119523;
    int64_t gtid_122204 =
            futhark_mc_segred_stage_1_parloop_struct_136438->free_gtid_122204;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136438->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129936 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129936",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136438->free_reduce_stage_1_tid_res_arr_mem_129936,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129938 = start;
    float x_129858;
    float x_129859;
    float local_acc_129939 = 0.0F;
    
    for (; iter_129938 < end; iter_129938++) {
        int64_t gtid_122206 = iter_129938;
        float x_129861 = ((float *) mem_127234.mem)[gtid_122204 * C_len_119523 +
                                                    gtid_122206];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_129858 = local_acc_129939;
        }
        // Load next params
        {
            x_129859 = x_129861;
        }
        // Red body
        {
            float defunc_1_op_res_129860 = x_129858 + x_129859;
            
            local_acc_129939 = defunc_1_op_res_129860;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129936.mem)[flat_tid_122205] =
        local_acc_129939;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136439_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136439_end -
                 futhark_mc_segred_stage_1_parloop_136439_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136439_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136439_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136439_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136436(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122205 = tid;
    int num_tasks_129935 = info.nsubtasks;
    struct futhark_mc_task_136435 *futhark_mc_task_136435 =
                                  (struct futhark_mc_task_136435 *) args;
    struct futhark_context *ctx = futhark_mc_task_136435->ctx;
    uint64_t futhark_mc_segred_task_136436_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136436_start = get_wall_time();
    
    int64_t C_len_119523 = futhark_mc_task_136435->free_C_len_119523;
    int64_t gtid_122204 = futhark_mc_task_136435->free_gtid_122204;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136435->free_mem_127234,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_122219 =
          *futhark_mc_task_136435->retval_defunc_2_reduce_res_122219;
    size_t reduce_stage_1_tid_res_arr_mem_129936_cached_sizze_136437 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129936 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129936_cached_sizze_136437 <
        (size_t) ((int64_t) 4 * num_tasks_129935)) {
        reduce_stage_1_tid_res_arr_mem_129936 =
            realloc(reduce_stage_1_tid_res_arr_mem_129936, (int64_t) 4 *
                    num_tasks_129935);
        reduce_stage_1_tid_res_arr_mem_129936_cached_sizze_136437 =
            (int64_t) 4 * num_tasks_129935;
    }
    
    int64_t iter_129938;
    struct futhark_mc_segred_stage_1_parloop_struct_136438
    futhark_mc_segred_stage_1_parloop_struct_136438;
    
    futhark_mc_segred_stage_1_parloop_struct_136438.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136438.free_C_len_119523 =
        C_len_119523;
    futhark_mc_segred_stage_1_parloop_struct_136438.free_gtid_122204 =
        gtid_122204;
    futhark_mc_segred_stage_1_parloop_struct_136438.free_mem_127234 =
        mem_127234.mem;
    futhark_mc_segred_stage_1_parloop_struct_136438.free_reduce_stage_1_tid_res_arr_mem_129936 =
        reduce_stage_1_tid_res_arr_mem_129936;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136439_task;
    
    futhark_mc_segred_stage_1_parloop_136439_task.name =
        "futhark_mc_segred_stage_1_parloop_136439";
    futhark_mc_segred_stage_1_parloop_136439_task.fn =
        futhark_mc_segred_stage_1_parloop_136439;
    futhark_mc_segred_stage_1_parloop_136439_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136438;
    futhark_mc_segred_stage_1_parloop_136439_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136439_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136439_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136439_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136439_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136439_task);
    
    if (futhark_mc_segred_stage_1_parloop_136439_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136439_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136439_total_end -
                 futhark_mc_segred_stage_1_parloop_136439_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136439_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136439_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136439_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_122219 = 0.0F;
    }
    
    float x_129940;
    float x_129941;
    
    for (int32_t i_129943 = 0; i_129943 < num_tasks_129935; i_129943++) {
        flat_tid_122205 = i_129943;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129940 = defunc_2_reduce_res_122219;
            }
            // load next params
            {
                x_129941 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129936)[flat_tid_122205];
            }
            // red body
            {
                float defunc_1_op_res_129942 = x_129940 + x_129941;
                
                defunc_2_reduce_res_122219 = defunc_1_op_res_129942;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129936);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136436_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136436_end -
                 futhark_mc_segred_task_136436_start;
        
        ctx->futhark_mc_segred_task_136436_runs[tid]++;
        ctx->futhark_mc_segred_task_136436_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136436_iter[tid] += iterations;
    }
    *futhark_mc_task_136435->retval_defunc_2_reduce_res_122219 =
        defunc_2_reduce_res_122219;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136440 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_C_len_119523;
    int64_t free_lifted_single_ma_arg_119867;
    int64_t free_gtid_122204;
    float free_defunc_2_reduce_res_122219;
    char *free_mem_127234;
    char *free_mem_127237;
};
struct futhark_mc_scan_stage_1_parloop_struct_136443 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_C_len_119523;
    int64_t free_gtid_122204;
    float free_defunc_2_reduce_res_122219;
    char *free_mem_127234;
    char *free_mem_127237;
};
static int futhark_mc_scan_stage_1_parloop_136444(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_122207, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_136443
    *futhark_mc_scan_stage_1_parloop_struct_136443 =
    (struct futhark_mc_scan_stage_1_parloop_struct_136443 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_136443->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_136444_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136444_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_scan_stage_1_parloop_struct_136443->free_n_p_119477;
    float i64_res_119517 =
          futhark_mc_scan_stage_1_parloop_struct_136443->free_i64_res_119517;
    int64_t C_len_119523 =
            futhark_mc_scan_stage_1_parloop_struct_136443->free_C_len_119523;
    int64_t gtid_122204 =
            futhark_mc_scan_stage_1_parloop_struct_136443->free_gtid_122204;
    float defunc_2_reduce_res_122219 =
          futhark_mc_scan_stage_1_parloop_struct_136443->free_defunc_2_reduce_res_122219;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136443->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136443->free_mem_127237,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129945 = start;
    float x_129862;
    float x_129863;
    
    x_129862 = 0.0F;
    for (; iter_129945 < end; iter_129945++) {
        int64_t gtid_122208 = iter_129945;
        
        // stage 1 scan body
        {
            bool cond_129865 = gtid_122208 == (int64_t) 0;
            float defunc_0_f_res_129866;
            
            if (cond_129865) {
                float defunc_0_f_res_t_res_129867 = defunc_2_reduce_res_122219 /
                      i64_res_119517;
                
                defunc_0_f_res_129866 = defunc_0_f_res_t_res_129867;
            } else {
                int64_t x_129868 = add64(n_p_119477, gtid_122208);
                int64_t i_129869 = sub64(x_129868, (int64_t) 1);
                bool x_129870 = sle64((int64_t) 0, i_129869);
                bool y_129871 = slt64(i_129869, C_len_119523);
                bool bounds_check_129872 = x_129870 && y_129871;
                bool index_certs_129873;
                
                if (!bounds_check_129872) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129869,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129874 = ((float *) mem_127234.mem)[gtid_122204 *
                                                            C_len_119523 +
                                                            i_129869];
                int64_t i_129875 = sub64(gtid_122208, (int64_t) 1);
                bool x_129876 = sle64((int64_t) 0, i_129875);
                bool y_129877 = slt64(i_129875, C_len_119523);
                bool bounds_check_129878 = x_129876 && y_129877;
                bool index_certs_129879;
                
                if (!bounds_check_129878) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129875,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129880 = ((float *) mem_127234.mem)[gtid_122204 *
                                                            C_len_119523 +
                                                            i_129875];
                float x_129881 = x_129874 - y_129880;
                float defunc_0_f_res_f_res_129882 = x_129881 / i64_res_119517;
                
                defunc_0_f_res_129866 = defunc_0_f_res_f_res_129882;
            }
            // write mapped values results to memory
            { }
            x_129862 = x_129862;
            // Read next values
            {
                x_129863 = defunc_0_f_res_129866;
            }
            
            float defunc_1_op_res_129864 = x_129862 + x_129863;
            
            ((float *) mem_127237.mem)[gtid_122208] = defunc_1_op_res_129864;
            x_129862 = defunc_1_op_res_129864;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136444_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136444_end -
                 futhark_mc_scan_stage_1_parloop_136444_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_136444_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_136444_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_136444_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_136445 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_C_len_119523;
    int64_t free_gtid_122204;
    float free_defunc_2_reduce_res_122219;
    char *free_mem_127234;
    char *free_mem_127237;
};
static int futhark_mc_scan_stage_3_parloop_136446(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_122207, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_136445
    *futhark_mc_scan_stage_3_parloop_struct_136445 =
    (struct futhark_mc_scan_stage_3_parloop_struct_136445 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_136445->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_136446_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_136446_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_scan_stage_3_parloop_struct_136445->free_n_p_119477;
    float i64_res_119517 =
          futhark_mc_scan_stage_3_parloop_struct_136445->free_i64_res_119517;
    int64_t C_len_119523 =
            futhark_mc_scan_stage_3_parloop_struct_136445->free_C_len_119523;
    int64_t gtid_122204 =
            futhark_mc_scan_stage_3_parloop_struct_136445->free_gtid_122204;
    float defunc_2_reduce_res_122219 =
          futhark_mc_scan_stage_3_parloop_struct_136445->free_defunc_2_reduce_res_122219;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136445->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136445->free_mem_127237,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129957 = start;
    float x_129954;
    float x_129955;
    
    if (iter_129957 == (int64_t) 0) {
        x_129954 = 0.0F;
    } else {
        x_129954 = ((float *) mem_127237.mem)[iter_129957 - (int64_t) 1];
    }
    for (; iter_129957 < end; iter_129957++) {
        int64_t gtid_122208 = iter_129957;
        
        // stage 3 scan body
        {
            bool cond_129865 = gtid_122208 == (int64_t) 0;
            float defunc_0_f_res_129866;
            
            if (cond_129865) {
                float defunc_0_f_res_t_res_129867 = defunc_2_reduce_res_122219 /
                      i64_res_119517;
                
                defunc_0_f_res_129866 = defunc_0_f_res_t_res_129867;
            } else {
                int64_t x_129868 = add64(n_p_119477, gtid_122208);
                int64_t i_129869 = sub64(x_129868, (int64_t) 1);
                bool x_129870 = sle64((int64_t) 0, i_129869);
                bool y_129871 = slt64(i_129869, C_len_119523);
                bool bounds_check_129872 = x_129870 && y_129871;
                bool index_certs_129873;
                
                if (!bounds_check_129872) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129869,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129874 = ((float *) mem_127234.mem)[gtid_122204 *
                                                            C_len_119523 +
                                                            i_129869];
                int64_t i_129875 = sub64(gtid_122208, (int64_t) 1);
                bool x_129876 = sle64((int64_t) 0, i_129875);
                bool y_129877 = slt64(i_129875, C_len_119523);
                bool bounds_check_129878 = x_129876 && y_129877;
                bool index_certs_129879;
                
                if (!bounds_check_129878) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129875,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129880 = ((float *) mem_127234.mem)[gtid_122204 *
                                                            C_len_119523 +
                                                            i_129875];
                float x_129881 = x_129874 - y_129880;
                float defunc_0_f_res_f_res_129882 = x_129881 / i64_res_119517;
                
                defunc_0_f_res_129866 = defunc_0_f_res_f_res_129882;
            }
            x_129954 = x_129954;
            x_129955 = defunc_0_f_res_129866;
            
            float defunc_1_op_res_129956 = x_129954 + x_129955;
            
            ((float *) mem_127237.mem)[gtid_122208] = defunc_1_op_res_129956;
            x_129954 = defunc_1_op_res_129956;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_136446_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_136446_end -
                 futhark_mc_scan_stage_3_parloop_136446_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_136446_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_136446_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_136446_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_136441(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122207 = tid;
    int num_tasks_129944 = info.nsubtasks;
    struct futhark_mc_task_136440 *futhark_mc_task_136440 =
                                  (struct futhark_mc_task_136440 *) args;
    struct futhark_context *ctx = futhark_mc_task_136440->ctx;
    uint64_t futhark_mc_segscan_task_136441_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_136441_start = get_wall_time();
    
    int64_t n_p_119477 = futhark_mc_task_136440->free_n_p_119477;
    float i64_res_119517 = futhark_mc_task_136440->free_i64_res_119517;
    int64_t C_len_119523 = futhark_mc_task_136440->free_C_len_119523;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_task_136440->free_lifted_single_ma_arg_119867;
    int64_t gtid_122204 = futhark_mc_task_136440->free_gtid_122204;
    float defunc_2_reduce_res_122219 =
          futhark_mc_task_136440->free_defunc_2_reduce_res_122219;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136440->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_task_136440->free_mem_127237,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_129951_cached_sizze_136442 = 0;
    char *scan_stage_2_accum_mem_129951 = NULL;
    int64_t iter_129945;
    struct futhark_mc_scan_stage_1_parloop_struct_136443
    futhark_mc_scan_stage_1_parloop_struct_136443;
    
    futhark_mc_scan_stage_1_parloop_struct_136443.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_n_p_119477 = n_p_119477;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_i64_res_119517 =
        i64_res_119517;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_C_len_119523 =
        C_len_119523;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_gtid_122204 =
        gtid_122204;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_defunc_2_reduce_res_122219 =
        defunc_2_reduce_res_122219;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_mem_127234 =
        mem_127234.mem;
    futhark_mc_scan_stage_1_parloop_struct_136443.free_mem_127237 =
        mem_127237.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_136444_task;
    
    futhark_mc_scan_stage_1_parloop_136444_task.name =
        "futhark_mc_scan_stage_1_parloop_136444";
    futhark_mc_scan_stage_1_parloop_136444_task.fn =
        futhark_mc_scan_stage_1_parloop_136444;
    futhark_mc_scan_stage_1_parloop_136444_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_136443;
    futhark_mc_scan_stage_1_parloop_136444_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_136444_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_136444_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136444_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_136444_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_136444_task);
    
    if (futhark_mc_scan_stage_1_parloop_136444_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136444_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136444_total_end -
                 futhark_mc_scan_stage_1_parloop_136444_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136444_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136444_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136444_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_129944)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        float x_129946;
        float x_129947;
        int64_t offset_129949 = (int64_t) 0;
        int64_t offset_index_129950 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_129951_cached_sizze_136442 <
            (size_t) (int64_t) 4) {
            scan_stage_2_accum_mem_129951 =
                realloc(scan_stage_2_accum_mem_129951, (int64_t) 4);
            scan_stage_2_accum_mem_129951_cached_sizze_136442 = (int64_t) 4;
        }
        ((float *) scan_stage_2_accum_mem_129951)[(int64_t) 0] = 0.0F;
        for (int32_t i_129953 = 0; i_129953 < num_tasks_129944 - 1;
             i_129953++) {
            offset_129949 = squot64(lifted_single_ma_arg_119867,
                                    sext_i32_i64(num_tasks_129944));
            if (slt64(sext_i32_i64(i_129953),
                      srem64(lifted_single_ma_arg_119867,
                             sext_i32_i64(num_tasks_129944)))) {
                offset_129949 += (int64_t) 1;
            }
            offset_index_129950 += offset_129949;
            
            int64_t gtid_122208 = offset_index_129950;
            bool cond_129865 = gtid_122208 == (int64_t) 0;
            float defunc_0_f_res_129866;
            
            if (cond_129865) {
                float defunc_0_f_res_t_res_129867 = defunc_2_reduce_res_122219 /
                      i64_res_119517;
                
                defunc_0_f_res_129866 = defunc_0_f_res_t_res_129867;
            } else {
                int64_t x_129868 = add64(n_p_119477, gtid_122208);
                int64_t i_129869 = sub64(x_129868, (int64_t) 1);
                bool x_129870 = sle64((int64_t) 0, i_129869);
                bool y_129871 = slt64(i_129869, C_len_119523);
                bool bounds_check_129872 = x_129870 && y_129871;
                bool index_certs_129873;
                
                if (!bounds_check_129872) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129869,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129874 = ((float *) mem_127234.mem)[gtid_122204 *
                                                            C_len_119523 +
                                                            i_129869];
                int64_t i_129875 = sub64(gtid_122208, (int64_t) 1);
                bool x_129876 = sle64((int64_t) 0, i_129875);
                bool y_129877 = slt64(i_129875, C_len_119523);
                bool bounds_check_129878 = x_129876 && y_129877;
                bool index_certs_129879;
                
                if (!bounds_check_129878) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129875,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_119523, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  stl.fut:43:3-32\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129880 = ((float *) mem_127234.mem)[gtid_122204 *
                                                            C_len_119523 +
                                                            i_129875];
                float x_129881 = x_129874 - y_129880;
                float defunc_0_f_res_f_res_129882 = x_129881 / i64_res_119517;
                
                defunc_0_f_res_129866 = defunc_0_f_res_f_res_129882;
            }
            // Read carry in
            {
                x_129946 =
                    ((float *) scan_stage_2_accum_mem_129951)[(int64_t) 0];
            }
            // Read next values
            {
                x_129947 = ((float *) mem_127237.mem)[offset_index_129950 -
                                                      (int64_t) 1];
            }
            
            float defunc_1_op_res_129948 = x_129946 + x_129947;
            
            ((float *) mem_127237.mem)[offset_index_129950 - (int64_t) 1] =
                defunc_1_op_res_129948;
            ((float *) scan_stage_2_accum_mem_129951)[(int64_t) 0] =
                defunc_1_op_res_129948;
        }
        
        int64_t iter_129957 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_136445
        futhark_mc_scan_stage_3_parloop_struct_136445;
        
        futhark_mc_scan_stage_3_parloop_struct_136445.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_n_p_119477 =
            n_p_119477;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_i64_res_119517 =
            i64_res_119517;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_C_len_119523 =
            C_len_119523;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_gtid_122204 =
            gtid_122204;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_defunc_2_reduce_res_122219 =
            defunc_2_reduce_res_122219;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_mem_127234 =
            mem_127234.mem;
        futhark_mc_scan_stage_3_parloop_struct_136445.free_mem_127237 =
            mem_127237.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_136446_task;
        
        futhark_mc_scan_stage_3_parloop_136446_task.name =
            "futhark_mc_scan_stage_3_parloop_136446";
        futhark_mc_scan_stage_3_parloop_136446_task.fn =
            futhark_mc_scan_stage_3_parloop_136446;
        futhark_mc_scan_stage_3_parloop_136446_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_136445;
        futhark_mc_scan_stage_3_parloop_136446_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_136446_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_136446_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_136446_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_136446_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_136446_task);
        
        if (futhark_mc_scan_stage_3_parloop_136446_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_136446_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_136446_total_end -
                     futhark_mc_scan_stage_3_parloop_136446_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136446_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136446_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136446_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_129951);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_136441_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_136441_end -
                 futhark_mc_segscan_task_136441_start;
        
        ctx->futhark_mc_segscan_task_136441_runs[tid]++;
        ctx->futhark_mc_segscan_task_136441_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_136441_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136447 {
    struct futhark_context *ctx;
    char *free_mem_127237;
    float *retval_defunc_2_reduce_res_122248;
};
struct futhark_mc_segred_stage_1_parloop_struct_136450 {
    struct futhark_context *ctx;
    char *free_mem_127237;
    char *free_reduce_stage_1_tid_res_arr_mem_129959;
};
static int futhark_mc_segred_stage_1_parloop_136451(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122209,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136450
    *futhark_mc_segred_stage_1_parloop_struct_136450 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136450 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136450->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136451_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136451_start = get_wall_time();
    
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136450->free_mem_127237,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129959 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129959",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136450->free_reduce_stage_1_tid_res_arr_mem_129959,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129961 = start;
    float x_129883;
    float x_129884;
    float local_acc_129962 = 0.0F;
    
    for (; iter_129961 < end; iter_129961++) {
        int64_t gtid_122210 = iter_129961;
        float x_129886 = ((float *) mem_127237.mem)[gtid_122210];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_129883 = local_acc_129962;
        }
        // Load next params
        {
            x_129884 = x_129886;
        }
        // Red body
        {
            float defunc_1_op_res_129885 = x_129883 + x_129884;
            
            local_acc_129962 = defunc_1_op_res_129885;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129959.mem)[flat_tid_122209] =
        local_acc_129962;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136451_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136451_end -
                 futhark_mc_segred_stage_1_parloop_136451_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136451_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136451_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136451_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136448(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122209 = tid;
    int num_tasks_129958 = info.nsubtasks;
    struct futhark_mc_task_136447 *futhark_mc_task_136447 =
                                  (struct futhark_mc_task_136447 *) args;
    struct futhark_context *ctx = futhark_mc_task_136447->ctx;
    uint64_t futhark_mc_segred_task_136448_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136448_start = get_wall_time();
    
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_task_136447->free_mem_127237,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_122248 =
          *futhark_mc_task_136447->retval_defunc_2_reduce_res_122248;
    size_t reduce_stage_1_tid_res_arr_mem_129959_cached_sizze_136449 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129959 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129959_cached_sizze_136449 <
        (size_t) ((int64_t) 4 * num_tasks_129958)) {
        reduce_stage_1_tid_res_arr_mem_129959 =
            realloc(reduce_stage_1_tid_res_arr_mem_129959, (int64_t) 4 *
                    num_tasks_129958);
        reduce_stage_1_tid_res_arr_mem_129959_cached_sizze_136449 =
            (int64_t) 4 * num_tasks_129958;
    }
    
    int64_t iter_129961;
    struct futhark_mc_segred_stage_1_parloop_struct_136450
    futhark_mc_segred_stage_1_parloop_struct_136450;
    
    futhark_mc_segred_stage_1_parloop_struct_136450.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136450.free_mem_127237 =
        mem_127237.mem;
    futhark_mc_segred_stage_1_parloop_struct_136450.free_reduce_stage_1_tid_res_arr_mem_129959 =
        reduce_stage_1_tid_res_arr_mem_129959;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136451_task;
    
    futhark_mc_segred_stage_1_parloop_136451_task.name =
        "futhark_mc_segred_stage_1_parloop_136451";
    futhark_mc_segred_stage_1_parloop_136451_task.fn =
        futhark_mc_segred_stage_1_parloop_136451;
    futhark_mc_segred_stage_1_parloop_136451_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136450;
    futhark_mc_segred_stage_1_parloop_136451_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136451_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136451_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136451_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136451_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136451_task);
    
    if (futhark_mc_segred_stage_1_parloop_136451_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136451_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136451_total_end -
                 futhark_mc_segred_stage_1_parloop_136451_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136451_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136451_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136451_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_122248 = 0.0F;
    }
    
    float x_129963;
    float x_129964;
    
    for (int32_t i_129966 = 0; i_129966 < num_tasks_129958; i_129966++) {
        flat_tid_122209 = i_129966;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129963 = defunc_2_reduce_res_122248;
            }
            // load next params
            {
                x_129964 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129959)[flat_tid_122209];
            }
            // red body
            {
                float defunc_1_op_res_129965 = x_129963 + x_129964;
                
                defunc_2_reduce_res_122248 = defunc_1_op_res_129965;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129959);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136448_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136448_end -
                 futhark_mc_segred_task_136448_start;
        
        ctx->futhark_mc_segred_task_136448_runs[tid]++;
        ctx->futhark_mc_segred_task_136448_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136448_iter[tid] += iterations;
    }
    *futhark_mc_task_136447->retval_defunc_2_reduce_res_122248 =
        defunc_2_reduce_res_122248;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136452 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_lifted_single_ma_arg_119867;
    int64_t free_lifted_single_ma_arg_119884;
    float free_defunc_2_reduce_res_122248;
    char *free_mem_127237;
    char *free_mem_127240;
};
struct futhark_mc_scan_stage_1_parloop_struct_136455 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_lifted_single_ma_arg_119867;
    float free_defunc_2_reduce_res_122248;
    char *free_mem_127237;
    char *free_mem_127240;
};
static int futhark_mc_scan_stage_1_parloop_136456(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_122211, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_136455
    *futhark_mc_scan_stage_1_parloop_struct_136455 =
    (struct futhark_mc_scan_stage_1_parloop_struct_136455 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_136455->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_136456_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136456_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_scan_stage_1_parloop_struct_136455->free_n_p_119477;
    float i64_res_119517 =
          futhark_mc_scan_stage_1_parloop_struct_136455->free_i64_res_119517;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_scan_stage_1_parloop_struct_136455->free_lifted_single_ma_arg_119867;
    float defunc_2_reduce_res_122248 =
          futhark_mc_scan_stage_1_parloop_struct_136455->free_defunc_2_reduce_res_122248;
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136455->free_mem_127237,
                                  .size =0, .references =NULL};
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136455->free_mem_127240,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129968 = start;
    float x_129887;
    float x_129888;
    
    x_129887 = 0.0F;
    for (; iter_129968 < end; iter_129968++) {
        int64_t gtid_122212 = iter_129968;
        
        // stage 1 scan body
        {
            bool cond_129890 = gtid_122212 == (int64_t) 0;
            float defunc_0_f_res_129891;
            
            if (cond_129890) {
                float defunc_0_f_res_t_res_129892 = defunc_2_reduce_res_122248 /
                      i64_res_119517;
                
                defunc_0_f_res_129891 = defunc_0_f_res_t_res_129892;
            } else {
                int64_t x_129893 = add64(n_p_119477, gtid_122212);
                int64_t i_129894 = sub64(x_129893, (int64_t) 1);
                bool x_129895 = sle64((int64_t) 0, i_129894);
                bool y_129896 = slt64(i_129894, lifted_single_ma_arg_119867);
                bool bounds_check_129897 = x_129895 && y_129896;
                bool index_certs_129898;
                
                if (!bounds_check_129897) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129894,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129899 = ((float *) mem_127237.mem)[i_129894];
                int64_t i_129900 = sub64(gtid_122212, (int64_t) 1);
                bool x_129901 = sle64((int64_t) 0, i_129900);
                bool y_129902 = slt64(i_129900, lifted_single_ma_arg_119867);
                bool bounds_check_129903 = x_129901 && y_129902;
                bool index_certs_129904;
                
                if (!bounds_check_129903) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129900,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129905 = ((float *) mem_127237.mem)[i_129900];
                float x_129906 = x_129899 - y_129905;
                float defunc_0_f_res_f_res_129907 = x_129906 / i64_res_119517;
                
                defunc_0_f_res_129891 = defunc_0_f_res_f_res_129907;
            }
            // write mapped values results to memory
            { }
            x_129887 = x_129887;
            // Read next values
            {
                x_129888 = defunc_0_f_res_129891;
            }
            
            float defunc_1_op_res_129889 = x_129887 + x_129888;
            
            ((float *) mem_127240.mem)[gtid_122212] = defunc_1_op_res_129889;
            x_129887 = defunc_1_op_res_129889;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136456_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136456_end -
                 futhark_mc_scan_stage_1_parloop_136456_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_136456_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_136456_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_136456_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_136457 {
    struct futhark_context *ctx;
    int64_t free_n_p_119477;
    float free_i64_res_119517;
    int64_t free_lifted_single_ma_arg_119867;
    float free_defunc_2_reduce_res_122248;
    char *free_mem_127237;
    char *free_mem_127240;
};
static int futhark_mc_scan_stage_3_parloop_136458(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_122211, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_136457
    *futhark_mc_scan_stage_3_parloop_struct_136457 =
    (struct futhark_mc_scan_stage_3_parloop_struct_136457 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_136457->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_136458_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_136458_start = get_wall_time();
    
    int64_t n_p_119477 =
            futhark_mc_scan_stage_3_parloop_struct_136457->free_n_p_119477;
    float i64_res_119517 =
          futhark_mc_scan_stage_3_parloop_struct_136457->free_i64_res_119517;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_scan_stage_3_parloop_struct_136457->free_lifted_single_ma_arg_119867;
    float defunc_2_reduce_res_122248 =
          futhark_mc_scan_stage_3_parloop_struct_136457->free_defunc_2_reduce_res_122248;
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136457->free_mem_127237,
                                  .size =0, .references =NULL};
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136457->free_mem_127240,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129980 = start;
    float x_129977;
    float x_129978;
    
    if (iter_129980 == (int64_t) 0) {
        x_129977 = 0.0F;
    } else {
        x_129977 = ((float *) mem_127240.mem)[iter_129980 - (int64_t) 1];
    }
    for (; iter_129980 < end; iter_129980++) {
        int64_t gtid_122212 = iter_129980;
        
        // stage 3 scan body
        {
            bool cond_129890 = gtid_122212 == (int64_t) 0;
            float defunc_0_f_res_129891;
            
            if (cond_129890) {
                float defunc_0_f_res_t_res_129892 = defunc_2_reduce_res_122248 /
                      i64_res_119517;
                
                defunc_0_f_res_129891 = defunc_0_f_res_t_res_129892;
            } else {
                int64_t x_129893 = add64(n_p_119477, gtid_122212);
                int64_t i_129894 = sub64(x_129893, (int64_t) 1);
                bool x_129895 = sle64((int64_t) 0, i_129894);
                bool y_129896 = slt64(i_129894, lifted_single_ma_arg_119867);
                bool bounds_check_129897 = x_129895 && y_129896;
                bool index_certs_129898;
                
                if (!bounds_check_129897) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129894,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129899 = ((float *) mem_127237.mem)[i_129894];
                int64_t i_129900 = sub64(gtid_122212, (int64_t) 1);
                bool x_129901 = sle64((int64_t) 0, i_129900);
                bool y_129902 = slt64(i_129900, lifted_single_ma_arg_119867);
                bool bounds_check_129903 = x_129901 && y_129902;
                bool index_certs_129904;
                
                if (!bounds_check_129903) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129900,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129905 = ((float *) mem_127237.mem)[i_129900];
                float x_129906 = x_129899 - y_129905;
                float defunc_0_f_res_f_res_129907 = x_129906 / i64_res_119517;
                
                defunc_0_f_res_129891 = defunc_0_f_res_f_res_129907;
            }
            x_129977 = x_129977;
            x_129978 = defunc_0_f_res_129891;
            
            float defunc_1_op_res_129979 = x_129977 + x_129978;
            
            ((float *) mem_127240.mem)[gtid_122212] = defunc_1_op_res_129979;
            x_129977 = defunc_1_op_res_129979;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_136458_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_136458_end -
                 futhark_mc_scan_stage_3_parloop_136458_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_136458_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_136458_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_136458_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_136453(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122211 = tid;
    int num_tasks_129967 = info.nsubtasks;
    struct futhark_mc_task_136452 *futhark_mc_task_136452 =
                                  (struct futhark_mc_task_136452 *) args;
    struct futhark_context *ctx = futhark_mc_task_136452->ctx;
    uint64_t futhark_mc_segscan_task_136453_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_136453_start = get_wall_time();
    
    int64_t n_p_119477 = futhark_mc_task_136452->free_n_p_119477;
    float i64_res_119517 = futhark_mc_task_136452->free_i64_res_119517;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_task_136452->free_lifted_single_ma_arg_119867;
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_task_136452->free_lifted_single_ma_arg_119884;
    float defunc_2_reduce_res_122248 =
          futhark_mc_task_136452->free_defunc_2_reduce_res_122248;
    struct memblock mem_127237 = {.desc ="mem_127237", .mem =
                                  futhark_mc_task_136452->free_mem_127237,
                                  .size =0, .references =NULL};
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_task_136452->free_mem_127240,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_129974_cached_sizze_136454 = 0;
    char *scan_stage_2_accum_mem_129974 = NULL;
    int64_t iter_129968;
    struct futhark_mc_scan_stage_1_parloop_struct_136455
    futhark_mc_scan_stage_1_parloop_struct_136455;
    
    futhark_mc_scan_stage_1_parloop_struct_136455.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_136455.free_n_p_119477 = n_p_119477;
    futhark_mc_scan_stage_1_parloop_struct_136455.free_i64_res_119517 =
        i64_res_119517;
    futhark_mc_scan_stage_1_parloop_struct_136455.free_lifted_single_ma_arg_119867 =
        lifted_single_ma_arg_119867;
    futhark_mc_scan_stage_1_parloop_struct_136455.free_defunc_2_reduce_res_122248 =
        defunc_2_reduce_res_122248;
    futhark_mc_scan_stage_1_parloop_struct_136455.free_mem_127237 =
        mem_127237.mem;
    futhark_mc_scan_stage_1_parloop_struct_136455.free_mem_127240 =
        mem_127240.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_136456_task;
    
    futhark_mc_scan_stage_1_parloop_136456_task.name =
        "futhark_mc_scan_stage_1_parloop_136456";
    futhark_mc_scan_stage_1_parloop_136456_task.fn =
        futhark_mc_scan_stage_1_parloop_136456;
    futhark_mc_scan_stage_1_parloop_136456_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_136455;
    futhark_mc_scan_stage_1_parloop_136456_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_136456_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_136456_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136456_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_136456_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_136456_task);
    
    if (futhark_mc_scan_stage_1_parloop_136456_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136456_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136456_total_end -
                 futhark_mc_scan_stage_1_parloop_136456_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136456_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136456_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136456_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_129967)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        float x_129969;
        float x_129970;
        int64_t offset_129972 = (int64_t) 0;
        int64_t offset_index_129973 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_129974_cached_sizze_136454 <
            (size_t) (int64_t) 4) {
            scan_stage_2_accum_mem_129974 =
                realloc(scan_stage_2_accum_mem_129974, (int64_t) 4);
            scan_stage_2_accum_mem_129974_cached_sizze_136454 = (int64_t) 4;
        }
        ((float *) scan_stage_2_accum_mem_129974)[(int64_t) 0] = 0.0F;
        for (int32_t i_129976 = 0; i_129976 < num_tasks_129967 - 1;
             i_129976++) {
            offset_129972 = squot64(lifted_single_ma_arg_119884,
                                    sext_i32_i64(num_tasks_129967));
            if (slt64(sext_i32_i64(i_129976),
                      srem64(lifted_single_ma_arg_119884,
                             sext_i32_i64(num_tasks_129967)))) {
                offset_129972 += (int64_t) 1;
            }
            offset_index_129973 += offset_129972;
            
            int64_t gtid_122212 = offset_index_129973;
            bool cond_129890 = gtid_122212 == (int64_t) 0;
            float defunc_0_f_res_129891;
            
            if (cond_129890) {
                float defunc_0_f_res_t_res_129892 = defunc_2_reduce_res_122248 /
                      i64_res_119517;
                
                defunc_0_f_res_129891 = defunc_0_f_res_t_res_129892;
            } else {
                int64_t x_129893 = add64(n_p_119477, gtid_122212);
                int64_t i_129894 = sub64(x_129893, (int64_t) 1);
                bool x_129895 = sle64((int64_t) 0, i_129894);
                bool y_129896 = slt64(i_129894, lifted_single_ma_arg_119867);
                bool bounds_check_129897 = x_129895 && y_129896;
                bool index_certs_129898;
                
                if (!bounds_check_129897) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129894,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129899 = ((float *) mem_127237.mem)[i_129894];
                int64_t i_129900 = sub64(gtid_122212, (int64_t) 1);
                bool x_129901 = sle64((int64_t) 0, i_129900);
                bool y_129902 = slt64(i_129900, lifted_single_ma_arg_119867);
                bool bounds_check_129903 = x_129901 && y_129902;
                bool index_certs_129904;
                
                if (!bounds_check_129903) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129900,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119867, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-58\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129905 = ((float *) mem_127237.mem)[i_129900];
                float x_129906 = x_129899 - y_129905;
                float defunc_0_f_res_f_res_129907 = x_129906 / i64_res_119517;
                
                defunc_0_f_res_129891 = defunc_0_f_res_f_res_129907;
            }
            // Read carry in
            {
                x_129969 =
                    ((float *) scan_stage_2_accum_mem_129974)[(int64_t) 0];
            }
            // Read next values
            {
                x_129970 = ((float *) mem_127240.mem)[offset_index_129973 -
                                                      (int64_t) 1];
            }
            
            float defunc_1_op_res_129971 = x_129969 + x_129970;
            
            ((float *) mem_127240.mem)[offset_index_129973 - (int64_t) 1] =
                defunc_1_op_res_129971;
            ((float *) scan_stage_2_accum_mem_129974)[(int64_t) 0] =
                defunc_1_op_res_129971;
        }
        
        int64_t iter_129980 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_136457
        futhark_mc_scan_stage_3_parloop_struct_136457;
        
        futhark_mc_scan_stage_3_parloop_struct_136457.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_136457.free_n_p_119477 =
            n_p_119477;
        futhark_mc_scan_stage_3_parloop_struct_136457.free_i64_res_119517 =
            i64_res_119517;
        futhark_mc_scan_stage_3_parloop_struct_136457.free_lifted_single_ma_arg_119867 =
            lifted_single_ma_arg_119867;
        futhark_mc_scan_stage_3_parloop_struct_136457.free_defunc_2_reduce_res_122248 =
            defunc_2_reduce_res_122248;
        futhark_mc_scan_stage_3_parloop_struct_136457.free_mem_127237 =
            mem_127237.mem;
        futhark_mc_scan_stage_3_parloop_struct_136457.free_mem_127240 =
            mem_127240.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_136458_task;
        
        futhark_mc_scan_stage_3_parloop_136458_task.name =
            "futhark_mc_scan_stage_3_parloop_136458";
        futhark_mc_scan_stage_3_parloop_136458_task.fn =
            futhark_mc_scan_stage_3_parloop_136458;
        futhark_mc_scan_stage_3_parloop_136458_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_136457;
        futhark_mc_scan_stage_3_parloop_136458_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_136458_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_136458_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_136458_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_136458_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_136458_task);
        
        if (futhark_mc_scan_stage_3_parloop_136458_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_136458_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_136458_total_end -
                     futhark_mc_scan_stage_3_parloop_136458_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136458_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136458_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136458_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_129974);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_136453_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_136453_end -
                 futhark_mc_segscan_task_136453_start;
        
        ctx->futhark_mc_segscan_task_136453_runs[tid]++;
        ctx->futhark_mc_segscan_task_136453_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_136453_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136459 {
    struct futhark_context *ctx;
    char *free_mem_127240;
    float *retval_defunc_2_reduce_res_122277;
};
struct futhark_mc_segred_stage_1_parloop_struct_136462 {
    struct futhark_context *ctx;
    char *free_mem_127240;
    char *free_reduce_stage_1_tid_res_arr_mem_129982;
};
static int futhark_mc_segred_stage_1_parloop_136463(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122213,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136462
    *futhark_mc_segred_stage_1_parloop_struct_136462 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136462 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136462->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136463_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136463_start = get_wall_time();
    
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136462->free_mem_127240,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129982 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129982",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136462->free_reduce_stage_1_tid_res_arr_mem_129982,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129984 = start;
    float x_129908;
    float x_129909;
    float local_acc_129985 = 0.0F;
    
    for (; iter_129984 < end; iter_129984++) {
        int64_t gtid_122214 = iter_129984;
        float x_129911 = ((float *) mem_127240.mem)[gtid_122214];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_129908 = local_acc_129985;
        }
        // Load next params
        {
            x_129909 = x_129911;
        }
        // Red body
        {
            float defunc_1_op_res_129910 = x_129908 + x_129909;
            
            local_acc_129985 = defunc_1_op_res_129910;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129982.mem)[flat_tid_122213] =
        local_acc_129985;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136463_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136463_end -
                 futhark_mc_segred_stage_1_parloop_136463_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136463_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136463_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136463_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136460(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122213 = tid;
    int num_tasks_129981 = info.nsubtasks;
    struct futhark_mc_task_136459 *futhark_mc_task_136459 =
                                  (struct futhark_mc_task_136459 *) args;
    struct futhark_context *ctx = futhark_mc_task_136459->ctx;
    uint64_t futhark_mc_segred_task_136460_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136460_start = get_wall_time();
    
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_task_136459->free_mem_127240,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_122277 =
          *futhark_mc_task_136459->retval_defunc_2_reduce_res_122277;
    size_t reduce_stage_1_tid_res_arr_mem_129982_cached_sizze_136461 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129982 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129982_cached_sizze_136461 <
        (size_t) ((int64_t) 4 * num_tasks_129981)) {
        reduce_stage_1_tid_res_arr_mem_129982 =
            realloc(reduce_stage_1_tid_res_arr_mem_129982, (int64_t) 4 *
                    num_tasks_129981);
        reduce_stage_1_tid_res_arr_mem_129982_cached_sizze_136461 =
            (int64_t) 4 * num_tasks_129981;
    }
    
    int64_t iter_129984;
    struct futhark_mc_segred_stage_1_parloop_struct_136462
    futhark_mc_segred_stage_1_parloop_struct_136462;
    
    futhark_mc_segred_stage_1_parloop_struct_136462.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136462.free_mem_127240 =
        mem_127240.mem;
    futhark_mc_segred_stage_1_parloop_struct_136462.free_reduce_stage_1_tid_res_arr_mem_129982 =
        reduce_stage_1_tid_res_arr_mem_129982;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136463_task;
    
    futhark_mc_segred_stage_1_parloop_136463_task.name =
        "futhark_mc_segred_stage_1_parloop_136463";
    futhark_mc_segred_stage_1_parloop_136463_task.fn =
        futhark_mc_segred_stage_1_parloop_136463;
    futhark_mc_segred_stage_1_parloop_136463_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136462;
    futhark_mc_segred_stage_1_parloop_136463_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136463_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136463_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136463_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136463_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136463_task);
    
    if (futhark_mc_segred_stage_1_parloop_136463_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136463_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136463_total_end -
                 futhark_mc_segred_stage_1_parloop_136463_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136463_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136463_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136463_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_122277 = 0.0F;
    }
    
    float x_129986;
    float x_129987;
    
    for (int32_t i_129989 = 0; i_129989 < num_tasks_129981; i_129989++) {
        flat_tid_122213 = i_129989;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129986 = defunc_2_reduce_res_122277;
            }
            // load next params
            {
                x_129987 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129982)[flat_tid_122213];
            }
            // red body
            {
                float defunc_1_op_res_129988 = x_129986 + x_129987;
                
                defunc_2_reduce_res_122277 = defunc_1_op_res_129988;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129982);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136460_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136460_end -
                 futhark_mc_segred_task_136460_start;
        
        ctx->futhark_mc_segred_task_136460_runs[tid]++;
        ctx->futhark_mc_segred_task_136460_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136460_iter[tid] += iterations;
    }
    *futhark_mc_task_136459->retval_defunc_2_reduce_res_122277 =
        defunc_2_reduce_res_122277;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136464 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_lifted_single_ma_arg_119884;
    float free_defunc_2_reduce_res_122277;
    char *free_mem_127240;
    char *free_mem_127243;
};
struct futhark_mc_scan_stage_1_parloop_struct_136467 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_arg_119884;
    float free_defunc_2_reduce_res_122277;
    char *free_mem_127240;
    char *free_mem_127243;
};
static int futhark_mc_scan_stage_1_parloop_136468(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_122215, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_136467
    *futhark_mc_scan_stage_1_parloop_struct_136467 =
    (struct futhark_mc_scan_stage_1_parloop_struct_136467 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_136467->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_136468_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136468_start = get_wall_time();
    
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_scan_stage_1_parloop_struct_136467->free_lifted_single_ma_arg_119884;
    float defunc_2_reduce_res_122277 =
          futhark_mc_scan_stage_1_parloop_struct_136467->free_defunc_2_reduce_res_122277;
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136467->free_mem_127240,
                                  .size =0, .references =NULL};
    struct memblock mem_127243 = {.desc ="mem_127243", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136467->free_mem_127243,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129991 = start;
    float x_129912;
    float x_129913;
    
    x_129912 = 0.0F;
    for (; iter_129991 < end; iter_129991++) {
        int64_t gtid_122216 = iter_129991;
        
        // stage 1 scan body
        {
            bool cond_129915 = gtid_122216 == (int64_t) 0;
            float defunc_0_f_res_129916;
            
            if (cond_129915) {
                float defunc_0_f_res_t_res_129917 = defunc_2_reduce_res_122277 /
                      3.0F;
                
                defunc_0_f_res_129916 = defunc_0_f_res_t_res_129917;
            } else {
                int64_t x_129918 = add64((int64_t) 3, gtid_122216);
                int64_t i_129919 = sub64(x_129918, (int64_t) 1);
                bool x_129920 = sle64((int64_t) 0, i_129919);
                bool y_129921 = slt64(i_129919, lifted_single_ma_arg_119884);
                bool bounds_check_129922 = x_129920 && y_129921;
                bool index_certs_129923;
                
                if (!bounds_check_129922) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129919,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129924 = ((float *) mem_127240.mem)[i_129919];
                int64_t i_129925 = sub64(gtid_122216, (int64_t) 1);
                bool x_129926 = sle64((int64_t) 0, i_129925);
                bool y_129927 = slt64(i_129925, lifted_single_ma_arg_119884);
                bool bounds_check_129928 = x_129926 && y_129927;
                bool index_certs_129929;
                
                if (!bounds_check_129928) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129925,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129930 = ((float *) mem_127240.mem)[i_129925];
                float x_129931 = x_129924 - y_129930;
                float defunc_0_f_res_f_res_129932 = x_129931 / 3.0F;
                
                defunc_0_f_res_129916 = defunc_0_f_res_f_res_129932;
            }
            // write mapped values results to memory
            { }
            x_129912 = x_129912;
            // Read next values
            {
                x_129913 = defunc_0_f_res_129916;
            }
            
            float defunc_1_op_res_129914 = x_129912 + x_129913;
            
            ((float *) mem_127243.mem)[gtid_122216] = defunc_1_op_res_129914;
            x_129912 = defunc_1_op_res_129914;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136468_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136468_end -
                 futhark_mc_scan_stage_1_parloop_136468_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_136468_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_136468_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_136468_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_136469 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_arg_119884;
    float free_defunc_2_reduce_res_122277;
    char *free_mem_127240;
    char *free_mem_127243;
};
static int futhark_mc_scan_stage_3_parloop_136470(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_122215, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_136469
    *futhark_mc_scan_stage_3_parloop_struct_136469 =
    (struct futhark_mc_scan_stage_3_parloop_struct_136469 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_136469->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_136470_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_136470_start = get_wall_time();
    
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_scan_stage_3_parloop_struct_136469->free_lifted_single_ma_arg_119884;
    float defunc_2_reduce_res_122277 =
          futhark_mc_scan_stage_3_parloop_struct_136469->free_defunc_2_reduce_res_122277;
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136469->free_mem_127240,
                                  .size =0, .references =NULL};
    struct memblock mem_127243 = {.desc ="mem_127243", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136469->free_mem_127243,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130003 = start;
    float x_130000;
    float x_130001;
    
    if (iter_130003 == (int64_t) 0) {
        x_130000 = 0.0F;
    } else {
        x_130000 = ((float *) mem_127243.mem)[iter_130003 - (int64_t) 1];
    }
    for (; iter_130003 < end; iter_130003++) {
        int64_t gtid_122216 = iter_130003;
        
        // stage 3 scan body
        {
            bool cond_129915 = gtid_122216 == (int64_t) 0;
            float defunc_0_f_res_129916;
            
            if (cond_129915) {
                float defunc_0_f_res_t_res_129917 = defunc_2_reduce_res_122277 /
                      3.0F;
                
                defunc_0_f_res_129916 = defunc_0_f_res_t_res_129917;
            } else {
                int64_t x_129918 = add64((int64_t) 3, gtid_122216);
                int64_t i_129919 = sub64(x_129918, (int64_t) 1);
                bool x_129920 = sle64((int64_t) 0, i_129919);
                bool y_129921 = slt64(i_129919, lifted_single_ma_arg_119884);
                bool bounds_check_129922 = x_129920 && y_129921;
                bool index_certs_129923;
                
                if (!bounds_check_129922) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129919,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129924 = ((float *) mem_127240.mem)[i_129919];
                int64_t i_129925 = sub64(gtid_122216, (int64_t) 1);
                bool x_129926 = sle64((int64_t) 0, i_129925);
                bool y_129927 = slt64(i_129925, lifted_single_ma_arg_119884);
                bool bounds_check_129928 = x_129926 && y_129927;
                bool index_certs_129929;
                
                if (!bounds_check_129928) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129925,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129930 = ((float *) mem_127240.mem)[i_129925];
                float x_129931 = x_129924 - y_129930;
                float defunc_0_f_res_f_res_129932 = x_129931 / 3.0F;
                
                defunc_0_f_res_129916 = defunc_0_f_res_f_res_129932;
            }
            x_130000 = x_130000;
            x_130001 = defunc_0_f_res_129916;
            
            float defunc_1_op_res_130002 = x_130000 + x_130001;
            
            ((float *) mem_127243.mem)[gtid_122216] = defunc_1_op_res_130002;
            x_130000 = defunc_1_op_res_130002;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_136470_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_136470_end -
                 futhark_mc_scan_stage_3_parloop_136470_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_136470_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_136470_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_136470_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_136465(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122215 = tid;
    int num_tasks_129990 = info.nsubtasks;
    struct futhark_mc_task_136464 *futhark_mc_task_136464 =
                                  (struct futhark_mc_task_136464 *) args;
    struct futhark_context *ctx = futhark_mc_task_136464->ctx;
    uint64_t futhark_mc_segscan_task_136465_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_136465_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136464->free_n_119475;
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_task_136464->free_lifted_single_ma_arg_119884;
    float defunc_2_reduce_res_122277 =
          futhark_mc_task_136464->free_defunc_2_reduce_res_122277;
    struct memblock mem_127240 = {.desc ="mem_127240", .mem =
                                  futhark_mc_task_136464->free_mem_127240,
                                  .size =0, .references =NULL};
    struct memblock mem_127243 = {.desc ="mem_127243", .mem =
                                  futhark_mc_task_136464->free_mem_127243,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_129997_cached_sizze_136466 = 0;
    char *scan_stage_2_accum_mem_129997 = NULL;
    int64_t iter_129991;
    struct futhark_mc_scan_stage_1_parloop_struct_136467
    futhark_mc_scan_stage_1_parloop_struct_136467;
    
    futhark_mc_scan_stage_1_parloop_struct_136467.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_136467.free_lifted_single_ma_arg_119884 =
        lifted_single_ma_arg_119884;
    futhark_mc_scan_stage_1_parloop_struct_136467.free_defunc_2_reduce_res_122277 =
        defunc_2_reduce_res_122277;
    futhark_mc_scan_stage_1_parloop_struct_136467.free_mem_127240 =
        mem_127240.mem;
    futhark_mc_scan_stage_1_parloop_struct_136467.free_mem_127243 =
        mem_127243.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_136468_task;
    
    futhark_mc_scan_stage_1_parloop_136468_task.name =
        "futhark_mc_scan_stage_1_parloop_136468";
    futhark_mc_scan_stage_1_parloop_136468_task.fn =
        futhark_mc_scan_stage_1_parloop_136468;
    futhark_mc_scan_stage_1_parloop_136468_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_136467;
    futhark_mc_scan_stage_1_parloop_136468_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_136468_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_136468_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136468_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_136468_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_136468_task);
    
    if (futhark_mc_scan_stage_1_parloop_136468_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136468_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136468_total_end -
                 futhark_mc_scan_stage_1_parloop_136468_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136468_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136468_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136468_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_129990)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        float x_129992;
        float x_129993;
        int64_t offset_129995 = (int64_t) 0;
        int64_t offset_index_129996 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_129997_cached_sizze_136466 <
            (size_t) (int64_t) 4) {
            scan_stage_2_accum_mem_129997 =
                realloc(scan_stage_2_accum_mem_129997, (int64_t) 4);
            scan_stage_2_accum_mem_129997_cached_sizze_136466 = (int64_t) 4;
        }
        ((float *) scan_stage_2_accum_mem_129997)[(int64_t) 0] = 0.0F;
        for (int32_t i_129999 = 0; i_129999 < num_tasks_129990 - 1;
             i_129999++) {
            offset_129995 = squot64(n_119475, sext_i32_i64(num_tasks_129990));
            if (slt64(sext_i32_i64(i_129999), srem64(n_119475,
                                                     sext_i32_i64(num_tasks_129990)))) {
                offset_129995 += (int64_t) 1;
            }
            offset_index_129996 += offset_129995;
            
            int64_t gtid_122216 = offset_index_129996;
            bool cond_129915 = gtid_122216 == (int64_t) 0;
            float defunc_0_f_res_129916;
            
            if (cond_129915) {
                float defunc_0_f_res_t_res_129917 = defunc_2_reduce_res_122277 /
                      3.0F;
                
                defunc_0_f_res_129916 = defunc_0_f_res_t_res_129917;
            } else {
                int64_t x_129918 = add64((int64_t) 3, gtid_122216);
                int64_t i_129919 = sub64(x_129918, (int64_t) 1);
                bool x_129920 = sle64((int64_t) 0, i_129919);
                bool y_129921 = slt64(i_129919, lifted_single_ma_arg_119884);
                bool bounds_check_129922 = x_129920 && y_129921;
                bool index_certs_129923;
                
                if (!bounds_check_129922) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129919,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:26-39\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_129924 = ((float *) mem_127240.mem)[i_129919];
                int64_t i_129925 = sub64(gtid_122216, (int64_t) 1);
                bool x_129926 = sle64((int64_t) 0, i_129925);
                bool y_129927 = slt64(i_129925, lifted_single_ma_arg_119884);
                bool bounds_check_129928 = x_129926 && y_129927;
                bool index_certs_129929;
                
                if (!bounds_check_129928) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_129925,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_arg_119884, "].",
                                  "-> #0  stl.fut:38:43-50\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:33:9-39:16\n   #4  /prelude/functional.fut:9:42-44\n   #5  stl.fut:43:3-76\n   #6  stl.fut:200:30-50\n   #7  stl.fut:199:23-201:31\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float y_129930 = ((float *) mem_127240.mem)[i_129925];
                float x_129931 = x_129924 - y_129930;
                float defunc_0_f_res_f_res_129932 = x_129931 / 3.0F;
                
                defunc_0_f_res_129916 = defunc_0_f_res_f_res_129932;
            }
            // Read carry in
            {
                x_129992 =
                    ((float *) scan_stage_2_accum_mem_129997)[(int64_t) 0];
            }
            // Read next values
            {
                x_129993 = ((float *) mem_127243.mem)[offset_index_129996 -
                                                      (int64_t) 1];
            }
            
            float defunc_1_op_res_129994 = x_129992 + x_129993;
            
            ((float *) mem_127243.mem)[offset_index_129996 - (int64_t) 1] =
                defunc_1_op_res_129994;
            ((float *) scan_stage_2_accum_mem_129997)[(int64_t) 0] =
                defunc_1_op_res_129994;
        }
        
        int64_t iter_130003 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_136469
        futhark_mc_scan_stage_3_parloop_struct_136469;
        
        futhark_mc_scan_stage_3_parloop_struct_136469.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_136469.free_lifted_single_ma_arg_119884 =
            lifted_single_ma_arg_119884;
        futhark_mc_scan_stage_3_parloop_struct_136469.free_defunc_2_reduce_res_122277 =
            defunc_2_reduce_res_122277;
        futhark_mc_scan_stage_3_parloop_struct_136469.free_mem_127240 =
            mem_127240.mem;
        futhark_mc_scan_stage_3_parloop_struct_136469.free_mem_127243 =
            mem_127243.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_136470_task;
        
        futhark_mc_scan_stage_3_parloop_136470_task.name =
            "futhark_mc_scan_stage_3_parloop_136470";
        futhark_mc_scan_stage_3_parloop_136470_task.fn =
            futhark_mc_scan_stage_3_parloop_136470;
        futhark_mc_scan_stage_3_parloop_136470_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_136469;
        futhark_mc_scan_stage_3_parloop_136470_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_136470_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_136470_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_136470_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_136470_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_136470_task);
        
        if (futhark_mc_scan_stage_3_parloop_136470_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_136470_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_136470_total_end -
                     futhark_mc_scan_stage_3_parloop_136470_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136470_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136470_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136470_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_129997);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_136465_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_136465_end -
                 futhark_mc_segscan_task_136465_start;
        
        ctx->futhark_mc_segscan_task_136465_runs[tid]++;
        ctx->futhark_mc_segscan_task_136465_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_136465_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136431(void *args, int64_t start,
                                            int64_t end, int flat_tid_122203,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136430
    *futhark_mc_segmap_parloop_struct_136430 =
    (struct futhark_mc_segmap_parloop_struct_136430 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136430->ctx;
    uint64_t futhark_mc_segmap_parloop_136431_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136431_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136430->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136430->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136430->free_n_p_119477;
    float i64_res_119517 =
          futhark_mc_segmap_parloop_struct_136430->free_i64_res_119517;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136430->free_C_len_119523;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_segmap_parloop_struct_136430->free_lifted_single_ma_arg_119867;
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_segmap_parloop_struct_136430->free_lifted_single_ma_arg_119884;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136430->free_bytes_126925;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136430->free_mem_127234,
                                  .size =0, .references =NULL};
    int64_t bytes_127235 =
            futhark_mc_segmap_parloop_struct_136430->free_bytes_127235;
    int64_t bytes_127238 =
            futhark_mc_segmap_parloop_struct_136430->free_bytes_127238;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136430->free_mem_127292,
                                  .size =0, .references =NULL};
    size_t mem_127237_cached_sizze_136432 = 0;
    char *mem_127237 = NULL;
    size_t mem_127240_cached_sizze_136433 = 0;
    char *mem_127240 = NULL;
    size_t mem_127243_cached_sizze_136434 = 0;
    char *mem_127243 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129857 = start;
    
    if (mem_127237_cached_sizze_136432 < (size_t) bytes_127235) {
        mem_127237 = realloc(mem_127237, bytes_127235);
        mem_127237_cached_sizze_136432 = bytes_127235;
    }
    if (mem_127240_cached_sizze_136433 < (size_t) bytes_127238) {
        mem_127240 = realloc(mem_127240, bytes_127238);
        mem_127240_cached_sizze_136433 = bytes_127238;
    }
    if (mem_127243_cached_sizze_136434 < (size_t) bytes_126925) {
        mem_127243 = realloc(mem_127243, bytes_126925);
        mem_127243_cached_sizze_136434 = bytes_126925;
    }
    for (; iter_129857 < end; iter_129857++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129933 = m_119474;
        int64_t gtid_122204 = iter_129857;
        int64_t remnant_129934 = iter_129857 - gtid_122204;
        float defunc_2_reduce_res_122219;
        int64_t flat_tid_122205 = (int64_t) 0;
        int32_t num_tasks_129935;
        struct futhark_mc_task_136435 futhark_mc_task_136435;
        
        futhark_mc_task_136435.ctx = ctx;
        futhark_mc_task_136435.free_C_len_119523 = C_len_119523;
        futhark_mc_task_136435.free_gtid_122204 = gtid_122204;
        futhark_mc_task_136435.free_mem_127234 = mem_127234.mem;
        futhark_mc_task_136435.retval_defunc_2_reduce_res_122219 =
            &defunc_2_reduce_res_122219;
        
        struct scheduler_segop futhark_mc_task_136435_task;
        
        futhark_mc_task_136435_task.args = &futhark_mc_task_136435;
        futhark_mc_task_136435_task.top_level_fn =
            futhark_mc_segred_task_136436;
        futhark_mc_task_136435_task.name = "futhark_mc_segred_task_136436";
        futhark_mc_task_136435_task.iterations = n_p_119477;
        futhark_mc_task_136435_task.task_time =
            &ctx->futhark_mc_segred_task_136436_total_time;
        futhark_mc_task_136435_task.task_iter =
            &ctx->futhark_mc_segred_task_136436_total_iter;
        futhark_mc_task_136435_task.sched = STATIC;
        futhark_mc_task_136435_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136436_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136435_task);
        
        if (futhark_mc_segred_task_136436_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t flat_tid_122207 = (int64_t) 0;
        int32_t num_tasks_129944;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_136440 futhark_mc_task_136440;
        
        futhark_mc_task_136440.ctx = ctx;
        futhark_mc_task_136440.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136440.free_i64_res_119517 = i64_res_119517;
        futhark_mc_task_136440.free_C_len_119523 = C_len_119523;
        futhark_mc_task_136440.free_lifted_single_ma_arg_119867 =
            lifted_single_ma_arg_119867;
        futhark_mc_task_136440.free_gtid_122204 = gtid_122204;
        futhark_mc_task_136440.free_defunc_2_reduce_res_122219 =
            defunc_2_reduce_res_122219;
        futhark_mc_task_136440.free_mem_127234 = mem_127234.mem;
        futhark_mc_task_136440.free_mem_127237 = mem_127237;
        
        struct scheduler_segop futhark_mc_task_136440_task;
        
        futhark_mc_task_136440_task.args = &futhark_mc_task_136440;
        futhark_mc_task_136440_task.top_level_fn =
            futhark_mc_segscan_task_136441;
        futhark_mc_task_136440_task.name = "futhark_mc_segscan_task_136441";
        futhark_mc_task_136440_task.iterations = lifted_single_ma_arg_119867;
        futhark_mc_task_136440_task.task_time =
            &ctx->futhark_mc_segscan_task_136441_total_time;
        futhark_mc_task_136440_task.task_iter =
            &ctx->futhark_mc_segscan_task_136441_total_iter;
        futhark_mc_task_136440_task.sched = STATIC;
        futhark_mc_task_136440_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_136441_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136440_task);
        
        if (futhark_mc_segscan_task_136441_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_2_reduce_res_122248;
        int64_t flat_tid_122209 = (int64_t) 0;
        int32_t num_tasks_129958;
        struct futhark_mc_task_136447 futhark_mc_task_136447;
        
        futhark_mc_task_136447.ctx = ctx;
        futhark_mc_task_136447.free_mem_127237 = mem_127237;
        futhark_mc_task_136447.retval_defunc_2_reduce_res_122248 =
            &defunc_2_reduce_res_122248;
        
        struct scheduler_segop futhark_mc_task_136447_task;
        
        futhark_mc_task_136447_task.args = &futhark_mc_task_136447;
        futhark_mc_task_136447_task.top_level_fn =
            futhark_mc_segred_task_136448;
        futhark_mc_task_136447_task.name = "futhark_mc_segred_task_136448";
        futhark_mc_task_136447_task.iterations = n_p_119477;
        futhark_mc_task_136447_task.task_time =
            &ctx->futhark_mc_segred_task_136448_total_time;
        futhark_mc_task_136447_task.task_iter =
            &ctx->futhark_mc_segred_task_136448_total_iter;
        futhark_mc_task_136447_task.sched = STATIC;
        futhark_mc_task_136447_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136448_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136447_task);
        
        if (futhark_mc_segred_task_136448_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t flat_tid_122211 = (int64_t) 0;
        int32_t num_tasks_129967;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_136452 futhark_mc_task_136452;
        
        futhark_mc_task_136452.ctx = ctx;
        futhark_mc_task_136452.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136452.free_i64_res_119517 = i64_res_119517;
        futhark_mc_task_136452.free_lifted_single_ma_arg_119867 =
            lifted_single_ma_arg_119867;
        futhark_mc_task_136452.free_lifted_single_ma_arg_119884 =
            lifted_single_ma_arg_119884;
        futhark_mc_task_136452.free_defunc_2_reduce_res_122248 =
            defunc_2_reduce_res_122248;
        futhark_mc_task_136452.free_mem_127237 = mem_127237;
        futhark_mc_task_136452.free_mem_127240 = mem_127240;
        
        struct scheduler_segop futhark_mc_task_136452_task;
        
        futhark_mc_task_136452_task.args = &futhark_mc_task_136452;
        futhark_mc_task_136452_task.top_level_fn =
            futhark_mc_segscan_task_136453;
        futhark_mc_task_136452_task.name = "futhark_mc_segscan_task_136453";
        futhark_mc_task_136452_task.iterations = lifted_single_ma_arg_119884;
        futhark_mc_task_136452_task.task_time =
            &ctx->futhark_mc_segscan_task_136453_total_time;
        futhark_mc_task_136452_task.task_iter =
            &ctx->futhark_mc_segscan_task_136453_total_iter;
        futhark_mc_task_136452_task.sched = STATIC;
        futhark_mc_task_136452_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_136453_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136452_task);
        
        if (futhark_mc_segscan_task_136453_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_2_reduce_res_122277;
        int64_t flat_tid_122213 = (int64_t) 0;
        int32_t num_tasks_129981;
        struct futhark_mc_task_136459 futhark_mc_task_136459;
        
        futhark_mc_task_136459.ctx = ctx;
        futhark_mc_task_136459.free_mem_127240 = mem_127240;
        futhark_mc_task_136459.retval_defunc_2_reduce_res_122277 =
            &defunc_2_reduce_res_122277;
        
        struct scheduler_segop futhark_mc_task_136459_task;
        
        futhark_mc_task_136459_task.args = &futhark_mc_task_136459;
        futhark_mc_task_136459_task.top_level_fn =
            futhark_mc_segred_task_136460;
        futhark_mc_task_136459_task.name = "futhark_mc_segred_task_136460";
        futhark_mc_task_136459_task.iterations = (int64_t) 3;
        futhark_mc_task_136459_task.task_time =
            &ctx->futhark_mc_segred_task_136460_total_time;
        futhark_mc_task_136459_task.task_iter =
            &ctx->futhark_mc_segred_task_136460_total_iter;
        futhark_mc_task_136459_task.sched = STATIC;
        futhark_mc_task_136459_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136460_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136459_task);
        
        if (futhark_mc_segred_task_136460_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t flat_tid_122215 = (int64_t) 0;
        int32_t num_tasks_129990;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_136464 futhark_mc_task_136464;
        
        futhark_mc_task_136464.ctx = ctx;
        futhark_mc_task_136464.free_n_119475 = n_119475;
        futhark_mc_task_136464.free_lifted_single_ma_arg_119884 =
            lifted_single_ma_arg_119884;
        futhark_mc_task_136464.free_defunc_2_reduce_res_122277 =
            defunc_2_reduce_res_122277;
        futhark_mc_task_136464.free_mem_127240 = mem_127240;
        futhark_mc_task_136464.free_mem_127243 = mem_127243;
        
        struct scheduler_segop futhark_mc_task_136464_task;
        
        futhark_mc_task_136464_task.args = &futhark_mc_task_136464;
        futhark_mc_task_136464_task.top_level_fn =
            futhark_mc_segscan_task_136465;
        futhark_mc_task_136464_task.name = "futhark_mc_segscan_task_136465";
        futhark_mc_task_136464_task.iterations = n_119475;
        futhark_mc_task_136464_task.task_time =
            &ctx->futhark_mc_segscan_task_136465_total_time;
        futhark_mc_task_136464_task.task_iter =
            &ctx->futhark_mc_segscan_task_136465_total_iter;
        futhark_mc_task_136464_task.sched = STATIC;
        futhark_mc_task_136464_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_136465_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136464_task);
        
        if (futhark_mc_segscan_task_136465_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127292.mem + gtid_122204 * n_119475 * (int64_t) 4,
                mem_127243 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127237);
    free(mem_127240);
    free(mem_127243);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136431_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136431_end -
                 futhark_mc_segmap_parloop_136431_start;
        
        ctx->futhark_mc_segmap_parloop_136431_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136431_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136431_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136429(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122203 = tid;
    int num_tasks_129762 = info.nsubtasks;
    struct futhark_mc_task_136422 *futhark_mc_task_136422 =
                                  (struct futhark_mc_task_136422 *) args;
    struct futhark_context *ctx = futhark_mc_task_136422->ctx;
    uint64_t futhark_mc_segmap_nested_task_136429_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136429_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136422->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136422->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136422->free_n_p_119477;
    float i64_res_119517 = futhark_mc_task_136422->free_i64_res_119517;
    int64_t C_len_119523 = futhark_mc_task_136422->free_C_len_119523;
    int64_t lifted_single_ma_arg_119867 =
            futhark_mc_task_136422->free_lifted_single_ma_arg_119867;
    int64_t lifted_single_ma_arg_119884 =
            futhark_mc_task_136422->free_lifted_single_ma_arg_119884;
    int64_t bytes_126925 = futhark_mc_task_136422->free_bytes_126925;
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136422->free_mem_127234,
                                  .size =0, .references =NULL};
    int64_t bytes_127235 = futhark_mc_task_136422->free_bytes_127235;
    int64_t bytes_127238 = futhark_mc_task_136422->free_bytes_127238;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136422->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t iter_129857;
    struct futhark_mc_segmap_parloop_struct_136430
    futhark_mc_segmap_parloop_struct_136430;
    
    futhark_mc_segmap_parloop_struct_136430.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136430.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136430.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136430.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136430.free_i64_res_119517 =
        i64_res_119517;
    futhark_mc_segmap_parloop_struct_136430.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136430.free_lifted_single_ma_arg_119867 =
        lifted_single_ma_arg_119867;
    futhark_mc_segmap_parloop_struct_136430.free_lifted_single_ma_arg_119884 =
        lifted_single_ma_arg_119884;
    futhark_mc_segmap_parloop_struct_136430.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136430.free_mem_127234 = mem_127234.mem;
    futhark_mc_segmap_parloop_struct_136430.free_bytes_127235 = bytes_127235;
    futhark_mc_segmap_parloop_struct_136430.free_bytes_127238 = bytes_127238;
    futhark_mc_segmap_parloop_struct_136430.free_mem_127292 = mem_127292.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136431_task;
    
    futhark_mc_segmap_parloop_136431_task.name =
        "futhark_mc_segmap_parloop_136431";
    futhark_mc_segmap_parloop_136431_task.fn = futhark_mc_segmap_parloop_136431;
    futhark_mc_segmap_parloop_136431_task.args =
        &futhark_mc_segmap_parloop_struct_136430;
    futhark_mc_segmap_parloop_136431_task.iterations = iterations;
    futhark_mc_segmap_parloop_136431_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136431_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136431_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136431_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136431_task);
    
    if (futhark_mc_segmap_parloop_136431_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136431_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136431_total_end -
                 futhark_mc_segmap_parloop_136431_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136431_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136431_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136431_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136429_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136429_end -
                 futhark_mc_segmap_nested_task_136429_start;
        
        ctx->futhark_mc_segmap_nested_task_136429_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136429_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136429_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136471 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127318;
};
struct futhark_mc_segmap_parloop_struct_136473 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127318;
};
static int futhark_mc_segmap_parloop_136474(void *args, int64_t start,
                                            int64_t end, int flat_tid_122305,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136473
    *futhark_mc_segmap_parloop_struct_136473 =
    (struct futhark_mc_segmap_parloop_struct_136473 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136473->ctx;
    uint64_t futhark_mc_segmap_parloop_136474_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136474_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136473->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136473->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136473->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136473->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136473->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136473->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136473->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136473->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136473->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136473->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136473->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136473->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136473->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136473->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127318 = {.desc ="mem_127318", .mem =
                                  futhark_mc_segmap_parloop_struct_136473->free_mem_127318,
                                  .size =0, .references =NULL};
    size_t mem_127302_cached_sizze_136475 = 0;
    char *mem_127302 = NULL;
    int64_t iterations = end - start;
    int64_t iter_130007 = start;
    
    if (mem_127302_cached_sizze_136475 < (size_t) bytes_126994) {
        mem_127302 = realloc(mem_127302, bytes_126994);
        mem_127302_cached_sizze_136475 = bytes_126994;
    }
    for (; iter_130007 < end; iter_130007++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130064 = m_119474;
        int64_t gtid_122306 = iter_130007;
        int64_t remnant_130065 = iter_130007 - gtid_122306;
        
        for (int64_t i_130008 = 0; i_130008 < l_n_m_119525; i_130008++) {
            int64_t x_130010 = ((int64_t *) mem_127048.mem)[gtid_122306 *
                                                            l_n_m_119525 +
                                                            i_130008];
            float x_130011 = ((float *) mem_127052.mem)[gtid_122306 *
                                                        l_n_m_119525 +
                                                        i_130008];
            int64_t min_arg_130012 = mul64(t_jump_119482, i_130008);
            int64_t min_res_130013 = smin64(i_119551, min_arg_130012);
            float defunc_0_f_res_130014 = sitofp_i64_f32(min_res_130013);
            float defunc_2_reduce_res_130015;
            float redout_130017 = 0.0F;
            
            for (int64_t i_130016 = 0; i_130016 < l_window_119479; i_130016++) {
                bool cond_130018 = sle64(n_119475, i_130016);
                float defunc_0_f_res_130019;
                
                if (cond_130018) {
                    defunc_0_f_res_130019 = 0.0F;
                } else {
                    int64_t i_130020 = add64(x_130010, i_130016);
                    float index_primexp_130021 = sitofp_i64_f32(i_130020);
                    float defunc_0_f_res_f_res_130022 = 1.0F +
                          index_primexp_130021;
                    
                    defunc_0_f_res_130019 = defunc_0_f_res_f_res_130022;
                }
                
                float defunc_0_f_res_130023;
                
                if (cond_130018) {
                    defunc_0_f_res_130023 = 0.0F;
                } else {
                    int64_t i_130024 = add64(x_130010, i_130016);
                    float x_130025 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_122306 *
                                                            ctx_param_ext_127142 +
                                                            i_130024 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_130023 = x_130025;
                }
                
                float x_j_130026 = defunc_0_f_res_130019 -
                      defunc_0_f_res_130014;
                float abs_res_130027 = (float) fabs(x_j_130026);
                float tmp1_130028 = abs_res_130027 / x_130011;
                float x_130029 = tmp1_130028 * tmp1_130028;
                float y_130030 = tmp1_130028 * x_130029;
                float tmp2_130031 = 1.0F - y_130030;
                float x_130032 = tmp2_130031 * tmp2_130031;
                float tmp3_130033 = tmp2_130031 * x_130032;
                float w_j_130034 = defunc_0_f_res_130023 * tmp3_130033;
                float defunc_1_op_res_130035 = w_j_130034 + redout_130017;
                float redout_tmp_130067 = defunc_1_op_res_130035;
                
                redout_130017 = redout_tmp_130067;
            }
            defunc_2_reduce_res_130015 = redout_130017;
            
            float a0_130036 = 1.0F / defunc_2_reduce_res_130015;
            float defunc_2_reduce_res_130037;
            float redout_130039 = 0.0F;
            
            for (int64_t i_130038 = 0; i_130038 < l_window_119479; i_130038++) {
                bool cond_130040 = sle64(n_119475, i_130038);
                float defunc_0_f_res_130041;
                
                if (cond_130040) {
                    defunc_0_f_res_130041 = 0.0F;
                } else {
                    int64_t i_130042 = add64(x_130010, i_130038);
                    float index_primexp_130043 = sitofp_i64_f32(i_130042);
                    float defunc_0_f_res_f_res_130044 = 1.0F +
                          index_primexp_130043;
                    
                    defunc_0_f_res_130041 = defunc_0_f_res_f_res_130044;
                }
                
                float defunc_0_f_res_130045;
                
                if (cond_130040) {
                    defunc_0_f_res_130045 = 0.0F;
                } else {
                    int64_t i_130046 = add64(x_130010, i_130038);
                    float x_130047 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_122306 *
                                                            ctx_param_ext_127142 +
                                                            i_130046 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_130045 = x_130047;
                }
                
                float x_j_130048 = defunc_0_f_res_130041 -
                      defunc_0_f_res_130014;
                float abs_res_130049 = (float) fabs(x_j_130048);
                float tmp1_130050 = abs_res_130049 / x_130011;
                float x_130051 = tmp1_130050 * tmp1_130050;
                float y_130052 = tmp1_130050 * x_130051;
                float tmp2_130053 = 1.0F - y_130052;
                float x_130054 = tmp2_130053 * tmp2_130053;
                float tmp3_130055 = tmp2_130053 * x_130054;
                float tmp4_130056 = defunc_0_f_res_130045 * tmp3_130055;
                float defunc_0_f_res_130057;
                
                if (cond_130040) {
                    defunc_0_f_res_130057 = 0.0F;
                } else {
                    int64_t i_130058 = add64(x_130010, i_130038);
                    float x_130059 = ((float *) mem_127292.mem)[gtid_122306 *
                                                                n_119475 +
                                                                i_130058];
                    
                    defunc_0_f_res_130057 = x_130059;
                }
                
                float x_130060 = a0_130036 * tmp4_130056;
                float defunc_9_fit_fun_res_130061 = defunc_0_f_res_130057 *
                      x_130060;
                float defunc_1_op_res_130062 = defunc_9_fit_fun_res_130061 +
                      redout_130039;
                float redout_tmp_130068 = defunc_1_op_res_130062;
                
                redout_130039 = redout_tmp_130068;
            }
            defunc_2_reduce_res_130037 = redout_130039;
            ((float *) mem_127302)[i_130008] = defunc_2_reduce_res_130037;
        }
        memmove(mem_127318.mem + gtid_122306 * l_n_m_119525 * (int64_t) 4,
                mem_127302 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127302);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136474_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136474_end -
                 futhark_mc_segmap_parloop_136474_start;
        
        ctx->futhark_mc_segmap_parloop_136474_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136474_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136474_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136472(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122305 = tid;
    int num_tasks_130006 = info.nsubtasks;
    struct futhark_mc_task_136471 *futhark_mc_task_136471 =
                                  (struct futhark_mc_task_136471 *) args;
    struct futhark_context *ctx = futhark_mc_task_136471->ctx;
    uint64_t futhark_mc_segmap_task_136472_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136472_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136471->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136471->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136471->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136471->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136471->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136471->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136471->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136471->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136471->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136471->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136471->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136471->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136471->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136471->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127318 = {.desc ="mem_127318", .mem =
                                  futhark_mc_task_136471->free_mem_127318,
                                  .size =0, .references =NULL};
    int64_t iter_130007;
    struct futhark_mc_segmap_parloop_struct_136473
    futhark_mc_segmap_parloop_struct_136473;
    
    futhark_mc_segmap_parloop_struct_136473.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136473.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136473.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136473.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136473.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136473.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136473.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136473.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136473.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136473.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136473.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136473.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136473.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136473.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136473.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136473.free_mem_127318 = mem_127318.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136474_task;
    
    futhark_mc_segmap_parloop_136474_task.name =
        "futhark_mc_segmap_parloop_136474";
    futhark_mc_segmap_parloop_136474_task.fn = futhark_mc_segmap_parloop_136474;
    futhark_mc_segmap_parloop_136474_task.args =
        &futhark_mc_segmap_parloop_struct_136473;
    futhark_mc_segmap_parloop_136474_task.iterations = iterations;
    futhark_mc_segmap_parloop_136474_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136474_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136474_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136474_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136474_task);
    
    if (futhark_mc_segmap_parloop_136474_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136474_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136474_total_end -
                 futhark_mc_segmap_parloop_136474_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136474_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136474_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136474_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136472_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136472_end -
                 futhark_mc_segmap_task_136472_start;
        
        ctx->futhark_mc_segmap_task_136472_runs[tid]++;
        ctx->futhark_mc_segmap_task_136472_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136472_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136477 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127318;
};
struct futhark_mc_task_136480 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122308;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127299;
};
struct futhark_mc_segmap_parloop_struct_136482 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122308;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127299;
};
static int futhark_mc_segmap_parloop_136483(void *args, int64_t start,
                                            int64_t end, int flat_tid_122309,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136482
    *futhark_mc_segmap_parloop_struct_136482 =
    (struct futhark_mc_segmap_parloop_struct_136482 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136482->ctx;
    uint64_t futhark_mc_segmap_parloop_136483_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136483_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136482->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136482->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136482->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136482->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136482->free_i_119551;
    int64_t gtid_122308 =
            futhark_mc_segmap_parloop_struct_136482->free_gtid_122308;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136482->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136482->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136482->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136482->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136482->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136482->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136482->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127299 = {.desc ="mem_127299", .mem =
                                  futhark_mc_segmap_parloop_struct_136482->free_mem_127299,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130179 = start;
    
    for (; iter_130179 < end; iter_130179++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130225 = l_n_m_119525;
        int64_t gtid_122310 = iter_130179;
        int64_t remnant_130226 = iter_130179 - gtid_122310;
        int64_t x_130123 = ((int64_t *) mem_127048.mem)[gtid_122308 *
                                                        l_n_m_119525 +
                                                        gtid_122310];
        float x_130124 = ((float *) mem_127052.mem)[gtid_122308 * l_n_m_119525 +
                                                    gtid_122310];
        int64_t min_arg_130125 = mul64(t_jump_119482, gtid_122310);
        int64_t min_res_130126 = smin64(i_119551, min_arg_130125);
        float defunc_0_f_res_130127 = sitofp_i64_f32(min_res_130126);
        float defunc_2_reduce_res_130128;
        float redout_130181 = 0.0F;
        
        for (int64_t i_130180 = 0; i_130180 < l_window_119479; i_130180++) {
            bool cond_130182 = sle64(n_119475, i_130180);
            float defunc_0_f_res_130183;
            
            if (cond_130182) {
                defunc_0_f_res_130183 = 0.0F;
            } else {
                int64_t i_130184 = add64(x_130123, i_130180);
                float index_primexp_130185 = sitofp_i64_f32(i_130184);
                float defunc_0_f_res_f_res_130186 = 1.0F + index_primexp_130185;
                
                defunc_0_f_res_130183 = defunc_0_f_res_f_res_130186;
            }
            
            float defunc_0_f_res_130187;
            
            if (cond_130182) {
                defunc_0_f_res_130187 = 0.0F;
            } else {
                int64_t i_130188 = add64(x_130123, i_130180);
                float x_130189 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_122308 *
                                                        ctx_param_ext_127142 +
                                                        i_130188 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_130187 = x_130189;
            }
            
            float x_j_130190 = defunc_0_f_res_130183 - defunc_0_f_res_130127;
            float abs_res_130191 = (float) fabs(x_j_130190);
            float tmp1_130192 = abs_res_130191 / x_130124;
            float x_130193 = tmp1_130192 * tmp1_130192;
            float y_130194 = tmp1_130192 * x_130193;
            float tmp2_130195 = 1.0F - y_130194;
            float x_130196 = tmp2_130195 * tmp2_130195;
            float tmp3_130197 = tmp2_130195 * x_130196;
            float w_j_130198 = defunc_0_f_res_130187 * tmp3_130197;
            float defunc_1_op_res_130199 = w_j_130198 + redout_130181;
            float redout_tmp_130227 = defunc_1_op_res_130199;
            
            redout_130181 = redout_tmp_130227;
        }
        defunc_2_reduce_res_130128 = redout_130181;
        
        float a0_130149 = 1.0F / defunc_2_reduce_res_130128;
        float defunc_2_reduce_res_130150;
        float redout_130201 = 0.0F;
        
        for (int64_t i_130200 = 0; i_130200 < l_window_119479; i_130200++) {
            bool cond_130202 = sle64(n_119475, i_130200);
            float defunc_0_f_res_130203;
            
            if (cond_130202) {
                defunc_0_f_res_130203 = 0.0F;
            } else {
                int64_t i_130204 = add64(x_130123, i_130200);
                float index_primexp_130205 = sitofp_i64_f32(i_130204);
                float defunc_0_f_res_f_res_130206 = 1.0F + index_primexp_130205;
                
                defunc_0_f_res_130203 = defunc_0_f_res_f_res_130206;
            }
            
            float defunc_0_f_res_130207;
            
            if (cond_130202) {
                defunc_0_f_res_130207 = 0.0F;
            } else {
                int64_t i_130208 = add64(x_130123, i_130200);
                float x_130209 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_122308 *
                                                        ctx_param_ext_127142 +
                                                        i_130208 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_130207 = x_130209;
            }
            
            float x_j_130210 = defunc_0_f_res_130203 - defunc_0_f_res_130127;
            float abs_res_130211 = (float) fabs(x_j_130210);
            float tmp1_130212 = abs_res_130211 / x_130124;
            float x_130213 = tmp1_130212 * tmp1_130212;
            float y_130214 = tmp1_130212 * x_130213;
            float tmp2_130215 = 1.0F - y_130214;
            float x_130216 = tmp2_130215 * tmp2_130215;
            float tmp3_130217 = tmp2_130215 * x_130216;
            float tmp4_130218 = defunc_0_f_res_130207 * tmp3_130217;
            float defunc_0_f_res_130219;
            
            if (cond_130202) {
                defunc_0_f_res_130219 = 0.0F;
            } else {
                int64_t i_130220 = add64(x_130123, i_130200);
                float x_130221 = ((float *) mem_127292.mem)[gtid_122308 *
                                                            n_119475 +
                                                            i_130220];
                
                defunc_0_f_res_130219 = x_130221;
            }
            
            float x_130222 = a0_130149 * tmp4_130218;
            float defunc_9_fit_fun_res_130223 = defunc_0_f_res_130219 *
                  x_130222;
            float defunc_1_op_res_130224 = defunc_9_fit_fun_res_130223 +
                  redout_130201;
            float redout_tmp_130228 = defunc_1_op_res_130224;
            
            redout_130201 = redout_tmp_130228;
        }
        defunc_2_reduce_res_130150 = redout_130201;
        ((float *) mem_127299.mem)[gtid_122310] = defunc_2_reduce_res_130150;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136483_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136483_end -
                 futhark_mc_segmap_parloop_136483_start;
        
        ctx->futhark_mc_segmap_parloop_136483_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136483_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136483_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136481(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122309 = tid;
    int num_tasks_130178 = info.nsubtasks;
    struct futhark_mc_task_136480 *futhark_mc_task_136480 =
                                  (struct futhark_mc_task_136480 *) args;
    struct futhark_context *ctx = futhark_mc_task_136480->ctx;
    uint64_t futhark_mc_segmap_task_136481_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136481_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136480->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136480->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136480->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136480->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136480->free_i_119551;
    int64_t gtid_122308 = futhark_mc_task_136480->free_gtid_122308;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136480->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136480->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136480->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136480->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136480->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136480->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136480->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127299 = {.desc ="mem_127299", .mem =
                                  futhark_mc_task_136480->free_mem_127299,
                                  .size =0, .references =NULL};
    int64_t iter_130179;
    struct futhark_mc_segmap_parloop_struct_136482
    futhark_mc_segmap_parloop_struct_136482;
    
    futhark_mc_segmap_parloop_struct_136482.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136482.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136482.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136482.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136482.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136482.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136482.free_gtid_122308 = gtid_122308;
    futhark_mc_segmap_parloop_struct_136482.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136482.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136482.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136482.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136482.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136482.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136482.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136482.free_mem_127299 = mem_127299.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136483_task;
    
    futhark_mc_segmap_parloop_136483_task.name =
        "futhark_mc_segmap_parloop_136483";
    futhark_mc_segmap_parloop_136483_task.fn = futhark_mc_segmap_parloop_136483;
    futhark_mc_segmap_parloop_136483_task.args =
        &futhark_mc_segmap_parloop_struct_136482;
    futhark_mc_segmap_parloop_136483_task.iterations = iterations;
    futhark_mc_segmap_parloop_136483_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136483_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136483_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136483_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136483_task);
    
    if (futhark_mc_segmap_parloop_136483_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136483_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136483_total_end -
                 futhark_mc_segmap_parloop_136483_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136483_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136483_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136483_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136481_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136481_end -
                 futhark_mc_segmap_task_136481_start;
        
        ctx->futhark_mc_segmap_task_136481_runs[tid]++;
        ctx->futhark_mc_segmap_task_136481_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136481_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136485 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122308;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127299;
};
struct futhark_mc_task_136487 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122308;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_130070;
    float free_x_130071;
    float free_defunc_0_f_res_130074;
    float *retval_defunc_2_reduce_res_130075;
};
struct futhark_mc_segred_stage_1_parloop_struct_136490 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122308;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_130070;
    float free_x_130071;
    float free_defunc_0_f_res_130074;
    char *free_reduce_stage_1_tid_res_arr_mem_130278;
};
static int futhark_mc_segred_stage_1_parloop_136491(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122313,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136490
    *futhark_mc_segred_stage_1_parloop_struct_136490 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136490 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136490->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136491_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136491_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136490->free_n_119475;
    int64_t gtid_122308 =
            futhark_mc_segred_stage_1_parloop_struct_136490->free_gtid_122308;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136490->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136490->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136490->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136490->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_130070 =
            futhark_mc_segred_stage_1_parloop_struct_136490->free_x_130070;
    float x_130071 =
          futhark_mc_segred_stage_1_parloop_struct_136490->free_x_130071;
    float defunc_0_f_res_130074 =
          futhark_mc_segred_stage_1_parloop_struct_136490->free_defunc_0_f_res_130074;
    struct memblock reduce_stage_1_tid_res_arr_mem_130278 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130278",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136490->free_reduce_stage_1_tid_res_arr_mem_130278,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130280 = start;
    float x_130230;
    float x_130231;
    float local_acc_130281 = 0.0F;
    
    for (; iter_130280 < end; iter_130280++) {
        int64_t gtid_122314 = iter_130280;
        bool cond_130233 = sle64(n_119475, gtid_122314);
        float defunc_0_f_res_130234;
        
        if (cond_130233) {
            defunc_0_f_res_130234 = 0.0F;
        } else {
            int64_t i_130235 = add64(gtid_122314, x_130070);
            float index_primexp_130236 = sitofp_i64_f32(i_130235);
            float defunc_0_f_res_f_res_130237 = 1.0F + index_primexp_130236;
            
            defunc_0_f_res_130234 = defunc_0_f_res_f_res_130237;
        }
        
        float defunc_0_f_res_130238;
        
        if (cond_130233) {
            defunc_0_f_res_130238 = 0.0F;
        } else {
            int64_t i_130239 = add64(gtid_122314, x_130070);
            float x_130240 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_122308 *
                                                    ctx_param_ext_127142 +
                                                    i_130239 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_130238 = x_130240;
        }
        
        float x_j_130241 = defunc_0_f_res_130234 - defunc_0_f_res_130074;
        float abs_res_130242 = (float) fabs(x_j_130241);
        float tmp1_130243 = abs_res_130242 / x_130071;
        float x_130244 = tmp1_130243 * tmp1_130243;
        float y_130245 = tmp1_130243 * x_130244;
        float tmp2_130246 = 1.0F - y_130245;
        float x_130247 = tmp2_130246 * tmp2_130246;
        float tmp3_130248 = tmp2_130246 * x_130247;
        float w_j_130249 = defunc_0_f_res_130238 * tmp3_130248;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_130230 = local_acc_130281;
        }
        // Load next params
        {
            x_130231 = w_j_130249;
        }
        // Red body
        {
            float defunc_1_op_res_130232 = x_130230 + x_130231;
            
            local_acc_130281 = defunc_1_op_res_130232;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_130278.mem)[flat_tid_122313] =
        local_acc_130281;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136491_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136491_end -
                 futhark_mc_segred_stage_1_parloop_136491_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136491_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136491_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136491_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136488(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122313 = tid;
    int num_tasks_130277 = info.nsubtasks;
    struct futhark_mc_task_136487 *futhark_mc_task_136487 =
                                  (struct futhark_mc_task_136487 *) args;
    struct futhark_context *ctx = futhark_mc_task_136487->ctx;
    uint64_t futhark_mc_segred_task_136488_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136488_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136487->free_n_119475;
    int64_t gtid_122308 = futhark_mc_task_136487->free_gtid_122308;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136487->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136487->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136487->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136487->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_130070 = futhark_mc_task_136487->free_x_130070;
    float x_130071 = futhark_mc_task_136487->free_x_130071;
    float defunc_0_f_res_130074 =
          futhark_mc_task_136487->free_defunc_0_f_res_130074;
    float defunc_2_reduce_res_130075 =
          *futhark_mc_task_136487->retval_defunc_2_reduce_res_130075;
    size_t reduce_stage_1_tid_res_arr_mem_130278_cached_sizze_136489 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130278 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_130278_cached_sizze_136489 <
        (size_t) ((int64_t) 4 * num_tasks_130277)) {
        reduce_stage_1_tid_res_arr_mem_130278 =
            realloc(reduce_stage_1_tid_res_arr_mem_130278, (int64_t) 4 *
                    num_tasks_130277);
        reduce_stage_1_tid_res_arr_mem_130278_cached_sizze_136489 =
            (int64_t) 4 * num_tasks_130277;
    }
    
    int64_t iter_130280;
    struct futhark_mc_segred_stage_1_parloop_struct_136490
    futhark_mc_segred_stage_1_parloop_struct_136490;
    
    futhark_mc_segred_stage_1_parloop_struct_136490.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_gtid_122308 =
        gtid_122308;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_x_130070 = x_130070;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_x_130071 = x_130071;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_defunc_0_f_res_130074 =
        defunc_0_f_res_130074;
    futhark_mc_segred_stage_1_parloop_struct_136490.free_reduce_stage_1_tid_res_arr_mem_130278 =
        reduce_stage_1_tid_res_arr_mem_130278;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136491_task;
    
    futhark_mc_segred_stage_1_parloop_136491_task.name =
        "futhark_mc_segred_stage_1_parloop_136491";
    futhark_mc_segred_stage_1_parloop_136491_task.fn =
        futhark_mc_segred_stage_1_parloop_136491;
    futhark_mc_segred_stage_1_parloop_136491_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136490;
    futhark_mc_segred_stage_1_parloop_136491_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136491_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136491_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136491_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136491_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136491_task);
    
    if (futhark_mc_segred_stage_1_parloop_136491_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136491_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136491_total_end -
                 futhark_mc_segred_stage_1_parloop_136491_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136491_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136491_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136491_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_130075 = 0.0F;
    }
    
    float x_130282;
    float x_130283;
    
    for (int32_t i_130285 = 0; i_130285 < num_tasks_130277; i_130285++) {
        flat_tid_122313 = i_130285;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_130282 = defunc_2_reduce_res_130075;
            }
            // load next params
            {
                x_130283 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130278)[flat_tid_122313];
            }
            // red body
            {
                float defunc_1_op_res_130284 = x_130282 + x_130283;
                
                defunc_2_reduce_res_130075 = defunc_1_op_res_130284;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_130278);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136488_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136488_end -
                 futhark_mc_segred_task_136488_start;
        
        ctx->futhark_mc_segred_task_136488_runs[tid]++;
        ctx->futhark_mc_segred_task_136488_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136488_iter[tid] += iterations;
    }
    *futhark_mc_task_136487->retval_defunc_2_reduce_res_130075 =
        defunc_2_reduce_res_130075;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136492 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122308;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_x_130070;
    float free_x_130071;
    float free_defunc_0_f_res_130074;
    float free_a0_130096;
    float *retval_defunc_2_reduce_res_130097;
};
struct futhark_mc_segred_stage_1_parloop_struct_136495 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122308;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_x_130070;
    float free_x_130071;
    float free_defunc_0_f_res_130074;
    float free_a0_130096;
    char *free_reduce_stage_1_tid_res_arr_mem_130287;
};
static int futhark_mc_segred_stage_1_parloop_136496(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122315,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136495
    *futhark_mc_segred_stage_1_parloop_struct_136495 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136495 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136495->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136496_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136496_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136495->free_n_119475;
    int64_t gtid_122308 =
            futhark_mc_segred_stage_1_parloop_struct_136495->free_gtid_122308;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136495->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136495->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136495->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136495->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136495->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_130070 =
            futhark_mc_segred_stage_1_parloop_struct_136495->free_x_130070;
    float x_130071 =
          futhark_mc_segred_stage_1_parloop_struct_136495->free_x_130071;
    float defunc_0_f_res_130074 =
          futhark_mc_segred_stage_1_parloop_struct_136495->free_defunc_0_f_res_130074;
    float a0_130096 =
          futhark_mc_segred_stage_1_parloop_struct_136495->free_a0_130096;
    struct memblock reduce_stage_1_tid_res_arr_mem_130287 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130287",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136495->free_reduce_stage_1_tid_res_arr_mem_130287,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130289 = start;
    float x_130250;
    float x_130251;
    float local_acc_130290 = 0.0F;
    
    for (; iter_130289 < end; iter_130289++) {
        int64_t gtid_122316 = iter_130289;
        bool cond_130253 = sle64(n_119475, gtid_122316);
        float defunc_0_f_res_130254;
        
        if (cond_130253) {
            defunc_0_f_res_130254 = 0.0F;
        } else {
            int64_t i_130255 = add64(gtid_122316, x_130070);
            float index_primexp_130256 = sitofp_i64_f32(i_130255);
            float defunc_0_f_res_f_res_130257 = 1.0F + index_primexp_130256;
            
            defunc_0_f_res_130254 = defunc_0_f_res_f_res_130257;
        }
        
        float defunc_0_f_res_130258;
        
        if (cond_130253) {
            defunc_0_f_res_130258 = 0.0F;
        } else {
            int64_t i_130259 = add64(gtid_122316, x_130070);
            float x_130260 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_122308 *
                                                    ctx_param_ext_127142 +
                                                    i_130259 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_130258 = x_130260;
        }
        
        float x_j_130261 = defunc_0_f_res_130254 - defunc_0_f_res_130074;
        float abs_res_130262 = (float) fabs(x_j_130261);
        float tmp1_130263 = abs_res_130262 / x_130071;
        float x_130264 = tmp1_130263 * tmp1_130263;
        float y_130265 = tmp1_130263 * x_130264;
        float tmp2_130266 = 1.0F - y_130265;
        float x_130267 = tmp2_130266 * tmp2_130266;
        float tmp3_130268 = tmp2_130266 * x_130267;
        float tmp4_130269 = defunc_0_f_res_130258 * tmp3_130268;
        float defunc_0_f_res_130270;
        
        if (cond_130253) {
            defunc_0_f_res_130270 = 0.0F;
        } else {
            int64_t i_130271 = add64(gtid_122316, x_130070);
            float x_130272 = ((float *) mem_127292.mem)[gtid_122308 * n_119475 +
                                                        i_130271];
            
            defunc_0_f_res_130270 = x_130272;
        }
        
        float x_130273 = a0_130096 * tmp4_130269;
        float defunc_9_fit_fun_res_130274 = defunc_0_f_res_130270 * x_130273;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_130250 = local_acc_130290;
        }
        // Load next params
        {
            x_130251 = defunc_9_fit_fun_res_130274;
        }
        // Red body
        {
            float defunc_1_op_res_130252 = x_130250 + x_130251;
            
            local_acc_130290 = defunc_1_op_res_130252;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_130287.mem)[flat_tid_122315] =
        local_acc_130290;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136496_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136496_end -
                 futhark_mc_segred_stage_1_parloop_136496_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136496_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136496_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136496_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136493(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122315 = tid;
    int num_tasks_130286 = info.nsubtasks;
    struct futhark_mc_task_136492 *futhark_mc_task_136492 =
                                  (struct futhark_mc_task_136492 *) args;
    struct futhark_context *ctx = futhark_mc_task_136492->ctx;
    uint64_t futhark_mc_segred_task_136493_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136493_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136492->free_n_119475;
    int64_t gtid_122308 = futhark_mc_task_136492->free_gtid_122308;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136492->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136492->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136492->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136492->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136492->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_130070 = futhark_mc_task_136492->free_x_130070;
    float x_130071 = futhark_mc_task_136492->free_x_130071;
    float defunc_0_f_res_130074 =
          futhark_mc_task_136492->free_defunc_0_f_res_130074;
    float a0_130096 = futhark_mc_task_136492->free_a0_130096;
    float defunc_2_reduce_res_130097 =
          *futhark_mc_task_136492->retval_defunc_2_reduce_res_130097;
    size_t reduce_stage_1_tid_res_arr_mem_130287_cached_sizze_136494 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130287 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_130287_cached_sizze_136494 <
        (size_t) ((int64_t) 4 * num_tasks_130286)) {
        reduce_stage_1_tid_res_arr_mem_130287 =
            realloc(reduce_stage_1_tid_res_arr_mem_130287, (int64_t) 4 *
                    num_tasks_130286);
        reduce_stage_1_tid_res_arr_mem_130287_cached_sizze_136494 =
            (int64_t) 4 * num_tasks_130286;
    }
    
    int64_t iter_130289;
    struct futhark_mc_segred_stage_1_parloop_struct_136495
    futhark_mc_segred_stage_1_parloop_struct_136495;
    
    futhark_mc_segred_stage_1_parloop_struct_136495.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_gtid_122308 =
        gtid_122308;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_mem_127292 =
        mem_127292.mem;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_x_130070 = x_130070;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_x_130071 = x_130071;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_defunc_0_f_res_130074 =
        defunc_0_f_res_130074;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_a0_130096 = a0_130096;
    futhark_mc_segred_stage_1_parloop_struct_136495.free_reduce_stage_1_tid_res_arr_mem_130287 =
        reduce_stage_1_tid_res_arr_mem_130287;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136496_task;
    
    futhark_mc_segred_stage_1_parloop_136496_task.name =
        "futhark_mc_segred_stage_1_parloop_136496";
    futhark_mc_segred_stage_1_parloop_136496_task.fn =
        futhark_mc_segred_stage_1_parloop_136496;
    futhark_mc_segred_stage_1_parloop_136496_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136495;
    futhark_mc_segred_stage_1_parloop_136496_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136496_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136496_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136496_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136496_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136496_task);
    
    if (futhark_mc_segred_stage_1_parloop_136496_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136496_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136496_total_end -
                 futhark_mc_segred_stage_1_parloop_136496_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136496_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136496_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136496_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_130097 = 0.0F;
    }
    
    float x_130291;
    float x_130292;
    
    for (int32_t i_130294 = 0; i_130294 < num_tasks_130286; i_130294++) {
        flat_tid_122315 = i_130294;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_130291 = defunc_2_reduce_res_130097;
            }
            // load next params
            {
                x_130292 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130287)[flat_tid_122315];
            }
            // red body
            {
                float defunc_1_op_res_130293 = x_130291 + x_130292;
                
                defunc_2_reduce_res_130097 = defunc_1_op_res_130293;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_130287);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136493_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136493_end -
                 futhark_mc_segred_task_136493_start;
        
        ctx->futhark_mc_segred_task_136493_runs[tid]++;
        ctx->futhark_mc_segred_task_136493_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136493_iter[tid] += iterations;
    }
    *futhark_mc_task_136492->retval_defunc_2_reduce_res_130097 =
        defunc_2_reduce_res_130097;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136486(void *args, int64_t start,
                                            int64_t end, int flat_tid_122311,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136485
    *futhark_mc_segmap_parloop_struct_136485 =
    (struct futhark_mc_segmap_parloop_struct_136485 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136485->ctx;
    uint64_t futhark_mc_segmap_parloop_136486_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136486_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136485->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136485->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136485->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136485->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136485->free_i_119551;
    int64_t gtid_122308 =
            futhark_mc_segmap_parloop_struct_136485->free_gtid_122308;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136485->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136485->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136485->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136485->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136485->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136485->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136485->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127299 = {.desc ="mem_127299", .mem =
                                  futhark_mc_segmap_parloop_struct_136485->free_mem_127299,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130229 = start;
    
    for (; iter_130229 < end; iter_130229++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130275 = l_n_m_119525;
        int64_t gtid_122312 = iter_130229;
        int64_t remnant_130276 = iter_130229 - gtid_122312;
        int64_t x_130070 = ((int64_t *) mem_127048.mem)[gtid_122308 *
                                                        l_n_m_119525 +
                                                        gtid_122312];
        float x_130071 = ((float *) mem_127052.mem)[gtid_122308 * l_n_m_119525 +
                                                    gtid_122312];
        int64_t min_arg_130072 = mul64(t_jump_119482, gtid_122312);
        int64_t min_res_130073 = smin64(i_119551, min_arg_130072);
        float defunc_0_f_res_130074 = sitofp_i64_f32(min_res_130073);
        float defunc_2_reduce_res_130075;
        int64_t flat_tid_122313 = (int64_t) 0;
        int32_t num_tasks_130277;
        struct futhark_mc_task_136487 futhark_mc_task_136487;
        
        futhark_mc_task_136487.ctx = ctx;
        futhark_mc_task_136487.free_n_119475 = n_119475;
        futhark_mc_task_136487.free_gtid_122308 = gtid_122308;
        futhark_mc_task_136487.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136487.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136487.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136487.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136487.free_x_130070 = x_130070;
        futhark_mc_task_136487.free_x_130071 = x_130071;
        futhark_mc_task_136487.free_defunc_0_f_res_130074 =
            defunc_0_f_res_130074;
        futhark_mc_task_136487.retval_defunc_2_reduce_res_130075 =
            &defunc_2_reduce_res_130075;
        
        struct scheduler_segop futhark_mc_task_136487_task;
        
        futhark_mc_task_136487_task.args = &futhark_mc_task_136487;
        futhark_mc_task_136487_task.top_level_fn =
            futhark_mc_segred_task_136488;
        futhark_mc_task_136487_task.name = "futhark_mc_segred_task_136488";
        futhark_mc_task_136487_task.iterations = l_window_119479;
        futhark_mc_task_136487_task.task_time =
            &ctx->futhark_mc_segred_task_136488_total_time;
        futhark_mc_task_136487_task.task_iter =
            &ctx->futhark_mc_segred_task_136488_total_iter;
        futhark_mc_task_136487_task.sched = STATIC;
        futhark_mc_task_136487_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136488_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136487_task);
        
        if (futhark_mc_segred_task_136488_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_130096 = 1.0F / defunc_2_reduce_res_130075;
        float defunc_2_reduce_res_130097;
        int64_t flat_tid_122315 = (int64_t) 0;
        int32_t num_tasks_130286;
        struct futhark_mc_task_136492 futhark_mc_task_136492;
        
        futhark_mc_task_136492.ctx = ctx;
        futhark_mc_task_136492.free_n_119475 = n_119475;
        futhark_mc_task_136492.free_gtid_122308 = gtid_122308;
        futhark_mc_task_136492.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136492.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136492.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136492.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136492.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136492.free_x_130070 = x_130070;
        futhark_mc_task_136492.free_x_130071 = x_130071;
        futhark_mc_task_136492.free_defunc_0_f_res_130074 =
            defunc_0_f_res_130074;
        futhark_mc_task_136492.free_a0_130096 = a0_130096;
        futhark_mc_task_136492.retval_defunc_2_reduce_res_130097 =
            &defunc_2_reduce_res_130097;
        
        struct scheduler_segop futhark_mc_task_136492_task;
        
        futhark_mc_task_136492_task.args = &futhark_mc_task_136492;
        futhark_mc_task_136492_task.top_level_fn =
            futhark_mc_segred_task_136493;
        futhark_mc_task_136492_task.name = "futhark_mc_segred_task_136493";
        futhark_mc_task_136492_task.iterations = l_window_119479;
        futhark_mc_task_136492_task.task_time =
            &ctx->futhark_mc_segred_task_136493_total_time;
        futhark_mc_task_136492_task.task_iter =
            &ctx->futhark_mc_segred_task_136493_total_iter;
        futhark_mc_task_136492_task.sched = STATIC;
        futhark_mc_task_136492_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136493_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136492_task);
        
        if (futhark_mc_segred_task_136493_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127299.mem)[gtid_122312] = defunc_2_reduce_res_130097;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136486_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136486_end -
                 futhark_mc_segmap_parloop_136486_start;
        
        ctx->futhark_mc_segmap_parloop_136486_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136486_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136486_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136484(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122311 = tid;
    int num_tasks_130178 = info.nsubtasks;
    struct futhark_mc_task_136480 *futhark_mc_task_136480 =
                                  (struct futhark_mc_task_136480 *) args;
    struct futhark_context *ctx = futhark_mc_task_136480->ctx;
    uint64_t futhark_mc_segmap_nested_task_136484_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136484_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136480->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136480->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136480->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136480->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136480->free_i_119551;
    int64_t gtid_122308 = futhark_mc_task_136480->free_gtid_122308;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136480->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136480->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136480->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136480->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136480->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136480->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136480->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127299 = {.desc ="mem_127299", .mem =
                                  futhark_mc_task_136480->free_mem_127299,
                                  .size =0, .references =NULL};
    int64_t iter_130229;
    struct futhark_mc_segmap_parloop_struct_136485
    futhark_mc_segmap_parloop_struct_136485;
    
    futhark_mc_segmap_parloop_struct_136485.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136485.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136485.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136485.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136485.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136485.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136485.free_gtid_122308 = gtid_122308;
    futhark_mc_segmap_parloop_struct_136485.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136485.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136485.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136485.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136485.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136485.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136485.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136485.free_mem_127299 = mem_127299.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136486_task;
    
    futhark_mc_segmap_parloop_136486_task.name =
        "futhark_mc_segmap_parloop_136486";
    futhark_mc_segmap_parloop_136486_task.fn = futhark_mc_segmap_parloop_136486;
    futhark_mc_segmap_parloop_136486_task.args =
        &futhark_mc_segmap_parloop_struct_136485;
    futhark_mc_segmap_parloop_136486_task.iterations = iterations;
    futhark_mc_segmap_parloop_136486_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136486_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136486_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136486_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136486_task);
    
    if (futhark_mc_segmap_parloop_136486_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136486_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136486_total_end -
                 futhark_mc_segmap_parloop_136486_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136486_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136486_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136486_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136484_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136484_end -
                 futhark_mc_segmap_nested_task_136484_start;
        
        ctx->futhark_mc_segmap_nested_task_136484_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136484_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136484_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136478(void *args, int64_t start,
                                            int64_t end, int flat_tid_122307,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136477
    *futhark_mc_segmap_parloop_struct_136477 =
    (struct futhark_mc_segmap_parloop_struct_136477 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136477->ctx;
    uint64_t futhark_mc_segmap_parloop_136478_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136478_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136477->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136477->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136477->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136477->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136477->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136477->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136477->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136477->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136477->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136477->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136477->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136477->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136477->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136477->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127318 = {.desc ="mem_127318", .mem =
                                  futhark_mc_segmap_parloop_struct_136477->free_mem_127318,
                                  .size =0, .references =NULL};
    size_t mem_127299_cached_sizze_136479 = 0;
    char *mem_127299 = NULL;
    int64_t iterations = end - start;
    int64_t iter_130069 = start;
    
    if (mem_127299_cached_sizze_136479 < (size_t) bytes_126994) {
        mem_127299 = realloc(mem_127299, bytes_126994);
        mem_127299_cached_sizze_136479 = bytes_126994;
    }
    for (; iter_130069 < end; iter_130069++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130176 = m_119474;
        int64_t gtid_122308 = iter_130069;
        int64_t remnant_130177 = iter_130069 - gtid_122308;
        int64_t flat_tid_122309 = (int64_t) 0;
        int32_t num_tasks_130178;
        int64_t flat_tid_122311 = (int64_t) 0;
        struct futhark_mc_task_136480 futhark_mc_task_136480;
        
        futhark_mc_task_136480.ctx = ctx;
        futhark_mc_task_136480.free_n_119475 = n_119475;
        futhark_mc_task_136480.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136480.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136480.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136480.free_i_119551 = i_119551;
        futhark_mc_task_136480.free_gtid_122308 = gtid_122308;
        futhark_mc_task_136480.free_mem_127048 = mem_127048.mem;
        futhark_mc_task_136480.free_mem_127052 = mem_127052.mem;
        futhark_mc_task_136480.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136480.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136480.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136480.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136480.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136480.free_mem_127299 = mem_127299;
        
        struct scheduler_segop futhark_mc_task_136480_task;
        
        futhark_mc_task_136480_task.args = &futhark_mc_task_136480;
        futhark_mc_task_136480_task.top_level_fn =
            futhark_mc_segmap_task_136481;
        futhark_mc_task_136480_task.name = "futhark_mc_segmap_task_136481";
        futhark_mc_task_136480_task.iterations = l_n_m_119525;
        futhark_mc_task_136480_task.task_time =
            &ctx->futhark_mc_segmap_task_136481_total_time;
        futhark_mc_task_136480_task.task_iter =
            &ctx->futhark_mc_segmap_task_136481_total_iter;
        futhark_mc_task_136480_task.sched = STATIC;
        futhark_mc_task_136480_task.nested_fn =
            futhark_mc_segmap_nested_task_136484;
        
        int futhark_mc_segmap_task_136481_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136480_task);
        
        if (futhark_mc_segmap_task_136481_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127318.mem + gtid_122308 * l_n_m_119525 * (int64_t) 4,
                mem_127299 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127299);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136478_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136478_end -
                 futhark_mc_segmap_parloop_136478_start;
        
        ctx->futhark_mc_segmap_parloop_136478_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136478_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136478_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136476(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122307 = tid;
    int num_tasks_130006 = info.nsubtasks;
    struct futhark_mc_task_136471 *futhark_mc_task_136471 =
                                  (struct futhark_mc_task_136471 *) args;
    struct futhark_context *ctx = futhark_mc_task_136471->ctx;
    uint64_t futhark_mc_segmap_nested_task_136476_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136476_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136471->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136471->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136471->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136471->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136471->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136471->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136471->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136471->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136471->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136471->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136471->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136471->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136471->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136471->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127318 = {.desc ="mem_127318", .mem =
                                  futhark_mc_task_136471->free_mem_127318,
                                  .size =0, .references =NULL};
    int64_t iter_130069;
    struct futhark_mc_segmap_parloop_struct_136477
    futhark_mc_segmap_parloop_struct_136477;
    
    futhark_mc_segmap_parloop_struct_136477.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136477.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136477.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136477.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136477.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136477.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136477.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136477.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136477.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136477.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136477.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136477.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136477.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136477.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136477.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136477.free_mem_127318 = mem_127318.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136478_task;
    
    futhark_mc_segmap_parloop_136478_task.name =
        "futhark_mc_segmap_parloop_136478";
    futhark_mc_segmap_parloop_136478_task.fn = futhark_mc_segmap_parloop_136478;
    futhark_mc_segmap_parloop_136478_task.args =
        &futhark_mc_segmap_parloop_struct_136477;
    futhark_mc_segmap_parloop_136478_task.iterations = iterations;
    futhark_mc_segmap_parloop_136478_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136478_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136478_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136478_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136478_task);
    
    if (futhark_mc_segmap_parloop_136478_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136478_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136478_total_end -
                 futhark_mc_segmap_parloop_136478_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136478_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136478_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136478_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136476_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136476_end -
                 futhark_mc_segmap_nested_task_136476_start;
        
        ctx->futhark_mc_segmap_nested_task_136476_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136476_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136476_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136497 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127358;
    char *free_mem_127362;
};
struct futhark_mc_segmap_parloop_struct_136499 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127358;
    char *free_mem_127362;
};
static int futhark_mc_segmap_parloop_136500(void *args, int64_t start,
                                            int64_t end, int flat_tid_122490,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136499
    *futhark_mc_segmap_parloop_struct_136499 =
    (struct futhark_mc_segmap_parloop_struct_136499 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136499->ctx;
    uint64_t futhark_mc_segmap_parloop_136500_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136500_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136499->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136499->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136499->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136499->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136499->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136499->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136499->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136499->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136499->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136499->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136499->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136499->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136499->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136499->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127358 = {.desc ="mem_127358", .mem =
                                  futhark_mc_segmap_parloop_struct_136499->free_mem_127358,
                                  .size =0, .references =NULL};
    struct memblock mem_127362 = {.desc ="mem_127362", .mem =
                                  futhark_mc_segmap_parloop_struct_136499->free_mem_127362,
                                  .size =0, .references =NULL};
    size_t mem_127327_cached_sizze_136501 = 0;
    char *mem_127327 = NULL;
    size_t mem_127330_cached_sizze_136502 = 0;
    char *mem_127330 = NULL;
    int64_t iterations = end - start;
    int64_t iter_130296 = start;
    
    if (mem_127327_cached_sizze_136501 < (size_t) bytes_126994) {
        mem_127327 = realloc(mem_127327, bytes_126994);
        mem_127327_cached_sizze_136501 = bytes_126994;
    }
    if (mem_127330_cached_sizze_136502 < (size_t) bytes_126994) {
        mem_127330 = realloc(mem_127330, bytes_126994);
        mem_127330_cached_sizze_136502 = bytes_126994;
    }
    for (; iter_130296 < end; iter_130296++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130380 = m_119474;
        int64_t gtid_122491 = iter_130296;
        int64_t remnant_130381 = iter_130296 - gtid_122491;
        
        for (int64_t i_130297 = 0; i_130297 < l_n_m_119525; i_130297++) {
            int64_t x_130300 = ((int64_t *) mem_127048.mem)[gtid_122491 *
                                                            l_n_m_119525 +
                                                            i_130297];
            float x_130301 = ((float *) mem_127052.mem)[gtid_122491 *
                                                        l_n_m_119525 +
                                                        i_130297];
            int64_t min_arg_130302 = mul64(t_jump_119482, i_130297);
            int64_t min_res_130303 = smin64(i_119551, min_arg_130302);
            float defunc_0_f_res_130304 = sitofp_i64_f32(min_res_130303);
            float defunc_2_reduce_res_130305;
            float defunc_2_reduce_res_130306;
            float defunc_2_reduce_res_130307;
            float redout_130309;
            float redout_130310;
            float redout_130311;
            
            redout_130309 = 0.0F;
            redout_130310 = 0.0F;
            redout_130311 = 0.0F;
            for (int64_t i_130308 = 0; i_130308 < l_window_119479; i_130308++) {
                bool cond_130312 = sle64(n_119475, i_130308);
                float defunc_0_f_res_130313;
                
                if (cond_130312) {
                    defunc_0_f_res_130313 = 0.0F;
                } else {
                    int64_t i_130314 = add64(x_130300, i_130308);
                    float index_primexp_130315 = sitofp_i64_f32(i_130314);
                    float defunc_0_f_res_f_res_130316 = 1.0F +
                          index_primexp_130315;
                    
                    defunc_0_f_res_130313 = defunc_0_f_res_f_res_130316;
                }
                
                float defunc_0_f_res_130317;
                
                if (cond_130312) {
                    defunc_0_f_res_130317 = 0.0F;
                } else {
                    int64_t i_130318 = add64(x_130300, i_130308);
                    float x_130319 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_122491 *
                                                            ctx_param_ext_127142 +
                                                            i_130318 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_130317 = x_130319;
                }
                
                float x_j_130320 = defunc_0_f_res_130313 -
                      defunc_0_f_res_130304;
                float abs_res_130321 = (float) fabs(x_j_130320);
                float tmp1_130322 = abs_res_130321 / x_130301;
                float x_130323 = tmp1_130322 * tmp1_130322;
                float y_130324 = tmp1_130322 * x_130323;
                float tmp2_130325 = 1.0F - y_130324;
                float x_130326 = tmp2_130325 * tmp2_130325;
                float tmp3_130327 = tmp2_130325 * x_130326;
                float w_j_130328 = defunc_0_f_res_130317 * tmp3_130327;
                float xw_j_130329 = x_j_130320 * w_j_130328;
                float x2w_j_130330 = x_j_130320 * xw_j_130329;
                float defunc_1_op_res_130331 = w_j_130328 + redout_130309;
                float defunc_1_op_res_130332 = xw_j_130329 + redout_130310;
                float defunc_1_op_res_130333 = x2w_j_130330 + redout_130311;
                float redout_tmp_130384 = defunc_1_op_res_130331;
                float redout_tmp_130385 = defunc_1_op_res_130332;
                float redout_tmp_130386 = defunc_1_op_res_130333;
                
                redout_130309 = redout_tmp_130384;
                redout_130310 = redout_tmp_130385;
                redout_130311 = redout_tmp_130386;
            }
            defunc_2_reduce_res_130305 = redout_130309;
            defunc_2_reduce_res_130306 = redout_130310;
            defunc_2_reduce_res_130307 = redout_130311;
            
            float x_130334 = defunc_2_reduce_res_130305 *
                  defunc_2_reduce_res_130307;
            float y_130335 = defunc_2_reduce_res_130306 *
                  defunc_2_reduce_res_130306;
            float y_130336 = x_130334 - y_130335;
            float det1_130337 = 1.0F / y_130336;
            float a11_130338 = defunc_2_reduce_res_130307 * det1_130337;
            float negate_arg_130339 = defunc_2_reduce_res_130306 * det1_130337;
            float b11_130340 = 0.0F - negate_arg_130339;
            float c11_130341 = defunc_2_reduce_res_130305 * det1_130337;
            float defunc_2_reduce_res_130342;
            float defunc_2_reduce_res_130343;
            float redout_130345;
            float redout_130346;
            
            redout_130345 = 0.0F;
            redout_130346 = 0.0F;
            for (int64_t i_130344 = 0; i_130344 < l_window_119479; i_130344++) {
                bool cond_130347 = sle64(n_119475, i_130344);
                float defunc_0_f_res_130348;
                
                if (cond_130347) {
                    defunc_0_f_res_130348 = 0.0F;
                } else {
                    int64_t i_130349 = add64(x_130300, i_130344);
                    float index_primexp_130350 = sitofp_i64_f32(i_130349);
                    float defunc_0_f_res_f_res_130351 = 1.0F +
                          index_primexp_130350;
                    
                    defunc_0_f_res_130348 = defunc_0_f_res_f_res_130351;
                }
                
                float defunc_0_f_res_130352;
                
                if (cond_130347) {
                    defunc_0_f_res_130352 = 0.0F;
                } else {
                    int64_t i_130353 = add64(x_130300, i_130344);
                    float x_130354 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_122491 *
                                                            ctx_param_ext_127142 +
                                                            i_130353 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_130352 = x_130354;
                }
                
                float x_j_130355 = defunc_0_f_res_130348 -
                      defunc_0_f_res_130304;
                float abs_res_130356 = (float) fabs(x_j_130355);
                float tmp1_130357 = abs_res_130356 / x_130301;
                float x_130358 = tmp1_130357 * tmp1_130357;
                float y_130359 = tmp1_130357 * x_130358;
                float tmp2_130360 = 1.0F - y_130359;
                float x_130361 = tmp2_130360 * tmp2_130360;
                float tmp3_130362 = tmp2_130360 * x_130361;
                float tmp4_130363 = defunc_0_f_res_130352 * tmp3_130362;
                float defunc_1_f_res_130364 = x_j_130355 * tmp4_130363;
                float defunc_0_f_res_130365;
                
                if (cond_130347) {
                    defunc_0_f_res_130365 = 0.0F;
                } else {
                    int64_t i_130366 = add64(x_130300, i_130344);
                    float x_130367 = ((float *) mem_127292.mem)[gtid_122491 *
                                                                n_119475 +
                                                                i_130366];
                    
                    defunc_0_f_res_130365 = x_130367;
                }
                
                float x_130368 = a11_130338 * tmp4_130363;
                float y_130369 = b11_130340 * defunc_1_f_res_130364;
                float x_130370 = x_130368 + y_130369;
                float defunc_9_fit_fun_res_130371 = defunc_0_f_res_130365 *
                      x_130370;
                float x_130372 = b11_130340 * tmp4_130363;
                float y_130373 = c11_130341 * defunc_1_f_res_130364;
                float x_130374 = x_130372 + y_130373;
                float defunc_9_slope_fun_res_130375 = defunc_0_f_res_130365 *
                      x_130374;
                float defunc_1_op_res_130376 = defunc_9_fit_fun_res_130371 +
                      redout_130345;
                float defunc_1_op_res_130377 = defunc_9_slope_fun_res_130375 +
                      redout_130346;
                float redout_tmp_130387 = defunc_1_op_res_130376;
                float redout_tmp_130388 = defunc_1_op_res_130377;
                
                redout_130345 = redout_tmp_130387;
                redout_130346 = redout_tmp_130388;
            }
            defunc_2_reduce_res_130342 = redout_130345;
            defunc_2_reduce_res_130343 = redout_130346;
            ((float *) mem_127327)[i_130297] = defunc_2_reduce_res_130342;
            ((float *) mem_127330)[i_130297] = defunc_2_reduce_res_130343;
        }
        memmove(mem_127358.mem + gtid_122491 * l_n_m_119525 * (int64_t) 4,
                mem_127327 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127362.mem + gtid_122491 * l_n_m_119525 * (int64_t) 4,
                mem_127330 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127327);
    free(mem_127330);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136500_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136500_end -
                 futhark_mc_segmap_parloop_136500_start;
        
        ctx->futhark_mc_segmap_parloop_136500_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136500_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136500_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136498(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122490 = tid;
    int num_tasks_130295 = info.nsubtasks;
    struct futhark_mc_task_136497 *futhark_mc_task_136497 =
                                  (struct futhark_mc_task_136497 *) args;
    struct futhark_context *ctx = futhark_mc_task_136497->ctx;
    uint64_t futhark_mc_segmap_task_136498_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136498_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136497->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136497->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136497->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136497->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136497->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136497->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136497->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136497->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136497->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136497->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136497->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136497->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136497->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136497->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127358 = {.desc ="mem_127358", .mem =
                                  futhark_mc_task_136497->free_mem_127358,
                                  .size =0, .references =NULL};
    struct memblock mem_127362 = {.desc ="mem_127362", .mem =
                                  futhark_mc_task_136497->free_mem_127362,
                                  .size =0, .references =NULL};
    int64_t iter_130296;
    struct futhark_mc_segmap_parloop_struct_136499
    futhark_mc_segmap_parloop_struct_136499;
    
    futhark_mc_segmap_parloop_struct_136499.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136499.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136499.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136499.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136499.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136499.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136499.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136499.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136499.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136499.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136499.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136499.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136499.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136499.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136499.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136499.free_mem_127358 = mem_127358.mem;
    futhark_mc_segmap_parloop_struct_136499.free_mem_127362 = mem_127362.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136500_task;
    
    futhark_mc_segmap_parloop_136500_task.name =
        "futhark_mc_segmap_parloop_136500";
    futhark_mc_segmap_parloop_136500_task.fn = futhark_mc_segmap_parloop_136500;
    futhark_mc_segmap_parloop_136500_task.args =
        &futhark_mc_segmap_parloop_struct_136499;
    futhark_mc_segmap_parloop_136500_task.iterations = iterations;
    futhark_mc_segmap_parloop_136500_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136500_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136500_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136500_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136500_task);
    
    if (futhark_mc_segmap_parloop_136500_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136500_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136500_total_end -
                 futhark_mc_segmap_parloop_136500_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136500_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136500_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136500_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136498_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136498_end -
                 futhark_mc_segmap_task_136498_start;
        
        ctx->futhark_mc_segmap_task_136498_runs[tid]++;
        ctx->futhark_mc_segmap_task_136498_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136498_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136504 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127358;
    char *free_mem_127362;
};
struct futhark_mc_task_136508 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122493;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127321;
    char *free_mem_127324;
};
struct futhark_mc_segmap_parloop_struct_136510 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122493;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127321;
    char *free_mem_127324;
};
static int futhark_mc_segmap_parloop_136511(void *args, int64_t start,
                                            int64_t end, int flat_tid_122494,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136510
    *futhark_mc_segmap_parloop_struct_136510 =
    (struct futhark_mc_segmap_parloop_struct_136510 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136510->ctx;
    uint64_t futhark_mc_segmap_parloop_136511_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136511_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136510->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136510->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136510->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136510->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136510->free_i_119551;
    int64_t gtid_122493 =
            futhark_mc_segmap_parloop_struct_136510->free_gtid_122493;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136510->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136510->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136510->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136510->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136510->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136510->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136510->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127321 = {.desc ="mem_127321", .mem =
                                  futhark_mc_segmap_parloop_struct_136510->free_mem_127321,
                                  .size =0, .references =NULL};
    struct memblock mem_127324 = {.desc ="mem_127324", .mem =
                                  futhark_mc_segmap_parloop_struct_136510->free_mem_127324,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130552 = start;
    
    for (; iter_130552 < end; iter_130552++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130613 = l_n_m_119525;
        int64_t gtid_122495 = iter_130552;
        int64_t remnant_130614 = iter_130552 - gtid_122495;
        int64_t x_130471 = ((int64_t *) mem_127048.mem)[gtid_122493 *
                                                        l_n_m_119525 +
                                                        gtid_122495];
        float x_130472 = ((float *) mem_127052.mem)[gtid_122493 * l_n_m_119525 +
                                                    gtid_122495];
        int64_t min_arg_130473 = mul64(t_jump_119482, gtid_122495);
        int64_t min_res_130474 = smin64(i_119551, min_arg_130473);
        float defunc_0_f_res_130475 = sitofp_i64_f32(min_res_130474);
        float defunc_2_reduce_res_130476;
        float defunc_2_reduce_res_130477;
        float defunc_2_reduce_res_130478;
        float redout_130554;
        float redout_130555;
        float redout_130556;
        
        redout_130554 = 0.0F;
        redout_130555 = 0.0F;
        redout_130556 = 0.0F;
        for (int64_t i_130553 = 0; i_130553 < l_window_119479; i_130553++) {
            bool cond_130557 = sle64(n_119475, i_130553);
            float defunc_0_f_res_130558;
            
            if (cond_130557) {
                defunc_0_f_res_130558 = 0.0F;
            } else {
                int64_t i_130559 = add64(x_130471, i_130553);
                float index_primexp_130560 = sitofp_i64_f32(i_130559);
                float defunc_0_f_res_f_res_130561 = 1.0F + index_primexp_130560;
                
                defunc_0_f_res_130558 = defunc_0_f_res_f_res_130561;
            }
            
            float defunc_0_f_res_130562;
            
            if (cond_130557) {
                defunc_0_f_res_130562 = 0.0F;
            } else {
                int64_t i_130563 = add64(x_130471, i_130553);
                float x_130564 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_122493 *
                                                        ctx_param_ext_127142 +
                                                        i_130563 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_130562 = x_130564;
            }
            
            float x_j_130565 = defunc_0_f_res_130558 - defunc_0_f_res_130475;
            float abs_res_130566 = (float) fabs(x_j_130565);
            float tmp1_130567 = abs_res_130566 / x_130472;
            float x_130568 = tmp1_130567 * tmp1_130567;
            float y_130569 = tmp1_130567 * x_130568;
            float tmp2_130570 = 1.0F - y_130569;
            float x_130571 = tmp2_130570 * tmp2_130570;
            float tmp3_130572 = tmp2_130570 * x_130571;
            float w_j_130573 = defunc_0_f_res_130562 * tmp3_130572;
            float xw_j_130574 = x_j_130565 * w_j_130573;
            float x2w_j_130575 = x_j_130565 * xw_j_130574;
            float defunc_1_op_res_130576 = w_j_130573 + redout_130554;
            float defunc_1_op_res_130577 = xw_j_130574 + redout_130555;
            float defunc_1_op_res_130578 = x2w_j_130575 + redout_130556;
            float redout_tmp_130615 = defunc_1_op_res_130576;
            float redout_tmp_130616 = defunc_1_op_res_130577;
            float redout_tmp_130617 = defunc_1_op_res_130578;
            
            redout_130554 = redout_tmp_130615;
            redout_130555 = redout_tmp_130616;
            redout_130556 = redout_tmp_130617;
        }
        defunc_2_reduce_res_130476 = redout_130554;
        defunc_2_reduce_res_130477 = redout_130555;
        defunc_2_reduce_res_130478 = redout_130556;
        
        float x_130505 = defunc_2_reduce_res_130476 *
              defunc_2_reduce_res_130478;
        float y_130506 = defunc_2_reduce_res_130477 *
              defunc_2_reduce_res_130477;
        float y_130507 = x_130505 - y_130506;
        float det1_130508 = 1.0F / y_130507;
        float a11_130509 = defunc_2_reduce_res_130478 * det1_130508;
        float negate_arg_130510 = defunc_2_reduce_res_130477 * det1_130508;
        float b11_130511 = 0.0F - negate_arg_130510;
        float c11_130512 = defunc_2_reduce_res_130476 * det1_130508;
        float defunc_2_reduce_res_130513;
        float defunc_2_reduce_res_130514;
        float redout_130580;
        float redout_130581;
        
        redout_130580 = 0.0F;
        redout_130581 = 0.0F;
        for (int64_t i_130579 = 0; i_130579 < l_window_119479; i_130579++) {
            bool cond_130582 = sle64(n_119475, i_130579);
            float defunc_0_f_res_130583;
            
            if (cond_130582) {
                defunc_0_f_res_130583 = 0.0F;
            } else {
                int64_t i_130584 = add64(x_130471, i_130579);
                float index_primexp_130585 = sitofp_i64_f32(i_130584);
                float defunc_0_f_res_f_res_130586 = 1.0F + index_primexp_130585;
                
                defunc_0_f_res_130583 = defunc_0_f_res_f_res_130586;
            }
            
            float defunc_0_f_res_130587;
            
            if (cond_130582) {
                defunc_0_f_res_130587 = 0.0F;
            } else {
                int64_t i_130588 = add64(x_130471, i_130579);
                float x_130589 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_122493 *
                                                        ctx_param_ext_127142 +
                                                        i_130588 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_130587 = x_130589;
            }
            
            float x_j_130590 = defunc_0_f_res_130583 - defunc_0_f_res_130475;
            float abs_res_130591 = (float) fabs(x_j_130590);
            float tmp1_130592 = abs_res_130591 / x_130472;
            float x_130593 = tmp1_130592 * tmp1_130592;
            float y_130594 = tmp1_130592 * x_130593;
            float tmp2_130595 = 1.0F - y_130594;
            float x_130596 = tmp2_130595 * tmp2_130595;
            float tmp3_130597 = tmp2_130595 * x_130596;
            float tmp4_130598 = defunc_0_f_res_130587 * tmp3_130597;
            float defunc_1_f_res_130599 = x_j_130590 * tmp4_130598;
            float defunc_0_f_res_130600;
            
            if (cond_130582) {
                defunc_0_f_res_130600 = 0.0F;
            } else {
                int64_t i_130601 = add64(x_130471, i_130579);
                float x_130602 = ((float *) mem_127292.mem)[gtid_122493 *
                                                            n_119475 +
                                                            i_130601];
                
                defunc_0_f_res_130600 = x_130602;
            }
            
            float x_130603 = a11_130509 * tmp4_130598;
            float y_130604 = b11_130511 * defunc_1_f_res_130599;
            float x_130605 = x_130603 + y_130604;
            float defunc_9_fit_fun_res_130606 = defunc_0_f_res_130600 *
                  x_130605;
            float x_130607 = b11_130511 * tmp4_130598;
            float y_130608 = c11_130512 * defunc_1_f_res_130599;
            float x_130609 = x_130607 + y_130608;
            float defunc_9_slope_fun_res_130610 = defunc_0_f_res_130600 *
                  x_130609;
            float defunc_1_op_res_130611 = defunc_9_fit_fun_res_130606 +
                  redout_130580;
            float defunc_1_op_res_130612 = defunc_9_slope_fun_res_130610 +
                  redout_130581;
            float redout_tmp_130618 = defunc_1_op_res_130611;
            float redout_tmp_130619 = defunc_1_op_res_130612;
            
            redout_130580 = redout_tmp_130618;
            redout_130581 = redout_tmp_130619;
        }
        defunc_2_reduce_res_130513 = redout_130580;
        defunc_2_reduce_res_130514 = redout_130581;
        ((float *) mem_127321.mem)[gtid_122495] = defunc_2_reduce_res_130513;
        ((float *) mem_127324.mem)[gtid_122495] = defunc_2_reduce_res_130514;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136511_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136511_end -
                 futhark_mc_segmap_parloop_136511_start;
        
        ctx->futhark_mc_segmap_parloop_136511_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136511_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136511_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136509(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122494 = tid;
    int num_tasks_130551 = info.nsubtasks;
    struct futhark_mc_task_136508 *futhark_mc_task_136508 =
                                  (struct futhark_mc_task_136508 *) args;
    struct futhark_context *ctx = futhark_mc_task_136508->ctx;
    uint64_t futhark_mc_segmap_task_136509_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136509_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136508->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136508->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136508->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136508->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136508->free_i_119551;
    int64_t gtid_122493 = futhark_mc_task_136508->free_gtid_122493;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136508->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136508->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136508->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136508->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136508->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136508->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136508->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127321 = {.desc ="mem_127321", .mem =
                                  futhark_mc_task_136508->free_mem_127321,
                                  .size =0, .references =NULL};
    struct memblock mem_127324 = {.desc ="mem_127324", .mem =
                                  futhark_mc_task_136508->free_mem_127324,
                                  .size =0, .references =NULL};
    int64_t iter_130552;
    struct futhark_mc_segmap_parloop_struct_136510
    futhark_mc_segmap_parloop_struct_136510;
    
    futhark_mc_segmap_parloop_struct_136510.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136510.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136510.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136510.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136510.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136510.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136510.free_gtid_122493 = gtid_122493;
    futhark_mc_segmap_parloop_struct_136510.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136510.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136510.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136510.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136510.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136510.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136510.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136510.free_mem_127321 = mem_127321.mem;
    futhark_mc_segmap_parloop_struct_136510.free_mem_127324 = mem_127324.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136511_task;
    
    futhark_mc_segmap_parloop_136511_task.name =
        "futhark_mc_segmap_parloop_136511";
    futhark_mc_segmap_parloop_136511_task.fn = futhark_mc_segmap_parloop_136511;
    futhark_mc_segmap_parloop_136511_task.args =
        &futhark_mc_segmap_parloop_struct_136510;
    futhark_mc_segmap_parloop_136511_task.iterations = iterations;
    futhark_mc_segmap_parloop_136511_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136511_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136511_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136511_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136511_task);
    
    if (futhark_mc_segmap_parloop_136511_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136511_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136511_total_end -
                 futhark_mc_segmap_parloop_136511_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136511_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136511_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136511_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136509_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136509_end -
                 futhark_mc_segmap_task_136509_start;
        
        ctx->futhark_mc_segmap_task_136509_runs[tid]++;
        ctx->futhark_mc_segmap_task_136509_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136509_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136513 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122493;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127321;
    char *free_mem_127324;
};
struct futhark_mc_task_136515 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122493;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_130390;
    float free_x_130391;
    float free_defunc_0_f_res_130394;
    float *retval_defunc_2_reduce_res_130395;
    float *retval_defunc_2_reduce_res_130396;
    float *retval_defunc_2_reduce_res_130397;
};
struct futhark_mc_segred_stage_1_parloop_struct_136520 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122493;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_130390;
    float free_x_130391;
    float free_defunc_0_f_res_130394;
    char *free_reduce_stage_1_tid_res_arr_mem_130687;
    char *free_reduce_stage_1_tid_res_arr_mem_130689;
    char *free_reduce_stage_1_tid_res_arr_mem_130691;
};
static int futhark_mc_segred_stage_1_parloop_136521(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122498,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136520
    *futhark_mc_segred_stage_1_parloop_struct_136520 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136520 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136520->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136521_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136521_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136520->free_n_119475;
    int64_t gtid_122493 =
            futhark_mc_segred_stage_1_parloop_struct_136520->free_gtid_122493;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136520->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136520->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136520->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136520->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_130390 =
            futhark_mc_segred_stage_1_parloop_struct_136520->free_x_130390;
    float x_130391 =
          futhark_mc_segred_stage_1_parloop_struct_136520->free_x_130391;
    float defunc_0_f_res_130394 =
          futhark_mc_segred_stage_1_parloop_struct_136520->free_defunc_0_f_res_130394;
    struct memblock reduce_stage_1_tid_res_arr_mem_130687 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130687",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136520->free_reduce_stage_1_tid_res_arr_mem_130687,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_130689 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130689",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136520->free_reduce_stage_1_tid_res_arr_mem_130689,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_130691 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130691",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136520->free_reduce_stage_1_tid_res_arr_mem_130691,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130693 = start;
    float x_130621;
    float x_130622;
    float x_130624;
    float x_130625;
    float x_130627;
    float x_130628;
    float local_acc_130694 = 0.0F;
    float local_acc_130695 = 0.0F;
    float local_acc_130696 = 0.0F;
    
    for (; iter_130693 < end; iter_130693++) {
        int64_t gtid_122499 = iter_130693;
        bool cond_130630 = sle64(n_119475, gtid_122499);
        float defunc_0_f_res_130631;
        
        if (cond_130630) {
            defunc_0_f_res_130631 = 0.0F;
        } else {
            int64_t i_130632 = add64(gtid_122499, x_130390);
            float index_primexp_130633 = sitofp_i64_f32(i_130632);
            float defunc_0_f_res_f_res_130634 = 1.0F + index_primexp_130633;
            
            defunc_0_f_res_130631 = defunc_0_f_res_f_res_130634;
        }
        
        float defunc_0_f_res_130635;
        
        if (cond_130630) {
            defunc_0_f_res_130635 = 0.0F;
        } else {
            int64_t i_130636 = add64(gtid_122499, x_130390);
            float x_130637 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_122493 *
                                                    ctx_param_ext_127142 +
                                                    i_130636 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_130635 = x_130637;
        }
        
        float x_j_130638 = defunc_0_f_res_130631 - defunc_0_f_res_130394;
        float abs_res_130639 = (float) fabs(x_j_130638);
        float tmp1_130640 = abs_res_130639 / x_130391;
        float x_130641 = tmp1_130640 * tmp1_130640;
        float y_130642 = tmp1_130640 * x_130641;
        float tmp2_130643 = 1.0F - y_130642;
        float x_130644 = tmp2_130643 * tmp2_130643;
        float tmp3_130645 = tmp2_130643 * x_130644;
        float w_j_130646 = defunc_0_f_res_130635 * tmp3_130645;
        float xw_j_130647 = x_j_130638 * w_j_130646;
        float x2w_j_130648 = x_j_130638 * xw_j_130647;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_130621 = local_acc_130694;
        }
        // Load next params
        {
            x_130622 = w_j_130646;
        }
        // Red body
        {
            float defunc_1_op_res_130623 = x_130621 + x_130622;
            
            local_acc_130694 = defunc_1_op_res_130623;
        }
        // Load accum params
        {
            x_130624 = local_acc_130695;
        }
        // Load next params
        {
            x_130625 = xw_j_130647;
        }
        // Red body
        {
            float defunc_1_op_res_130626 = x_130624 + x_130625;
            
            local_acc_130695 = defunc_1_op_res_130626;
        }
        // Load accum params
        {
            x_130627 = local_acc_130696;
        }
        // Load next params
        {
            x_130628 = x2w_j_130648;
        }
        // Red body
        {
            float defunc_1_op_res_130629 = x_130627 + x_130628;
            
            local_acc_130696 = defunc_1_op_res_130629;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_130687.mem)[flat_tid_122498] =
        local_acc_130694;
    ((float *) reduce_stage_1_tid_res_arr_mem_130689.mem)[flat_tid_122498] =
        local_acc_130695;
    ((float *) reduce_stage_1_tid_res_arr_mem_130691.mem)[flat_tid_122498] =
        local_acc_130696;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136521_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136521_end -
                 futhark_mc_segred_stage_1_parloop_136521_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136521_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136521_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136521_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136516(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122498 = tid;
    int num_tasks_130686 = info.nsubtasks;
    struct futhark_mc_task_136515 *futhark_mc_task_136515 =
                                  (struct futhark_mc_task_136515 *) args;
    struct futhark_context *ctx = futhark_mc_task_136515->ctx;
    uint64_t futhark_mc_segred_task_136516_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136516_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136515->free_n_119475;
    int64_t gtid_122493 = futhark_mc_task_136515->free_gtid_122493;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136515->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136515->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136515->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136515->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_130390 = futhark_mc_task_136515->free_x_130390;
    float x_130391 = futhark_mc_task_136515->free_x_130391;
    float defunc_0_f_res_130394 =
          futhark_mc_task_136515->free_defunc_0_f_res_130394;
    float defunc_2_reduce_res_130395 =
          *futhark_mc_task_136515->retval_defunc_2_reduce_res_130395;
    float defunc_2_reduce_res_130396 =
          *futhark_mc_task_136515->retval_defunc_2_reduce_res_130396;
    float defunc_2_reduce_res_130397 =
          *futhark_mc_task_136515->retval_defunc_2_reduce_res_130397;
    size_t reduce_stage_1_tid_res_arr_mem_130687_cached_sizze_136517 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130687 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_130689_cached_sizze_136518 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130689 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_130691_cached_sizze_136519 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130691 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_130687_cached_sizze_136517 <
        (size_t) ((int64_t) 4 * num_tasks_130686)) {
        reduce_stage_1_tid_res_arr_mem_130687 =
            realloc(reduce_stage_1_tid_res_arr_mem_130687, (int64_t) 4 *
                    num_tasks_130686);
        reduce_stage_1_tid_res_arr_mem_130687_cached_sizze_136517 =
            (int64_t) 4 * num_tasks_130686;
    }
    if (reduce_stage_1_tid_res_arr_mem_130689_cached_sizze_136518 <
        (size_t) ((int64_t) 4 * num_tasks_130686)) {
        reduce_stage_1_tid_res_arr_mem_130689 =
            realloc(reduce_stage_1_tid_res_arr_mem_130689, (int64_t) 4 *
                    num_tasks_130686);
        reduce_stage_1_tid_res_arr_mem_130689_cached_sizze_136518 =
            (int64_t) 4 * num_tasks_130686;
    }
    if (reduce_stage_1_tid_res_arr_mem_130691_cached_sizze_136519 <
        (size_t) ((int64_t) 4 * num_tasks_130686)) {
        reduce_stage_1_tid_res_arr_mem_130691 =
            realloc(reduce_stage_1_tid_res_arr_mem_130691, (int64_t) 4 *
                    num_tasks_130686);
        reduce_stage_1_tid_res_arr_mem_130691_cached_sizze_136519 =
            (int64_t) 4 * num_tasks_130686;
    }
    
    int64_t iter_130693;
    struct futhark_mc_segred_stage_1_parloop_struct_136520
    futhark_mc_segred_stage_1_parloop_struct_136520;
    
    futhark_mc_segred_stage_1_parloop_struct_136520.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_gtid_122493 =
        gtid_122493;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_x_130390 = x_130390;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_x_130391 = x_130391;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_defunc_0_f_res_130394 =
        defunc_0_f_res_130394;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_reduce_stage_1_tid_res_arr_mem_130687 =
        reduce_stage_1_tid_res_arr_mem_130687;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_reduce_stage_1_tid_res_arr_mem_130689 =
        reduce_stage_1_tid_res_arr_mem_130689;
    futhark_mc_segred_stage_1_parloop_struct_136520.free_reduce_stage_1_tid_res_arr_mem_130691 =
        reduce_stage_1_tid_res_arr_mem_130691;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136521_task;
    
    futhark_mc_segred_stage_1_parloop_136521_task.name =
        "futhark_mc_segred_stage_1_parloop_136521";
    futhark_mc_segred_stage_1_parloop_136521_task.fn =
        futhark_mc_segred_stage_1_parloop_136521;
    futhark_mc_segred_stage_1_parloop_136521_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136520;
    futhark_mc_segred_stage_1_parloop_136521_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136521_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136521_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136521_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136521_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136521_task);
    
    if (futhark_mc_segred_stage_1_parloop_136521_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136521_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136521_total_end -
                 futhark_mc_segred_stage_1_parloop_136521_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136521_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136521_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136521_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_130395 = 0.0F;
        defunc_2_reduce_res_130396 = 0.0F;
        defunc_2_reduce_res_130397 = 0.0F;
    }
    
    float x_130697;
    float x_130698;
    float x_130700;
    float x_130701;
    float x_130703;
    float x_130704;
    
    for (int32_t i_130706 = 0; i_130706 < num_tasks_130686; i_130706++) {
        flat_tid_122498 = i_130706;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_130697 = defunc_2_reduce_res_130395;
            }
            // load next params
            {
                x_130698 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130687)[flat_tid_122498];
            }
            // red body
            {
                float defunc_1_op_res_130699 = x_130697 + x_130698;
                
                defunc_2_reduce_res_130395 = defunc_1_op_res_130699;
            }
            // load acc params
            {
                x_130700 = defunc_2_reduce_res_130396;
            }
            // load next params
            {
                x_130701 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130689)[flat_tid_122498];
            }
            // red body
            {
                float defunc_1_op_res_130702 = x_130700 + x_130701;
                
                defunc_2_reduce_res_130396 = defunc_1_op_res_130702;
            }
            // load acc params
            {
                x_130703 = defunc_2_reduce_res_130397;
            }
            // load next params
            {
                x_130704 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130691)[flat_tid_122498];
            }
            // red body
            {
                float defunc_1_op_res_130705 = x_130703 + x_130704;
                
                defunc_2_reduce_res_130397 = defunc_1_op_res_130705;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_130687);
    free(reduce_stage_1_tid_res_arr_mem_130689);
    free(reduce_stage_1_tid_res_arr_mem_130691);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136516_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136516_end -
                 futhark_mc_segred_task_136516_start;
        
        ctx->futhark_mc_segred_task_136516_runs[tid]++;
        ctx->futhark_mc_segred_task_136516_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136516_iter[tid] += iterations;
    }
    *futhark_mc_task_136515->retval_defunc_2_reduce_res_130395 =
        defunc_2_reduce_res_130395;
    *futhark_mc_task_136515->retval_defunc_2_reduce_res_130396 =
        defunc_2_reduce_res_130396;
    *futhark_mc_task_136515->retval_defunc_2_reduce_res_130397 =
        defunc_2_reduce_res_130397;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136522 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122493;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_x_130390;
    float free_x_130391;
    float free_defunc_0_f_res_130394;
    float free_a11_130430;
    float free_b11_130432;
    float free_c11_130433;
    float *retval_defunc_2_reduce_res_130434;
    float *retval_defunc_2_reduce_res_130435;
};
struct futhark_mc_segred_stage_1_parloop_struct_136526 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122493;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_x_130390;
    float free_x_130391;
    float free_defunc_0_f_res_130394;
    float free_a11_130430;
    float free_b11_130432;
    float free_c11_130433;
    char *free_reduce_stage_1_tid_res_arr_mem_130708;
    char *free_reduce_stage_1_tid_res_arr_mem_130710;
};
static int futhark_mc_segred_stage_1_parloop_136527(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122500,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136526
    *futhark_mc_segred_stage_1_parloop_struct_136526 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136526 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136526->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136527_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136527_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136526->free_n_119475;
    int64_t gtid_122493 =
            futhark_mc_segred_stage_1_parloop_struct_136526->free_gtid_122493;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136526->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136526->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136526->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136526->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136526->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_130390 =
            futhark_mc_segred_stage_1_parloop_struct_136526->free_x_130390;
    float x_130391 =
          futhark_mc_segred_stage_1_parloop_struct_136526->free_x_130391;
    float defunc_0_f_res_130394 =
          futhark_mc_segred_stage_1_parloop_struct_136526->free_defunc_0_f_res_130394;
    float a11_130430 =
          futhark_mc_segred_stage_1_parloop_struct_136526->free_a11_130430;
    float b11_130432 =
          futhark_mc_segred_stage_1_parloop_struct_136526->free_b11_130432;
    float c11_130433 =
          futhark_mc_segred_stage_1_parloop_struct_136526->free_c11_130433;
    struct memblock reduce_stage_1_tid_res_arr_mem_130708 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130708",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136526->free_reduce_stage_1_tid_res_arr_mem_130708,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_130710 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_130710",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136526->free_reduce_stage_1_tid_res_arr_mem_130710,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130712 = start;
    float x_130649;
    float x_130650;
    float x_130652;
    float x_130653;
    float local_acc_130713 = 0.0F;
    float local_acc_130714 = 0.0F;
    
    for (; iter_130712 < end; iter_130712++) {
        int64_t gtid_122501 = iter_130712;
        bool cond_130655 = sle64(n_119475, gtid_122501);
        float defunc_0_f_res_130656;
        
        if (cond_130655) {
            defunc_0_f_res_130656 = 0.0F;
        } else {
            int64_t i_130657 = add64(gtid_122501, x_130390);
            float index_primexp_130658 = sitofp_i64_f32(i_130657);
            float defunc_0_f_res_f_res_130659 = 1.0F + index_primexp_130658;
            
            defunc_0_f_res_130656 = defunc_0_f_res_f_res_130659;
        }
        
        float defunc_0_f_res_130660;
        
        if (cond_130655) {
            defunc_0_f_res_130660 = 0.0F;
        } else {
            int64_t i_130661 = add64(gtid_122501, x_130390);
            float x_130662 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_122493 *
                                                    ctx_param_ext_127142 +
                                                    i_130661 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_130660 = x_130662;
        }
        
        float x_j_130663 = defunc_0_f_res_130656 - defunc_0_f_res_130394;
        float abs_res_130664 = (float) fabs(x_j_130663);
        float tmp1_130665 = abs_res_130664 / x_130391;
        float x_130666 = tmp1_130665 * tmp1_130665;
        float y_130667 = tmp1_130665 * x_130666;
        float tmp2_130668 = 1.0F - y_130667;
        float x_130669 = tmp2_130668 * tmp2_130668;
        float tmp3_130670 = tmp2_130668 * x_130669;
        float tmp4_130671 = defunc_0_f_res_130660 * tmp3_130670;
        float defunc_1_f_res_130672 = x_j_130663 * tmp4_130671;
        float defunc_0_f_res_130673;
        
        if (cond_130655) {
            defunc_0_f_res_130673 = 0.0F;
        } else {
            int64_t i_130674 = add64(gtid_122501, x_130390);
            float x_130675 = ((float *) mem_127292.mem)[gtid_122493 * n_119475 +
                                                        i_130674];
            
            defunc_0_f_res_130673 = x_130675;
        }
        
        float x_130676 = a11_130430 * tmp4_130671;
        float y_130677 = b11_130432 * defunc_1_f_res_130672;
        float x_130678 = x_130676 + y_130677;
        float defunc_9_fit_fun_res_130679 = defunc_0_f_res_130673 * x_130678;
        float x_130680 = b11_130432 * tmp4_130671;
        float y_130681 = c11_130433 * defunc_1_f_res_130672;
        float x_130682 = x_130680 + y_130681;
        float defunc_9_slope_fun_res_130683 = defunc_0_f_res_130673 * x_130682;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_130649 = local_acc_130713;
        }
        // Load next params
        {
            x_130650 = defunc_9_fit_fun_res_130679;
        }
        // Red body
        {
            float defunc_1_op_res_130651 = x_130649 + x_130650;
            
            local_acc_130713 = defunc_1_op_res_130651;
        }
        // Load accum params
        {
            x_130652 = local_acc_130714;
        }
        // Load next params
        {
            x_130653 = defunc_9_slope_fun_res_130683;
        }
        // Red body
        {
            float defunc_1_op_res_130654 = x_130652 + x_130653;
            
            local_acc_130714 = defunc_1_op_res_130654;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_130708.mem)[flat_tid_122500] =
        local_acc_130713;
    ((float *) reduce_stage_1_tid_res_arr_mem_130710.mem)[flat_tid_122500] =
        local_acc_130714;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136527_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136527_end -
                 futhark_mc_segred_stage_1_parloop_136527_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136527_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136527_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136527_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136523(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122500 = tid;
    int num_tasks_130707 = info.nsubtasks;
    struct futhark_mc_task_136522 *futhark_mc_task_136522 =
                                  (struct futhark_mc_task_136522 *) args;
    struct futhark_context *ctx = futhark_mc_task_136522->ctx;
    uint64_t futhark_mc_segred_task_136523_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136523_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136522->free_n_119475;
    int64_t gtid_122493 = futhark_mc_task_136522->free_gtid_122493;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136522->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136522->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136522->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136522->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136522->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_130390 = futhark_mc_task_136522->free_x_130390;
    float x_130391 = futhark_mc_task_136522->free_x_130391;
    float defunc_0_f_res_130394 =
          futhark_mc_task_136522->free_defunc_0_f_res_130394;
    float a11_130430 = futhark_mc_task_136522->free_a11_130430;
    float b11_130432 = futhark_mc_task_136522->free_b11_130432;
    float c11_130433 = futhark_mc_task_136522->free_c11_130433;
    float defunc_2_reduce_res_130434 =
          *futhark_mc_task_136522->retval_defunc_2_reduce_res_130434;
    float defunc_2_reduce_res_130435 =
          *futhark_mc_task_136522->retval_defunc_2_reduce_res_130435;
    size_t reduce_stage_1_tid_res_arr_mem_130708_cached_sizze_136524 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130708 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_130710_cached_sizze_136525 = 0;
    char *reduce_stage_1_tid_res_arr_mem_130710 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_130708_cached_sizze_136524 <
        (size_t) ((int64_t) 4 * num_tasks_130707)) {
        reduce_stage_1_tid_res_arr_mem_130708 =
            realloc(reduce_stage_1_tid_res_arr_mem_130708, (int64_t) 4 *
                    num_tasks_130707);
        reduce_stage_1_tid_res_arr_mem_130708_cached_sizze_136524 =
            (int64_t) 4 * num_tasks_130707;
    }
    if (reduce_stage_1_tid_res_arr_mem_130710_cached_sizze_136525 <
        (size_t) ((int64_t) 4 * num_tasks_130707)) {
        reduce_stage_1_tid_res_arr_mem_130710 =
            realloc(reduce_stage_1_tid_res_arr_mem_130710, (int64_t) 4 *
                    num_tasks_130707);
        reduce_stage_1_tid_res_arr_mem_130710_cached_sizze_136525 =
            (int64_t) 4 * num_tasks_130707;
    }
    
    int64_t iter_130712;
    struct futhark_mc_segred_stage_1_parloop_struct_136526
    futhark_mc_segred_stage_1_parloop_struct_136526;
    
    futhark_mc_segred_stage_1_parloop_struct_136526.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_gtid_122493 =
        gtid_122493;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_mem_127292 =
        mem_127292.mem;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_x_130390 = x_130390;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_x_130391 = x_130391;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_defunc_0_f_res_130394 =
        defunc_0_f_res_130394;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_a11_130430 =
        a11_130430;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_b11_130432 =
        b11_130432;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_c11_130433 =
        c11_130433;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_reduce_stage_1_tid_res_arr_mem_130708 =
        reduce_stage_1_tid_res_arr_mem_130708;
    futhark_mc_segred_stage_1_parloop_struct_136526.free_reduce_stage_1_tid_res_arr_mem_130710 =
        reduce_stage_1_tid_res_arr_mem_130710;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136527_task;
    
    futhark_mc_segred_stage_1_parloop_136527_task.name =
        "futhark_mc_segred_stage_1_parloop_136527";
    futhark_mc_segred_stage_1_parloop_136527_task.fn =
        futhark_mc_segred_stage_1_parloop_136527;
    futhark_mc_segred_stage_1_parloop_136527_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136526;
    futhark_mc_segred_stage_1_parloop_136527_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136527_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136527_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136527_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136527_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136527_task);
    
    if (futhark_mc_segred_stage_1_parloop_136527_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136527_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136527_total_end -
                 futhark_mc_segred_stage_1_parloop_136527_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136527_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136527_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136527_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_130434 = 0.0F;
        defunc_2_reduce_res_130435 = 0.0F;
    }
    
    float x_130715;
    float x_130716;
    float x_130718;
    float x_130719;
    
    for (int32_t i_130721 = 0; i_130721 < num_tasks_130707; i_130721++) {
        flat_tid_122500 = i_130721;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_130715 = defunc_2_reduce_res_130434;
            }
            // load next params
            {
                x_130716 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130708)[flat_tid_122500];
            }
            // red body
            {
                float defunc_1_op_res_130717 = x_130715 + x_130716;
                
                defunc_2_reduce_res_130434 = defunc_1_op_res_130717;
            }
            // load acc params
            {
                x_130718 = defunc_2_reduce_res_130435;
            }
            // load next params
            {
                x_130719 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_130710)[flat_tid_122500];
            }
            // red body
            {
                float defunc_1_op_res_130720 = x_130718 + x_130719;
                
                defunc_2_reduce_res_130435 = defunc_1_op_res_130720;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_130708);
    free(reduce_stage_1_tid_res_arr_mem_130710);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136523_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136523_end -
                 futhark_mc_segred_task_136523_start;
        
        ctx->futhark_mc_segred_task_136523_runs[tid]++;
        ctx->futhark_mc_segred_task_136523_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136523_iter[tid] += iterations;
    }
    *futhark_mc_task_136522->retval_defunc_2_reduce_res_130434 =
        defunc_2_reduce_res_130434;
    *futhark_mc_task_136522->retval_defunc_2_reduce_res_130435 =
        defunc_2_reduce_res_130435;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136514(void *args, int64_t start,
                                            int64_t end, int flat_tid_122496,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136513
    *futhark_mc_segmap_parloop_struct_136513 =
    (struct futhark_mc_segmap_parloop_struct_136513 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136513->ctx;
    uint64_t futhark_mc_segmap_parloop_136514_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136514_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136513->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136513->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136513->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136513->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136513->free_i_119551;
    int64_t gtid_122493 =
            futhark_mc_segmap_parloop_struct_136513->free_gtid_122493;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136513->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136513->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136513->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136513->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136513->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136513->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136513->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127321 = {.desc ="mem_127321", .mem =
                                  futhark_mc_segmap_parloop_struct_136513->free_mem_127321,
                                  .size =0, .references =NULL};
    struct memblock mem_127324 = {.desc ="mem_127324", .mem =
                                  futhark_mc_segmap_parloop_struct_136513->free_mem_127324,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_130620 = start;
    
    for (; iter_130620 < end; iter_130620++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130684 = l_n_m_119525;
        int64_t gtid_122497 = iter_130620;
        int64_t remnant_130685 = iter_130620 - gtid_122497;
        int64_t x_130390 = ((int64_t *) mem_127048.mem)[gtid_122493 *
                                                        l_n_m_119525 +
                                                        gtid_122497];
        float x_130391 = ((float *) mem_127052.mem)[gtid_122493 * l_n_m_119525 +
                                                    gtid_122497];
        int64_t min_arg_130392 = mul64(t_jump_119482, gtid_122497);
        int64_t min_res_130393 = smin64(i_119551, min_arg_130392);
        float defunc_0_f_res_130394 = sitofp_i64_f32(min_res_130393);
        float defunc_2_reduce_res_130395;
        float defunc_2_reduce_res_130396;
        float defunc_2_reduce_res_130397;
        int64_t flat_tid_122498 = (int64_t) 0;
        int32_t num_tasks_130686;
        struct futhark_mc_task_136515 futhark_mc_task_136515;
        
        futhark_mc_task_136515.ctx = ctx;
        futhark_mc_task_136515.free_n_119475 = n_119475;
        futhark_mc_task_136515.free_gtid_122493 = gtid_122493;
        futhark_mc_task_136515.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136515.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136515.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136515.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136515.free_x_130390 = x_130390;
        futhark_mc_task_136515.free_x_130391 = x_130391;
        futhark_mc_task_136515.free_defunc_0_f_res_130394 =
            defunc_0_f_res_130394;
        futhark_mc_task_136515.retval_defunc_2_reduce_res_130395 =
            &defunc_2_reduce_res_130395;
        futhark_mc_task_136515.retval_defunc_2_reduce_res_130396 =
            &defunc_2_reduce_res_130396;
        futhark_mc_task_136515.retval_defunc_2_reduce_res_130397 =
            &defunc_2_reduce_res_130397;
        
        struct scheduler_segop futhark_mc_task_136515_task;
        
        futhark_mc_task_136515_task.args = &futhark_mc_task_136515;
        futhark_mc_task_136515_task.top_level_fn =
            futhark_mc_segred_task_136516;
        futhark_mc_task_136515_task.name = "futhark_mc_segred_task_136516";
        futhark_mc_task_136515_task.iterations = l_window_119479;
        futhark_mc_task_136515_task.task_time =
            &ctx->futhark_mc_segred_task_136516_total_time;
        futhark_mc_task_136515_task.task_iter =
            &ctx->futhark_mc_segred_task_136516_total_iter;
        futhark_mc_task_136515_task.sched = STATIC;
        futhark_mc_task_136515_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136516_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136515_task);
        
        if (futhark_mc_segred_task_136516_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_130426 = defunc_2_reduce_res_130395 *
              defunc_2_reduce_res_130397;
        float y_130427 = defunc_2_reduce_res_130396 *
              defunc_2_reduce_res_130396;
        float y_130428 = x_130426 - y_130427;
        float det1_130429 = 1.0F / y_130428;
        float a11_130430 = defunc_2_reduce_res_130397 * det1_130429;
        float negate_arg_130431 = defunc_2_reduce_res_130396 * det1_130429;
        float b11_130432 = 0.0F - negate_arg_130431;
        float c11_130433 = defunc_2_reduce_res_130395 * det1_130429;
        float defunc_2_reduce_res_130434;
        float defunc_2_reduce_res_130435;
        int64_t flat_tid_122500 = (int64_t) 0;
        int32_t num_tasks_130707;
        struct futhark_mc_task_136522 futhark_mc_task_136522;
        
        futhark_mc_task_136522.ctx = ctx;
        futhark_mc_task_136522.free_n_119475 = n_119475;
        futhark_mc_task_136522.free_gtid_122493 = gtid_122493;
        futhark_mc_task_136522.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136522.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136522.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136522.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136522.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136522.free_x_130390 = x_130390;
        futhark_mc_task_136522.free_x_130391 = x_130391;
        futhark_mc_task_136522.free_defunc_0_f_res_130394 =
            defunc_0_f_res_130394;
        futhark_mc_task_136522.free_a11_130430 = a11_130430;
        futhark_mc_task_136522.free_b11_130432 = b11_130432;
        futhark_mc_task_136522.free_c11_130433 = c11_130433;
        futhark_mc_task_136522.retval_defunc_2_reduce_res_130434 =
            &defunc_2_reduce_res_130434;
        futhark_mc_task_136522.retval_defunc_2_reduce_res_130435 =
            &defunc_2_reduce_res_130435;
        
        struct scheduler_segop futhark_mc_task_136522_task;
        
        futhark_mc_task_136522_task.args = &futhark_mc_task_136522;
        futhark_mc_task_136522_task.top_level_fn =
            futhark_mc_segred_task_136523;
        futhark_mc_task_136522_task.name = "futhark_mc_segred_task_136523";
        futhark_mc_task_136522_task.iterations = l_window_119479;
        futhark_mc_task_136522_task.task_time =
            &ctx->futhark_mc_segred_task_136523_total_time;
        futhark_mc_task_136522_task.task_iter =
            &ctx->futhark_mc_segred_task_136523_total_iter;
        futhark_mc_task_136522_task.sched = STATIC;
        futhark_mc_task_136522_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136523_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136522_task);
        
        if (futhark_mc_segred_task_136523_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127321.mem)[gtid_122497] = defunc_2_reduce_res_130434;
        ((float *) mem_127324.mem)[gtid_122497] = defunc_2_reduce_res_130435;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136514_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136514_end -
                 futhark_mc_segmap_parloop_136514_start;
        
        ctx->futhark_mc_segmap_parloop_136514_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136514_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136514_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136512(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122496 = tid;
    int num_tasks_130551 = info.nsubtasks;
    struct futhark_mc_task_136508 *futhark_mc_task_136508 =
                                  (struct futhark_mc_task_136508 *) args;
    struct futhark_context *ctx = futhark_mc_task_136508->ctx;
    uint64_t futhark_mc_segmap_nested_task_136512_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136512_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136508->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136508->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136508->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136508->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136508->free_i_119551;
    int64_t gtid_122493 = futhark_mc_task_136508->free_gtid_122493;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136508->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136508->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136508->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136508->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136508->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136508->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136508->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127321 = {.desc ="mem_127321", .mem =
                                  futhark_mc_task_136508->free_mem_127321,
                                  .size =0, .references =NULL};
    struct memblock mem_127324 = {.desc ="mem_127324", .mem =
                                  futhark_mc_task_136508->free_mem_127324,
                                  .size =0, .references =NULL};
    int64_t iter_130620;
    struct futhark_mc_segmap_parloop_struct_136513
    futhark_mc_segmap_parloop_struct_136513;
    
    futhark_mc_segmap_parloop_struct_136513.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136513.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136513.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136513.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136513.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136513.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136513.free_gtid_122493 = gtid_122493;
    futhark_mc_segmap_parloop_struct_136513.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136513.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136513.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136513.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136513.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136513.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136513.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136513.free_mem_127321 = mem_127321.mem;
    futhark_mc_segmap_parloop_struct_136513.free_mem_127324 = mem_127324.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136514_task;
    
    futhark_mc_segmap_parloop_136514_task.name =
        "futhark_mc_segmap_parloop_136514";
    futhark_mc_segmap_parloop_136514_task.fn = futhark_mc_segmap_parloop_136514;
    futhark_mc_segmap_parloop_136514_task.args =
        &futhark_mc_segmap_parloop_struct_136513;
    futhark_mc_segmap_parloop_136514_task.iterations = iterations;
    futhark_mc_segmap_parloop_136514_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136514_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136514_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136514_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136514_task);
    
    if (futhark_mc_segmap_parloop_136514_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136514_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136514_total_end -
                 futhark_mc_segmap_parloop_136514_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136514_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136514_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136514_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136512_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136512_end -
                 futhark_mc_segmap_nested_task_136512_start;
        
        ctx->futhark_mc_segmap_nested_task_136512_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136512_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136512_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136505(void *args, int64_t start,
                                            int64_t end, int flat_tid_122492,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136504
    *futhark_mc_segmap_parloop_struct_136504 =
    (struct futhark_mc_segmap_parloop_struct_136504 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136504->ctx;
    uint64_t futhark_mc_segmap_parloop_136505_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136505_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136504->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136504->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136504->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136504->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136504->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136504->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136504->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136504->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136504->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136504->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136504->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136504->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136504->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136504->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127358 = {.desc ="mem_127358", .mem =
                                  futhark_mc_segmap_parloop_struct_136504->free_mem_127358,
                                  .size =0, .references =NULL};
    struct memblock mem_127362 = {.desc ="mem_127362", .mem =
                                  futhark_mc_segmap_parloop_struct_136504->free_mem_127362,
                                  .size =0, .references =NULL};
    size_t mem_127321_cached_sizze_136506 = 0;
    char *mem_127321 = NULL;
    size_t mem_127324_cached_sizze_136507 = 0;
    char *mem_127324 = NULL;
    int64_t iterations = end - start;
    int64_t iter_130389 = start;
    
    if (mem_127321_cached_sizze_136506 < (size_t) bytes_126994) {
        mem_127321 = realloc(mem_127321, bytes_126994);
        mem_127321_cached_sizze_136506 = bytes_126994;
    }
    if (mem_127324_cached_sizze_136507 < (size_t) bytes_126994) {
        mem_127324 = realloc(mem_127324, bytes_126994);
        mem_127324_cached_sizze_136507 = bytes_126994;
    }
    for (; iter_130389 < end; iter_130389++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130549 = m_119474;
        int64_t gtid_122493 = iter_130389;
        int64_t remnant_130550 = iter_130389 - gtid_122493;
        int64_t flat_tid_122494 = (int64_t) 0;
        int32_t num_tasks_130551;
        int64_t flat_tid_122496 = (int64_t) 0;
        struct futhark_mc_task_136508 futhark_mc_task_136508;
        
        futhark_mc_task_136508.ctx = ctx;
        futhark_mc_task_136508.free_n_119475 = n_119475;
        futhark_mc_task_136508.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136508.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136508.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136508.free_i_119551 = i_119551;
        futhark_mc_task_136508.free_gtid_122493 = gtid_122493;
        futhark_mc_task_136508.free_mem_127048 = mem_127048.mem;
        futhark_mc_task_136508.free_mem_127052 = mem_127052.mem;
        futhark_mc_task_136508.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136508.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136508.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136508.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136508.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136508.free_mem_127321 = mem_127321;
        futhark_mc_task_136508.free_mem_127324 = mem_127324;
        
        struct scheduler_segop futhark_mc_task_136508_task;
        
        futhark_mc_task_136508_task.args = &futhark_mc_task_136508;
        futhark_mc_task_136508_task.top_level_fn =
            futhark_mc_segmap_task_136509;
        futhark_mc_task_136508_task.name = "futhark_mc_segmap_task_136509";
        futhark_mc_task_136508_task.iterations = l_n_m_119525;
        futhark_mc_task_136508_task.task_time =
            &ctx->futhark_mc_segmap_task_136509_total_time;
        futhark_mc_task_136508_task.task_iter =
            &ctx->futhark_mc_segmap_task_136509_total_iter;
        futhark_mc_task_136508_task.sched = STATIC;
        futhark_mc_task_136508_task.nested_fn =
            futhark_mc_segmap_nested_task_136512;
        
        int futhark_mc_segmap_task_136509_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136508_task);
        
        if (futhark_mc_segmap_task_136509_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127358.mem + gtid_122493 * l_n_m_119525 * (int64_t) 4,
                mem_127321 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127362.mem + gtid_122493 * l_n_m_119525 * (int64_t) 4,
                mem_127324 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127321);
    free(mem_127324);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136505_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136505_end -
                 futhark_mc_segmap_parloop_136505_start;
        
        ctx->futhark_mc_segmap_parloop_136505_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136505_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136505_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136503(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122492 = tid;
    int num_tasks_130295 = info.nsubtasks;
    struct futhark_mc_task_136497 *futhark_mc_task_136497 =
                                  (struct futhark_mc_task_136497 *) args;
    struct futhark_context *ctx = futhark_mc_task_136497->ctx;
    uint64_t futhark_mc_segmap_nested_task_136503_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136503_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136497->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136497->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136497->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136497->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136497->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136497->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136497->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136497->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136497->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136497->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136497->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136497->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136497->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136497->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127358 = {.desc ="mem_127358", .mem =
                                  futhark_mc_task_136497->free_mem_127358,
                                  .size =0, .references =NULL};
    struct memblock mem_127362 = {.desc ="mem_127362", .mem =
                                  futhark_mc_task_136497->free_mem_127362,
                                  .size =0, .references =NULL};
    int64_t iter_130389;
    struct futhark_mc_segmap_parloop_struct_136504
    futhark_mc_segmap_parloop_struct_136504;
    
    futhark_mc_segmap_parloop_struct_136504.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136504.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136504.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136504.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136504.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136504.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136504.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136504.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136504.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136504.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136504.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136504.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136504.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136504.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136504.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136504.free_mem_127358 = mem_127358.mem;
    futhark_mc_segmap_parloop_struct_136504.free_mem_127362 = mem_127362.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136505_task;
    
    futhark_mc_segmap_parloop_136505_task.name =
        "futhark_mc_segmap_parloop_136505";
    futhark_mc_segmap_parloop_136505_task.fn = futhark_mc_segmap_parloop_136505;
    futhark_mc_segmap_parloop_136505_task.args =
        &futhark_mc_segmap_parloop_struct_136504;
    futhark_mc_segmap_parloop_136505_task.iterations = iterations;
    futhark_mc_segmap_parloop_136505_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136505_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136505_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136505_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136505_task);
    
    if (futhark_mc_segmap_parloop_136505_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136505_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136505_total_end -
                 futhark_mc_segmap_parloop_136505_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136505_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136505_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136505_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136503_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136503_end -
                 futhark_mc_segmap_nested_task_136503_start;
        
        ctx->futhark_mc_segmap_nested_task_136503_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136503_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136503_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136528 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127402;
    char *free_mem_127406;
};
struct futhark_mc_segmap_parloop_struct_136530 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127402;
    char *free_mem_127406;
};
static int futhark_mc_segmap_parloop_136531(void *args, int64_t start,
                                            int64_t end, int flat_tid_122760,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136530
    *futhark_mc_segmap_parloop_struct_136530 =
    (struct futhark_mc_segmap_parloop_struct_136530 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136530->ctx;
    uint64_t futhark_mc_segmap_parloop_136531_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136531_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136530->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136530->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136530->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136530->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136530->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136530->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136530->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136530->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136530->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136530->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136530->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136530->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136530->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136530->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127402 = {.desc ="mem_127402", .mem =
                                  futhark_mc_segmap_parloop_struct_136530->free_mem_127402,
                                  .size =0, .references =NULL};
    struct memblock mem_127406 = {.desc ="mem_127406", .mem =
                                  futhark_mc_segmap_parloop_struct_136530->free_mem_127406,
                                  .size =0, .references =NULL};
    size_t mem_127371_cached_sizze_136532 = 0;
    char *mem_127371 = NULL;
    size_t mem_127374_cached_sizze_136533 = 0;
    char *mem_127374 = NULL;
    int64_t iterations = end - start;
    int64_t iter_130723 = start;
    
    if (mem_127371_cached_sizze_136532 < (size_t) bytes_126994) {
        mem_127371 = realloc(mem_127371, bytes_126994);
        mem_127371_cached_sizze_136532 = bytes_126994;
    }
    if (mem_127374_cached_sizze_136533 < (size_t) bytes_126994) {
        mem_127374 = realloc(mem_127374, bytes_126994);
        mem_127374_cached_sizze_136533 = bytes_126994;
    }
    for (; iter_130723 < end; iter_130723++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_130837 = m_119474;
        int64_t gtid_122761 = iter_130723;
        int64_t remnant_130838 = iter_130723 - gtid_122761;
        
        for (int64_t i_130724 = 0; i_130724 < l_n_m_119525; i_130724++) {
            int64_t x_130727 = ((int64_t *) mem_127048.mem)[gtid_122761 *
                                                            l_n_m_119525 +
                                                            i_130724];
            float x_130728 = ((float *) mem_127052.mem)[gtid_122761 *
                                                        l_n_m_119525 +
                                                        i_130724];
            int64_t min_arg_130729 = mul64(t_jump_119482, i_130724);
            int64_t min_res_130730 = smin64(i_119551, min_arg_130729);
            float defunc_0_f_res_130731 = sitofp_i64_f32(min_res_130730);
            float defunc_2_reduce_res_130732;
            float defunc_2_reduce_res_130733;
            float defunc_2_reduce_res_130734;
            float defunc_2_reduce_res_130735;
            float defunc_2_reduce_res_130736;
            float redout_130738;
            float redout_130739;
            float redout_130740;
            float redout_130741;
            float redout_130742;
            
            redout_130738 = 0.0F;
            redout_130739 = 0.0F;
            redout_130740 = 0.0F;
            redout_130741 = 0.0F;
            redout_130742 = 0.0F;
            for (int64_t i_130737 = 0; i_130737 < l_window_119479; i_130737++) {
                bool cond_130743 = sle64(n_119475, i_130737);
                float defunc_0_f_res_130744;
                
                if (cond_130743) {
                    defunc_0_f_res_130744 = 0.0F;
                } else {
                    int64_t i_130745 = add64(x_130727, i_130737);
                    float index_primexp_130746 = sitofp_i64_f32(i_130745);
                    float defunc_0_f_res_f_res_130747 = 1.0F +
                          index_primexp_130746;
                    
                    defunc_0_f_res_130744 = defunc_0_f_res_f_res_130747;
                }
                
                float defunc_0_f_res_130748;
                
                if (cond_130743) {
                    defunc_0_f_res_130748 = 0.0F;
                } else {
                    int64_t i_130749 = add64(x_130727, i_130737);
                    float x_130750 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_122761 *
                                                            ctx_param_ext_127142 +
                                                            i_130749 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_130748 = x_130750;
                }
                
                float x_j_130751 = defunc_0_f_res_130744 -
                      defunc_0_f_res_130731;
                float abs_res_130752 = (float) fabs(x_j_130751);
                float tmp1_130753 = abs_res_130752 / x_130728;
                float x_130754 = tmp1_130753 * tmp1_130753;
                float y_130755 = tmp1_130753 * x_130754;
                float tmp2_130756 = 1.0F - y_130755;
                float x_130757 = tmp2_130756 * tmp2_130756;
                float tmp3_130758 = tmp2_130756 * x_130757;
                float w_j_130759 = defunc_0_f_res_130748 * tmp3_130758;
                float xw_j_130760 = x_j_130751 * w_j_130759;
                float x2w_j_130761 = x_j_130751 * xw_j_130760;
                float x3w_j_130762 = x_j_130751 * x2w_j_130761;
                float x4w_j_130763 = x_j_130751 * x3w_j_130762;
                float defunc_1_op_res_130764 = w_j_130759 + redout_130738;
                float defunc_1_op_res_130765 = xw_j_130760 + redout_130739;
                float defunc_1_op_res_130766 = x2w_j_130761 + redout_130740;
                float defunc_1_op_res_130767 = x3w_j_130762 + redout_130741;
                float defunc_1_op_res_130768 = x4w_j_130763 + redout_130742;
                float redout_tmp_130841 = defunc_1_op_res_130764;
                float redout_tmp_130842 = defunc_1_op_res_130765;
                float redout_tmp_130843 = defunc_1_op_res_130766;
                float redout_tmp_130844 = defunc_1_op_res_130767;
                float redout_tmp_130845 = defunc_1_op_res_130768;
                
                redout_130738 = redout_tmp_130841;
                redout_130739 = redout_tmp_130842;
                redout_130740 = redout_tmp_130843;
                redout_130741 = redout_tmp_130844;
                redout_130742 = redout_tmp_130845;
            }
            defunc_2_reduce_res_130732 = redout_130738;
            defunc_2_reduce_res_130733 = redout_130739;
            defunc_2_reduce_res_130734 = redout_130740;
            defunc_2_reduce_res_130735 = redout_130741;
            defunc_2_reduce_res_130736 = redout_130742;
            
            float x_130769 = defunc_2_reduce_res_130734 *
                  defunc_2_reduce_res_130736;
            float y_130770 = defunc_2_reduce_res_130735 *
                  defunc_2_reduce_res_130735;
            float a12_130771 = x_130769 - y_130770;
            float x_130772 = defunc_2_reduce_res_130734 *
                  defunc_2_reduce_res_130735;
            float y_130773 = defunc_2_reduce_res_130733 *
                  defunc_2_reduce_res_130736;
            float b12_130774 = x_130772 - y_130773;
            float x_130775 = defunc_2_reduce_res_130733 *
                  defunc_2_reduce_res_130735;
            float y_130776 = defunc_2_reduce_res_130734 *
                  defunc_2_reduce_res_130734;
            float c12_130777 = x_130775 - y_130776;
            float x_130778 = defunc_2_reduce_res_130732 *
                  defunc_2_reduce_res_130736;
            float b2_130779 = x_130778 - y_130776;
            float x_130780 = defunc_2_reduce_res_130733 *
                  defunc_2_reduce_res_130734;
            float y_130781 = defunc_2_reduce_res_130732 *
                  defunc_2_reduce_res_130735;
            float c2_130782 = x_130780 - y_130781;
            float x_130783 = defunc_2_reduce_res_130732 * a12_130771;
            float y_130784 = defunc_2_reduce_res_130733 * b12_130774;
            float x_130785 = x_130783 + y_130784;
            float y_130786 = defunc_2_reduce_res_130734 * c12_130777;
            float y_130787 = x_130785 + y_130786;
            float det_130788 = 1.0F / y_130787;
            float a12_130789 = a12_130771 * det_130788;
            float b12_130790 = b12_130774 * det_130788;
            float c12_130791 = c12_130777 * det_130788;
            float b2_130792 = b2_130779 * det_130788;
            float c2_130793 = c2_130782 * det_130788;
            float defunc_2_reduce_res_130794;
            float defunc_2_reduce_res_130795;
            float redout_130797;
            float redout_130798;
            
            redout_130797 = 0.0F;
            redout_130798 = 0.0F;
            for (int64_t i_130796 = 0; i_130796 < l_window_119479; i_130796++) {
                bool cond_130799 = sle64(n_119475, i_130796);
                float defunc_0_f_res_130800;
                
                if (cond_130799) {
                    defunc_0_f_res_130800 = 0.0F;
                } else {
                    int64_t i_130801 = add64(x_130727, i_130796);
                    float index_primexp_130802 = sitofp_i64_f32(i_130801);
                    float defunc_0_f_res_f_res_130803 = 1.0F +
                          index_primexp_130802;
                    
                    defunc_0_f_res_130800 = defunc_0_f_res_f_res_130803;
                }
                
                float defunc_0_f_res_130804;
                
                if (cond_130799) {
                    defunc_0_f_res_130804 = 0.0F;
                } else {
                    int64_t i_130805 = add64(x_130727, i_130796);
                    float x_130806 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_122761 *
                                                            ctx_param_ext_127142 +
                                                            i_130805 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_130804 = x_130806;
                }
                
                float x_j_130807 = defunc_0_f_res_130800 -
                      defunc_0_f_res_130731;
                float abs_res_130808 = (float) fabs(x_j_130807);
                float tmp1_130809 = abs_res_130808 / x_130728;
                float x_130810 = tmp1_130809 * tmp1_130809;
                float y_130811 = tmp1_130809 * x_130810;
                float tmp2_130812 = 1.0F - y_130811;
                float x_130813 = tmp2_130812 * tmp2_130812;
                float tmp3_130814 = tmp2_130812 * x_130813;
                float tmp4_130815 = defunc_0_f_res_130804 * tmp3_130814;
                float defunc_1_f_res_130816 = x_j_130807 * tmp4_130815;
                float defunc_1_f_res_130817 = x_j_130807 *
                      defunc_1_f_res_130816;
                float defunc_0_f_res_130818;
                
                if (cond_130799) {
                    defunc_0_f_res_130818 = 0.0F;
                } else {
                    int64_t i_130819 = add64(x_130727, i_130796);
                    float x_130820 = ((float *) mem_127292.mem)[gtid_122761 *
                                                                n_119475 +
                                                                i_130819];
                    
                    defunc_0_f_res_130818 = x_130820;
                }
                
                float x_130821 = a12_130789 * tmp4_130815;
                float y_130822 = b12_130790 * defunc_1_f_res_130816;
                float x_130823 = x_130821 + y_130822;
                float y_130824 = c12_130791 * defunc_1_f_res_130817;
                float x_130825 = x_130823 + y_130824;
                float defunc_9_fit_fun_res_130826 = defunc_0_f_res_130818 *
                      x_130825;
                float x_130827 = b12_130790 * tmp4_130815;
                float y_130828 = b2_130792 * defunc_1_f_res_130816;
                float x_130829 = x_130827 + y_130828;
                float y_130830 = c2_130793 * defunc_1_f_res_130817;
                float x_130831 = x_130829 + y_130830;
                float defunc_9_slope_fun_res_130832 = defunc_0_f_res_130818 *
                      x_130831;
                float defunc_1_op_res_130833 = defunc_9_fit_fun_res_130826 +
                      redout_130797;
                float defunc_1_op_res_130834 = defunc_9_slope_fun_res_130832 +
                      redout_130798;
                float redout_tmp_130846 = defunc_1_op_res_130833;
                float redout_tmp_130847 = defunc_1_op_res_130834;
                
                redout_130797 = redout_tmp_130846;
                redout_130798 = redout_tmp_130847;
            }
            defunc_2_reduce_res_130794 = redout_130797;
            defunc_2_reduce_res_130795 = redout_130798;
            ((float *) mem_127371)[i_130724] = defunc_2_reduce_res_130794;
            ((float *) mem_127374)[i_130724] = defunc_2_reduce_res_130795;
        }
        memmove(mem_127402.mem + gtid_122761 * l_n_m_119525 * (int64_t) 4,
                mem_127371 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127406.mem + gtid_122761 * l_n_m_119525 * (int64_t) 4,
                mem_127374 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127371);
    free(mem_127374);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136531_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136531_end -
                 futhark_mc_segmap_parloop_136531_start;
        
        ctx->futhark_mc_segmap_parloop_136531_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136531_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136531_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136529(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122760 = tid;
    int num_tasks_130722 = info.nsubtasks;
    struct futhark_mc_task_136528 *futhark_mc_task_136528 =
                                  (struct futhark_mc_task_136528 *) args;
    struct futhark_context *ctx = futhark_mc_task_136528->ctx;
    uint64_t futhark_mc_segmap_task_136529_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136529_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136528->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136528->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136528->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136528->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136528->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136528->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136528->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136528->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136528->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136528->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136528->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136528->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136528->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136528->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127402 = {.desc ="mem_127402", .mem =
                                  futhark_mc_task_136528->free_mem_127402,
                                  .size =0, .references =NULL};
    struct memblock mem_127406 = {.desc ="mem_127406", .mem =
                                  futhark_mc_task_136528->free_mem_127406,
                                  .size =0, .references =NULL};
    int64_t iter_130723;
    struct futhark_mc_segmap_parloop_struct_136530
    futhark_mc_segmap_parloop_struct_136530;
    
    futhark_mc_segmap_parloop_struct_136530.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136530.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136530.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136530.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136530.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136530.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136530.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136530.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136530.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136530.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136530.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136530.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136530.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136530.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136530.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136530.free_mem_127402 = mem_127402.mem;
    futhark_mc_segmap_parloop_struct_136530.free_mem_127406 = mem_127406.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136531_task;
    
    futhark_mc_segmap_parloop_136531_task.name =
        "futhark_mc_segmap_parloop_136531";
    futhark_mc_segmap_parloop_136531_task.fn = futhark_mc_segmap_parloop_136531;
    futhark_mc_segmap_parloop_136531_task.args =
        &futhark_mc_segmap_parloop_struct_136530;
    futhark_mc_segmap_parloop_136531_task.iterations = iterations;
    futhark_mc_segmap_parloop_136531_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136531_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136531_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136531_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136531_task);
    
    if (futhark_mc_segmap_parloop_136531_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136531_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136531_total_end -
                 futhark_mc_segmap_parloop_136531_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136531_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136531_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136531_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136529_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136529_end -
                 futhark_mc_segmap_task_136529_start;
        
        ctx->futhark_mc_segmap_task_136529_runs[tid]++;
        ctx->futhark_mc_segmap_task_136529_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136529_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136535 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127402;
    char *free_mem_127406;
};
struct futhark_mc_task_136539 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122763;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127365;
    char *free_mem_127368;
};
struct futhark_mc_segmap_parloop_struct_136541 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122763;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127365;
    char *free_mem_127368;
};
static int futhark_mc_segmap_parloop_136542(void *args, int64_t start,
                                            int64_t end, int flat_tid_122764,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136541
    *futhark_mc_segmap_parloop_struct_136541 =
    (struct futhark_mc_segmap_parloop_struct_136541 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136541->ctx;
    uint64_t futhark_mc_segmap_parloop_136542_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136542_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136541->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136541->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136541->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136541->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136541->free_i_119551;
    int64_t gtid_122763 =
            futhark_mc_segmap_parloop_struct_136541->free_gtid_122763;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136541->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136541->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136541->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136541->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136541->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136541->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136541->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127365 = {.desc ="mem_127365", .mem =
                                  futhark_mc_segmap_parloop_struct_136541->free_mem_127365,
                                  .size =0, .references =NULL};
    struct memblock mem_127368 = {.desc ="mem_127368", .mem =
                                  futhark_mc_segmap_parloop_struct_136541->free_mem_127368,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131073 = start;
    
    for (; iter_131073 < end; iter_131073++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131145 = l_n_m_119525;
        int64_t gtid_122765 = iter_131073;
        int64_t remnant_131146 = iter_131073 - gtid_122765;
        int64_t x_130962 = ((int64_t *) mem_127048.mem)[gtid_122763 *
                                                        l_n_m_119525 +
                                                        gtid_122765];
        float x_130963 = ((float *) mem_127052.mem)[gtid_122763 * l_n_m_119525 +
                                                    gtid_122765];
        int64_t min_arg_130964 = mul64(t_jump_119482, gtid_122765);
        int64_t min_res_130965 = smin64(i_119551, min_arg_130964);
        float defunc_0_f_res_130966 = sitofp_i64_f32(min_res_130965);
        float defunc_2_reduce_res_130967;
        float defunc_2_reduce_res_130968;
        float defunc_2_reduce_res_130969;
        float defunc_2_reduce_res_130970;
        float defunc_2_reduce_res_130971;
        float redout_131075;
        float redout_131076;
        float redout_131077;
        float redout_131078;
        float redout_131079;
        
        redout_131075 = 0.0F;
        redout_131076 = 0.0F;
        redout_131077 = 0.0F;
        redout_131078 = 0.0F;
        redout_131079 = 0.0F;
        for (int64_t i_131074 = 0; i_131074 < l_window_119479; i_131074++) {
            bool cond_131080 = sle64(n_119475, i_131074);
            float defunc_0_f_res_131081;
            
            if (cond_131080) {
                defunc_0_f_res_131081 = 0.0F;
            } else {
                int64_t i_131082 = add64(x_130962, i_131074);
                float index_primexp_131083 = sitofp_i64_f32(i_131082);
                float defunc_0_f_res_f_res_131084 = 1.0F + index_primexp_131083;
                
                defunc_0_f_res_131081 = defunc_0_f_res_f_res_131084;
            }
            
            float defunc_0_f_res_131085;
            
            if (cond_131080) {
                defunc_0_f_res_131085 = 0.0F;
            } else {
                int64_t i_131086 = add64(x_130962, i_131074);
                float x_131087 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_122763 *
                                                        ctx_param_ext_127142 +
                                                        i_131086 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_131085 = x_131087;
            }
            
            float x_j_131088 = defunc_0_f_res_131081 - defunc_0_f_res_130966;
            float abs_res_131089 = (float) fabs(x_j_131088);
            float tmp1_131090 = abs_res_131089 / x_130963;
            float x_131091 = tmp1_131090 * tmp1_131090;
            float y_131092 = tmp1_131090 * x_131091;
            float tmp2_131093 = 1.0F - y_131092;
            float x_131094 = tmp2_131093 * tmp2_131093;
            float tmp3_131095 = tmp2_131093 * x_131094;
            float w_j_131096 = defunc_0_f_res_131085 * tmp3_131095;
            float xw_j_131097 = x_j_131088 * w_j_131096;
            float x2w_j_131098 = x_j_131088 * xw_j_131097;
            float x3w_j_131099 = x_j_131088 * x2w_j_131098;
            float x4w_j_131100 = x_j_131088 * x3w_j_131099;
            float defunc_1_op_res_131101 = w_j_131096 + redout_131075;
            float defunc_1_op_res_131102 = xw_j_131097 + redout_131076;
            float defunc_1_op_res_131103 = x2w_j_131098 + redout_131077;
            float defunc_1_op_res_131104 = x3w_j_131099 + redout_131078;
            float defunc_1_op_res_131105 = x4w_j_131100 + redout_131079;
            float redout_tmp_131147 = defunc_1_op_res_131101;
            float redout_tmp_131148 = defunc_1_op_res_131102;
            float redout_tmp_131149 = defunc_1_op_res_131103;
            float redout_tmp_131150 = defunc_1_op_res_131104;
            float redout_tmp_131151 = defunc_1_op_res_131105;
            
            redout_131075 = redout_tmp_131147;
            redout_131076 = redout_tmp_131148;
            redout_131077 = redout_tmp_131149;
            redout_131078 = redout_tmp_131150;
            redout_131079 = redout_tmp_131151;
        }
        defunc_2_reduce_res_130967 = redout_131075;
        defunc_2_reduce_res_130968 = redout_131076;
        defunc_2_reduce_res_130969 = redout_131077;
        defunc_2_reduce_res_130970 = redout_131078;
        defunc_2_reduce_res_130971 = redout_131079;
        
        float x_131004 = defunc_2_reduce_res_130969 *
              defunc_2_reduce_res_130971;
        float y_131005 = defunc_2_reduce_res_130970 *
              defunc_2_reduce_res_130970;
        float a12_131006 = x_131004 - y_131005;
        float x_131007 = defunc_2_reduce_res_130969 *
              defunc_2_reduce_res_130970;
        float y_131008 = defunc_2_reduce_res_130968 *
              defunc_2_reduce_res_130971;
        float b12_131009 = x_131007 - y_131008;
        float x_131010 = defunc_2_reduce_res_130968 *
              defunc_2_reduce_res_130970;
        float y_131011 = defunc_2_reduce_res_130969 *
              defunc_2_reduce_res_130969;
        float c12_131012 = x_131010 - y_131011;
        float x_131013 = defunc_2_reduce_res_130967 *
              defunc_2_reduce_res_130971;
        float b2_131014 = x_131013 - y_131011;
        float x_131015 = defunc_2_reduce_res_130968 *
              defunc_2_reduce_res_130969;
        float y_131016 = defunc_2_reduce_res_130967 *
              defunc_2_reduce_res_130970;
        float c2_131017 = x_131015 - y_131016;
        float x_131018 = defunc_2_reduce_res_130967 * a12_131006;
        float y_131019 = defunc_2_reduce_res_130968 * b12_131009;
        float x_131020 = x_131018 + y_131019;
        float y_131021 = defunc_2_reduce_res_130969 * c12_131012;
        float y_131022 = x_131020 + y_131021;
        float det_131023 = 1.0F / y_131022;
        float a12_131024 = a12_131006 * det_131023;
        float b12_131025 = b12_131009 * det_131023;
        float c12_131026 = c12_131012 * det_131023;
        float b2_131027 = b2_131014 * det_131023;
        float c2_131028 = c2_131017 * det_131023;
        float defunc_2_reduce_res_131029;
        float defunc_2_reduce_res_131030;
        float redout_131107;
        float redout_131108;
        
        redout_131107 = 0.0F;
        redout_131108 = 0.0F;
        for (int64_t i_131106 = 0; i_131106 < l_window_119479; i_131106++) {
            bool cond_131109 = sle64(n_119475, i_131106);
            float defunc_0_f_res_131110;
            
            if (cond_131109) {
                defunc_0_f_res_131110 = 0.0F;
            } else {
                int64_t i_131111 = add64(x_130962, i_131106);
                float index_primexp_131112 = sitofp_i64_f32(i_131111);
                float defunc_0_f_res_f_res_131113 = 1.0F + index_primexp_131112;
                
                defunc_0_f_res_131110 = defunc_0_f_res_f_res_131113;
            }
            
            float defunc_0_f_res_131114;
            
            if (cond_131109) {
                defunc_0_f_res_131114 = 0.0F;
            } else {
                int64_t i_131115 = add64(x_130962, i_131106);
                float x_131116 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_122763 *
                                                        ctx_param_ext_127142 +
                                                        i_131115 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_131114 = x_131116;
            }
            
            float x_j_131117 = defunc_0_f_res_131110 - defunc_0_f_res_130966;
            float abs_res_131118 = (float) fabs(x_j_131117);
            float tmp1_131119 = abs_res_131118 / x_130963;
            float x_131120 = tmp1_131119 * tmp1_131119;
            float y_131121 = tmp1_131119 * x_131120;
            float tmp2_131122 = 1.0F - y_131121;
            float x_131123 = tmp2_131122 * tmp2_131122;
            float tmp3_131124 = tmp2_131122 * x_131123;
            float tmp4_131125 = defunc_0_f_res_131114 * tmp3_131124;
            float defunc_1_f_res_131126 = x_j_131117 * tmp4_131125;
            float defunc_1_f_res_131127 = x_j_131117 * defunc_1_f_res_131126;
            float defunc_0_f_res_131128;
            
            if (cond_131109) {
                defunc_0_f_res_131128 = 0.0F;
            } else {
                int64_t i_131129 = add64(x_130962, i_131106);
                float x_131130 = ((float *) mem_127292.mem)[gtid_122763 *
                                                            n_119475 +
                                                            i_131129];
                
                defunc_0_f_res_131128 = x_131130;
            }
            
            float x_131131 = a12_131024 * tmp4_131125;
            float y_131132 = b12_131025 * defunc_1_f_res_131126;
            float x_131133 = x_131131 + y_131132;
            float y_131134 = c12_131026 * defunc_1_f_res_131127;
            float x_131135 = x_131133 + y_131134;
            float defunc_9_fit_fun_res_131136 = defunc_0_f_res_131128 *
                  x_131135;
            float x_131137 = b12_131025 * tmp4_131125;
            float y_131138 = b2_131027 * defunc_1_f_res_131126;
            float x_131139 = x_131137 + y_131138;
            float y_131140 = c2_131028 * defunc_1_f_res_131127;
            float x_131141 = x_131139 + y_131140;
            float defunc_9_slope_fun_res_131142 = defunc_0_f_res_131128 *
                  x_131141;
            float defunc_1_op_res_131143 = defunc_9_fit_fun_res_131136 +
                  redout_131107;
            float defunc_1_op_res_131144 = defunc_9_slope_fun_res_131142 +
                  redout_131108;
            float redout_tmp_131152 = defunc_1_op_res_131143;
            float redout_tmp_131153 = defunc_1_op_res_131144;
            
            redout_131107 = redout_tmp_131152;
            redout_131108 = redout_tmp_131153;
        }
        defunc_2_reduce_res_131029 = redout_131107;
        defunc_2_reduce_res_131030 = redout_131108;
        ((float *) mem_127365.mem)[gtid_122765] = defunc_2_reduce_res_131029;
        ((float *) mem_127368.mem)[gtid_122765] = defunc_2_reduce_res_131030;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136542_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136542_end -
                 futhark_mc_segmap_parloop_136542_start;
        
        ctx->futhark_mc_segmap_parloop_136542_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136542_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136542_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136540(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122764 = tid;
    int num_tasks_131072 = info.nsubtasks;
    struct futhark_mc_task_136539 *futhark_mc_task_136539 =
                                  (struct futhark_mc_task_136539 *) args;
    struct futhark_context *ctx = futhark_mc_task_136539->ctx;
    uint64_t futhark_mc_segmap_task_136540_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136540_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136539->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136539->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136539->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136539->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136539->free_i_119551;
    int64_t gtid_122763 = futhark_mc_task_136539->free_gtid_122763;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136539->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136539->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136539->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136539->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136539->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136539->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136539->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127365 = {.desc ="mem_127365", .mem =
                                  futhark_mc_task_136539->free_mem_127365,
                                  .size =0, .references =NULL};
    struct memblock mem_127368 = {.desc ="mem_127368", .mem =
                                  futhark_mc_task_136539->free_mem_127368,
                                  .size =0, .references =NULL};
    int64_t iter_131073;
    struct futhark_mc_segmap_parloop_struct_136541
    futhark_mc_segmap_parloop_struct_136541;
    
    futhark_mc_segmap_parloop_struct_136541.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136541.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136541.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136541.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136541.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136541.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136541.free_gtid_122763 = gtid_122763;
    futhark_mc_segmap_parloop_struct_136541.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136541.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136541.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136541.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136541.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136541.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136541.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136541.free_mem_127365 = mem_127365.mem;
    futhark_mc_segmap_parloop_struct_136541.free_mem_127368 = mem_127368.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136542_task;
    
    futhark_mc_segmap_parloop_136542_task.name =
        "futhark_mc_segmap_parloop_136542";
    futhark_mc_segmap_parloop_136542_task.fn = futhark_mc_segmap_parloop_136542;
    futhark_mc_segmap_parloop_136542_task.args =
        &futhark_mc_segmap_parloop_struct_136541;
    futhark_mc_segmap_parloop_136542_task.iterations = iterations;
    futhark_mc_segmap_parloop_136542_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136542_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136542_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136542_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136542_task);
    
    if (futhark_mc_segmap_parloop_136542_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136542_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136542_total_end -
                 futhark_mc_segmap_parloop_136542_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136542_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136542_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136542_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136540_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136540_end -
                 futhark_mc_segmap_task_136540_start;
        
        ctx->futhark_mc_segmap_task_136540_runs[tid]++;
        ctx->futhark_mc_segmap_task_136540_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136540_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136544 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_122763;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    char *free_mem_127365;
    char *free_mem_127368;
};
struct futhark_mc_task_136546 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122763;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_130849;
    float free_x_130850;
    float free_defunc_0_f_res_130853;
    float *retval_defunc_2_reduce_res_130854;
    float *retval_defunc_2_reduce_res_130855;
    float *retval_defunc_2_reduce_res_130856;
    float *retval_defunc_2_reduce_res_130857;
    float *retval_defunc_2_reduce_res_130858;
};
struct futhark_mc_segred_stage_1_parloop_struct_136553 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122763;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_130849;
    float free_x_130850;
    float free_defunc_0_f_res_130853;
    char *free_reduce_stage_1_tid_res_arr_mem_131234;
    char *free_reduce_stage_1_tid_res_arr_mem_131236;
    char *free_reduce_stage_1_tid_res_arr_mem_131238;
    char *free_reduce_stage_1_tid_res_arr_mem_131240;
    char *free_reduce_stage_1_tid_res_arr_mem_131242;
};
static int futhark_mc_segred_stage_1_parloop_136554(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122768,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136553
    *futhark_mc_segred_stage_1_parloop_struct_136553 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136553 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136553->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136554_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136554_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136553->free_n_119475;
    int64_t gtid_122763 =
            futhark_mc_segred_stage_1_parloop_struct_136553->free_gtid_122763;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136553->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136553->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136553->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136553->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_130849 =
            futhark_mc_segred_stage_1_parloop_struct_136553->free_x_130849;
    float x_130850 =
          futhark_mc_segred_stage_1_parloop_struct_136553->free_x_130850;
    float defunc_0_f_res_130853 =
          futhark_mc_segred_stage_1_parloop_struct_136553->free_defunc_0_f_res_130853;
    struct memblock reduce_stage_1_tid_res_arr_mem_131234 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131234",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136553->free_reduce_stage_1_tid_res_arr_mem_131234,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131236 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131236",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136553->free_reduce_stage_1_tid_res_arr_mem_131236,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131238 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131238",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136553->free_reduce_stage_1_tid_res_arr_mem_131238,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131240 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131240",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136553->free_reduce_stage_1_tid_res_arr_mem_131240,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131242 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131242",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136553->free_reduce_stage_1_tid_res_arr_mem_131242,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131244 = start;
    float x_131155;
    float x_131156;
    float x_131158;
    float x_131159;
    float x_131161;
    float x_131162;
    float x_131164;
    float x_131165;
    float x_131167;
    float x_131168;
    float local_acc_131245 = 0.0F;
    float local_acc_131246 = 0.0F;
    float local_acc_131247 = 0.0F;
    float local_acc_131248 = 0.0F;
    float local_acc_131249 = 0.0F;
    
    for (; iter_131244 < end; iter_131244++) {
        int64_t gtid_122769 = iter_131244;
        bool cond_131170 = sle64(n_119475, gtid_122769);
        float defunc_0_f_res_131171;
        
        if (cond_131170) {
            defunc_0_f_res_131171 = 0.0F;
        } else {
            int64_t i_131172 = add64(gtid_122769, x_130849);
            float index_primexp_131173 = sitofp_i64_f32(i_131172);
            float defunc_0_f_res_f_res_131174 = 1.0F + index_primexp_131173;
            
            defunc_0_f_res_131171 = defunc_0_f_res_f_res_131174;
        }
        
        float defunc_0_f_res_131175;
        
        if (cond_131170) {
            defunc_0_f_res_131175 = 0.0F;
        } else {
            int64_t i_131176 = add64(gtid_122769, x_130849);
            float x_131177 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_122763 *
                                                    ctx_param_ext_127142 +
                                                    i_131176 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_131175 = x_131177;
        }
        
        float x_j_131178 = defunc_0_f_res_131171 - defunc_0_f_res_130853;
        float abs_res_131179 = (float) fabs(x_j_131178);
        float tmp1_131180 = abs_res_131179 / x_130850;
        float x_131181 = tmp1_131180 * tmp1_131180;
        float y_131182 = tmp1_131180 * x_131181;
        float tmp2_131183 = 1.0F - y_131182;
        float x_131184 = tmp2_131183 * tmp2_131183;
        float tmp3_131185 = tmp2_131183 * x_131184;
        float w_j_131186 = defunc_0_f_res_131175 * tmp3_131185;
        float xw_j_131187 = x_j_131178 * w_j_131186;
        float x2w_j_131188 = x_j_131178 * xw_j_131187;
        float x3w_j_131189 = x_j_131178 * x2w_j_131188;
        float x4w_j_131190 = x_j_131178 * x3w_j_131189;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_131155 = local_acc_131245;
        }
        // Load next params
        {
            x_131156 = w_j_131186;
        }
        // Red body
        {
            float defunc_1_op_res_131157 = x_131155 + x_131156;
            
            local_acc_131245 = defunc_1_op_res_131157;
        }
        // Load accum params
        {
            x_131158 = local_acc_131246;
        }
        // Load next params
        {
            x_131159 = xw_j_131187;
        }
        // Red body
        {
            float defunc_1_op_res_131160 = x_131158 + x_131159;
            
            local_acc_131246 = defunc_1_op_res_131160;
        }
        // Load accum params
        {
            x_131161 = local_acc_131247;
        }
        // Load next params
        {
            x_131162 = x2w_j_131188;
        }
        // Red body
        {
            float defunc_1_op_res_131163 = x_131161 + x_131162;
            
            local_acc_131247 = defunc_1_op_res_131163;
        }
        // Load accum params
        {
            x_131164 = local_acc_131248;
        }
        // Load next params
        {
            x_131165 = x3w_j_131189;
        }
        // Red body
        {
            float defunc_1_op_res_131166 = x_131164 + x_131165;
            
            local_acc_131248 = defunc_1_op_res_131166;
        }
        // Load accum params
        {
            x_131167 = local_acc_131249;
        }
        // Load next params
        {
            x_131168 = x4w_j_131190;
        }
        // Red body
        {
            float defunc_1_op_res_131169 = x_131167 + x_131168;
            
            local_acc_131249 = defunc_1_op_res_131169;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_131234.mem)[flat_tid_122768] =
        local_acc_131245;
    ((float *) reduce_stage_1_tid_res_arr_mem_131236.mem)[flat_tid_122768] =
        local_acc_131246;
    ((float *) reduce_stage_1_tid_res_arr_mem_131238.mem)[flat_tid_122768] =
        local_acc_131247;
    ((float *) reduce_stage_1_tid_res_arr_mem_131240.mem)[flat_tid_122768] =
        local_acc_131248;
    ((float *) reduce_stage_1_tid_res_arr_mem_131242.mem)[flat_tid_122768] =
        local_acc_131249;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136554_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136554_end -
                 futhark_mc_segred_stage_1_parloop_136554_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136554_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136554_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136554_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136547(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122768 = tid;
    int num_tasks_131233 = info.nsubtasks;
    struct futhark_mc_task_136546 *futhark_mc_task_136546 =
                                  (struct futhark_mc_task_136546 *) args;
    struct futhark_context *ctx = futhark_mc_task_136546->ctx;
    uint64_t futhark_mc_segred_task_136547_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136547_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136546->free_n_119475;
    int64_t gtid_122763 = futhark_mc_task_136546->free_gtid_122763;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136546->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136546->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136546->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136546->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_130849 = futhark_mc_task_136546->free_x_130849;
    float x_130850 = futhark_mc_task_136546->free_x_130850;
    float defunc_0_f_res_130853 =
          futhark_mc_task_136546->free_defunc_0_f_res_130853;
    float defunc_2_reduce_res_130854 =
          *futhark_mc_task_136546->retval_defunc_2_reduce_res_130854;
    float defunc_2_reduce_res_130855 =
          *futhark_mc_task_136546->retval_defunc_2_reduce_res_130855;
    float defunc_2_reduce_res_130856 =
          *futhark_mc_task_136546->retval_defunc_2_reduce_res_130856;
    float defunc_2_reduce_res_130857 =
          *futhark_mc_task_136546->retval_defunc_2_reduce_res_130857;
    float defunc_2_reduce_res_130858 =
          *futhark_mc_task_136546->retval_defunc_2_reduce_res_130858;
    size_t reduce_stage_1_tid_res_arr_mem_131234_cached_sizze_136548 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131234 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131236_cached_sizze_136549 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131236 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131238_cached_sizze_136550 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131238 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131240_cached_sizze_136551 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131240 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131242_cached_sizze_136552 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131242 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_131234_cached_sizze_136548 <
        (size_t) ((int64_t) 4 * num_tasks_131233)) {
        reduce_stage_1_tid_res_arr_mem_131234 =
            realloc(reduce_stage_1_tid_res_arr_mem_131234, (int64_t) 4 *
                    num_tasks_131233);
        reduce_stage_1_tid_res_arr_mem_131234_cached_sizze_136548 =
            (int64_t) 4 * num_tasks_131233;
    }
    if (reduce_stage_1_tid_res_arr_mem_131236_cached_sizze_136549 <
        (size_t) ((int64_t) 4 * num_tasks_131233)) {
        reduce_stage_1_tid_res_arr_mem_131236 =
            realloc(reduce_stage_1_tid_res_arr_mem_131236, (int64_t) 4 *
                    num_tasks_131233);
        reduce_stage_1_tid_res_arr_mem_131236_cached_sizze_136549 =
            (int64_t) 4 * num_tasks_131233;
    }
    if (reduce_stage_1_tid_res_arr_mem_131238_cached_sizze_136550 <
        (size_t) ((int64_t) 4 * num_tasks_131233)) {
        reduce_stage_1_tid_res_arr_mem_131238 =
            realloc(reduce_stage_1_tid_res_arr_mem_131238, (int64_t) 4 *
                    num_tasks_131233);
        reduce_stage_1_tid_res_arr_mem_131238_cached_sizze_136550 =
            (int64_t) 4 * num_tasks_131233;
    }
    if (reduce_stage_1_tid_res_arr_mem_131240_cached_sizze_136551 <
        (size_t) ((int64_t) 4 * num_tasks_131233)) {
        reduce_stage_1_tid_res_arr_mem_131240 =
            realloc(reduce_stage_1_tid_res_arr_mem_131240, (int64_t) 4 *
                    num_tasks_131233);
        reduce_stage_1_tid_res_arr_mem_131240_cached_sizze_136551 =
            (int64_t) 4 * num_tasks_131233;
    }
    if (reduce_stage_1_tid_res_arr_mem_131242_cached_sizze_136552 <
        (size_t) ((int64_t) 4 * num_tasks_131233)) {
        reduce_stage_1_tid_res_arr_mem_131242 =
            realloc(reduce_stage_1_tid_res_arr_mem_131242, (int64_t) 4 *
                    num_tasks_131233);
        reduce_stage_1_tid_res_arr_mem_131242_cached_sizze_136552 =
            (int64_t) 4 * num_tasks_131233;
    }
    
    int64_t iter_131244;
    struct futhark_mc_segred_stage_1_parloop_struct_136553
    futhark_mc_segred_stage_1_parloop_struct_136553;
    
    futhark_mc_segred_stage_1_parloop_struct_136553.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_gtid_122763 =
        gtid_122763;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_x_130849 = x_130849;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_x_130850 = x_130850;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_defunc_0_f_res_130853 =
        defunc_0_f_res_130853;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_reduce_stage_1_tid_res_arr_mem_131234 =
        reduce_stage_1_tid_res_arr_mem_131234;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_reduce_stage_1_tid_res_arr_mem_131236 =
        reduce_stage_1_tid_res_arr_mem_131236;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_reduce_stage_1_tid_res_arr_mem_131238 =
        reduce_stage_1_tid_res_arr_mem_131238;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_reduce_stage_1_tid_res_arr_mem_131240 =
        reduce_stage_1_tid_res_arr_mem_131240;
    futhark_mc_segred_stage_1_parloop_struct_136553.free_reduce_stage_1_tid_res_arr_mem_131242 =
        reduce_stage_1_tid_res_arr_mem_131242;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136554_task;
    
    futhark_mc_segred_stage_1_parloop_136554_task.name =
        "futhark_mc_segred_stage_1_parloop_136554";
    futhark_mc_segred_stage_1_parloop_136554_task.fn =
        futhark_mc_segred_stage_1_parloop_136554;
    futhark_mc_segred_stage_1_parloop_136554_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136553;
    futhark_mc_segred_stage_1_parloop_136554_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136554_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136554_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136554_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136554_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136554_task);
    
    if (futhark_mc_segred_stage_1_parloop_136554_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136554_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136554_total_end -
                 futhark_mc_segred_stage_1_parloop_136554_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136554_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136554_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136554_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_130854 = 0.0F;
        defunc_2_reduce_res_130855 = 0.0F;
        defunc_2_reduce_res_130856 = 0.0F;
        defunc_2_reduce_res_130857 = 0.0F;
        defunc_2_reduce_res_130858 = 0.0F;
    }
    
    float x_131250;
    float x_131251;
    float x_131253;
    float x_131254;
    float x_131256;
    float x_131257;
    float x_131259;
    float x_131260;
    float x_131262;
    float x_131263;
    
    for (int32_t i_131265 = 0; i_131265 < num_tasks_131233; i_131265++) {
        flat_tid_122768 = i_131265;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_131250 = defunc_2_reduce_res_130854;
            }
            // load next params
            {
                x_131251 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131234)[flat_tid_122768];
            }
            // red body
            {
                float defunc_1_op_res_131252 = x_131250 + x_131251;
                
                defunc_2_reduce_res_130854 = defunc_1_op_res_131252;
            }
            // load acc params
            {
                x_131253 = defunc_2_reduce_res_130855;
            }
            // load next params
            {
                x_131254 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131236)[flat_tid_122768];
            }
            // red body
            {
                float defunc_1_op_res_131255 = x_131253 + x_131254;
                
                defunc_2_reduce_res_130855 = defunc_1_op_res_131255;
            }
            // load acc params
            {
                x_131256 = defunc_2_reduce_res_130856;
            }
            // load next params
            {
                x_131257 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131238)[flat_tid_122768];
            }
            // red body
            {
                float defunc_1_op_res_131258 = x_131256 + x_131257;
                
                defunc_2_reduce_res_130856 = defunc_1_op_res_131258;
            }
            // load acc params
            {
                x_131259 = defunc_2_reduce_res_130857;
            }
            // load next params
            {
                x_131260 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131240)[flat_tid_122768];
            }
            // red body
            {
                float defunc_1_op_res_131261 = x_131259 + x_131260;
                
                defunc_2_reduce_res_130857 = defunc_1_op_res_131261;
            }
            // load acc params
            {
                x_131262 = defunc_2_reduce_res_130858;
            }
            // load next params
            {
                x_131263 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131242)[flat_tid_122768];
            }
            // red body
            {
                float defunc_1_op_res_131264 = x_131262 + x_131263;
                
                defunc_2_reduce_res_130858 = defunc_1_op_res_131264;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_131234);
    free(reduce_stage_1_tid_res_arr_mem_131236);
    free(reduce_stage_1_tid_res_arr_mem_131238);
    free(reduce_stage_1_tid_res_arr_mem_131240);
    free(reduce_stage_1_tid_res_arr_mem_131242);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136547_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136547_end -
                 futhark_mc_segred_task_136547_start;
        
        ctx->futhark_mc_segred_task_136547_runs[tid]++;
        ctx->futhark_mc_segred_task_136547_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136547_iter[tid] += iterations;
    }
    *futhark_mc_task_136546->retval_defunc_2_reduce_res_130854 =
        defunc_2_reduce_res_130854;
    *futhark_mc_task_136546->retval_defunc_2_reduce_res_130855 =
        defunc_2_reduce_res_130855;
    *futhark_mc_task_136546->retval_defunc_2_reduce_res_130856 =
        defunc_2_reduce_res_130856;
    *futhark_mc_task_136546->retval_defunc_2_reduce_res_130857 =
        defunc_2_reduce_res_130857;
    *futhark_mc_task_136546->retval_defunc_2_reduce_res_130858 =
        defunc_2_reduce_res_130858;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136555 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122763;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_x_130849;
    float free_x_130850;
    float free_defunc_0_f_res_130853;
    float free_a12_130915;
    float free_b12_130916;
    float free_c12_130917;
    float free_b2_130918;
    float free_c2_130919;
    float *retval_defunc_2_reduce_res_130920;
    float *retval_defunc_2_reduce_res_130921;
};
struct futhark_mc_segred_stage_1_parloop_struct_136559 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_122763;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_x_130849;
    float free_x_130850;
    float free_defunc_0_f_res_130853;
    float free_a12_130915;
    float free_b12_130916;
    float free_c12_130917;
    float free_b2_130918;
    float free_c2_130919;
    char *free_reduce_stage_1_tid_res_arr_mem_131267;
    char *free_reduce_stage_1_tid_res_arr_mem_131269;
};
static int futhark_mc_segred_stage_1_parloop_136560(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_122770,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136559
    *futhark_mc_segred_stage_1_parloop_struct_136559 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136559 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136559->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136560_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136560_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136559->free_n_119475;
    int64_t gtid_122763 =
            futhark_mc_segred_stage_1_parloop_struct_136559->free_gtid_122763;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136559->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136559->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136559->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136559->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136559->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_130849 =
            futhark_mc_segred_stage_1_parloop_struct_136559->free_x_130849;
    float x_130850 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_x_130850;
    float defunc_0_f_res_130853 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_defunc_0_f_res_130853;
    float a12_130915 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_a12_130915;
    float b12_130916 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_b12_130916;
    float c12_130917 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_c12_130917;
    float b2_130918 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_b2_130918;
    float c2_130919 =
          futhark_mc_segred_stage_1_parloop_struct_136559->free_c2_130919;
    struct memblock reduce_stage_1_tid_res_arr_mem_131267 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131267",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136559->free_reduce_stage_1_tid_res_arr_mem_131267,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131269 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131269",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136559->free_reduce_stage_1_tid_res_arr_mem_131269,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131271 = start;
    float x_131191;
    float x_131192;
    float x_131194;
    float x_131195;
    float local_acc_131272 = 0.0F;
    float local_acc_131273 = 0.0F;
    
    for (; iter_131271 < end; iter_131271++) {
        int64_t gtid_122771 = iter_131271;
        bool cond_131197 = sle64(n_119475, gtid_122771);
        float defunc_0_f_res_131198;
        
        if (cond_131197) {
            defunc_0_f_res_131198 = 0.0F;
        } else {
            int64_t i_131199 = add64(gtid_122771, x_130849);
            float index_primexp_131200 = sitofp_i64_f32(i_131199);
            float defunc_0_f_res_f_res_131201 = 1.0F + index_primexp_131200;
            
            defunc_0_f_res_131198 = defunc_0_f_res_f_res_131201;
        }
        
        float defunc_0_f_res_131202;
        
        if (cond_131197) {
            defunc_0_f_res_131202 = 0.0F;
        } else {
            int64_t i_131203 = add64(gtid_122771, x_130849);
            float x_131204 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_122763 *
                                                    ctx_param_ext_127142 +
                                                    i_131203 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_131202 = x_131204;
        }
        
        float x_j_131205 = defunc_0_f_res_131198 - defunc_0_f_res_130853;
        float abs_res_131206 = (float) fabs(x_j_131205);
        float tmp1_131207 = abs_res_131206 / x_130850;
        float x_131208 = tmp1_131207 * tmp1_131207;
        float y_131209 = tmp1_131207 * x_131208;
        float tmp2_131210 = 1.0F - y_131209;
        float x_131211 = tmp2_131210 * tmp2_131210;
        float tmp3_131212 = tmp2_131210 * x_131211;
        float tmp4_131213 = defunc_0_f_res_131202 * tmp3_131212;
        float defunc_1_f_res_131214 = x_j_131205 * tmp4_131213;
        float defunc_1_f_res_131215 = x_j_131205 * defunc_1_f_res_131214;
        float defunc_0_f_res_131216;
        
        if (cond_131197) {
            defunc_0_f_res_131216 = 0.0F;
        } else {
            int64_t i_131217 = add64(gtid_122771, x_130849);
            float x_131218 = ((float *) mem_127292.mem)[gtid_122763 * n_119475 +
                                                        i_131217];
            
            defunc_0_f_res_131216 = x_131218;
        }
        
        float x_131219 = a12_130915 * tmp4_131213;
        float y_131220 = b12_130916 * defunc_1_f_res_131214;
        float x_131221 = x_131219 + y_131220;
        float y_131222 = c12_130917 * defunc_1_f_res_131215;
        float x_131223 = x_131221 + y_131222;
        float defunc_9_fit_fun_res_131224 = defunc_0_f_res_131216 * x_131223;
        float x_131225 = b12_130916 * tmp4_131213;
        float y_131226 = b2_130918 * defunc_1_f_res_131214;
        float x_131227 = x_131225 + y_131226;
        float y_131228 = c2_130919 * defunc_1_f_res_131215;
        float x_131229 = x_131227 + y_131228;
        float defunc_9_slope_fun_res_131230 = defunc_0_f_res_131216 * x_131229;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_131191 = local_acc_131272;
        }
        // Load next params
        {
            x_131192 = defunc_9_fit_fun_res_131224;
        }
        // Red body
        {
            float defunc_1_op_res_131193 = x_131191 + x_131192;
            
            local_acc_131272 = defunc_1_op_res_131193;
        }
        // Load accum params
        {
            x_131194 = local_acc_131273;
        }
        // Load next params
        {
            x_131195 = defunc_9_slope_fun_res_131230;
        }
        // Red body
        {
            float defunc_1_op_res_131196 = x_131194 + x_131195;
            
            local_acc_131273 = defunc_1_op_res_131196;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_131267.mem)[flat_tid_122770] =
        local_acc_131272;
    ((float *) reduce_stage_1_tid_res_arr_mem_131269.mem)[flat_tid_122770] =
        local_acc_131273;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136560_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136560_end -
                 futhark_mc_segred_stage_1_parloop_136560_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136560_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136560_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136560_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136556(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122770 = tid;
    int num_tasks_131266 = info.nsubtasks;
    struct futhark_mc_task_136555 *futhark_mc_task_136555 =
                                  (struct futhark_mc_task_136555 *) args;
    struct futhark_context *ctx = futhark_mc_task_136555->ctx;
    uint64_t futhark_mc_segred_task_136556_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136556_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136555->free_n_119475;
    int64_t gtid_122763 = futhark_mc_task_136555->free_gtid_122763;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136555->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136555->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136555->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136555->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136555->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_130849 = futhark_mc_task_136555->free_x_130849;
    float x_130850 = futhark_mc_task_136555->free_x_130850;
    float defunc_0_f_res_130853 =
          futhark_mc_task_136555->free_defunc_0_f_res_130853;
    float a12_130915 = futhark_mc_task_136555->free_a12_130915;
    float b12_130916 = futhark_mc_task_136555->free_b12_130916;
    float c12_130917 = futhark_mc_task_136555->free_c12_130917;
    float b2_130918 = futhark_mc_task_136555->free_b2_130918;
    float c2_130919 = futhark_mc_task_136555->free_c2_130919;
    float defunc_2_reduce_res_130920 =
          *futhark_mc_task_136555->retval_defunc_2_reduce_res_130920;
    float defunc_2_reduce_res_130921 =
          *futhark_mc_task_136555->retval_defunc_2_reduce_res_130921;
    size_t reduce_stage_1_tid_res_arr_mem_131267_cached_sizze_136557 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131267 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131269_cached_sizze_136558 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131269 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_131267_cached_sizze_136557 <
        (size_t) ((int64_t) 4 * num_tasks_131266)) {
        reduce_stage_1_tid_res_arr_mem_131267 =
            realloc(reduce_stage_1_tid_res_arr_mem_131267, (int64_t) 4 *
                    num_tasks_131266);
        reduce_stage_1_tid_res_arr_mem_131267_cached_sizze_136557 =
            (int64_t) 4 * num_tasks_131266;
    }
    if (reduce_stage_1_tid_res_arr_mem_131269_cached_sizze_136558 <
        (size_t) ((int64_t) 4 * num_tasks_131266)) {
        reduce_stage_1_tid_res_arr_mem_131269 =
            realloc(reduce_stage_1_tid_res_arr_mem_131269, (int64_t) 4 *
                    num_tasks_131266);
        reduce_stage_1_tid_res_arr_mem_131269_cached_sizze_136558 =
            (int64_t) 4 * num_tasks_131266;
    }
    
    int64_t iter_131271;
    struct futhark_mc_segred_stage_1_parloop_struct_136559
    futhark_mc_segred_stage_1_parloop_struct_136559;
    
    futhark_mc_segred_stage_1_parloop_struct_136559.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_gtid_122763 =
        gtid_122763;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_mem_127292 =
        mem_127292.mem;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_x_130849 = x_130849;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_x_130850 = x_130850;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_defunc_0_f_res_130853 =
        defunc_0_f_res_130853;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_a12_130915 =
        a12_130915;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_b12_130916 =
        b12_130916;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_c12_130917 =
        c12_130917;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_b2_130918 = b2_130918;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_c2_130919 = c2_130919;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_reduce_stage_1_tid_res_arr_mem_131267 =
        reduce_stage_1_tid_res_arr_mem_131267;
    futhark_mc_segred_stage_1_parloop_struct_136559.free_reduce_stage_1_tid_res_arr_mem_131269 =
        reduce_stage_1_tid_res_arr_mem_131269;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136560_task;
    
    futhark_mc_segred_stage_1_parloop_136560_task.name =
        "futhark_mc_segred_stage_1_parloop_136560";
    futhark_mc_segred_stage_1_parloop_136560_task.fn =
        futhark_mc_segred_stage_1_parloop_136560;
    futhark_mc_segred_stage_1_parloop_136560_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136559;
    futhark_mc_segred_stage_1_parloop_136560_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136560_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136560_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136560_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136560_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136560_task);
    
    if (futhark_mc_segred_stage_1_parloop_136560_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136560_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136560_total_end -
                 futhark_mc_segred_stage_1_parloop_136560_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136560_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136560_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136560_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_130920 = 0.0F;
        defunc_2_reduce_res_130921 = 0.0F;
    }
    
    float x_131274;
    float x_131275;
    float x_131277;
    float x_131278;
    
    for (int32_t i_131280 = 0; i_131280 < num_tasks_131266; i_131280++) {
        flat_tid_122770 = i_131280;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_131274 = defunc_2_reduce_res_130920;
            }
            // load next params
            {
                x_131275 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131267)[flat_tid_122770];
            }
            // red body
            {
                float defunc_1_op_res_131276 = x_131274 + x_131275;
                
                defunc_2_reduce_res_130920 = defunc_1_op_res_131276;
            }
            // load acc params
            {
                x_131277 = defunc_2_reduce_res_130921;
            }
            // load next params
            {
                x_131278 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131269)[flat_tid_122770];
            }
            // red body
            {
                float defunc_1_op_res_131279 = x_131277 + x_131278;
                
                defunc_2_reduce_res_130921 = defunc_1_op_res_131279;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_131267);
    free(reduce_stage_1_tid_res_arr_mem_131269);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136556_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136556_end -
                 futhark_mc_segred_task_136556_start;
        
        ctx->futhark_mc_segred_task_136556_runs[tid]++;
        ctx->futhark_mc_segred_task_136556_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136556_iter[tid] += iterations;
    }
    *futhark_mc_task_136555->retval_defunc_2_reduce_res_130920 =
        defunc_2_reduce_res_130920;
    *futhark_mc_task_136555->retval_defunc_2_reduce_res_130921 =
        defunc_2_reduce_res_130921;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136545(void *args, int64_t start,
                                            int64_t end, int flat_tid_122766,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136544
    *futhark_mc_segmap_parloop_struct_136544 =
    (struct futhark_mc_segmap_parloop_struct_136544 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136544->ctx;
    uint64_t futhark_mc_segmap_parloop_136545_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136545_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136544->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136544->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136544->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136544->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136544->free_i_119551;
    int64_t gtid_122763 =
            futhark_mc_segmap_parloop_struct_136544->free_gtid_122763;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136544->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136544->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136544->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136544->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136544->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136544->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136544->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127365 = {.desc ="mem_127365", .mem =
                                  futhark_mc_segmap_parloop_struct_136544->free_mem_127365,
                                  .size =0, .references =NULL};
    struct memblock mem_127368 = {.desc ="mem_127368", .mem =
                                  futhark_mc_segmap_parloop_struct_136544->free_mem_127368,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131154 = start;
    
    for (; iter_131154 < end; iter_131154++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131231 = l_n_m_119525;
        int64_t gtid_122767 = iter_131154;
        int64_t remnant_131232 = iter_131154 - gtid_122767;
        int64_t x_130849 = ((int64_t *) mem_127048.mem)[gtid_122763 *
                                                        l_n_m_119525 +
                                                        gtid_122767];
        float x_130850 = ((float *) mem_127052.mem)[gtid_122763 * l_n_m_119525 +
                                                    gtid_122767];
        int64_t min_arg_130851 = mul64(t_jump_119482, gtid_122767);
        int64_t min_res_130852 = smin64(i_119551, min_arg_130851);
        float defunc_0_f_res_130853 = sitofp_i64_f32(min_res_130852);
        float defunc_2_reduce_res_130854;
        float defunc_2_reduce_res_130855;
        float defunc_2_reduce_res_130856;
        float defunc_2_reduce_res_130857;
        float defunc_2_reduce_res_130858;
        int64_t flat_tid_122768 = (int64_t) 0;
        int32_t num_tasks_131233;
        struct futhark_mc_task_136546 futhark_mc_task_136546;
        
        futhark_mc_task_136546.ctx = ctx;
        futhark_mc_task_136546.free_n_119475 = n_119475;
        futhark_mc_task_136546.free_gtid_122763 = gtid_122763;
        futhark_mc_task_136546.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136546.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136546.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136546.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136546.free_x_130849 = x_130849;
        futhark_mc_task_136546.free_x_130850 = x_130850;
        futhark_mc_task_136546.free_defunc_0_f_res_130853 =
            defunc_0_f_res_130853;
        futhark_mc_task_136546.retval_defunc_2_reduce_res_130854 =
            &defunc_2_reduce_res_130854;
        futhark_mc_task_136546.retval_defunc_2_reduce_res_130855 =
            &defunc_2_reduce_res_130855;
        futhark_mc_task_136546.retval_defunc_2_reduce_res_130856 =
            &defunc_2_reduce_res_130856;
        futhark_mc_task_136546.retval_defunc_2_reduce_res_130857 =
            &defunc_2_reduce_res_130857;
        futhark_mc_task_136546.retval_defunc_2_reduce_res_130858 =
            &defunc_2_reduce_res_130858;
        
        struct scheduler_segop futhark_mc_task_136546_task;
        
        futhark_mc_task_136546_task.args = &futhark_mc_task_136546;
        futhark_mc_task_136546_task.top_level_fn =
            futhark_mc_segred_task_136547;
        futhark_mc_task_136546_task.name = "futhark_mc_segred_task_136547";
        futhark_mc_task_136546_task.iterations = l_window_119479;
        futhark_mc_task_136546_task.task_time =
            &ctx->futhark_mc_segred_task_136547_total_time;
        futhark_mc_task_136546_task.task_iter =
            &ctx->futhark_mc_segred_task_136547_total_iter;
        futhark_mc_task_136546_task.sched = STATIC;
        futhark_mc_task_136546_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136547_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136546_task);
        
        if (futhark_mc_segred_task_136547_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_130895 = defunc_2_reduce_res_130856 *
              defunc_2_reduce_res_130858;
        float y_130896 = defunc_2_reduce_res_130857 *
              defunc_2_reduce_res_130857;
        float a12_130897 = x_130895 - y_130896;
        float x_130898 = defunc_2_reduce_res_130856 *
              defunc_2_reduce_res_130857;
        float y_130899 = defunc_2_reduce_res_130855 *
              defunc_2_reduce_res_130858;
        float b12_130900 = x_130898 - y_130899;
        float x_130901 = defunc_2_reduce_res_130855 *
              defunc_2_reduce_res_130857;
        float y_130902 = defunc_2_reduce_res_130856 *
              defunc_2_reduce_res_130856;
        float c12_130903 = x_130901 - y_130902;
        float x_130904 = defunc_2_reduce_res_130854 *
              defunc_2_reduce_res_130858;
        float b2_130905 = x_130904 - y_130902;
        float x_130906 = defunc_2_reduce_res_130855 *
              defunc_2_reduce_res_130856;
        float y_130907 = defunc_2_reduce_res_130854 *
              defunc_2_reduce_res_130857;
        float c2_130908 = x_130906 - y_130907;
        float x_130909 = defunc_2_reduce_res_130854 * a12_130897;
        float y_130910 = defunc_2_reduce_res_130855 * b12_130900;
        float x_130911 = x_130909 + y_130910;
        float y_130912 = defunc_2_reduce_res_130856 * c12_130903;
        float y_130913 = x_130911 + y_130912;
        float det_130914 = 1.0F / y_130913;
        float a12_130915 = a12_130897 * det_130914;
        float b12_130916 = b12_130900 * det_130914;
        float c12_130917 = c12_130903 * det_130914;
        float b2_130918 = b2_130905 * det_130914;
        float c2_130919 = c2_130908 * det_130914;
        float defunc_2_reduce_res_130920;
        float defunc_2_reduce_res_130921;
        int64_t flat_tid_122770 = (int64_t) 0;
        int32_t num_tasks_131266;
        struct futhark_mc_task_136555 futhark_mc_task_136555;
        
        futhark_mc_task_136555.ctx = ctx;
        futhark_mc_task_136555.free_n_119475 = n_119475;
        futhark_mc_task_136555.free_gtid_122763 = gtid_122763;
        futhark_mc_task_136555.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136555.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136555.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136555.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136555.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136555.free_x_130849 = x_130849;
        futhark_mc_task_136555.free_x_130850 = x_130850;
        futhark_mc_task_136555.free_defunc_0_f_res_130853 =
            defunc_0_f_res_130853;
        futhark_mc_task_136555.free_a12_130915 = a12_130915;
        futhark_mc_task_136555.free_b12_130916 = b12_130916;
        futhark_mc_task_136555.free_c12_130917 = c12_130917;
        futhark_mc_task_136555.free_b2_130918 = b2_130918;
        futhark_mc_task_136555.free_c2_130919 = c2_130919;
        futhark_mc_task_136555.retval_defunc_2_reduce_res_130920 =
            &defunc_2_reduce_res_130920;
        futhark_mc_task_136555.retval_defunc_2_reduce_res_130921 =
            &defunc_2_reduce_res_130921;
        
        struct scheduler_segop futhark_mc_task_136555_task;
        
        futhark_mc_task_136555_task.args = &futhark_mc_task_136555;
        futhark_mc_task_136555_task.top_level_fn =
            futhark_mc_segred_task_136556;
        futhark_mc_task_136555_task.name = "futhark_mc_segred_task_136556";
        futhark_mc_task_136555_task.iterations = l_window_119479;
        futhark_mc_task_136555_task.task_time =
            &ctx->futhark_mc_segred_task_136556_total_time;
        futhark_mc_task_136555_task.task_iter =
            &ctx->futhark_mc_segred_task_136556_total_iter;
        futhark_mc_task_136555_task.sched = STATIC;
        futhark_mc_task_136555_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136556_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136555_task);
        
        if (futhark_mc_segred_task_136556_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127365.mem)[gtid_122767] = defunc_2_reduce_res_130920;
        ((float *) mem_127368.mem)[gtid_122767] = defunc_2_reduce_res_130921;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136545_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136545_end -
                 futhark_mc_segmap_parloop_136545_start;
        
        ctx->futhark_mc_segmap_parloop_136545_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136545_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136545_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136543(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122766 = tid;
    int num_tasks_131072 = info.nsubtasks;
    struct futhark_mc_task_136539 *futhark_mc_task_136539 =
                                  (struct futhark_mc_task_136539 *) args;
    struct futhark_context *ctx = futhark_mc_task_136539->ctx;
    uint64_t futhark_mc_segmap_nested_task_136543_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136543_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136539->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136539->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136539->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136539->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136539->free_i_119551;
    int64_t gtid_122763 = futhark_mc_task_136539->free_gtid_122763;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136539->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136539->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136539->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136539->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136539->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136539->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136539->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127365 = {.desc ="mem_127365", .mem =
                                  futhark_mc_task_136539->free_mem_127365,
                                  .size =0, .references =NULL};
    struct memblock mem_127368 = {.desc ="mem_127368", .mem =
                                  futhark_mc_task_136539->free_mem_127368,
                                  .size =0, .references =NULL};
    int64_t iter_131154;
    struct futhark_mc_segmap_parloop_struct_136544
    futhark_mc_segmap_parloop_struct_136544;
    
    futhark_mc_segmap_parloop_struct_136544.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136544.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136544.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136544.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136544.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136544.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136544.free_gtid_122763 = gtid_122763;
    futhark_mc_segmap_parloop_struct_136544.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136544.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136544.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136544.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136544.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136544.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136544.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136544.free_mem_127365 = mem_127365.mem;
    futhark_mc_segmap_parloop_struct_136544.free_mem_127368 = mem_127368.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136545_task;
    
    futhark_mc_segmap_parloop_136545_task.name =
        "futhark_mc_segmap_parloop_136545";
    futhark_mc_segmap_parloop_136545_task.fn = futhark_mc_segmap_parloop_136545;
    futhark_mc_segmap_parloop_136545_task.args =
        &futhark_mc_segmap_parloop_struct_136544;
    futhark_mc_segmap_parloop_136545_task.iterations = iterations;
    futhark_mc_segmap_parloop_136545_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136545_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136545_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136545_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136545_task);
    
    if (futhark_mc_segmap_parloop_136545_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136545_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136545_total_end -
                 futhark_mc_segmap_parloop_136545_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136545_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136545_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136545_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136543_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136543_end -
                 futhark_mc_segmap_nested_task_136543_start;
        
        ctx->futhark_mc_segmap_nested_task_136543_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136543_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136543_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136536(void *args, int64_t start,
                                            int64_t end, int flat_tid_122762,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136535
    *futhark_mc_segmap_parloop_struct_136535 =
    (struct futhark_mc_segmap_parloop_struct_136535 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136535->ctx;
    uint64_t futhark_mc_segmap_parloop_136536_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136536_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136535->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136535->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136535->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136535->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136535->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136535->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136535->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136535->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136535->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136535->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136535->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136535->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136535->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136535->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127402 = {.desc ="mem_127402", .mem =
                                  futhark_mc_segmap_parloop_struct_136535->free_mem_127402,
                                  .size =0, .references =NULL};
    struct memblock mem_127406 = {.desc ="mem_127406", .mem =
                                  futhark_mc_segmap_parloop_struct_136535->free_mem_127406,
                                  .size =0, .references =NULL};
    size_t mem_127365_cached_sizze_136537 = 0;
    char *mem_127365 = NULL;
    size_t mem_127368_cached_sizze_136538 = 0;
    char *mem_127368 = NULL;
    int64_t iterations = end - start;
    int64_t iter_130848 = start;
    
    if (mem_127365_cached_sizze_136537 < (size_t) bytes_126994) {
        mem_127365 = realloc(mem_127365, bytes_126994);
        mem_127365_cached_sizze_136537 = bytes_126994;
    }
    if (mem_127368_cached_sizze_136538 < (size_t) bytes_126994) {
        mem_127368 = realloc(mem_127368, bytes_126994);
        mem_127368_cached_sizze_136538 = bytes_126994;
    }
    for (; iter_130848 < end; iter_130848++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131070 = m_119474;
        int64_t gtid_122763 = iter_130848;
        int64_t remnant_131071 = iter_130848 - gtid_122763;
        int64_t flat_tid_122764 = (int64_t) 0;
        int32_t num_tasks_131072;
        int64_t flat_tid_122766 = (int64_t) 0;
        struct futhark_mc_task_136539 futhark_mc_task_136539;
        
        futhark_mc_task_136539.ctx = ctx;
        futhark_mc_task_136539.free_n_119475 = n_119475;
        futhark_mc_task_136539.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136539.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136539.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136539.free_i_119551 = i_119551;
        futhark_mc_task_136539.free_gtid_122763 = gtid_122763;
        futhark_mc_task_136539.free_mem_127048 = mem_127048.mem;
        futhark_mc_task_136539.free_mem_127052 = mem_127052.mem;
        futhark_mc_task_136539.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136539.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136539.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136539.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136539.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136539.free_mem_127365 = mem_127365;
        futhark_mc_task_136539.free_mem_127368 = mem_127368;
        
        struct scheduler_segop futhark_mc_task_136539_task;
        
        futhark_mc_task_136539_task.args = &futhark_mc_task_136539;
        futhark_mc_task_136539_task.top_level_fn =
            futhark_mc_segmap_task_136540;
        futhark_mc_task_136539_task.name = "futhark_mc_segmap_task_136540";
        futhark_mc_task_136539_task.iterations = l_n_m_119525;
        futhark_mc_task_136539_task.task_time =
            &ctx->futhark_mc_segmap_task_136540_total_time;
        futhark_mc_task_136539_task.task_iter =
            &ctx->futhark_mc_segmap_task_136540_total_iter;
        futhark_mc_task_136539_task.sched = STATIC;
        futhark_mc_task_136539_task.nested_fn =
            futhark_mc_segmap_nested_task_136543;
        
        int futhark_mc_segmap_task_136540_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136539_task);
        
        if (futhark_mc_segmap_task_136540_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127402.mem + gtid_122763 * l_n_m_119525 * (int64_t) 4,
                mem_127365 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127406.mem + gtid_122763 * l_n_m_119525 * (int64_t) 4,
                mem_127368 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127365);
    free(mem_127368);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136536_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136536_end -
                 futhark_mc_segmap_parloop_136536_start;
        
        ctx->futhark_mc_segmap_parloop_136536_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136536_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136536_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136534(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_122762 = tid;
    int num_tasks_130722 = info.nsubtasks;
    struct futhark_mc_task_136528 *futhark_mc_task_136528 =
                                  (struct futhark_mc_task_136528 *) args;
    struct futhark_context *ctx = futhark_mc_task_136528->ctx;
    uint64_t futhark_mc_segmap_nested_task_136534_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136534_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136528->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136528->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136528->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136528->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136528->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136528->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136528->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136528->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136528->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136528->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136528->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136528->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136528->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136528->free_mem_127292,
                                  .size =0, .references =NULL};
    struct memblock mem_127402 = {.desc ="mem_127402", .mem =
                                  futhark_mc_task_136528->free_mem_127402,
                                  .size =0, .references =NULL};
    struct memblock mem_127406 = {.desc ="mem_127406", .mem =
                                  futhark_mc_task_136528->free_mem_127406,
                                  .size =0, .references =NULL};
    int64_t iter_130848;
    struct futhark_mc_segmap_parloop_struct_136535
    futhark_mc_segmap_parloop_struct_136535;
    
    futhark_mc_segmap_parloop_struct_136535.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136535.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136535.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136535.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136535.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136535.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136535.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136535.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136535.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136535.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136535.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136535.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136535.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136535.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136535.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136535.free_mem_127402 = mem_127402.mem;
    futhark_mc_segmap_parloop_struct_136535.free_mem_127406 = mem_127406.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136536_task;
    
    futhark_mc_segmap_parloop_136536_task.name =
        "futhark_mc_segmap_parloop_136536";
    futhark_mc_segmap_parloop_136536_task.fn = futhark_mc_segmap_parloop_136536;
    futhark_mc_segmap_parloop_136536_task.args =
        &futhark_mc_segmap_parloop_struct_136535;
    futhark_mc_segmap_parloop_136536_task.iterations = iterations;
    futhark_mc_segmap_parloop_136536_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136536_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136536_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136536_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136536_task);
    
    if (futhark_mc_segmap_parloop_136536_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136536_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136536_total_end -
                 futhark_mc_segmap_parloop_136536_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136536_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136536_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136536_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136534_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136534_end -
                 futhark_mc_segmap_nested_task_136534_start;
        
        ctx->futhark_mc_segmap_nested_task_136534_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136534_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136534_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136561 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127415;
    char *free_mem_127469;
};
struct futhark_mc_segmap_parloop_struct_136563 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127415;
    char *free_mem_127469;
};
static int futhark_mc_segmap_parloop_136564(void *args, int64_t start,
                                            int64_t end, int flat_tid_123126,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136563
    *futhark_mc_segmap_parloop_struct_136563 =
    (struct futhark_mc_segmap_parloop_struct_136563 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136563->ctx;
    uint64_t futhark_mc_segmap_parloop_136564_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136564_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136563->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136563->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136563->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136563->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136563->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136563->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136563->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136563->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136563->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136563->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136563->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136563->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136563->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136563->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 =
            futhark_mc_segmap_parloop_struct_136563->free_bytes_127415;
    struct memblock mem_127469 = {.desc ="mem_127469", .mem =
                                  futhark_mc_segmap_parloop_struct_136563->free_mem_127469,
                                  .size =0, .references =NULL};
    size_t mem_127438_cached_sizze_136565 = 0;
    char *mem_127438 = NULL;
    size_t mem_127448_cached_sizze_136566 = 0;
    char *mem_127448 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131284 = start;
    
    if (mem_127438_cached_sizze_136565 < (size_t) bytes_126994) {
        mem_127438 = realloc(mem_127438, bytes_126994);
        mem_127438_cached_sizze_136565 = bytes_126994;
    }
    if (mem_127448_cached_sizze_136566 < (size_t) bytes_127415) {
        mem_127448 = realloc(mem_127448, bytes_127415);
        mem_127448_cached_sizze_136566 = bytes_127415;
    }
    for (; iter_131284 < end; iter_131284++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131330 = m_119474;
        int64_t gtid_123127 = iter_131284;
        int64_t remnant_131331 = iter_131284 - gtid_123127;
        
        for (int64_t i_131285 = 0; i_131285 < l_n_m_119525; i_131285++) {
            int64_t x_131287 = ((int64_t *) mem_127048.mem)[gtid_123127 *
                                                            l_n_m_119525 +
                                                            i_131285];
            float x_131288 = ((float *) mem_127052.mem)[gtid_123127 *
                                                        l_n_m_119525 +
                                                        i_131285];
            int64_t min_arg_131289 = mul64(t_jump_119482, i_131285);
            int64_t min_res_131290 = smin64(i_119551, min_arg_131289);
            float defunc_0_f_res_131291 = sitofp_i64_f32(min_res_131290);
            float defunc_2_reduce_res_131293;
            float redout_131296 = 0.0F;
            
            for (int64_t i_131295 = 0; i_131295 < l_window_119479; i_131295++) {
                bool cond_131298 = sle64(n_119475, i_131295);
                float defunc_0_f_res_131299;
                
                if (cond_131298) {
                    defunc_0_f_res_131299 = 0.0F;
                } else {
                    int64_t i_131300 = add64(x_131287, i_131295);
                    float index_primexp_131301 = sitofp_i64_f32(i_131300);
                    float defunc_0_f_res_f_res_131302 = 1.0F +
                          index_primexp_131301;
                    
                    defunc_0_f_res_131299 = defunc_0_f_res_f_res_131302;
                }
                
                float defunc_0_f_res_131303;
                
                if (cond_131298) {
                    defunc_0_f_res_131303 = 0.0F;
                } else {
                    int64_t i_131304 = add64(x_131287, i_131295);
                    float x_131305 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_123127 *
                                                            ctx_param_ext_127142 +
                                                            i_131304 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_131303 = x_131305;
                }
                
                float x_j_131306 = defunc_0_f_res_131299 -
                      defunc_0_f_res_131291;
                float abs_res_131307 = (float) fabs(x_j_131306);
                float tmp1_131308 = abs_res_131307 / x_131288;
                float x_131309 = tmp1_131308 * tmp1_131308;
                float y_131310 = tmp1_131308 * x_131309;
                float tmp2_131311 = 1.0F - y_131310;
                float x_131312 = tmp2_131311 * tmp2_131311;
                float tmp3_131313 = tmp2_131311 * x_131312;
                float tmp4_131314 = defunc_0_f_res_131303 * tmp3_131313;
                float defunc_1_op_res_131315 = tmp4_131314 + redout_131296;
                
                ((float *) mem_127448)[i_131295] = tmp4_131314;
                
                float redout_tmp_131333 = defunc_1_op_res_131315;
                
                redout_131296 = redout_tmp_131333;
            }
            defunc_2_reduce_res_131293 = redout_131296;
            
            float a0_131317 = 1.0F / defunc_2_reduce_res_131293;
            float defunc_2_reduce_res_131318;
            float redout_131320 = 0.0F;
            
            for (int64_t i_131319 = 0; i_131319 < l_window_119479; i_131319++) {
                float x_131321 = ((float *) mem_127448)[i_131319];
                bool cond_131322 = sle64(n_119475, i_131319);
                float defunc_0_f_res_131323;
                
                if (cond_131322) {
                    defunc_0_f_res_131323 = 0.0F;
                } else {
                    int64_t i_131324 = add64(x_131287, i_131319);
                    float x_131325 = ((float *) mem_127292.mem)[gtid_123127 *
                                                                n_119475 +
                                                                i_131324];
                    
                    defunc_0_f_res_131323 = x_131325;
                }
                
                float x_131326 = a0_131317 * x_131321;
                float defunc_9_fit_fun_res_131327 = defunc_0_f_res_131323 *
                      x_131326;
                float defunc_1_op_res_131328 = defunc_9_fit_fun_res_131327 +
                      redout_131320;
                float redout_tmp_131335 = defunc_1_op_res_131328;
                
                redout_131320 = redout_tmp_131335;
            }
            defunc_2_reduce_res_131318 = redout_131320;
            ((float *) mem_127438)[i_131285] = defunc_2_reduce_res_131318;
        }
        memmove(mem_127469.mem + gtid_123127 * l_n_m_119525 * (int64_t) 4,
                mem_127438 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127438);
    free(mem_127448);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136564_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136564_end -
                 futhark_mc_segmap_parloop_136564_start;
        
        ctx->futhark_mc_segmap_parloop_136564_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136564_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136564_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136562(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123126 = tid;
    int num_tasks_131283 = info.nsubtasks;
    struct futhark_mc_task_136561 *futhark_mc_task_136561 =
                                  (struct futhark_mc_task_136561 *) args;
    struct futhark_context *ctx = futhark_mc_task_136561->ctx;
    uint64_t futhark_mc_segmap_task_136562_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136562_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136561->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136561->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136561->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136561->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136561->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136561->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136561->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136561->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136561->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136561->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136561->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136561->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136561->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136561->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 = futhark_mc_task_136561->free_bytes_127415;
    struct memblock mem_127469 = {.desc ="mem_127469", .mem =
                                  futhark_mc_task_136561->free_mem_127469,
                                  .size =0, .references =NULL};
    int64_t iter_131284;
    struct futhark_mc_segmap_parloop_struct_136563
    futhark_mc_segmap_parloop_struct_136563;
    
    futhark_mc_segmap_parloop_struct_136563.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136563.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136563.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136563.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136563.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136563.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136563.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136563.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136563.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136563.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136563.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136563.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136563.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136563.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136563.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136563.free_bytes_127415 = bytes_127415;
    futhark_mc_segmap_parloop_struct_136563.free_mem_127469 = mem_127469.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136564_task;
    
    futhark_mc_segmap_parloop_136564_task.name =
        "futhark_mc_segmap_parloop_136564";
    futhark_mc_segmap_parloop_136564_task.fn = futhark_mc_segmap_parloop_136564;
    futhark_mc_segmap_parloop_136564_task.args =
        &futhark_mc_segmap_parloop_struct_136563;
    futhark_mc_segmap_parloop_136564_task.iterations = iterations;
    futhark_mc_segmap_parloop_136564_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136564_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136564_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136564_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136564_task);
    
    if (futhark_mc_segmap_parloop_136564_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136564_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136564_total_end -
                 futhark_mc_segmap_parloop_136564_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136564_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136564_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136564_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136562_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136562_end -
                 futhark_mc_segmap_task_136562_start;
        
        ctx->futhark_mc_segmap_task_136562_runs[tid]++;
        ctx->futhark_mc_segmap_task_136562_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136562_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136568 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127415;
    char *free_mem_127469;
};
struct futhark_mc_task_136571 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123129;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127415;
    char *free_mem_127435;
};
struct futhark_mc_segmap_parloop_struct_136573 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123129;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127415;
    char *free_mem_127435;
};
static int futhark_mc_segmap_parloop_136574(void *args, int64_t start,
                                            int64_t end, int flat_tid_123130,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136573
    *futhark_mc_segmap_parloop_struct_136573 =
    (struct futhark_mc_segmap_parloop_struct_136573 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136573->ctx;
    uint64_t futhark_mc_segmap_parloop_136574_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136574_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136573->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136573->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136573->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136573->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136573->free_i_119551;
    int64_t gtid_123129 =
            futhark_mc_segmap_parloop_struct_136573->free_gtid_123129;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136573->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136573->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136573->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136573->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136573->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136573->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136573->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 =
            futhark_mc_segmap_parloop_struct_136573->free_bytes_127415;
    struct memblock mem_127435 = {.desc ="mem_127435", .mem =
                                  futhark_mc_segmap_parloop_struct_136573->free_mem_127435,
                                  .size =0, .references =NULL};
    size_t mem_131382_cached_sizze_136575 = 0;
    char *mem_131382 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131423 = start;
    
    if (mem_131382_cached_sizze_136575 < (size_t) bytes_127415) {
        mem_131382 = realloc(mem_131382, bytes_127415);
        mem_131382_cached_sizze_136575 = bytes_127415;
    }
    for (; iter_131423 < end; iter_131423++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131456 = l_n_m_119525;
        int64_t gtid_123131 = iter_131423;
        int64_t remnant_131457 = iter_131423 - gtid_123131;
        int64_t x_131377 = ((int64_t *) mem_127048.mem)[gtid_123129 *
                                                        l_n_m_119525 +
                                                        gtid_123131];
        float x_131378 = ((float *) mem_127052.mem)[gtid_123129 * l_n_m_119525 +
                                                    gtid_123131];
        int64_t min_arg_131379 = mul64(t_jump_119482, gtid_123131);
        int64_t min_res_131380 = smin64(i_119551, min_arg_131379);
        float defunc_0_f_res_131381 = sitofp_i64_f32(min_res_131380);
        float defunc_2_reduce_res_131384;
        float redout_131425 = 0.0F;
        
        for (int64_t i_131424 = 0; i_131424 < l_window_119479; i_131424++) {
            bool cond_131427 = sle64(n_119475, i_131424);
            float defunc_0_f_res_131428;
            
            if (cond_131427) {
                defunc_0_f_res_131428 = 0.0F;
            } else {
                int64_t i_131429 = add64(x_131377, i_131424);
                float index_primexp_131430 = sitofp_i64_f32(i_131429);
                float defunc_0_f_res_f_res_131431 = 1.0F + index_primexp_131430;
                
                defunc_0_f_res_131428 = defunc_0_f_res_f_res_131431;
            }
            
            float defunc_0_f_res_131432;
            
            if (cond_131427) {
                defunc_0_f_res_131432 = 0.0F;
            } else {
                int64_t i_131433 = add64(x_131377, i_131424);
                float x_131434 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_123129 *
                                                        ctx_param_ext_127142 +
                                                        i_131433 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_131432 = x_131434;
            }
            
            float x_j_131435 = defunc_0_f_res_131428 - defunc_0_f_res_131381;
            float abs_res_131436 = (float) fabs(x_j_131435);
            float tmp1_131437 = abs_res_131436 / x_131378;
            float x_131438 = tmp1_131437 * tmp1_131437;
            float y_131439 = tmp1_131437 * x_131438;
            float tmp2_131440 = 1.0F - y_131439;
            float x_131441 = tmp2_131440 * tmp2_131440;
            float tmp3_131442 = tmp2_131440 * x_131441;
            float tmp4_131443 = defunc_0_f_res_131432 * tmp3_131442;
            float defunc_1_op_res_131444 = tmp4_131443 + redout_131425;
            
            ((float *) mem_131382)[i_131424] = tmp4_131443;
            
            float redout_tmp_131458 = defunc_1_op_res_131444;
            
            redout_131425 = redout_tmp_131458;
        }
        defunc_2_reduce_res_131384 = redout_131425;
        
        float a0_131408 = 1.0F / defunc_2_reduce_res_131384;
        float defunc_2_reduce_res_131409;
        float redout_131447 = 0.0F;
        
        for (int64_t i_131446 = 0; i_131446 < l_window_119479; i_131446++) {
            float x_131448 = ((float *) mem_131382)[i_131446];
            bool cond_131449 = sle64(n_119475, i_131446);
            float defunc_0_f_res_131450;
            
            if (cond_131449) {
                defunc_0_f_res_131450 = 0.0F;
            } else {
                int64_t i_131451 = add64(x_131377, i_131446);
                float x_131452 = ((float *) mem_127292.mem)[gtid_123129 *
                                                            n_119475 +
                                                            i_131451];
                
                defunc_0_f_res_131450 = x_131452;
            }
            
            float x_131453 = a0_131408 * x_131448;
            float defunc_9_fit_fun_res_131454 = defunc_0_f_res_131450 *
                  x_131453;
            float defunc_1_op_res_131455 = defunc_9_fit_fun_res_131454 +
                  redout_131447;
            float redout_tmp_131460 = defunc_1_op_res_131455;
            
            redout_131447 = redout_tmp_131460;
        }
        defunc_2_reduce_res_131409 = redout_131447;
        ((float *) mem_127435.mem)[gtid_123131] = defunc_2_reduce_res_131409;
    }
    
  cleanup:
    { }
    free(mem_131382);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136574_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136574_end -
                 futhark_mc_segmap_parloop_136574_start;
        
        ctx->futhark_mc_segmap_parloop_136574_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136574_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136574_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136572(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123130 = tid;
    int num_tasks_131422 = info.nsubtasks;
    struct futhark_mc_task_136571 *futhark_mc_task_136571 =
                                  (struct futhark_mc_task_136571 *) args;
    struct futhark_context *ctx = futhark_mc_task_136571->ctx;
    uint64_t futhark_mc_segmap_task_136572_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136572_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136571->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136571->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136571->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136571->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136571->free_i_119551;
    int64_t gtid_123129 = futhark_mc_task_136571->free_gtid_123129;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136571->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136571->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136571->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136571->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136571->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136571->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136571->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 = futhark_mc_task_136571->free_bytes_127415;
    struct memblock mem_127435 = {.desc ="mem_127435", .mem =
                                  futhark_mc_task_136571->free_mem_127435,
                                  .size =0, .references =NULL};
    int64_t iter_131423;
    struct futhark_mc_segmap_parloop_struct_136573
    futhark_mc_segmap_parloop_struct_136573;
    
    futhark_mc_segmap_parloop_struct_136573.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136573.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136573.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136573.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136573.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136573.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136573.free_gtid_123129 = gtid_123129;
    futhark_mc_segmap_parloop_struct_136573.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136573.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136573.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136573.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136573.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136573.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136573.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136573.free_bytes_127415 = bytes_127415;
    futhark_mc_segmap_parloop_struct_136573.free_mem_127435 = mem_127435.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136574_task;
    
    futhark_mc_segmap_parloop_136574_task.name =
        "futhark_mc_segmap_parloop_136574";
    futhark_mc_segmap_parloop_136574_task.fn = futhark_mc_segmap_parloop_136574;
    futhark_mc_segmap_parloop_136574_task.args =
        &futhark_mc_segmap_parloop_struct_136573;
    futhark_mc_segmap_parloop_136574_task.iterations = iterations;
    futhark_mc_segmap_parloop_136574_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136574_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136574_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136574_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136574_task);
    
    if (futhark_mc_segmap_parloop_136574_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136574_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136574_total_end -
                 futhark_mc_segmap_parloop_136574_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136574_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136574_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136574_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136572_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136572_end -
                 futhark_mc_segmap_task_136572_start;
        
        ctx->futhark_mc_segmap_task_136572_runs[tid]++;
        ctx->futhark_mc_segmap_task_136572_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136572_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136577 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123129;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127415;
    char *free_mem_127435;
};
struct futhark_mc_task_136580 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123129;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_131337;
    float free_x_131338;
    float free_defunc_0_f_res_131341;
    float *retval_defunc_2_reduce_res_131343;
    char *retval_mem_131342;
};
struct futhark_mc_segred_stage_1_parloop_struct_136583 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123129;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_131337;
    float free_x_131338;
    float free_defunc_0_f_res_131341;
    char *free_mem_131342;
    char *free_reduce_stage_1_tid_res_arr_mem_131495;
};
static int futhark_mc_segred_stage_1_parloop_136584(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123134,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136583
    *futhark_mc_segred_stage_1_parloop_struct_136583 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136583 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136583->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136584_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136584_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136583->free_n_119475;
    int64_t gtid_123129 =
            futhark_mc_segred_stage_1_parloop_struct_136583->free_gtid_123129;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136583->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136583->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136583->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136583->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_131337 =
            futhark_mc_segred_stage_1_parloop_struct_136583->free_x_131337;
    float x_131338 =
          futhark_mc_segred_stage_1_parloop_struct_136583->free_x_131338;
    float defunc_0_f_res_131341 =
          futhark_mc_segred_stage_1_parloop_struct_136583->free_defunc_0_f_res_131341;
    struct memblock mem_131342 = {.desc ="mem_131342", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136583->free_mem_131342,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131495 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131495",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136583->free_reduce_stage_1_tid_res_arr_mem_131495,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131497 = start;
    float x_131462;
    float x_131463;
    float local_acc_131498 = 0.0F;
    
    for (; iter_131497 < end; iter_131497++) {
        int64_t gtid_123135 = iter_131497;
        bool cond_131465 = sle64(n_119475, gtid_123135);
        float defunc_0_f_res_131466;
        
        if (cond_131465) {
            defunc_0_f_res_131466 = 0.0F;
        } else {
            int64_t i_131467 = add64(gtid_123135, x_131337);
            float index_primexp_131468 = sitofp_i64_f32(i_131467);
            float defunc_0_f_res_f_res_131469 = 1.0F + index_primexp_131468;
            
            defunc_0_f_res_131466 = defunc_0_f_res_f_res_131469;
        }
        
        float defunc_0_f_res_131470;
        
        if (cond_131465) {
            defunc_0_f_res_131470 = 0.0F;
        } else {
            int64_t i_131471 = add64(gtid_123135, x_131337);
            float x_131472 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_123129 *
                                                    ctx_param_ext_127142 +
                                                    i_131471 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_131470 = x_131472;
        }
        
        float x_j_131473 = defunc_0_f_res_131466 - defunc_0_f_res_131341;
        float abs_res_131474 = (float) fabs(x_j_131473);
        float tmp1_131475 = abs_res_131474 / x_131338;
        float x_131476 = tmp1_131475 * tmp1_131475;
        float y_131477 = tmp1_131475 * x_131476;
        float tmp2_131478 = 1.0F - y_131477;
        float x_131479 = tmp2_131478 * tmp2_131478;
        float tmp3_131480 = tmp2_131478 * x_131479;
        float tmp4_131481 = defunc_0_f_res_131470 * tmp3_131480;
        
        // save map-out results
        {
            ((float *) mem_131342.mem)[gtid_123135] = tmp4_131481;
        }
        // Load accum params
        {
            x_131462 = local_acc_131498;
        }
        // Load next params
        {
            x_131463 = tmp4_131481;
        }
        // Red body
        {
            float defunc_1_op_res_131464 = x_131462 + x_131463;
            
            local_acc_131498 = defunc_1_op_res_131464;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_131495.mem)[flat_tid_123134] =
        local_acc_131498;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136584_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136584_end -
                 futhark_mc_segred_stage_1_parloop_136584_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136584_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136584_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136584_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136581(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123134 = tid;
    int num_tasks_131494 = info.nsubtasks;
    struct futhark_mc_task_136580 *futhark_mc_task_136580 =
                                  (struct futhark_mc_task_136580 *) args;
    struct futhark_context *ctx = futhark_mc_task_136580->ctx;
    uint64_t futhark_mc_segred_task_136581_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136581_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136580->free_n_119475;
    int64_t gtid_123129 = futhark_mc_task_136580->free_gtid_123129;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136580->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136580->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136580->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136580->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_131337 = futhark_mc_task_136580->free_x_131337;
    float x_131338 = futhark_mc_task_136580->free_x_131338;
    float defunc_0_f_res_131341 =
          futhark_mc_task_136580->free_defunc_0_f_res_131341;
    float defunc_2_reduce_res_131343 =
          *futhark_mc_task_136580->retval_defunc_2_reduce_res_131343;
    struct memblock mem_131342 = {.desc ="mem_131342", .mem =
                                  futhark_mc_task_136580->retval_mem_131342,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_131495_cached_sizze_136582 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131495 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_131495_cached_sizze_136582 <
        (size_t) ((int64_t) 4 * num_tasks_131494)) {
        reduce_stage_1_tid_res_arr_mem_131495 =
            realloc(reduce_stage_1_tid_res_arr_mem_131495, (int64_t) 4 *
                    num_tasks_131494);
        reduce_stage_1_tid_res_arr_mem_131495_cached_sizze_136582 =
            (int64_t) 4 * num_tasks_131494;
    }
    
    int64_t iter_131497;
    struct futhark_mc_segred_stage_1_parloop_struct_136583
    futhark_mc_segred_stage_1_parloop_struct_136583;
    
    futhark_mc_segred_stage_1_parloop_struct_136583.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_gtid_123129 =
        gtid_123129;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_x_131337 = x_131337;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_x_131338 = x_131338;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_defunc_0_f_res_131341 =
        defunc_0_f_res_131341;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_mem_131342 =
        mem_131342.mem;
    futhark_mc_segred_stage_1_parloop_struct_136583.free_reduce_stage_1_tid_res_arr_mem_131495 =
        reduce_stage_1_tid_res_arr_mem_131495;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136584_task;
    
    futhark_mc_segred_stage_1_parloop_136584_task.name =
        "futhark_mc_segred_stage_1_parloop_136584";
    futhark_mc_segred_stage_1_parloop_136584_task.fn =
        futhark_mc_segred_stage_1_parloop_136584;
    futhark_mc_segred_stage_1_parloop_136584_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136583;
    futhark_mc_segred_stage_1_parloop_136584_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136584_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136584_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136584_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136584_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136584_task);
    
    if (futhark_mc_segred_stage_1_parloop_136584_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136584_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136584_total_end -
                 futhark_mc_segred_stage_1_parloop_136584_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136584_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136584_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136584_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_131343 = 0.0F;
    }
    
    float x_131499;
    float x_131500;
    
    for (int32_t i_131502 = 0; i_131502 < num_tasks_131494; i_131502++) {
        flat_tid_123134 = i_131502;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_131499 = defunc_2_reduce_res_131343;
            }
            // load next params
            {
                x_131500 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131495)[flat_tid_123134];
            }
            // red body
            {
                float defunc_1_op_res_131501 = x_131499 + x_131500;
                
                defunc_2_reduce_res_131343 = defunc_1_op_res_131501;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_131495);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136581_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136581_end -
                 futhark_mc_segred_task_136581_start;
        
        ctx->futhark_mc_segred_task_136581_runs[tid]++;
        ctx->futhark_mc_segred_task_136581_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136581_iter[tid] += iterations;
    }
    *futhark_mc_task_136580->retval_defunc_2_reduce_res_131343 =
        defunc_2_reduce_res_131343;
    futhark_mc_task_136580->retval_mem_131342 = mem_131342.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136585 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123129;
    char *free_mem_127292;
    int64_t free_x_131337;
    char *free_mem_131342;
    float free_a0_131365;
    float *retval_defunc_2_reduce_res_131366;
};
struct futhark_mc_segred_stage_1_parloop_struct_136588 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123129;
    char *free_mem_127292;
    int64_t free_x_131337;
    char *free_mem_131342;
    float free_a0_131365;
    char *free_reduce_stage_1_tid_res_arr_mem_131504;
};
static int futhark_mc_segred_stage_1_parloop_136589(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123136,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136588
    *futhark_mc_segred_stage_1_parloop_struct_136588 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136588 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136588->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136589_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136589_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136588->free_n_119475;
    int64_t gtid_123129 =
            futhark_mc_segred_stage_1_parloop_struct_136588->free_gtid_123129;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136588->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_131337 =
            futhark_mc_segred_stage_1_parloop_struct_136588->free_x_131337;
    struct memblock mem_131342 = {.desc ="mem_131342", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136588->free_mem_131342,
                                  .size =0, .references =NULL};
    float a0_131365 =
          futhark_mc_segred_stage_1_parloop_struct_136588->free_a0_131365;
    struct memblock reduce_stage_1_tid_res_arr_mem_131504 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131504",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136588->free_reduce_stage_1_tid_res_arr_mem_131504,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131506 = start;
    float x_131482;
    float x_131483;
    float local_acc_131507 = 0.0F;
    
    for (; iter_131506 < end; iter_131506++) {
        int64_t gtid_123137 = iter_131506;
        float x_131485 = ((float *) mem_131342.mem)[gtid_123137];
        bool cond_131486 = sle64(n_119475, gtid_123137);
        float defunc_0_f_res_131487;
        
        if (cond_131486) {
            defunc_0_f_res_131487 = 0.0F;
        } else {
            int64_t i_131488 = add64(gtid_123137, x_131337);
            float x_131489 = ((float *) mem_127292.mem)[gtid_123129 * n_119475 +
                                                        i_131488];
            
            defunc_0_f_res_131487 = x_131489;
        }
        
        float x_131490 = a0_131365 * x_131485;
        float defunc_9_fit_fun_res_131491 = defunc_0_f_res_131487 * x_131490;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_131482 = local_acc_131507;
        }
        // Load next params
        {
            x_131483 = defunc_9_fit_fun_res_131491;
        }
        // Red body
        {
            float defunc_1_op_res_131484 = x_131482 + x_131483;
            
            local_acc_131507 = defunc_1_op_res_131484;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_131504.mem)[flat_tid_123136] =
        local_acc_131507;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136589_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136589_end -
                 futhark_mc_segred_stage_1_parloop_136589_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136589_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136589_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136589_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136586(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123136 = tid;
    int num_tasks_131503 = info.nsubtasks;
    struct futhark_mc_task_136585 *futhark_mc_task_136585 =
                                  (struct futhark_mc_task_136585 *) args;
    struct futhark_context *ctx = futhark_mc_task_136585->ctx;
    uint64_t futhark_mc_segred_task_136586_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136586_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136585->free_n_119475;
    int64_t gtid_123129 = futhark_mc_task_136585->free_gtid_123129;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136585->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_131337 = futhark_mc_task_136585->free_x_131337;
    struct memblock mem_131342 = {.desc ="mem_131342", .mem =
                                  futhark_mc_task_136585->free_mem_131342,
                                  .size =0, .references =NULL};
    float a0_131365 = futhark_mc_task_136585->free_a0_131365;
    float defunc_2_reduce_res_131366 =
          *futhark_mc_task_136585->retval_defunc_2_reduce_res_131366;
    size_t reduce_stage_1_tid_res_arr_mem_131504_cached_sizze_136587 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131504 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_131504_cached_sizze_136587 <
        (size_t) ((int64_t) 4 * num_tasks_131503)) {
        reduce_stage_1_tid_res_arr_mem_131504 =
            realloc(reduce_stage_1_tid_res_arr_mem_131504, (int64_t) 4 *
                    num_tasks_131503);
        reduce_stage_1_tid_res_arr_mem_131504_cached_sizze_136587 =
            (int64_t) 4 * num_tasks_131503;
    }
    
    int64_t iter_131506;
    struct futhark_mc_segred_stage_1_parloop_struct_136588
    futhark_mc_segred_stage_1_parloop_struct_136588;
    
    futhark_mc_segred_stage_1_parloop_struct_136588.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_gtid_123129 =
        gtid_123129;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_mem_127292 =
        mem_127292.mem;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_x_131337 = x_131337;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_mem_131342 =
        mem_131342.mem;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_a0_131365 = a0_131365;
    futhark_mc_segred_stage_1_parloop_struct_136588.free_reduce_stage_1_tid_res_arr_mem_131504 =
        reduce_stage_1_tid_res_arr_mem_131504;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136589_task;
    
    futhark_mc_segred_stage_1_parloop_136589_task.name =
        "futhark_mc_segred_stage_1_parloop_136589";
    futhark_mc_segred_stage_1_parloop_136589_task.fn =
        futhark_mc_segred_stage_1_parloop_136589;
    futhark_mc_segred_stage_1_parloop_136589_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136588;
    futhark_mc_segred_stage_1_parloop_136589_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136589_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136589_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136589_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136589_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136589_task);
    
    if (futhark_mc_segred_stage_1_parloop_136589_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136589_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136589_total_end -
                 futhark_mc_segred_stage_1_parloop_136589_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136589_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136589_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136589_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_131366 = 0.0F;
    }
    
    float x_131508;
    float x_131509;
    
    for (int32_t i_131511 = 0; i_131511 < num_tasks_131503; i_131511++) {
        flat_tid_123136 = i_131511;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_131508 = defunc_2_reduce_res_131366;
            }
            // load next params
            {
                x_131509 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131504)[flat_tid_123136];
            }
            // red body
            {
                float defunc_1_op_res_131510 = x_131508 + x_131509;
                
                defunc_2_reduce_res_131366 = defunc_1_op_res_131510;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_131504);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136586_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136586_end -
                 futhark_mc_segred_task_136586_start;
        
        ctx->futhark_mc_segred_task_136586_runs[tid]++;
        ctx->futhark_mc_segred_task_136586_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136586_iter[tid] += iterations;
    }
    *futhark_mc_task_136585->retval_defunc_2_reduce_res_131366 =
        defunc_2_reduce_res_131366;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136578(void *args, int64_t start,
                                            int64_t end, int flat_tid_123132,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136577
    *futhark_mc_segmap_parloop_struct_136577 =
    (struct futhark_mc_segmap_parloop_struct_136577 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136577->ctx;
    uint64_t futhark_mc_segmap_parloop_136578_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136578_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136577->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136577->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136577->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136577->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136577->free_i_119551;
    int64_t gtid_123129 =
            futhark_mc_segmap_parloop_struct_136577->free_gtid_123129;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136577->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136577->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136577->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136577->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136577->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136577->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136577->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 =
            futhark_mc_segmap_parloop_struct_136577->free_bytes_127415;
    struct memblock mem_127435 = {.desc ="mem_127435", .mem =
                                  futhark_mc_segmap_parloop_struct_136577->free_mem_127435,
                                  .size =0, .references =NULL};
    size_t mem_131342_cached_sizze_136579 = 0;
    char *mem_131342 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131461 = start;
    
    if (mem_131342_cached_sizze_136579 < (size_t) bytes_127415) {
        mem_131342 = realloc(mem_131342, bytes_127415);
        mem_131342_cached_sizze_136579 = bytes_127415;
    }
    for (; iter_131461 < end; iter_131461++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131492 = l_n_m_119525;
        int64_t gtid_123133 = iter_131461;
        int64_t remnant_131493 = iter_131461 - gtid_123133;
        int64_t x_131337 = ((int64_t *) mem_127048.mem)[gtid_123129 *
                                                        l_n_m_119525 +
                                                        gtid_123133];
        float x_131338 = ((float *) mem_127052.mem)[gtid_123129 * l_n_m_119525 +
                                                    gtid_123133];
        int64_t min_arg_131339 = mul64(t_jump_119482, gtid_123133);
        int64_t min_res_131340 = smin64(i_119551, min_arg_131339);
        float defunc_0_f_res_131341 = sitofp_i64_f32(min_res_131340);
        float defunc_2_reduce_res_131343;
        int64_t flat_tid_123134 = (int64_t) 0;
        int32_t num_tasks_131494;
        struct futhark_mc_task_136580 futhark_mc_task_136580;
        
        futhark_mc_task_136580.ctx = ctx;
        futhark_mc_task_136580.free_n_119475 = n_119475;
        futhark_mc_task_136580.free_gtid_123129 = gtid_123129;
        futhark_mc_task_136580.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136580.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136580.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136580.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136580.free_x_131337 = x_131337;
        futhark_mc_task_136580.free_x_131338 = x_131338;
        futhark_mc_task_136580.free_defunc_0_f_res_131341 =
            defunc_0_f_res_131341;
        futhark_mc_task_136580.retval_defunc_2_reduce_res_131343 =
            &defunc_2_reduce_res_131343;
        futhark_mc_task_136580.retval_mem_131342 = mem_131342;
        
        struct scheduler_segop futhark_mc_task_136580_task;
        
        futhark_mc_task_136580_task.args = &futhark_mc_task_136580;
        futhark_mc_task_136580_task.top_level_fn =
            futhark_mc_segred_task_136581;
        futhark_mc_task_136580_task.name = "futhark_mc_segred_task_136581";
        futhark_mc_task_136580_task.iterations = l_window_119479;
        futhark_mc_task_136580_task.task_time =
            &ctx->futhark_mc_segred_task_136581_total_time;
        futhark_mc_task_136580_task.task_iter =
            &ctx->futhark_mc_segred_task_136581_total_iter;
        futhark_mc_task_136580_task.sched = STATIC;
        futhark_mc_task_136580_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136581_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136580_task);
        
        if (futhark_mc_segred_task_136581_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_131365 = 1.0F / defunc_2_reduce_res_131343;
        float defunc_2_reduce_res_131366;
        int64_t flat_tid_123136 = (int64_t) 0;
        int32_t num_tasks_131503;
        struct futhark_mc_task_136585 futhark_mc_task_136585;
        
        futhark_mc_task_136585.ctx = ctx;
        futhark_mc_task_136585.free_n_119475 = n_119475;
        futhark_mc_task_136585.free_gtid_123129 = gtid_123129;
        futhark_mc_task_136585.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136585.free_x_131337 = x_131337;
        futhark_mc_task_136585.free_mem_131342 = mem_131342;
        futhark_mc_task_136585.free_a0_131365 = a0_131365;
        futhark_mc_task_136585.retval_defunc_2_reduce_res_131366 =
            &defunc_2_reduce_res_131366;
        
        struct scheduler_segop futhark_mc_task_136585_task;
        
        futhark_mc_task_136585_task.args = &futhark_mc_task_136585;
        futhark_mc_task_136585_task.top_level_fn =
            futhark_mc_segred_task_136586;
        futhark_mc_task_136585_task.name = "futhark_mc_segred_task_136586";
        futhark_mc_task_136585_task.iterations = l_window_119479;
        futhark_mc_task_136585_task.task_time =
            &ctx->futhark_mc_segred_task_136586_total_time;
        futhark_mc_task_136585_task.task_iter =
            &ctx->futhark_mc_segred_task_136586_total_iter;
        futhark_mc_task_136585_task.sched = STATIC;
        futhark_mc_task_136585_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136586_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136585_task);
        
        if (futhark_mc_segred_task_136586_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127435.mem)[gtid_123133] = defunc_2_reduce_res_131366;
    }
    
  cleanup:
    { }
    free(mem_131342);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136578_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136578_end -
                 futhark_mc_segmap_parloop_136578_start;
        
        ctx->futhark_mc_segmap_parloop_136578_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136578_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136578_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136576(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123132 = tid;
    int num_tasks_131422 = info.nsubtasks;
    struct futhark_mc_task_136571 *futhark_mc_task_136571 =
                                  (struct futhark_mc_task_136571 *) args;
    struct futhark_context *ctx = futhark_mc_task_136571->ctx;
    uint64_t futhark_mc_segmap_nested_task_136576_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136576_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136571->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136571->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136571->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136571->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136571->free_i_119551;
    int64_t gtid_123129 = futhark_mc_task_136571->free_gtid_123129;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136571->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136571->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136571->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136571->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136571->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136571->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136571->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 = futhark_mc_task_136571->free_bytes_127415;
    struct memblock mem_127435 = {.desc ="mem_127435", .mem =
                                  futhark_mc_task_136571->free_mem_127435,
                                  .size =0, .references =NULL};
    int64_t iter_131461;
    struct futhark_mc_segmap_parloop_struct_136577
    futhark_mc_segmap_parloop_struct_136577;
    
    futhark_mc_segmap_parloop_struct_136577.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136577.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136577.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136577.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136577.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136577.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136577.free_gtid_123129 = gtid_123129;
    futhark_mc_segmap_parloop_struct_136577.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136577.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136577.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136577.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136577.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136577.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136577.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136577.free_bytes_127415 = bytes_127415;
    futhark_mc_segmap_parloop_struct_136577.free_mem_127435 = mem_127435.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136578_task;
    
    futhark_mc_segmap_parloop_136578_task.name =
        "futhark_mc_segmap_parloop_136578";
    futhark_mc_segmap_parloop_136578_task.fn = futhark_mc_segmap_parloop_136578;
    futhark_mc_segmap_parloop_136578_task.args =
        &futhark_mc_segmap_parloop_struct_136577;
    futhark_mc_segmap_parloop_136578_task.iterations = iterations;
    futhark_mc_segmap_parloop_136578_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136578_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136578_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136578_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136578_task);
    
    if (futhark_mc_segmap_parloop_136578_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136578_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136578_total_end -
                 futhark_mc_segmap_parloop_136578_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136578_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136578_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136578_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136576_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136576_end -
                 futhark_mc_segmap_nested_task_136576_start;
        
        ctx->futhark_mc_segmap_nested_task_136576_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136576_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136576_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136569(void *args, int64_t start,
                                            int64_t end, int flat_tid_123128,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136568
    *futhark_mc_segmap_parloop_struct_136568 =
    (struct futhark_mc_segmap_parloop_struct_136568 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136568->ctx;
    uint64_t futhark_mc_segmap_parloop_136569_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136569_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136568->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136568->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136568->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136568->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136568->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136568->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136568->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136568->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136568->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136568->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136568->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136568->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136568->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136568->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 =
            futhark_mc_segmap_parloop_struct_136568->free_bytes_127415;
    struct memblock mem_127469 = {.desc ="mem_127469", .mem =
                                  futhark_mc_segmap_parloop_struct_136568->free_mem_127469,
                                  .size =0, .references =NULL};
    size_t mem_127435_cached_sizze_136570 = 0;
    char *mem_127435 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131336 = start;
    
    if (mem_127435_cached_sizze_136570 < (size_t) bytes_126994) {
        mem_127435 = realloc(mem_127435, bytes_126994);
        mem_127435_cached_sizze_136570 = bytes_126994;
    }
    for (; iter_131336 < end; iter_131336++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131420 = m_119474;
        int64_t gtid_123129 = iter_131336;
        int64_t remnant_131421 = iter_131336 - gtid_123129;
        int64_t flat_tid_123130 = (int64_t) 0;
        int32_t num_tasks_131422;
        int64_t flat_tid_123132 = (int64_t) 0;
        struct futhark_mc_task_136571 futhark_mc_task_136571;
        
        futhark_mc_task_136571.ctx = ctx;
        futhark_mc_task_136571.free_n_119475 = n_119475;
        futhark_mc_task_136571.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136571.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136571.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136571.free_i_119551 = i_119551;
        futhark_mc_task_136571.free_gtid_123129 = gtid_123129;
        futhark_mc_task_136571.free_mem_127048 = mem_127048.mem;
        futhark_mc_task_136571.free_mem_127052 = mem_127052.mem;
        futhark_mc_task_136571.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136571.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136571.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136571.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136571.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136571.free_bytes_127415 = bytes_127415;
        futhark_mc_task_136571.free_mem_127435 = mem_127435;
        
        struct scheduler_segop futhark_mc_task_136571_task;
        
        futhark_mc_task_136571_task.args = &futhark_mc_task_136571;
        futhark_mc_task_136571_task.top_level_fn =
            futhark_mc_segmap_task_136572;
        futhark_mc_task_136571_task.name = "futhark_mc_segmap_task_136572";
        futhark_mc_task_136571_task.iterations = l_n_m_119525;
        futhark_mc_task_136571_task.task_time =
            &ctx->futhark_mc_segmap_task_136572_total_time;
        futhark_mc_task_136571_task.task_iter =
            &ctx->futhark_mc_segmap_task_136572_total_iter;
        futhark_mc_task_136571_task.sched = STATIC;
        futhark_mc_task_136571_task.nested_fn =
            futhark_mc_segmap_nested_task_136576;
        
        int futhark_mc_segmap_task_136572_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136571_task);
        
        if (futhark_mc_segmap_task_136572_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127469.mem + gtid_123129 * l_n_m_119525 * (int64_t) 4,
                mem_127435 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127435);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136569_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136569_end -
                 futhark_mc_segmap_parloop_136569_start;
        
        ctx->futhark_mc_segmap_parloop_136569_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136569_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136569_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136567(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123128 = tid;
    int num_tasks_131283 = info.nsubtasks;
    struct futhark_mc_task_136561 *futhark_mc_task_136561 =
                                  (struct futhark_mc_task_136561 *) args;
    struct futhark_context *ctx = futhark_mc_task_136561->ctx;
    uint64_t futhark_mc_segmap_nested_task_136567_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136567_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136561->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136561->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136561->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136561->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136561->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136561->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136561->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136561->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136561->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136561->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136561->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136561->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136561->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136561->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127415 = futhark_mc_task_136561->free_bytes_127415;
    struct memblock mem_127469 = {.desc ="mem_127469", .mem =
                                  futhark_mc_task_136561->free_mem_127469,
                                  .size =0, .references =NULL};
    int64_t iter_131336;
    struct futhark_mc_segmap_parloop_struct_136568
    futhark_mc_segmap_parloop_struct_136568;
    
    futhark_mc_segmap_parloop_struct_136568.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136568.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136568.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136568.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136568.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136568.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136568.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136568.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136568.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136568.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136568.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136568.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136568.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136568.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136568.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136568.free_bytes_127415 = bytes_127415;
    futhark_mc_segmap_parloop_struct_136568.free_mem_127469 = mem_127469.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136569_task;
    
    futhark_mc_segmap_parloop_136569_task.name =
        "futhark_mc_segmap_parloop_136569";
    futhark_mc_segmap_parloop_136569_task.fn = futhark_mc_segmap_parloop_136569;
    futhark_mc_segmap_parloop_136569_task.args =
        &futhark_mc_segmap_parloop_struct_136568;
    futhark_mc_segmap_parloop_136569_task.iterations = iterations;
    futhark_mc_segmap_parloop_136569_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136569_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136569_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136569_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136569_task);
    
    if (futhark_mc_segmap_parloop_136569_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136569_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136569_total_end -
                 futhark_mc_segmap_parloop_136569_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136569_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136569_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136569_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136567_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136567_end -
                 futhark_mc_segmap_nested_task_136567_start;
        
        ctx->futhark_mc_segmap_nested_task_136567_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136567_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136567_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136590 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127470;
    char *free_mem_127575;
    char *free_mem_127579;
};
struct futhark_mc_segmap_parloop_struct_136592 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127470;
    char *free_mem_127575;
    char *free_mem_127579;
};
static int futhark_mc_segmap_parloop_136593(void *args, int64_t start,
                                            int64_t end, int flat_tid_123269,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136592
    *futhark_mc_segmap_parloop_struct_136592 =
    (struct futhark_mc_segmap_parloop_struct_136592 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136592->ctx;
    uint64_t futhark_mc_segmap_parloop_136593_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136593_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136592->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136592->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136592->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136592->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136592->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136592->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136592->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136592->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136592->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136592->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136592->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136592->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136592->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136592->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 =
            futhark_mc_segmap_parloop_struct_136592->free_bytes_127470;
    struct memblock mem_127575 = {.desc ="mem_127575", .mem =
                                  futhark_mc_segmap_parloop_struct_136592->free_mem_127575,
                                  .size =0, .references =NULL};
    struct memblock mem_127579 = {.desc ="mem_127579", .mem =
                                  futhark_mc_segmap_parloop_struct_136592->free_mem_127579,
                                  .size =0, .references =NULL};
    size_t mem_127514_cached_sizze_136594 = 0;
    char *mem_127514 = NULL;
    size_t mem_127517_cached_sizze_136595 = 0;
    char *mem_127517 = NULL;
    size_t mem_127534_cached_sizze_136596 = 0;
    char *mem_127534 = NULL;
    size_t mem_127537_cached_sizze_136597 = 0;
    char *mem_127537 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131513 = start;
    
    if (mem_127514_cached_sizze_136594 < (size_t) bytes_126994) {
        mem_127514 = realloc(mem_127514, bytes_126994);
        mem_127514_cached_sizze_136594 = bytes_126994;
    }
    if (mem_127517_cached_sizze_136595 < (size_t) bytes_126994) {
        mem_127517 = realloc(mem_127517, bytes_126994);
        mem_127517_cached_sizze_136595 = bytes_126994;
    }
    if (mem_127534_cached_sizze_136596 < (size_t) bytes_127470) {
        mem_127534 = realloc(mem_127534, bytes_127470);
        mem_127534_cached_sizze_136596 = bytes_127470;
    }
    if (mem_127537_cached_sizze_136597 < (size_t) bytes_127470) {
        mem_127537 = realloc(mem_127537, bytes_127470);
        mem_127537_cached_sizze_136597 = bytes_127470;
    }
    for (; iter_131513 < end; iter_131513++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131590 = m_119474;
        int64_t gtid_123270 = iter_131513;
        int64_t remnant_131591 = iter_131513 - gtid_123270;
        
        for (int64_t i_131514 = 0; i_131514 < l_n_m_119525; i_131514++) {
            int64_t x_131517 = ((int64_t *) mem_127048.mem)[gtid_123270 *
                                                            l_n_m_119525 +
                                                            i_131514];
            float x_131518 = ((float *) mem_127052.mem)[gtid_123270 *
                                                        l_n_m_119525 +
                                                        i_131514];
            int64_t min_arg_131519 = mul64(t_jump_119482, i_131514);
            int64_t min_res_131520 = smin64(i_119551, min_arg_131519);
            float defunc_0_f_res_131521 = sitofp_i64_f32(min_res_131520);
            float defunc_2_reduce_res_131524;
            float defunc_2_reduce_res_131525;
            float defunc_2_reduce_res_131526;
            float redout_131530;
            float redout_131531;
            float redout_131532;
            
            redout_131530 = 0.0F;
            redout_131531 = 0.0F;
            redout_131532 = 0.0F;
            for (int64_t i_131529 = 0; i_131529 < l_window_119479; i_131529++) {
                bool cond_131535 = sle64(n_119475, i_131529);
                float defunc_0_f_res_131536;
                
                if (cond_131535) {
                    defunc_0_f_res_131536 = 0.0F;
                } else {
                    int64_t i_131537 = add64(x_131517, i_131529);
                    float index_primexp_131538 = sitofp_i64_f32(i_131537);
                    float defunc_0_f_res_f_res_131539 = 1.0F +
                          index_primexp_131538;
                    
                    defunc_0_f_res_131536 = defunc_0_f_res_f_res_131539;
                }
                
                float defunc_0_f_res_131540;
                
                if (cond_131535) {
                    defunc_0_f_res_131540 = 0.0F;
                } else {
                    int64_t i_131541 = add64(x_131517, i_131529);
                    float x_131542 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_123270 *
                                                            ctx_param_ext_127142 +
                                                            i_131541 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_131540 = x_131542;
                }
                
                float x_j_131543 = defunc_0_f_res_131536 -
                      defunc_0_f_res_131521;
                float abs_res_131544 = (float) fabs(x_j_131543);
                float tmp1_131545 = abs_res_131544 / x_131518;
                float x_131546 = tmp1_131545 * tmp1_131545;
                float y_131547 = tmp1_131545 * x_131546;
                float tmp2_131548 = 1.0F - y_131547;
                float x_131549 = tmp2_131548 * tmp2_131548;
                float tmp3_131550 = tmp2_131548 * x_131549;
                float tmp4_131551 = defunc_0_f_res_131540 * tmp3_131550;
                float defunc_1_f_res_131552 = x_j_131543 * tmp4_131551;
                float defunc_1_f_res_131553 = x_j_131543 *
                      defunc_1_f_res_131552;
                float defunc_1_op_res_131554 = tmp4_131551 + redout_131530;
                float defunc_1_op_res_131555 = defunc_1_f_res_131552 +
                      redout_131531;
                float defunc_1_op_res_131556 = defunc_1_f_res_131553 +
                      redout_131532;
                
                ((float *) mem_127534)[i_131529] = defunc_1_f_res_131552;
                ((float *) mem_127537)[i_131529] = tmp4_131551;
                
                float redout_tmp_131594 = defunc_1_op_res_131554;
                float redout_tmp_131595 = defunc_1_op_res_131555;
                float redout_tmp_131596 = defunc_1_op_res_131556;
                
                redout_131530 = redout_tmp_131594;
                redout_131531 = redout_tmp_131595;
                redout_131532 = redout_tmp_131596;
            }
            defunc_2_reduce_res_131524 = redout_131530;
            defunc_2_reduce_res_131525 = redout_131531;
            defunc_2_reduce_res_131526 = redout_131532;
            
            float x_131559 = defunc_2_reduce_res_131524 *
                  defunc_2_reduce_res_131526;
            float y_131560 = defunc_2_reduce_res_131525 *
                  defunc_2_reduce_res_131525;
            float y_131561 = x_131559 - y_131560;
            float det1_131562 = 1.0F / y_131561;
            float a11_131563 = defunc_2_reduce_res_131526 * det1_131562;
            float negate_arg_131564 = defunc_2_reduce_res_131525 * det1_131562;
            float b11_131565 = 0.0F - negate_arg_131564;
            float c11_131566 = defunc_2_reduce_res_131524 * det1_131562;
            float defunc_2_reduce_res_131567;
            float defunc_2_reduce_res_131568;
            float redout_131570;
            float redout_131571;
            
            redout_131570 = 0.0F;
            redout_131571 = 0.0F;
            for (int64_t i_131569 = 0; i_131569 < l_window_119479; i_131569++) {
                float x_131572 = ((float *) mem_127537)[i_131569];
                float x_131573 = ((float *) mem_127534)[i_131569];
                bool cond_131574 = sle64(n_119475, i_131569);
                float defunc_0_f_res_131575;
                
                if (cond_131574) {
                    defunc_0_f_res_131575 = 0.0F;
                } else {
                    int64_t i_131576 = add64(x_131517, i_131569);
                    float x_131577 = ((float *) mem_127292.mem)[gtid_123270 *
                                                                n_119475 +
                                                                i_131576];
                    
                    defunc_0_f_res_131575 = x_131577;
                }
                
                float x_131578 = a11_131563 * x_131572;
                float y_131579 = b11_131565 * x_131573;
                float x_131580 = x_131578 + y_131579;
                float defunc_9_fit_fun_res_131581 = defunc_0_f_res_131575 *
                      x_131580;
                float x_131582 = b11_131565 * x_131572;
                float y_131583 = c11_131566 * x_131573;
                float x_131584 = x_131582 + y_131583;
                float defunc_9_slope_fun_res_131585 = defunc_0_f_res_131575 *
                      x_131584;
                float defunc_1_op_res_131586 = defunc_9_fit_fun_res_131581 +
                      redout_131570;
                float defunc_1_op_res_131587 = defunc_9_slope_fun_res_131585 +
                      redout_131571;
                float redout_tmp_131599 = defunc_1_op_res_131586;
                float redout_tmp_131600 = defunc_1_op_res_131587;
                
                redout_131570 = redout_tmp_131599;
                redout_131571 = redout_tmp_131600;
            }
            defunc_2_reduce_res_131567 = redout_131570;
            defunc_2_reduce_res_131568 = redout_131571;
            ((float *) mem_127514)[i_131514] = defunc_2_reduce_res_131567;
            ((float *) mem_127517)[i_131514] = defunc_2_reduce_res_131568;
        }
        memmove(mem_127575.mem + gtid_123270 * l_n_m_119525 * (int64_t) 4,
                mem_127514 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127579.mem + gtid_123270 * l_n_m_119525 * (int64_t) 4,
                mem_127517 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127514);
    free(mem_127517);
    free(mem_127534);
    free(mem_127537);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136593_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136593_end -
                 futhark_mc_segmap_parloop_136593_start;
        
        ctx->futhark_mc_segmap_parloop_136593_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136593_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136593_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136591(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123269 = tid;
    int num_tasks_131512 = info.nsubtasks;
    struct futhark_mc_task_136590 *futhark_mc_task_136590 =
                                  (struct futhark_mc_task_136590 *) args;
    struct futhark_context *ctx = futhark_mc_task_136590->ctx;
    uint64_t futhark_mc_segmap_task_136591_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136591_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136590->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136590->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136590->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136590->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136590->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136590->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136590->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136590->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136590->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136590->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136590->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136590->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136590->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136590->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 = futhark_mc_task_136590->free_bytes_127470;
    struct memblock mem_127575 = {.desc ="mem_127575", .mem =
                                  futhark_mc_task_136590->free_mem_127575,
                                  .size =0, .references =NULL};
    struct memblock mem_127579 = {.desc ="mem_127579", .mem =
                                  futhark_mc_task_136590->free_mem_127579,
                                  .size =0, .references =NULL};
    int64_t iter_131513;
    struct futhark_mc_segmap_parloop_struct_136592
    futhark_mc_segmap_parloop_struct_136592;
    
    futhark_mc_segmap_parloop_struct_136592.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136592.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136592.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136592.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136592.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136592.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136592.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136592.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136592.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136592.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136592.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136592.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136592.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136592.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136592.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136592.free_bytes_127470 = bytes_127470;
    futhark_mc_segmap_parloop_struct_136592.free_mem_127575 = mem_127575.mem;
    futhark_mc_segmap_parloop_struct_136592.free_mem_127579 = mem_127579.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136593_task;
    
    futhark_mc_segmap_parloop_136593_task.name =
        "futhark_mc_segmap_parloop_136593";
    futhark_mc_segmap_parloop_136593_task.fn = futhark_mc_segmap_parloop_136593;
    futhark_mc_segmap_parloop_136593_task.args =
        &futhark_mc_segmap_parloop_struct_136592;
    futhark_mc_segmap_parloop_136593_task.iterations = iterations;
    futhark_mc_segmap_parloop_136593_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136593_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136593_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136593_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136593_task);
    
    if (futhark_mc_segmap_parloop_136593_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136593_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136593_total_end -
                 futhark_mc_segmap_parloop_136593_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136593_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136593_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136593_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136591_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136591_end -
                 futhark_mc_segmap_task_136591_start;
        
        ctx->futhark_mc_segmap_task_136591_runs[tid]++;
        ctx->futhark_mc_segmap_task_136591_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136591_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136599 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127470;
    char *free_mem_127575;
    char *free_mem_127579;
};
struct futhark_mc_task_136603 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123272;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127470;
    char *free_mem_127508;
    char *free_mem_127511;
};
struct futhark_mc_segmap_parloop_struct_136605 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123272;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127470;
    char *free_mem_127508;
    char *free_mem_127511;
};
static int futhark_mc_segmap_parloop_136606(void *args, int64_t start,
                                            int64_t end, int flat_tid_123273,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136605
    *futhark_mc_segmap_parloop_struct_136605 =
    (struct futhark_mc_segmap_parloop_struct_136605 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136605->ctx;
    uint64_t futhark_mc_segmap_parloop_136606_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136606_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136605->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136605->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136605->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136605->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136605->free_i_119551;
    int64_t gtid_123272 =
            futhark_mc_segmap_parloop_struct_136605->free_gtid_123272;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136605->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136605->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136605->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136605->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136605->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136605->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136605->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 =
            futhark_mc_segmap_parloop_struct_136605->free_bytes_127470;
    struct memblock mem_127508 = {.desc ="mem_127508", .mem =
                                  futhark_mc_segmap_parloop_struct_136605->free_mem_127508,
                                  .size =0, .references =NULL};
    struct memblock mem_127511 = {.desc ="mem_127511", .mem =
                                  futhark_mc_segmap_parloop_struct_136605->free_mem_127511,
                                  .size =0, .references =NULL};
    size_t mem_131677_cached_sizze_136607 = 0;
    char *mem_131677 = NULL;
    size_t mem_131679_cached_sizze_136608 = 0;
    char *mem_131679 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131748 = start;
    
    if (mem_131677_cached_sizze_136607 < (size_t) bytes_127470) {
        mem_131677 = realloc(mem_131677, bytes_127470);
        mem_131677_cached_sizze_136607 = bytes_127470;
    }
    if (mem_131679_cached_sizze_136608 < (size_t) bytes_127470) {
        mem_131679 = realloc(mem_131679, bytes_127470);
        mem_131679_cached_sizze_136608 = bytes_127470;
    }
    for (; iter_131748 < end; iter_131748++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131798 = l_n_m_119525;
        int64_t gtid_123274 = iter_131748;
        int64_t remnant_131799 = iter_131748 - gtid_123274;
        int64_t x_131672 = ((int64_t *) mem_127048.mem)[gtid_123272 *
                                                        l_n_m_119525 +
                                                        gtid_123274];
        float x_131673 = ((float *) mem_127052.mem)[gtid_123272 * l_n_m_119525 +
                                                    gtid_123274];
        int64_t min_arg_131674 = mul64(t_jump_119482, gtid_123274);
        int64_t min_res_131675 = smin64(i_119551, min_arg_131674);
        float defunc_0_f_res_131676 = sitofp_i64_f32(min_res_131675);
        float defunc_2_reduce_res_131681;
        float defunc_2_reduce_res_131682;
        float defunc_2_reduce_res_131683;
        float redout_131750;
        float redout_131751;
        float redout_131752;
        
        redout_131750 = 0.0F;
        redout_131751 = 0.0F;
        redout_131752 = 0.0F;
        for (int64_t i_131749 = 0; i_131749 < l_window_119479; i_131749++) {
            bool cond_131755 = sle64(n_119475, i_131749);
            float defunc_0_f_res_131756;
            
            if (cond_131755) {
                defunc_0_f_res_131756 = 0.0F;
            } else {
                int64_t i_131757 = add64(x_131672, i_131749);
                float index_primexp_131758 = sitofp_i64_f32(i_131757);
                float defunc_0_f_res_f_res_131759 = 1.0F + index_primexp_131758;
                
                defunc_0_f_res_131756 = defunc_0_f_res_f_res_131759;
            }
            
            float defunc_0_f_res_131760;
            
            if (cond_131755) {
                defunc_0_f_res_131760 = 0.0F;
            } else {
                int64_t i_131761 = add64(x_131672, i_131749);
                float x_131762 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_123272 *
                                                        ctx_param_ext_127142 +
                                                        i_131761 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_131760 = x_131762;
            }
            
            float x_j_131763 = defunc_0_f_res_131756 - defunc_0_f_res_131676;
            float abs_res_131764 = (float) fabs(x_j_131763);
            float tmp1_131765 = abs_res_131764 / x_131673;
            float x_131766 = tmp1_131765 * tmp1_131765;
            float y_131767 = tmp1_131765 * x_131766;
            float tmp2_131768 = 1.0F - y_131767;
            float x_131769 = tmp2_131768 * tmp2_131768;
            float tmp3_131770 = tmp2_131768 * x_131769;
            float tmp4_131771 = defunc_0_f_res_131760 * tmp3_131770;
            float defunc_1_f_res_131772 = x_j_131763 * tmp4_131771;
            float defunc_1_f_res_131773 = x_j_131763 * defunc_1_f_res_131772;
            float defunc_1_op_res_131774 = tmp4_131771 + redout_131750;
            float defunc_1_op_res_131775 = defunc_1_f_res_131772 +
                  redout_131751;
            float defunc_1_op_res_131776 = defunc_1_f_res_131773 +
                  redout_131752;
            
            ((float *) mem_131677)[i_131749] = defunc_1_f_res_131772;
            ((float *) mem_131679)[i_131749] = tmp4_131771;
            
            float redout_tmp_131800 = defunc_1_op_res_131774;
            float redout_tmp_131801 = defunc_1_op_res_131775;
            float redout_tmp_131802 = defunc_1_op_res_131776;
            
            redout_131750 = redout_tmp_131800;
            redout_131751 = redout_tmp_131801;
            redout_131752 = redout_tmp_131802;
        }
        defunc_2_reduce_res_131681 = redout_131750;
        defunc_2_reduce_res_131682 = redout_131751;
        defunc_2_reduce_res_131683 = redout_131752;
        
        float x_131716 = defunc_2_reduce_res_131681 *
              defunc_2_reduce_res_131683;
        float y_131717 = defunc_2_reduce_res_131682 *
              defunc_2_reduce_res_131682;
        float y_131718 = x_131716 - y_131717;
        float det1_131719 = 1.0F / y_131718;
        float a11_131720 = defunc_2_reduce_res_131683 * det1_131719;
        float negate_arg_131721 = defunc_2_reduce_res_131682 * det1_131719;
        float b11_131722 = 0.0F - negate_arg_131721;
        float c11_131723 = defunc_2_reduce_res_131681 * det1_131719;
        float defunc_2_reduce_res_131724;
        float defunc_2_reduce_res_131725;
        float redout_131780;
        float redout_131781;
        
        redout_131780 = 0.0F;
        redout_131781 = 0.0F;
        for (int64_t i_131779 = 0; i_131779 < l_window_119479; i_131779++) {
            float x_131782 = ((float *) mem_131679)[i_131779];
            float x_131783 = ((float *) mem_131677)[i_131779];
            bool cond_131784 = sle64(n_119475, i_131779);
            float defunc_0_f_res_131785;
            
            if (cond_131784) {
                defunc_0_f_res_131785 = 0.0F;
            } else {
                int64_t i_131786 = add64(x_131672, i_131779);
                float x_131787 = ((float *) mem_127292.mem)[gtid_123272 *
                                                            n_119475 +
                                                            i_131786];
                
                defunc_0_f_res_131785 = x_131787;
            }
            
            float x_131788 = a11_131720 * x_131782;
            float y_131789 = b11_131722 * x_131783;
            float x_131790 = x_131788 + y_131789;
            float defunc_9_fit_fun_res_131791 = defunc_0_f_res_131785 *
                  x_131790;
            float x_131792 = b11_131722 * x_131782;
            float y_131793 = c11_131723 * x_131783;
            float x_131794 = x_131792 + y_131793;
            float defunc_9_slope_fun_res_131795 = defunc_0_f_res_131785 *
                  x_131794;
            float defunc_1_op_res_131796 = defunc_9_fit_fun_res_131791 +
                  redout_131780;
            float defunc_1_op_res_131797 = defunc_9_slope_fun_res_131795 +
                  redout_131781;
            float redout_tmp_131805 = defunc_1_op_res_131796;
            float redout_tmp_131806 = defunc_1_op_res_131797;
            
            redout_131780 = redout_tmp_131805;
            redout_131781 = redout_tmp_131806;
        }
        defunc_2_reduce_res_131724 = redout_131780;
        defunc_2_reduce_res_131725 = redout_131781;
        ((float *) mem_127508.mem)[gtid_123274] = defunc_2_reduce_res_131724;
        ((float *) mem_127511.mem)[gtid_123274] = defunc_2_reduce_res_131725;
    }
    
  cleanup:
    { }
    free(mem_131677);
    free(mem_131679);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136606_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136606_end -
                 futhark_mc_segmap_parloop_136606_start;
        
        ctx->futhark_mc_segmap_parloop_136606_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136606_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136606_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136604(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123273 = tid;
    int num_tasks_131747 = info.nsubtasks;
    struct futhark_mc_task_136603 *futhark_mc_task_136603 =
                                  (struct futhark_mc_task_136603 *) args;
    struct futhark_context *ctx = futhark_mc_task_136603->ctx;
    uint64_t futhark_mc_segmap_task_136604_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136604_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136603->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136603->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136603->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136603->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136603->free_i_119551;
    int64_t gtid_123272 = futhark_mc_task_136603->free_gtid_123272;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136603->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136603->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136603->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136603->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136603->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136603->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136603->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 = futhark_mc_task_136603->free_bytes_127470;
    struct memblock mem_127508 = {.desc ="mem_127508", .mem =
                                  futhark_mc_task_136603->free_mem_127508,
                                  .size =0, .references =NULL};
    struct memblock mem_127511 = {.desc ="mem_127511", .mem =
                                  futhark_mc_task_136603->free_mem_127511,
                                  .size =0, .references =NULL};
    int64_t iter_131748;
    struct futhark_mc_segmap_parloop_struct_136605
    futhark_mc_segmap_parloop_struct_136605;
    
    futhark_mc_segmap_parloop_struct_136605.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136605.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136605.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136605.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136605.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136605.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136605.free_gtid_123272 = gtid_123272;
    futhark_mc_segmap_parloop_struct_136605.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136605.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136605.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136605.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136605.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136605.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136605.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136605.free_bytes_127470 = bytes_127470;
    futhark_mc_segmap_parloop_struct_136605.free_mem_127508 = mem_127508.mem;
    futhark_mc_segmap_parloop_struct_136605.free_mem_127511 = mem_127511.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136606_task;
    
    futhark_mc_segmap_parloop_136606_task.name =
        "futhark_mc_segmap_parloop_136606";
    futhark_mc_segmap_parloop_136606_task.fn = futhark_mc_segmap_parloop_136606;
    futhark_mc_segmap_parloop_136606_task.args =
        &futhark_mc_segmap_parloop_struct_136605;
    futhark_mc_segmap_parloop_136606_task.iterations = iterations;
    futhark_mc_segmap_parloop_136606_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136606_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136606_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136606_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136606_task);
    
    if (futhark_mc_segmap_parloop_136606_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136606_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136606_total_end -
                 futhark_mc_segmap_parloop_136606_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136606_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136606_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136606_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136604_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136604_end -
                 futhark_mc_segmap_task_136604_start;
        
        ctx->futhark_mc_segmap_task_136604_runs[tid]++;
        ctx->futhark_mc_segmap_task_136604_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136604_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136610 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123272;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127470;
    char *free_mem_127508;
    char *free_mem_127511;
};
struct futhark_mc_task_136614 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123272;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_131602;
    float free_x_131603;
    float free_defunc_0_f_res_131606;
    float *retval_defunc_2_reduce_res_131609;
    float *retval_defunc_2_reduce_res_131610;
    float *retval_defunc_2_reduce_res_131611;
    char *retval_mem_131607;
    char *retval_mem_131608;
};
struct futhark_mc_segred_stage_1_parloop_struct_136619 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123272;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_131602;
    float free_x_131603;
    float free_defunc_0_f_res_131606;
    char *free_mem_131607;
    char *free_mem_131608;
    char *free_reduce_stage_1_tid_res_arr_mem_131859;
    char *free_reduce_stage_1_tid_res_arr_mem_131861;
    char *free_reduce_stage_1_tid_res_arr_mem_131863;
};
static int futhark_mc_segred_stage_1_parloop_136620(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123277,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136619
    *futhark_mc_segred_stage_1_parloop_struct_136619 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136619 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136619->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136620_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136620_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136619->free_n_119475;
    int64_t gtid_123272 =
            futhark_mc_segred_stage_1_parloop_struct_136619->free_gtid_123272;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segred_stage_1_parloop_struct_136619->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segred_stage_1_parloop_struct_136619->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segred_stage_1_parloop_struct_136619->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_136619->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_131602 =
            futhark_mc_segred_stage_1_parloop_struct_136619->free_x_131602;
    float x_131603 =
          futhark_mc_segred_stage_1_parloop_struct_136619->free_x_131603;
    float defunc_0_f_res_131606 =
          futhark_mc_segred_stage_1_parloop_struct_136619->free_defunc_0_f_res_131606;
    struct memblock mem_131607 = {.desc ="mem_131607", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136619->free_mem_131607,
                                  .size =0, .references =NULL};
    struct memblock mem_131608 = {.desc ="mem_131608", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136619->free_mem_131608,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131859 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131859",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136619->free_reduce_stage_1_tid_res_arr_mem_131859,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131861 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131861",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136619->free_reduce_stage_1_tid_res_arr_mem_131861,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131863 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131863",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136619->free_reduce_stage_1_tid_res_arr_mem_131863,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131865 = start;
    float x_131808;
    float x_131809;
    float x_131811;
    float x_131812;
    float x_131814;
    float x_131815;
    float local_acc_131866 = 0.0F;
    float local_acc_131867 = 0.0F;
    float local_acc_131868 = 0.0F;
    
    for (; iter_131865 < end; iter_131865++) {
        int64_t gtid_123278 = iter_131865;
        bool cond_131817 = sle64(n_119475, gtid_123278);
        float defunc_0_f_res_131818;
        
        if (cond_131817) {
            defunc_0_f_res_131818 = 0.0F;
        } else {
            int64_t i_131819 = add64(gtid_123278, x_131602);
            float index_primexp_131820 = sitofp_i64_f32(i_131819);
            float defunc_0_f_res_f_res_131821 = 1.0F + index_primexp_131820;
            
            defunc_0_f_res_131818 = defunc_0_f_res_f_res_131821;
        }
        
        float defunc_0_f_res_131822;
        
        if (cond_131817) {
            defunc_0_f_res_131822 = 0.0F;
        } else {
            int64_t i_131823 = add64(gtid_123278, x_131602);
            float x_131824 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_123272 *
                                                    ctx_param_ext_127142 +
                                                    i_131823 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_131822 = x_131824;
        }
        
        float x_j_131825 = defunc_0_f_res_131818 - defunc_0_f_res_131606;
        float abs_res_131826 = (float) fabs(x_j_131825);
        float tmp1_131827 = abs_res_131826 / x_131603;
        float x_131828 = tmp1_131827 * tmp1_131827;
        float y_131829 = tmp1_131827 * x_131828;
        float tmp2_131830 = 1.0F - y_131829;
        float x_131831 = tmp2_131830 * tmp2_131830;
        float tmp3_131832 = tmp2_131830 * x_131831;
        float tmp4_131833 = defunc_0_f_res_131822 * tmp3_131832;
        float defunc_1_f_res_131834 = x_j_131825 * tmp4_131833;
        float defunc_1_f_res_131835 = x_j_131825 * defunc_1_f_res_131834;
        
        // save map-out results
        {
            ((float *) mem_131607.mem)[gtid_123278] = defunc_1_f_res_131834;
            ((float *) mem_131608.mem)[gtid_123278] = tmp4_131833;
        }
        // Load accum params
        {
            x_131808 = local_acc_131866;
        }
        // Load next params
        {
            x_131809 = tmp4_131833;
        }
        // Red body
        {
            float defunc_1_op_res_131810 = x_131808 + x_131809;
            
            local_acc_131866 = defunc_1_op_res_131810;
        }
        // Load accum params
        {
            x_131811 = local_acc_131867;
        }
        // Load next params
        {
            x_131812 = defunc_1_f_res_131834;
        }
        // Red body
        {
            float defunc_1_op_res_131813 = x_131811 + x_131812;
            
            local_acc_131867 = defunc_1_op_res_131813;
        }
        // Load accum params
        {
            x_131814 = local_acc_131868;
        }
        // Load next params
        {
            x_131815 = defunc_1_f_res_131835;
        }
        // Red body
        {
            float defunc_1_op_res_131816 = x_131814 + x_131815;
            
            local_acc_131868 = defunc_1_op_res_131816;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_131859.mem)[flat_tid_123277] =
        local_acc_131866;
    ((float *) reduce_stage_1_tid_res_arr_mem_131861.mem)[flat_tid_123277] =
        local_acc_131867;
    ((float *) reduce_stage_1_tid_res_arr_mem_131863.mem)[flat_tid_123277] =
        local_acc_131868;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136620_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136620_end -
                 futhark_mc_segred_stage_1_parloop_136620_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136620_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136620_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136620_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136615(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123277 = tid;
    int num_tasks_131858 = info.nsubtasks;
    struct futhark_mc_task_136614 *futhark_mc_task_136614 =
                                  (struct futhark_mc_task_136614 *) args;
    struct futhark_context *ctx = futhark_mc_task_136614->ctx;
    uint64_t futhark_mc_segred_task_136615_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136615_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136614->free_n_119475;
    int64_t gtid_123272 = futhark_mc_task_136614->free_gtid_123272;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136614->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136614->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136614->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136614->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_131602 = futhark_mc_task_136614->free_x_131602;
    float x_131603 = futhark_mc_task_136614->free_x_131603;
    float defunc_0_f_res_131606 =
          futhark_mc_task_136614->free_defunc_0_f_res_131606;
    float defunc_2_reduce_res_131609 =
          *futhark_mc_task_136614->retval_defunc_2_reduce_res_131609;
    float defunc_2_reduce_res_131610 =
          *futhark_mc_task_136614->retval_defunc_2_reduce_res_131610;
    float defunc_2_reduce_res_131611 =
          *futhark_mc_task_136614->retval_defunc_2_reduce_res_131611;
    struct memblock mem_131607 = {.desc ="mem_131607", .mem =
                                  futhark_mc_task_136614->retval_mem_131607,
                                  .size =0, .references =NULL};
    struct memblock mem_131608 = {.desc ="mem_131608", .mem =
                                  futhark_mc_task_136614->retval_mem_131608,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_131859_cached_sizze_136616 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131859 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131861_cached_sizze_136617 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131861 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131863_cached_sizze_136618 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131863 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_131859_cached_sizze_136616 <
        (size_t) ((int64_t) 4 * num_tasks_131858)) {
        reduce_stage_1_tid_res_arr_mem_131859 =
            realloc(reduce_stage_1_tid_res_arr_mem_131859, (int64_t) 4 *
                    num_tasks_131858);
        reduce_stage_1_tid_res_arr_mem_131859_cached_sizze_136616 =
            (int64_t) 4 * num_tasks_131858;
    }
    if (reduce_stage_1_tid_res_arr_mem_131861_cached_sizze_136617 <
        (size_t) ((int64_t) 4 * num_tasks_131858)) {
        reduce_stage_1_tid_res_arr_mem_131861 =
            realloc(reduce_stage_1_tid_res_arr_mem_131861, (int64_t) 4 *
                    num_tasks_131858);
        reduce_stage_1_tid_res_arr_mem_131861_cached_sizze_136617 =
            (int64_t) 4 * num_tasks_131858;
    }
    if (reduce_stage_1_tid_res_arr_mem_131863_cached_sizze_136618 <
        (size_t) ((int64_t) 4 * num_tasks_131858)) {
        reduce_stage_1_tid_res_arr_mem_131863 =
            realloc(reduce_stage_1_tid_res_arr_mem_131863, (int64_t) 4 *
                    num_tasks_131858);
        reduce_stage_1_tid_res_arr_mem_131863_cached_sizze_136618 =
            (int64_t) 4 * num_tasks_131858;
    }
    
    int64_t iter_131865;
    struct futhark_mc_segred_stage_1_parloop_struct_136619
    futhark_mc_segred_stage_1_parloop_struct_136619;
    
    futhark_mc_segred_stage_1_parloop_struct_136619.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_gtid_123272 =
        gtid_123272;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_x_131602 = x_131602;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_x_131603 = x_131603;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_defunc_0_f_res_131606 =
        defunc_0_f_res_131606;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_mem_131607 =
        mem_131607.mem;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_mem_131608 =
        mem_131608.mem;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_reduce_stage_1_tid_res_arr_mem_131859 =
        reduce_stage_1_tid_res_arr_mem_131859;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_reduce_stage_1_tid_res_arr_mem_131861 =
        reduce_stage_1_tid_res_arr_mem_131861;
    futhark_mc_segred_stage_1_parloop_struct_136619.free_reduce_stage_1_tid_res_arr_mem_131863 =
        reduce_stage_1_tid_res_arr_mem_131863;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136620_task;
    
    futhark_mc_segred_stage_1_parloop_136620_task.name =
        "futhark_mc_segred_stage_1_parloop_136620";
    futhark_mc_segred_stage_1_parloop_136620_task.fn =
        futhark_mc_segred_stage_1_parloop_136620;
    futhark_mc_segred_stage_1_parloop_136620_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136619;
    futhark_mc_segred_stage_1_parloop_136620_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136620_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136620_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136620_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136620_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136620_task);
    
    if (futhark_mc_segred_stage_1_parloop_136620_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136620_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136620_total_end -
                 futhark_mc_segred_stage_1_parloop_136620_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136620_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136620_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136620_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_131609 = 0.0F;
        defunc_2_reduce_res_131610 = 0.0F;
        defunc_2_reduce_res_131611 = 0.0F;
    }
    
    float x_131869;
    float x_131870;
    float x_131872;
    float x_131873;
    float x_131875;
    float x_131876;
    
    for (int32_t i_131878 = 0; i_131878 < num_tasks_131858; i_131878++) {
        flat_tid_123277 = i_131878;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_131869 = defunc_2_reduce_res_131609;
            }
            // load next params
            {
                x_131870 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131859)[flat_tid_123277];
            }
            // red body
            {
                float defunc_1_op_res_131871 = x_131869 + x_131870;
                
                defunc_2_reduce_res_131609 = defunc_1_op_res_131871;
            }
            // load acc params
            {
                x_131872 = defunc_2_reduce_res_131610;
            }
            // load next params
            {
                x_131873 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131861)[flat_tid_123277];
            }
            // red body
            {
                float defunc_1_op_res_131874 = x_131872 + x_131873;
                
                defunc_2_reduce_res_131610 = defunc_1_op_res_131874;
            }
            // load acc params
            {
                x_131875 = defunc_2_reduce_res_131611;
            }
            // load next params
            {
                x_131876 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131863)[flat_tid_123277];
            }
            // red body
            {
                float defunc_1_op_res_131877 = x_131875 + x_131876;
                
                defunc_2_reduce_res_131611 = defunc_1_op_res_131877;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_131859);
    free(reduce_stage_1_tid_res_arr_mem_131861);
    free(reduce_stage_1_tid_res_arr_mem_131863);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136615_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136615_end -
                 futhark_mc_segred_task_136615_start;
        
        ctx->futhark_mc_segred_task_136615_runs[tid]++;
        ctx->futhark_mc_segred_task_136615_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136615_iter[tid] += iterations;
    }
    *futhark_mc_task_136614->retval_defunc_2_reduce_res_131609 =
        defunc_2_reduce_res_131609;
    *futhark_mc_task_136614->retval_defunc_2_reduce_res_131610 =
        defunc_2_reduce_res_131610;
    *futhark_mc_task_136614->retval_defunc_2_reduce_res_131611 =
        defunc_2_reduce_res_131611;
    futhark_mc_task_136614->retval_mem_131607 = mem_131607.mem;
    futhark_mc_task_136614->retval_mem_131608 = mem_131608.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136621 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123272;
    char *free_mem_127292;
    int64_t free_x_131602;
    char *free_mem_131607;
    char *free_mem_131608;
    float free_a11_131646;
    float free_b11_131648;
    float free_c11_131649;
    float *retval_defunc_2_reduce_res_131650;
    float *retval_defunc_2_reduce_res_131651;
};
struct futhark_mc_segred_stage_1_parloop_struct_136625 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123272;
    char *free_mem_127292;
    int64_t free_x_131602;
    char *free_mem_131607;
    char *free_mem_131608;
    float free_a11_131646;
    float free_b11_131648;
    float free_c11_131649;
    char *free_reduce_stage_1_tid_res_arr_mem_131880;
    char *free_reduce_stage_1_tid_res_arr_mem_131882;
};
static int futhark_mc_segred_stage_1_parloop_136626(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123279,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136625
    *futhark_mc_segred_stage_1_parloop_struct_136625 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136625 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136625->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136626_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136626_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136625->free_n_119475;
    int64_t gtid_123272 =
            futhark_mc_segred_stage_1_parloop_struct_136625->free_gtid_123272;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136625->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_131602 =
            futhark_mc_segred_stage_1_parloop_struct_136625->free_x_131602;
    struct memblock mem_131607 = {.desc ="mem_131607", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136625->free_mem_131607,
                                  .size =0, .references =NULL};
    struct memblock mem_131608 = {.desc ="mem_131608", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136625->free_mem_131608,
                                  .size =0, .references =NULL};
    float a11_131646 =
          futhark_mc_segred_stage_1_parloop_struct_136625->free_a11_131646;
    float b11_131648 =
          futhark_mc_segred_stage_1_parloop_struct_136625->free_b11_131648;
    float c11_131649 =
          futhark_mc_segred_stage_1_parloop_struct_136625->free_c11_131649;
    struct memblock reduce_stage_1_tid_res_arr_mem_131880 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131880",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136625->free_reduce_stage_1_tid_res_arr_mem_131880,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_131882 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_131882",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136625->free_reduce_stage_1_tid_res_arr_mem_131882,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_131884 = start;
    float x_131836;
    float x_131837;
    float x_131839;
    float x_131840;
    float local_acc_131885 = 0.0F;
    float local_acc_131886 = 0.0F;
    
    for (; iter_131884 < end; iter_131884++) {
        int64_t gtid_123280 = iter_131884;
        float x_131842 = ((float *) mem_131608.mem)[gtid_123280];
        float x_131843 = ((float *) mem_131607.mem)[gtid_123280];
        bool cond_131844 = sle64(n_119475, gtid_123280);
        float defunc_0_f_res_131845;
        
        if (cond_131844) {
            defunc_0_f_res_131845 = 0.0F;
        } else {
            int64_t i_131846 = add64(gtid_123280, x_131602);
            float x_131847 = ((float *) mem_127292.mem)[gtid_123272 * n_119475 +
                                                        i_131846];
            
            defunc_0_f_res_131845 = x_131847;
        }
        
        float x_131848 = a11_131646 * x_131842;
        float y_131849 = b11_131648 * x_131843;
        float x_131850 = x_131848 + y_131849;
        float defunc_9_fit_fun_res_131851 = defunc_0_f_res_131845 * x_131850;
        float x_131852 = b11_131648 * x_131842;
        float y_131853 = c11_131649 * x_131843;
        float x_131854 = x_131852 + y_131853;
        float defunc_9_slope_fun_res_131855 = defunc_0_f_res_131845 * x_131854;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_131836 = local_acc_131885;
        }
        // Load next params
        {
            x_131837 = defunc_9_fit_fun_res_131851;
        }
        // Red body
        {
            float defunc_1_op_res_131838 = x_131836 + x_131837;
            
            local_acc_131885 = defunc_1_op_res_131838;
        }
        // Load accum params
        {
            x_131839 = local_acc_131886;
        }
        // Load next params
        {
            x_131840 = defunc_9_slope_fun_res_131855;
        }
        // Red body
        {
            float defunc_1_op_res_131841 = x_131839 + x_131840;
            
            local_acc_131886 = defunc_1_op_res_131841;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_131880.mem)[flat_tid_123279] =
        local_acc_131885;
    ((float *) reduce_stage_1_tid_res_arr_mem_131882.mem)[flat_tid_123279] =
        local_acc_131886;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136626_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136626_end -
                 futhark_mc_segred_stage_1_parloop_136626_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136626_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136626_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136626_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136622(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123279 = tid;
    int num_tasks_131879 = info.nsubtasks;
    struct futhark_mc_task_136621 *futhark_mc_task_136621 =
                                  (struct futhark_mc_task_136621 *) args;
    struct futhark_context *ctx = futhark_mc_task_136621->ctx;
    uint64_t futhark_mc_segred_task_136622_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136622_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136621->free_n_119475;
    int64_t gtid_123272 = futhark_mc_task_136621->free_gtid_123272;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136621->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_131602 = futhark_mc_task_136621->free_x_131602;
    struct memblock mem_131607 = {.desc ="mem_131607", .mem =
                                  futhark_mc_task_136621->free_mem_131607,
                                  .size =0, .references =NULL};
    struct memblock mem_131608 = {.desc ="mem_131608", .mem =
                                  futhark_mc_task_136621->free_mem_131608,
                                  .size =0, .references =NULL};
    float a11_131646 = futhark_mc_task_136621->free_a11_131646;
    float b11_131648 = futhark_mc_task_136621->free_b11_131648;
    float c11_131649 = futhark_mc_task_136621->free_c11_131649;
    float defunc_2_reduce_res_131650 =
          *futhark_mc_task_136621->retval_defunc_2_reduce_res_131650;
    float defunc_2_reduce_res_131651 =
          *futhark_mc_task_136621->retval_defunc_2_reduce_res_131651;
    size_t reduce_stage_1_tid_res_arr_mem_131880_cached_sizze_136623 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131880 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_131882_cached_sizze_136624 = 0;
    char *reduce_stage_1_tid_res_arr_mem_131882 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_131880_cached_sizze_136623 <
        (size_t) ((int64_t) 4 * num_tasks_131879)) {
        reduce_stage_1_tid_res_arr_mem_131880 =
            realloc(reduce_stage_1_tid_res_arr_mem_131880, (int64_t) 4 *
                    num_tasks_131879);
        reduce_stage_1_tid_res_arr_mem_131880_cached_sizze_136623 =
            (int64_t) 4 * num_tasks_131879;
    }
    if (reduce_stage_1_tid_res_arr_mem_131882_cached_sizze_136624 <
        (size_t) ((int64_t) 4 * num_tasks_131879)) {
        reduce_stage_1_tid_res_arr_mem_131882 =
            realloc(reduce_stage_1_tid_res_arr_mem_131882, (int64_t) 4 *
                    num_tasks_131879);
        reduce_stage_1_tid_res_arr_mem_131882_cached_sizze_136624 =
            (int64_t) 4 * num_tasks_131879;
    }
    
    int64_t iter_131884;
    struct futhark_mc_segred_stage_1_parloop_struct_136625
    futhark_mc_segred_stage_1_parloop_struct_136625;
    
    futhark_mc_segred_stage_1_parloop_struct_136625.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_gtid_123272 =
        gtid_123272;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_mem_127292 =
        mem_127292.mem;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_x_131602 = x_131602;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_mem_131607 =
        mem_131607.mem;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_mem_131608 =
        mem_131608.mem;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_a11_131646 =
        a11_131646;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_b11_131648 =
        b11_131648;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_c11_131649 =
        c11_131649;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_reduce_stage_1_tid_res_arr_mem_131880 =
        reduce_stage_1_tid_res_arr_mem_131880;
    futhark_mc_segred_stage_1_parloop_struct_136625.free_reduce_stage_1_tid_res_arr_mem_131882 =
        reduce_stage_1_tid_res_arr_mem_131882;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136626_task;
    
    futhark_mc_segred_stage_1_parloop_136626_task.name =
        "futhark_mc_segred_stage_1_parloop_136626";
    futhark_mc_segred_stage_1_parloop_136626_task.fn =
        futhark_mc_segred_stage_1_parloop_136626;
    futhark_mc_segred_stage_1_parloop_136626_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136625;
    futhark_mc_segred_stage_1_parloop_136626_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136626_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136626_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136626_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136626_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136626_task);
    
    if (futhark_mc_segred_stage_1_parloop_136626_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136626_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136626_total_end -
                 futhark_mc_segred_stage_1_parloop_136626_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136626_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136626_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136626_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_131650 = 0.0F;
        defunc_2_reduce_res_131651 = 0.0F;
    }
    
    float x_131887;
    float x_131888;
    float x_131890;
    float x_131891;
    
    for (int32_t i_131893 = 0; i_131893 < num_tasks_131879; i_131893++) {
        flat_tid_123279 = i_131893;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_131887 = defunc_2_reduce_res_131650;
            }
            // load next params
            {
                x_131888 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131880)[flat_tid_123279];
            }
            // red body
            {
                float defunc_1_op_res_131889 = x_131887 + x_131888;
                
                defunc_2_reduce_res_131650 = defunc_1_op_res_131889;
            }
            // load acc params
            {
                x_131890 = defunc_2_reduce_res_131651;
            }
            // load next params
            {
                x_131891 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_131882)[flat_tid_123279];
            }
            // red body
            {
                float defunc_1_op_res_131892 = x_131890 + x_131891;
                
                defunc_2_reduce_res_131651 = defunc_1_op_res_131892;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_131880);
    free(reduce_stage_1_tid_res_arr_mem_131882);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136622_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136622_end -
                 futhark_mc_segred_task_136622_start;
        
        ctx->futhark_mc_segred_task_136622_runs[tid]++;
        ctx->futhark_mc_segred_task_136622_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136622_iter[tid] += iterations;
    }
    *futhark_mc_task_136621->retval_defunc_2_reduce_res_131650 =
        defunc_2_reduce_res_131650;
    *futhark_mc_task_136621->retval_defunc_2_reduce_res_131651 =
        defunc_2_reduce_res_131651;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136611(void *args, int64_t start,
                                            int64_t end, int flat_tid_123275,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136610
    *futhark_mc_segmap_parloop_struct_136610 =
    (struct futhark_mc_segmap_parloop_struct_136610 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136610->ctx;
    uint64_t futhark_mc_segmap_parloop_136611_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136611_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136610->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136610->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136610->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136610->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136610->free_i_119551;
    int64_t gtid_123272 =
            futhark_mc_segmap_parloop_struct_136610->free_gtid_123272;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136610->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136610->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136610->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136610->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136610->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136610->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136610->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 =
            futhark_mc_segmap_parloop_struct_136610->free_bytes_127470;
    struct memblock mem_127508 = {.desc ="mem_127508", .mem =
                                  futhark_mc_segmap_parloop_struct_136610->free_mem_127508,
                                  .size =0, .references =NULL};
    struct memblock mem_127511 = {.desc ="mem_127511", .mem =
                                  futhark_mc_segmap_parloop_struct_136610->free_mem_127511,
                                  .size =0, .references =NULL};
    size_t mem_131607_cached_sizze_136612 = 0;
    char *mem_131607 = NULL;
    size_t mem_131608_cached_sizze_136613 = 0;
    char *mem_131608 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131807 = start;
    
    if (mem_131607_cached_sizze_136612 < (size_t) bytes_127470) {
        mem_131607 = realloc(mem_131607, bytes_127470);
        mem_131607_cached_sizze_136612 = bytes_127470;
    }
    if (mem_131608_cached_sizze_136613 < (size_t) bytes_127470) {
        mem_131608 = realloc(mem_131608, bytes_127470);
        mem_131608_cached_sizze_136613 = bytes_127470;
    }
    for (; iter_131807 < end; iter_131807++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131856 = l_n_m_119525;
        int64_t gtid_123276 = iter_131807;
        int64_t remnant_131857 = iter_131807 - gtid_123276;
        int64_t x_131602 = ((int64_t *) mem_127048.mem)[gtid_123272 *
                                                        l_n_m_119525 +
                                                        gtid_123276];
        float x_131603 = ((float *) mem_127052.mem)[gtid_123272 * l_n_m_119525 +
                                                    gtid_123276];
        int64_t min_arg_131604 = mul64(t_jump_119482, gtid_123276);
        int64_t min_res_131605 = smin64(i_119551, min_arg_131604);
        float defunc_0_f_res_131606 = sitofp_i64_f32(min_res_131605);
        float defunc_2_reduce_res_131609;
        float defunc_2_reduce_res_131610;
        float defunc_2_reduce_res_131611;
        int64_t flat_tid_123277 = (int64_t) 0;
        int32_t num_tasks_131858;
        struct futhark_mc_task_136614 futhark_mc_task_136614;
        
        futhark_mc_task_136614.ctx = ctx;
        futhark_mc_task_136614.free_n_119475 = n_119475;
        futhark_mc_task_136614.free_gtid_123272 = gtid_123272;
        futhark_mc_task_136614.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136614.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136614.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136614.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136614.free_x_131602 = x_131602;
        futhark_mc_task_136614.free_x_131603 = x_131603;
        futhark_mc_task_136614.free_defunc_0_f_res_131606 =
            defunc_0_f_res_131606;
        futhark_mc_task_136614.retval_defunc_2_reduce_res_131609 =
            &defunc_2_reduce_res_131609;
        futhark_mc_task_136614.retval_defunc_2_reduce_res_131610 =
            &defunc_2_reduce_res_131610;
        futhark_mc_task_136614.retval_defunc_2_reduce_res_131611 =
            &defunc_2_reduce_res_131611;
        futhark_mc_task_136614.retval_mem_131607 = mem_131607;
        futhark_mc_task_136614.retval_mem_131608 = mem_131608;
        
        struct scheduler_segop futhark_mc_task_136614_task;
        
        futhark_mc_task_136614_task.args = &futhark_mc_task_136614;
        futhark_mc_task_136614_task.top_level_fn =
            futhark_mc_segred_task_136615;
        futhark_mc_task_136614_task.name = "futhark_mc_segred_task_136615";
        futhark_mc_task_136614_task.iterations = l_window_119479;
        futhark_mc_task_136614_task.task_time =
            &ctx->futhark_mc_segred_task_136615_total_time;
        futhark_mc_task_136614_task.task_iter =
            &ctx->futhark_mc_segred_task_136615_total_iter;
        futhark_mc_task_136614_task.sched = STATIC;
        futhark_mc_task_136614_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136615_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136614_task);
        
        if (futhark_mc_segred_task_136615_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_131642 = defunc_2_reduce_res_131609 *
              defunc_2_reduce_res_131611;
        float y_131643 = defunc_2_reduce_res_131610 *
              defunc_2_reduce_res_131610;
        float y_131644 = x_131642 - y_131643;
        float det1_131645 = 1.0F / y_131644;
        float a11_131646 = defunc_2_reduce_res_131611 * det1_131645;
        float negate_arg_131647 = defunc_2_reduce_res_131610 * det1_131645;
        float b11_131648 = 0.0F - negate_arg_131647;
        float c11_131649 = defunc_2_reduce_res_131609 * det1_131645;
        float defunc_2_reduce_res_131650;
        float defunc_2_reduce_res_131651;
        int64_t flat_tid_123279 = (int64_t) 0;
        int32_t num_tasks_131879;
        struct futhark_mc_task_136621 futhark_mc_task_136621;
        
        futhark_mc_task_136621.ctx = ctx;
        futhark_mc_task_136621.free_n_119475 = n_119475;
        futhark_mc_task_136621.free_gtid_123272 = gtid_123272;
        futhark_mc_task_136621.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136621.free_x_131602 = x_131602;
        futhark_mc_task_136621.free_mem_131607 = mem_131607;
        futhark_mc_task_136621.free_mem_131608 = mem_131608;
        futhark_mc_task_136621.free_a11_131646 = a11_131646;
        futhark_mc_task_136621.free_b11_131648 = b11_131648;
        futhark_mc_task_136621.free_c11_131649 = c11_131649;
        futhark_mc_task_136621.retval_defunc_2_reduce_res_131650 =
            &defunc_2_reduce_res_131650;
        futhark_mc_task_136621.retval_defunc_2_reduce_res_131651 =
            &defunc_2_reduce_res_131651;
        
        struct scheduler_segop futhark_mc_task_136621_task;
        
        futhark_mc_task_136621_task.args = &futhark_mc_task_136621;
        futhark_mc_task_136621_task.top_level_fn =
            futhark_mc_segred_task_136622;
        futhark_mc_task_136621_task.name = "futhark_mc_segred_task_136622";
        futhark_mc_task_136621_task.iterations = l_window_119479;
        futhark_mc_task_136621_task.task_time =
            &ctx->futhark_mc_segred_task_136622_total_time;
        futhark_mc_task_136621_task.task_iter =
            &ctx->futhark_mc_segred_task_136622_total_iter;
        futhark_mc_task_136621_task.sched = STATIC;
        futhark_mc_task_136621_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136622_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136621_task);
        
        if (futhark_mc_segred_task_136622_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127508.mem)[gtid_123276] = defunc_2_reduce_res_131650;
        ((float *) mem_127511.mem)[gtid_123276] = defunc_2_reduce_res_131651;
    }
    
  cleanup:
    { }
    free(mem_131607);
    free(mem_131608);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136611_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136611_end -
                 futhark_mc_segmap_parloop_136611_start;
        
        ctx->futhark_mc_segmap_parloop_136611_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136611_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136611_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136609(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123275 = tid;
    int num_tasks_131747 = info.nsubtasks;
    struct futhark_mc_task_136603 *futhark_mc_task_136603 =
                                  (struct futhark_mc_task_136603 *) args;
    struct futhark_context *ctx = futhark_mc_task_136603->ctx;
    uint64_t futhark_mc_segmap_nested_task_136609_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136609_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136603->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136603->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136603->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136603->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136603->free_i_119551;
    int64_t gtid_123272 = futhark_mc_task_136603->free_gtid_123272;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136603->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136603->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136603->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136603->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136603->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136603->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136603->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 = futhark_mc_task_136603->free_bytes_127470;
    struct memblock mem_127508 = {.desc ="mem_127508", .mem =
                                  futhark_mc_task_136603->free_mem_127508,
                                  .size =0, .references =NULL};
    struct memblock mem_127511 = {.desc ="mem_127511", .mem =
                                  futhark_mc_task_136603->free_mem_127511,
                                  .size =0, .references =NULL};
    int64_t iter_131807;
    struct futhark_mc_segmap_parloop_struct_136610
    futhark_mc_segmap_parloop_struct_136610;
    
    futhark_mc_segmap_parloop_struct_136610.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136610.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136610.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136610.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136610.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136610.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136610.free_gtid_123272 = gtid_123272;
    futhark_mc_segmap_parloop_struct_136610.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136610.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136610.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136610.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136610.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136610.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136610.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136610.free_bytes_127470 = bytes_127470;
    futhark_mc_segmap_parloop_struct_136610.free_mem_127508 = mem_127508.mem;
    futhark_mc_segmap_parloop_struct_136610.free_mem_127511 = mem_127511.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136611_task;
    
    futhark_mc_segmap_parloop_136611_task.name =
        "futhark_mc_segmap_parloop_136611";
    futhark_mc_segmap_parloop_136611_task.fn = futhark_mc_segmap_parloop_136611;
    futhark_mc_segmap_parloop_136611_task.args =
        &futhark_mc_segmap_parloop_struct_136610;
    futhark_mc_segmap_parloop_136611_task.iterations = iterations;
    futhark_mc_segmap_parloop_136611_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136611_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136611_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136611_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136611_task);
    
    if (futhark_mc_segmap_parloop_136611_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136611_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136611_total_end -
                 futhark_mc_segmap_parloop_136611_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136611_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136611_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136611_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136609_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136609_end -
                 futhark_mc_segmap_nested_task_136609_start;
        
        ctx->futhark_mc_segmap_nested_task_136609_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136609_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136609_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136600(void *args, int64_t start,
                                            int64_t end, int flat_tid_123271,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136599
    *futhark_mc_segmap_parloop_struct_136599 =
    (struct futhark_mc_segmap_parloop_struct_136599 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136599->ctx;
    uint64_t futhark_mc_segmap_parloop_136600_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136600_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136599->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136599->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136599->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136599->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136599->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136599->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136599->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136599->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136599->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136599->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136599->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136599->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136599->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136599->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 =
            futhark_mc_segmap_parloop_struct_136599->free_bytes_127470;
    struct memblock mem_127575 = {.desc ="mem_127575", .mem =
                                  futhark_mc_segmap_parloop_struct_136599->free_mem_127575,
                                  .size =0, .references =NULL};
    struct memblock mem_127579 = {.desc ="mem_127579", .mem =
                                  futhark_mc_segmap_parloop_struct_136599->free_mem_127579,
                                  .size =0, .references =NULL};
    size_t mem_127508_cached_sizze_136601 = 0;
    char *mem_127508 = NULL;
    size_t mem_127511_cached_sizze_136602 = 0;
    char *mem_127511 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131601 = start;
    
    if (mem_127508_cached_sizze_136601 < (size_t) bytes_126994) {
        mem_127508 = realloc(mem_127508, bytes_126994);
        mem_127508_cached_sizze_136601 = bytes_126994;
    }
    if (mem_127511_cached_sizze_136602 < (size_t) bytes_126994) {
        mem_127511 = realloc(mem_127511, bytes_126994);
        mem_127511_cached_sizze_136602 = bytes_126994;
    }
    for (; iter_131601 < end; iter_131601++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_131745 = m_119474;
        int64_t gtid_123272 = iter_131601;
        int64_t remnant_131746 = iter_131601 - gtid_123272;
        int64_t flat_tid_123273 = (int64_t) 0;
        int32_t num_tasks_131747;
        int64_t flat_tid_123275 = (int64_t) 0;
        struct futhark_mc_task_136603 futhark_mc_task_136603;
        
        futhark_mc_task_136603.ctx = ctx;
        futhark_mc_task_136603.free_n_119475 = n_119475;
        futhark_mc_task_136603.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136603.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136603.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136603.free_i_119551 = i_119551;
        futhark_mc_task_136603.free_gtid_123272 = gtid_123272;
        futhark_mc_task_136603.free_mem_127048 = mem_127048.mem;
        futhark_mc_task_136603.free_mem_127052 = mem_127052.mem;
        futhark_mc_task_136603.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136603.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136603.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136603.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136603.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136603.free_bytes_127470 = bytes_127470;
        futhark_mc_task_136603.free_mem_127508 = mem_127508;
        futhark_mc_task_136603.free_mem_127511 = mem_127511;
        
        struct scheduler_segop futhark_mc_task_136603_task;
        
        futhark_mc_task_136603_task.args = &futhark_mc_task_136603;
        futhark_mc_task_136603_task.top_level_fn =
            futhark_mc_segmap_task_136604;
        futhark_mc_task_136603_task.name = "futhark_mc_segmap_task_136604";
        futhark_mc_task_136603_task.iterations = l_n_m_119525;
        futhark_mc_task_136603_task.task_time =
            &ctx->futhark_mc_segmap_task_136604_total_time;
        futhark_mc_task_136603_task.task_iter =
            &ctx->futhark_mc_segmap_task_136604_total_iter;
        futhark_mc_task_136603_task.sched = STATIC;
        futhark_mc_task_136603_task.nested_fn =
            futhark_mc_segmap_nested_task_136609;
        
        int futhark_mc_segmap_task_136604_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136603_task);
        
        if (futhark_mc_segmap_task_136604_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127575.mem + gtid_123272 * l_n_m_119525 * (int64_t) 4,
                mem_127508 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127579.mem + gtid_123272 * l_n_m_119525 * (int64_t) 4,
                mem_127511 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127508);
    free(mem_127511);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136600_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136600_end -
                 futhark_mc_segmap_parloop_136600_start;
        
        ctx->futhark_mc_segmap_parloop_136600_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136600_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136600_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136598(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123271 = tid;
    int num_tasks_131512 = info.nsubtasks;
    struct futhark_mc_task_136590 *futhark_mc_task_136590 =
                                  (struct futhark_mc_task_136590 *) args;
    struct futhark_context *ctx = futhark_mc_task_136590->ctx;
    uint64_t futhark_mc_segmap_nested_task_136598_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136598_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136590->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136590->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136590->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136590->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136590->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136590->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136590->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136590->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136590->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136590->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136590->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136590->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136590->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136590->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127470 = futhark_mc_task_136590->free_bytes_127470;
    struct memblock mem_127575 = {.desc ="mem_127575", .mem =
                                  futhark_mc_task_136590->free_mem_127575,
                                  .size =0, .references =NULL};
    struct memblock mem_127579 = {.desc ="mem_127579", .mem =
                                  futhark_mc_task_136590->free_mem_127579,
                                  .size =0, .references =NULL};
    int64_t iter_131601;
    struct futhark_mc_segmap_parloop_struct_136599
    futhark_mc_segmap_parloop_struct_136599;
    
    futhark_mc_segmap_parloop_struct_136599.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136599.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136599.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136599.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136599.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136599.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136599.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136599.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136599.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136599.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136599.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136599.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136599.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136599.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136599.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136599.free_bytes_127470 = bytes_127470;
    futhark_mc_segmap_parloop_struct_136599.free_mem_127575 = mem_127575.mem;
    futhark_mc_segmap_parloop_struct_136599.free_mem_127579 = mem_127579.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136600_task;
    
    futhark_mc_segmap_parloop_136600_task.name =
        "futhark_mc_segmap_parloop_136600";
    futhark_mc_segmap_parloop_136600_task.fn = futhark_mc_segmap_parloop_136600;
    futhark_mc_segmap_parloop_136600_task.args =
        &futhark_mc_segmap_parloop_struct_136599;
    futhark_mc_segmap_parloop_136600_task.iterations = iterations;
    futhark_mc_segmap_parloop_136600_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136600_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136600_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136600_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136600_task);
    
    if (futhark_mc_segmap_parloop_136600_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136600_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136600_total_end -
                 futhark_mc_segmap_parloop_136600_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136600_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136600_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136600_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136598_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136598_end -
                 futhark_mc_segmap_nested_task_136598_start;
        
        ctx->futhark_mc_segmap_nested_task_136598_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136598_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136598_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136627 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127580;
    char *free_mem_127751;
    char *free_mem_127755;
};
struct futhark_mc_segmap_parloop_struct_136629 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127580;
    char *free_mem_127751;
    char *free_mem_127755;
};
static int futhark_mc_segmap_parloop_136630(void *args, int64_t start,
                                            int64_t end, int flat_tid_123500,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136629
    *futhark_mc_segmap_parloop_struct_136629 =
    (struct futhark_mc_segmap_parloop_struct_136629 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136629->ctx;
    uint64_t futhark_mc_segmap_parloop_136630_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136630_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136629->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136629->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136629->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136629->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136629->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136629->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136629->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136629->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136629->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136629->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136629->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136629->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136629->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136629->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 =
            futhark_mc_segmap_parloop_struct_136629->free_bytes_127580;
    struct memblock mem_127751 = {.desc ="mem_127751", .mem =
                                  futhark_mc_segmap_parloop_struct_136629->free_mem_127751,
                                  .size =0, .references =NULL};
    struct memblock mem_127755 = {.desc ="mem_127755", .mem =
                                  futhark_mc_segmap_parloop_struct_136629->free_mem_127755,
                                  .size =0, .references =NULL};
    size_t mem_127660_cached_sizze_136631 = 0;
    char *mem_127660 = NULL;
    size_t mem_127663_cached_sizze_136632 = 0;
    char *mem_127663 = NULL;
    size_t mem_127680_cached_sizze_136633 = 0;
    char *mem_127680 = NULL;
    size_t mem_127683_cached_sizze_136634 = 0;
    char *mem_127683 = NULL;
    size_t mem_127710_cached_sizze_136635 = 0;
    char *mem_127710 = NULL;
    size_t mem_127713_cached_sizze_136636 = 0;
    char *mem_127713 = NULL;
    int64_t iterations = end - start;
    int64_t iter_131895 = start;
    
    if (mem_127660_cached_sizze_136631 < (size_t) bytes_126994) {
        mem_127660 = realloc(mem_127660, bytes_126994);
        mem_127660_cached_sizze_136631 = bytes_126994;
    }
    if (mem_127663_cached_sizze_136632 < (size_t) bytes_126994) {
        mem_127663 = realloc(mem_127663, bytes_126994);
        mem_127663_cached_sizze_136632 = bytes_126994;
    }
    if (mem_127680_cached_sizze_136633 < (size_t) bytes_127580) {
        mem_127680 = realloc(mem_127680, bytes_127580);
        mem_127680_cached_sizze_136633 = bytes_127580;
    }
    if (mem_127683_cached_sizze_136634 < (size_t) bytes_127580) {
        mem_127683 = realloc(mem_127683, bytes_127580);
        mem_127683_cached_sizze_136634 = bytes_127580;
    }
    if (mem_127710_cached_sizze_136635 < (size_t) bytes_127580) {
        mem_127710 = realloc(mem_127710, bytes_127580);
        mem_127710_cached_sizze_136635 = bytes_127580;
    }
    if (mem_127713_cached_sizze_136636 < (size_t) bytes_127580) {
        mem_127713 = realloc(mem_127713, bytes_127580);
        mem_127713_cached_sizze_136636 = bytes_127580;
    }
    for (; iter_131895 < end; iter_131895++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132013 = m_119474;
        int64_t gtid_123501 = iter_131895;
        int64_t remnant_132014 = iter_131895 - gtid_123501;
        
        for (int64_t i_131896 = 0; i_131896 < l_n_m_119525; i_131896++) {
            int64_t x_131899 = ((int64_t *) mem_127048.mem)[gtid_123501 *
                                                            l_n_m_119525 +
                                                            i_131896];
            float x_131900 = ((float *) mem_127052.mem)[gtid_123501 *
                                                        l_n_m_119525 +
                                                        i_131896];
            int64_t min_arg_131901 = mul64(t_jump_119482, i_131896);
            int64_t min_res_131902 = smin64(i_119551, min_arg_131901);
            float defunc_0_f_res_131903 = sitofp_i64_f32(min_res_131902);
            
            for (int64_t i_131908 = 0; i_131908 < l_window_119479; i_131908++) {
                bool cond_131911 = sle64(n_119475, i_131908);
                float defunc_0_f_res_131912;
                
                if (cond_131911) {
                    defunc_0_f_res_131912 = 0.0F;
                } else {
                    int64_t i_131913 = add64(x_131899, i_131908);
                    float index_primexp_131914 = sitofp_i64_f32(i_131913);
                    float defunc_0_f_res_f_res_131915 = 1.0F +
                          index_primexp_131914;
                    
                    defunc_0_f_res_131912 = defunc_0_f_res_f_res_131915;
                }
                
                float defunc_0_f_res_131916;
                
                if (cond_131911) {
                    defunc_0_f_res_131916 = 0.0F;
                } else {
                    int64_t i_131917 = add64(x_131899, i_131908);
                    float x_131918 =
                          ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                           (gtid_123501 *
                                                            ctx_param_ext_127142 +
                                                            i_131917 *
                                                            ctx_param_ext_127144)];
                    
                    defunc_0_f_res_131916 = x_131918;
                }
                
                float x_j_131919 = defunc_0_f_res_131912 -
                      defunc_0_f_res_131903;
                float abs_res_131920 = (float) fabs(x_j_131919);
                float tmp1_131921 = abs_res_131920 / x_131900;
                float x_131922 = tmp1_131921 * tmp1_131921;
                float y_131923 = tmp1_131921 * x_131922;
                float tmp2_131924 = 1.0F - y_131923;
                float x_131925 = tmp2_131924 * tmp2_131924;
                float tmp3_131926 = tmp2_131924 * x_131925;
                float tmp4_131927 = defunc_0_f_res_131916 * tmp3_131926;
                
                ((float *) mem_127680)[i_131908] = x_j_131919;
                ((float *) mem_127683)[i_131908] = tmp4_131927;
            }
            
            float defunc_2_reduce_res_131932;
            float defunc_2_reduce_res_131933;
            float defunc_2_reduce_res_131934;
            float defunc_2_reduce_res_131935;
            float defunc_2_reduce_res_131936;
            float redout_131940;
            float redout_131941;
            float redout_131942;
            float redout_131943;
            float redout_131944;
            
            redout_131940 = 0.0F;
            redout_131941 = 0.0F;
            redout_131942 = 0.0F;
            redout_131943 = 0.0F;
            redout_131944 = 0.0F;
            for (int64_t i_131939 = 0; i_131939 < l_window_119479; i_131939++) {
                float x_131947 = ((float *) mem_127680)[i_131939];
                float x_131948 = ((float *) mem_127683)[i_131939];
                float defunc_1_f_res_131949 = x_131947 * x_131948;
                float defunc_1_f_res_131950 = x_131947 * defunc_1_f_res_131949;
                float defunc_1_f_res_131951 = x_131947 * defunc_1_f_res_131950;
                float defunc_1_f_res_131952 = x_131947 * defunc_1_f_res_131951;
                float defunc_1_op_res_131953 = x_131948 + redout_131940;
                float defunc_1_op_res_131954 = defunc_1_f_res_131949 +
                      redout_131941;
                float defunc_1_op_res_131955 = defunc_1_f_res_131950 +
                      redout_131942;
                float defunc_1_op_res_131956 = defunc_1_f_res_131951 +
                      redout_131943;
                float defunc_1_op_res_131957 = defunc_1_f_res_131952 +
                      redout_131944;
                
                ((float *) mem_127710)[i_131939] = defunc_1_f_res_131950;
                ((float *) mem_127713)[i_131939] = defunc_1_f_res_131949;
                
                float redout_tmp_132019 = defunc_1_op_res_131953;
                float redout_tmp_132020 = defunc_1_op_res_131954;
                float redout_tmp_132021 = defunc_1_op_res_131955;
                float redout_tmp_132022 = defunc_1_op_res_131956;
                float redout_tmp_132023 = defunc_1_op_res_131957;
                
                redout_131940 = redout_tmp_132019;
                redout_131941 = redout_tmp_132020;
                redout_131942 = redout_tmp_132021;
                redout_131943 = redout_tmp_132022;
                redout_131944 = redout_tmp_132023;
            }
            defunc_2_reduce_res_131932 = redout_131940;
            defunc_2_reduce_res_131933 = redout_131941;
            defunc_2_reduce_res_131934 = redout_131942;
            defunc_2_reduce_res_131935 = redout_131943;
            defunc_2_reduce_res_131936 = redout_131944;
            
            float x_131960 = defunc_2_reduce_res_131934 *
                  defunc_2_reduce_res_131936;
            float y_131961 = defunc_2_reduce_res_131935 *
                  defunc_2_reduce_res_131935;
            float a12_131962 = x_131960 - y_131961;
            float x_131963 = defunc_2_reduce_res_131934 *
                  defunc_2_reduce_res_131935;
            float y_131964 = defunc_2_reduce_res_131933 *
                  defunc_2_reduce_res_131936;
            float b12_131965 = x_131963 - y_131964;
            float x_131966 = defunc_2_reduce_res_131933 *
                  defunc_2_reduce_res_131935;
            float y_131967 = defunc_2_reduce_res_131934 *
                  defunc_2_reduce_res_131934;
            float c12_131968 = x_131966 - y_131967;
            float x_131969 = defunc_2_reduce_res_131932 *
                  defunc_2_reduce_res_131936;
            float b2_131970 = x_131969 - y_131967;
            float x_131971 = defunc_2_reduce_res_131933 *
                  defunc_2_reduce_res_131934;
            float y_131972 = defunc_2_reduce_res_131932 *
                  defunc_2_reduce_res_131935;
            float c2_131973 = x_131971 - y_131972;
            float x_131974 = defunc_2_reduce_res_131932 * a12_131962;
            float y_131975 = defunc_2_reduce_res_131933 * b12_131965;
            float x_131976 = x_131974 + y_131975;
            float y_131977 = defunc_2_reduce_res_131934 * c12_131968;
            float y_131978 = x_131976 + y_131977;
            float det_131979 = 1.0F / y_131978;
            float a12_131980 = a12_131962 * det_131979;
            float b12_131981 = b12_131965 * det_131979;
            float c12_131982 = c12_131968 * det_131979;
            float b2_131983 = b2_131970 * det_131979;
            float c2_131984 = c2_131973 * det_131979;
            float defunc_2_reduce_res_131985;
            float defunc_2_reduce_res_131986;
            float redout_131988;
            float redout_131989;
            
            redout_131988 = 0.0F;
            redout_131989 = 0.0F;
            for (int64_t i_131987 = 0; i_131987 < l_window_119479; i_131987++) {
                float x_131990 = ((float *) mem_127683)[i_131987];
                float x_131991 = ((float *) mem_127713)[i_131987];
                float x_131992 = ((float *) mem_127710)[i_131987];
                bool cond_131993 = sle64(n_119475, i_131987);
                float defunc_0_f_res_131994;
                
                if (cond_131993) {
                    defunc_0_f_res_131994 = 0.0F;
                } else {
                    int64_t i_131995 = add64(x_131899, i_131987);
                    float x_131996 = ((float *) mem_127292.mem)[gtid_123501 *
                                                                n_119475 +
                                                                i_131995];
                    
                    defunc_0_f_res_131994 = x_131996;
                }
                
                float x_131997 = a12_131980 * x_131990;
                float y_131998 = b12_131981 * x_131991;
                float x_131999 = x_131997 + y_131998;
                float y_132000 = c12_131982 * x_131992;
                float x_132001 = x_131999 + y_132000;
                float defunc_9_fit_fun_res_132002 = defunc_0_f_res_131994 *
                      x_132001;
                float x_132003 = b12_131981 * x_131990;
                float y_132004 = b2_131983 * x_131991;
                float x_132005 = x_132003 + y_132004;
                float y_132006 = c2_131984 * x_131992;
                float x_132007 = x_132005 + y_132006;
                float defunc_9_slope_fun_res_132008 = defunc_0_f_res_131994 *
                      x_132007;
                float defunc_1_op_res_132009 = defunc_9_fit_fun_res_132002 +
                      redout_131988;
                float defunc_1_op_res_132010 = defunc_9_slope_fun_res_132008 +
                      redout_131989;
                float redout_tmp_132026 = defunc_1_op_res_132009;
                float redout_tmp_132027 = defunc_1_op_res_132010;
                
                redout_131988 = redout_tmp_132026;
                redout_131989 = redout_tmp_132027;
            }
            defunc_2_reduce_res_131985 = redout_131988;
            defunc_2_reduce_res_131986 = redout_131989;
            ((float *) mem_127660)[i_131896] = defunc_2_reduce_res_131985;
            ((float *) mem_127663)[i_131896] = defunc_2_reduce_res_131986;
        }
        memmove(mem_127751.mem + gtid_123501 * l_n_m_119525 * (int64_t) 4,
                mem_127660 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127755.mem + gtid_123501 * l_n_m_119525 * (int64_t) 4,
                mem_127663 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127660);
    free(mem_127663);
    free(mem_127680);
    free(mem_127683);
    free(mem_127710);
    free(mem_127713);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136630_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136630_end -
                 futhark_mc_segmap_parloop_136630_start;
        
        ctx->futhark_mc_segmap_parloop_136630_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136630_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136630_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136628(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123500 = tid;
    int num_tasks_131894 = info.nsubtasks;
    struct futhark_mc_task_136627 *futhark_mc_task_136627 =
                                  (struct futhark_mc_task_136627 *) args;
    struct futhark_context *ctx = futhark_mc_task_136627->ctx;
    uint64_t futhark_mc_segmap_task_136628_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136628_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136627->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136627->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136627->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136627->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136627->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136627->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136627->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136627->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136627->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136627->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136627->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136627->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136627->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136627->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 = futhark_mc_task_136627->free_bytes_127580;
    struct memblock mem_127751 = {.desc ="mem_127751", .mem =
                                  futhark_mc_task_136627->free_mem_127751,
                                  .size =0, .references =NULL};
    struct memblock mem_127755 = {.desc ="mem_127755", .mem =
                                  futhark_mc_task_136627->free_mem_127755,
                                  .size =0, .references =NULL};
    int64_t iter_131895;
    struct futhark_mc_segmap_parloop_struct_136629
    futhark_mc_segmap_parloop_struct_136629;
    
    futhark_mc_segmap_parloop_struct_136629.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136629.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136629.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136629.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136629.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136629.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136629.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136629.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136629.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136629.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136629.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136629.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136629.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136629.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136629.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136629.free_bytes_127580 = bytes_127580;
    futhark_mc_segmap_parloop_struct_136629.free_mem_127751 = mem_127751.mem;
    futhark_mc_segmap_parloop_struct_136629.free_mem_127755 = mem_127755.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136630_task;
    
    futhark_mc_segmap_parloop_136630_task.name =
        "futhark_mc_segmap_parloop_136630";
    futhark_mc_segmap_parloop_136630_task.fn = futhark_mc_segmap_parloop_136630;
    futhark_mc_segmap_parloop_136630_task.args =
        &futhark_mc_segmap_parloop_struct_136629;
    futhark_mc_segmap_parloop_136630_task.iterations = iterations;
    futhark_mc_segmap_parloop_136630_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136630_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136630_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136630_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136630_task);
    
    if (futhark_mc_segmap_parloop_136630_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136630_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136630_total_end -
                 futhark_mc_segmap_parloop_136630_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136630_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136630_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136630_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136628_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136628_end -
                 futhark_mc_segmap_task_136628_start;
        
        ctx->futhark_mc_segmap_task_136628_runs[tid]++;
        ctx->futhark_mc_segmap_task_136628_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136628_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136638 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_bytes_126994;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127580;
    char *free_mem_127751;
    char *free_mem_127755;
};
struct futhark_mc_task_136642 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123503;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127580;
    char *free_mem_127654;
    char *free_mem_127657;
};
struct futhark_mc_segmap_parloop_struct_136644 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123503;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127580;
    char *free_mem_127654;
    char *free_mem_127657;
};
static int futhark_mc_segmap_parloop_136645(void *args, int64_t start,
                                            int64_t end, int flat_tid_123504,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136644
    *futhark_mc_segmap_parloop_struct_136644 =
    (struct futhark_mc_segmap_parloop_struct_136644 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136644->ctx;
    uint64_t futhark_mc_segmap_parloop_136645_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136645_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136644->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136644->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136644->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136644->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136644->free_i_119551;
    int64_t gtid_123503 =
            futhark_mc_segmap_parloop_struct_136644->free_gtid_123503;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136644->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136644->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136644->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136644->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136644->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136644->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136644->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 =
            futhark_mc_segmap_parloop_struct_136644->free_bytes_127580;
    struct memblock mem_127654 = {.desc ="mem_127654", .mem =
                                  futhark_mc_segmap_parloop_struct_136644->free_mem_127654,
                                  .size =0, .references =NULL};
    struct memblock mem_127657 = {.desc ="mem_127657", .mem =
                                  futhark_mc_segmap_parloop_struct_136644->free_mem_127657,
                                  .size =0, .references =NULL};
    size_t mem_132142_cached_sizze_136646 = 0;
    char *mem_132142 = NULL;
    size_t mem_132144_cached_sizze_136647 = 0;
    char *mem_132144 = NULL;
    size_t mem_132170_cached_sizze_136648 = 0;
    char *mem_132170 = NULL;
    size_t mem_132172_cached_sizze_136649 = 0;
    char *mem_132172 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132256 = start;
    
    if (mem_132142_cached_sizze_136646 < (size_t) bytes_127580) {
        mem_132142 = realloc(mem_132142, bytes_127580);
        mem_132142_cached_sizze_136646 = bytes_127580;
    }
    if (mem_132144_cached_sizze_136647 < (size_t) bytes_127580) {
        mem_132144 = realloc(mem_132144, bytes_127580);
        mem_132144_cached_sizze_136647 = bytes_127580;
    }
    if (mem_132170_cached_sizze_136648 < (size_t) bytes_127580) {
        mem_132170 = realloc(mem_132170, bytes_127580);
        mem_132170_cached_sizze_136648 = bytes_127580;
    }
    if (mem_132172_cached_sizze_136649 < (size_t) bytes_127580) {
        mem_132172 = realloc(mem_132172, bytes_127580);
        mem_132172_cached_sizze_136649 = bytes_127580;
    }
    for (; iter_132256 < end; iter_132256++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132324 = l_n_m_119525;
        int64_t gtid_123505 = iter_132256;
        int64_t remnant_132325 = iter_132256 - gtid_123505;
        int64_t x_132137 = ((int64_t *) mem_127048.mem)[gtid_123503 *
                                                        l_n_m_119525 +
                                                        gtid_123505];
        float x_132138 = ((float *) mem_127052.mem)[gtid_123503 * l_n_m_119525 +
                                                    gtid_123505];
        int64_t min_arg_132139 = mul64(t_jump_119482, gtid_123505);
        int64_t min_res_132140 = smin64(i_119551, min_arg_132139);
        float defunc_0_f_res_132141 = sitofp_i64_f32(min_res_132140);
        
        for (int64_t i_132257 = 0; i_132257 < l_window_119479; i_132257++) {
            bool cond_132260 = sle64(n_119475, i_132257);
            float defunc_0_f_res_132261;
            
            if (cond_132260) {
                defunc_0_f_res_132261 = 0.0F;
            } else {
                int64_t i_132262 = add64(x_132137, i_132257);
                float index_primexp_132263 = sitofp_i64_f32(i_132262);
                float defunc_0_f_res_f_res_132264 = 1.0F + index_primexp_132263;
                
                defunc_0_f_res_132261 = defunc_0_f_res_f_res_132264;
            }
            
            float defunc_0_f_res_132265;
            
            if (cond_132260) {
                defunc_0_f_res_132265 = 0.0F;
            } else {
                int64_t i_132266 = add64(x_132137, i_132257);
                float x_132267 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_123503 *
                                                        ctx_param_ext_127142 +
                                                        i_132266 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_132265 = x_132267;
            }
            
            float x_j_132268 = defunc_0_f_res_132261 - defunc_0_f_res_132141;
            float abs_res_132269 = (float) fabs(x_j_132268);
            float tmp1_132270 = abs_res_132269 / x_132138;
            float x_132271 = tmp1_132270 * tmp1_132270;
            float y_132272 = tmp1_132270 * x_132271;
            float tmp2_132273 = 1.0F - y_132272;
            float x_132274 = tmp2_132273 * tmp2_132273;
            float tmp3_132275 = tmp2_132273 * x_132274;
            float tmp4_132276 = defunc_0_f_res_132265 * tmp3_132275;
            
            ((float *) mem_132142)[i_132257] = x_j_132268;
            ((float *) mem_132144)[i_132257] = tmp4_132276;
        }
        
        float defunc_2_reduce_res_132174;
        float defunc_2_reduce_res_132175;
        float defunc_2_reduce_res_132176;
        float defunc_2_reduce_res_132177;
        float defunc_2_reduce_res_132178;
        float redout_132280;
        float redout_132281;
        float redout_132282;
        float redout_132283;
        float redout_132284;
        
        redout_132280 = 0.0F;
        redout_132281 = 0.0F;
        redout_132282 = 0.0F;
        redout_132283 = 0.0F;
        redout_132284 = 0.0F;
        for (int64_t i_132279 = 0; i_132279 < l_window_119479; i_132279++) {
            float x_132287 = ((float *) mem_132142)[i_132279];
            float x_132288 = ((float *) mem_132144)[i_132279];
            float defunc_1_f_res_132289 = x_132287 * x_132288;
            float defunc_1_f_res_132290 = x_132287 * defunc_1_f_res_132289;
            float defunc_1_f_res_132291 = x_132287 * defunc_1_f_res_132290;
            float defunc_1_f_res_132292 = x_132287 * defunc_1_f_res_132291;
            float defunc_1_op_res_132293 = x_132288 + redout_132280;
            float defunc_1_op_res_132294 = defunc_1_f_res_132289 +
                  redout_132281;
            float defunc_1_op_res_132295 = defunc_1_f_res_132290 +
                  redout_132282;
            float defunc_1_op_res_132296 = defunc_1_f_res_132291 +
                  redout_132283;
            float defunc_1_op_res_132297 = defunc_1_f_res_132292 +
                  redout_132284;
            
            ((float *) mem_132170)[i_132279] = defunc_1_f_res_132290;
            ((float *) mem_132172)[i_132279] = defunc_1_f_res_132289;
            
            float redout_tmp_132328 = defunc_1_op_res_132293;
            float redout_tmp_132329 = defunc_1_op_res_132294;
            float redout_tmp_132330 = defunc_1_op_res_132295;
            float redout_tmp_132331 = defunc_1_op_res_132296;
            float redout_tmp_132332 = defunc_1_op_res_132297;
            
            redout_132280 = redout_tmp_132328;
            redout_132281 = redout_tmp_132329;
            redout_132282 = redout_tmp_132330;
            redout_132283 = redout_tmp_132331;
            redout_132284 = redout_tmp_132332;
        }
        defunc_2_reduce_res_132174 = redout_132280;
        defunc_2_reduce_res_132175 = redout_132281;
        defunc_2_reduce_res_132176 = redout_132282;
        defunc_2_reduce_res_132177 = redout_132283;
        defunc_2_reduce_res_132178 = redout_132284;
        
        float x_132202 = defunc_2_reduce_res_132176 *
              defunc_2_reduce_res_132178;
        float y_132203 = defunc_2_reduce_res_132177 *
              defunc_2_reduce_res_132177;
        float a12_132204 = x_132202 - y_132203;
        float x_132205 = defunc_2_reduce_res_132176 *
              defunc_2_reduce_res_132177;
        float y_132206 = defunc_2_reduce_res_132175 *
              defunc_2_reduce_res_132178;
        float b12_132207 = x_132205 - y_132206;
        float x_132208 = defunc_2_reduce_res_132175 *
              defunc_2_reduce_res_132177;
        float y_132209 = defunc_2_reduce_res_132176 *
              defunc_2_reduce_res_132176;
        float c12_132210 = x_132208 - y_132209;
        float x_132211 = defunc_2_reduce_res_132174 *
              defunc_2_reduce_res_132178;
        float b2_132212 = x_132211 - y_132209;
        float x_132213 = defunc_2_reduce_res_132175 *
              defunc_2_reduce_res_132176;
        float y_132214 = defunc_2_reduce_res_132174 *
              defunc_2_reduce_res_132177;
        float c2_132215 = x_132213 - y_132214;
        float x_132216 = defunc_2_reduce_res_132174 * a12_132204;
        float y_132217 = defunc_2_reduce_res_132175 * b12_132207;
        float x_132218 = x_132216 + y_132217;
        float y_132219 = defunc_2_reduce_res_132176 * c12_132210;
        float y_132220 = x_132218 + y_132219;
        float det_132221 = 1.0F / y_132220;
        float a12_132222 = a12_132204 * det_132221;
        float b12_132223 = b12_132207 * det_132221;
        float c12_132224 = c12_132210 * det_132221;
        float b2_132225 = b2_132212 * det_132221;
        float c2_132226 = c2_132215 * det_132221;
        float defunc_2_reduce_res_132227;
        float defunc_2_reduce_res_132228;
        float redout_132301;
        float redout_132302;
        
        redout_132301 = 0.0F;
        redout_132302 = 0.0F;
        for (int64_t i_132300 = 0; i_132300 < l_window_119479; i_132300++) {
            float x_132303 = ((float *) mem_132144)[i_132300];
            float x_132304 = ((float *) mem_132172)[i_132300];
            float x_132305 = ((float *) mem_132170)[i_132300];
            bool cond_132306 = sle64(n_119475, i_132300);
            float defunc_0_f_res_132307;
            
            if (cond_132306) {
                defunc_0_f_res_132307 = 0.0F;
            } else {
                int64_t i_132308 = add64(x_132137, i_132300);
                float x_132309 = ((float *) mem_127292.mem)[gtid_123503 *
                                                            n_119475 +
                                                            i_132308];
                
                defunc_0_f_res_132307 = x_132309;
            }
            
            float x_132310 = a12_132222 * x_132303;
            float y_132311 = b12_132223 * x_132304;
            float x_132312 = x_132310 + y_132311;
            float y_132313 = c12_132224 * x_132305;
            float x_132314 = x_132312 + y_132313;
            float defunc_9_fit_fun_res_132315 = defunc_0_f_res_132307 *
                  x_132314;
            float x_132316 = b12_132223 * x_132303;
            float y_132317 = b2_132225 * x_132304;
            float x_132318 = x_132316 + y_132317;
            float y_132319 = c2_132226 * x_132305;
            float x_132320 = x_132318 + y_132319;
            float defunc_9_slope_fun_res_132321 = defunc_0_f_res_132307 *
                  x_132320;
            float defunc_1_op_res_132322 = defunc_9_fit_fun_res_132315 +
                  redout_132301;
            float defunc_1_op_res_132323 = defunc_9_slope_fun_res_132321 +
                  redout_132302;
            float redout_tmp_132335 = defunc_1_op_res_132322;
            float redout_tmp_132336 = defunc_1_op_res_132323;
            
            redout_132301 = redout_tmp_132335;
            redout_132302 = redout_tmp_132336;
        }
        defunc_2_reduce_res_132227 = redout_132301;
        defunc_2_reduce_res_132228 = redout_132302;
        ((float *) mem_127654.mem)[gtid_123505] = defunc_2_reduce_res_132227;
        ((float *) mem_127657.mem)[gtid_123505] = defunc_2_reduce_res_132228;
    }
    
  cleanup:
    { }
    free(mem_132142);
    free(mem_132144);
    free(mem_132170);
    free(mem_132172);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136645_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136645_end -
                 futhark_mc_segmap_parloop_136645_start;
        
        ctx->futhark_mc_segmap_parloop_136645_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136645_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136645_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136643(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123504 = tid;
    int num_tasks_132255 = info.nsubtasks;
    struct futhark_mc_task_136642 *futhark_mc_task_136642 =
                                  (struct futhark_mc_task_136642 *) args;
    struct futhark_context *ctx = futhark_mc_task_136642->ctx;
    uint64_t futhark_mc_segmap_task_136643_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136643_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136642->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136642->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136642->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136642->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136642->free_i_119551;
    int64_t gtid_123503 = futhark_mc_task_136642->free_gtid_123503;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136642->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136642->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136642->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136642->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136642->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136642->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136642->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 = futhark_mc_task_136642->free_bytes_127580;
    struct memblock mem_127654 = {.desc ="mem_127654", .mem =
                                  futhark_mc_task_136642->free_mem_127654,
                                  .size =0, .references =NULL};
    struct memblock mem_127657 = {.desc ="mem_127657", .mem =
                                  futhark_mc_task_136642->free_mem_127657,
                                  .size =0, .references =NULL};
    int64_t iter_132256;
    struct futhark_mc_segmap_parloop_struct_136644
    futhark_mc_segmap_parloop_struct_136644;
    
    futhark_mc_segmap_parloop_struct_136644.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136644.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136644.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136644.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136644.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136644.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136644.free_gtid_123503 = gtid_123503;
    futhark_mc_segmap_parloop_struct_136644.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136644.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136644.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136644.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136644.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136644.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136644.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136644.free_bytes_127580 = bytes_127580;
    futhark_mc_segmap_parloop_struct_136644.free_mem_127654 = mem_127654.mem;
    futhark_mc_segmap_parloop_struct_136644.free_mem_127657 = mem_127657.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136645_task;
    
    futhark_mc_segmap_parloop_136645_task.name =
        "futhark_mc_segmap_parloop_136645";
    futhark_mc_segmap_parloop_136645_task.fn = futhark_mc_segmap_parloop_136645;
    futhark_mc_segmap_parloop_136645_task.args =
        &futhark_mc_segmap_parloop_struct_136644;
    futhark_mc_segmap_parloop_136645_task.iterations = iterations;
    futhark_mc_segmap_parloop_136645_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136645_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136645_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136645_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136645_task);
    
    if (futhark_mc_segmap_parloop_136645_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136645_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136645_total_end -
                 futhark_mc_segmap_parloop_136645_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136645_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136645_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136645_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136643_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136643_end -
                 futhark_mc_segmap_task_136643_start;
        
        ctx->futhark_mc_segmap_task_136643_runs[tid]++;
        ctx->futhark_mc_segmap_task_136643_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136643_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136651 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_t_jump_119482;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_gtid_123503;
    char *free_mem_127048;
    char *free_mem_127052;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127292;
    int64_t free_bytes_127580;
    char *free_mem_127654;
    char *free_mem_127657;
};
struct futhark_mc_task_136657 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_gtid_123503;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_132029;
    float free_x_132030;
    float free_defunc_0_f_res_132033;
    char *free_mem_132034;
    char *free_mem_132035;
};
struct futhark_mc_segmap_parloop_struct_136659 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_window_119479;
    int64_t free_gtid_123503;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    int64_t free_x_132029;
    float free_x_132030;
    float free_defunc_0_f_res_132033;
    char *free_mem_132034;
    char *free_mem_132035;
};
static int futhark_mc_segmap_parloop_136660(void *args, int64_t start,
                                            int64_t end, int flat_tid_123508,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136659
    *futhark_mc_segmap_parloop_struct_136659 =
    (struct futhark_mc_segmap_parloop_struct_136659 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136659->ctx;
    uint64_t futhark_mc_segmap_parloop_136660_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136660_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136659->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136659->free_l_window_119479;
    int64_t gtid_123503 =
            futhark_mc_segmap_parloop_struct_136659->free_gtid_123503;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136659->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136659->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136659->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136659->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_132029 = futhark_mc_segmap_parloop_struct_136659->free_x_132029;
    float x_132030 = futhark_mc_segmap_parloop_struct_136659->free_x_132030;
    float defunc_0_f_res_132033 =
          futhark_mc_segmap_parloop_struct_136659->free_defunc_0_f_res_132033;
    struct memblock mem_132034 = {.desc ="mem_132034", .mem =
                                  futhark_mc_segmap_parloop_struct_136659->free_mem_132034,
                                  .size =0, .references =NULL};
    struct memblock mem_132035 = {.desc ="mem_132035", .mem =
                                  futhark_mc_segmap_parloop_struct_136659->free_mem_132035,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132404 = start;
    
    for (; iter_132404 < end; iter_132404++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132410 = l_window_119479;
        int64_t gtid_123509 = iter_132404;
        int64_t remnant_132411 = iter_132404 - gtid_123509;
        bool cond_132338 = sle64(n_119475, gtid_123509);
        float defunc_0_f_res_132339;
        
        if (cond_132338) {
            defunc_0_f_res_132339 = 0.0F;
        } else {
            int64_t i_132405 = add64(gtid_123509, x_132029);
            float index_primexp_132406 = sitofp_i64_f32(i_132405);
            float defunc_0_f_res_f_res_132407 = 1.0F + index_primexp_132406;
            
            defunc_0_f_res_132339 = defunc_0_f_res_f_res_132407;
        }
        
        float defunc_0_f_res_132343;
        
        if (cond_132338) {
            defunc_0_f_res_132343 = 0.0F;
        } else {
            int64_t i_132408 = add64(gtid_123509, x_132029);
            float x_132409 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_123503 *
                                                    ctx_param_ext_127142 +
                                                    i_132408 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_132343 = x_132409;
        }
        
        float x_j_132346 = defunc_0_f_res_132339 - defunc_0_f_res_132033;
        float abs_res_132347 = (float) fabs(x_j_132346);
        float tmp1_132348 = abs_res_132347 / x_132030;
        float x_132349 = tmp1_132348 * tmp1_132348;
        float y_132350 = tmp1_132348 * x_132349;
        float tmp2_132351 = 1.0F - y_132350;
        float x_132352 = tmp2_132351 * tmp2_132351;
        float tmp3_132353 = tmp2_132351 * x_132352;
        float tmp4_132354 = defunc_0_f_res_132343 * tmp3_132353;
        
        ((float *) mem_132034.mem)[gtid_123509] = x_j_132346;
        ((float *) mem_132035.mem)[gtid_123509] = tmp4_132354;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136660_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136660_end -
                 futhark_mc_segmap_parloop_136660_start;
        
        ctx->futhark_mc_segmap_parloop_136660_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136660_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136660_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136658(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123508 = tid;
    int num_tasks_132403 = info.nsubtasks;
    struct futhark_mc_task_136657 *futhark_mc_task_136657 =
                                  (struct futhark_mc_task_136657 *) args;
    struct futhark_context *ctx = futhark_mc_task_136657->ctx;
    uint64_t futhark_mc_segmap_task_136658_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136658_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136657->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136657->free_l_window_119479;
    int64_t gtid_123503 = futhark_mc_task_136657->free_gtid_123503;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136657->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136657->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136657->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136657->free_mem_param_127146,
                                        .size =0, .references =NULL};
    int64_t x_132029 = futhark_mc_task_136657->free_x_132029;
    float x_132030 = futhark_mc_task_136657->free_x_132030;
    float defunc_0_f_res_132033 =
          futhark_mc_task_136657->free_defunc_0_f_res_132033;
    struct memblock mem_132034 = {.desc ="mem_132034", .mem =
                                  futhark_mc_task_136657->free_mem_132034,
                                  .size =0, .references =NULL};
    struct memblock mem_132035 = {.desc ="mem_132035", .mem =
                                  futhark_mc_task_136657->free_mem_132035,
                                  .size =0, .references =NULL};
    int64_t iter_132404;
    struct futhark_mc_segmap_parloop_struct_136659
    futhark_mc_segmap_parloop_struct_136659;
    
    futhark_mc_segmap_parloop_struct_136659.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136659.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136659.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136659.free_gtid_123503 = gtid_123503;
    futhark_mc_segmap_parloop_struct_136659.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136659.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136659.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136659.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136659.free_x_132029 = x_132029;
    futhark_mc_segmap_parloop_struct_136659.free_x_132030 = x_132030;
    futhark_mc_segmap_parloop_struct_136659.free_defunc_0_f_res_132033 =
        defunc_0_f_res_132033;
    futhark_mc_segmap_parloop_struct_136659.free_mem_132034 = mem_132034.mem;
    futhark_mc_segmap_parloop_struct_136659.free_mem_132035 = mem_132035.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136660_task;
    
    futhark_mc_segmap_parloop_136660_task.name =
        "futhark_mc_segmap_parloop_136660";
    futhark_mc_segmap_parloop_136660_task.fn = futhark_mc_segmap_parloop_136660;
    futhark_mc_segmap_parloop_136660_task.args =
        &futhark_mc_segmap_parloop_struct_136659;
    futhark_mc_segmap_parloop_136660_task.iterations = iterations;
    futhark_mc_segmap_parloop_136660_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136660_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136660_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136660_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136660_task);
    
    if (futhark_mc_segmap_parloop_136660_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136660_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136660_total_end -
                 futhark_mc_segmap_parloop_136660_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136660_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136660_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136660_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136658_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136658_end -
                 futhark_mc_segmap_task_136658_start;
        
        ctx->futhark_mc_segmap_task_136658_runs[tid]++;
        ctx->futhark_mc_segmap_task_136658_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136658_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136661 {
    struct futhark_context *ctx;
    char *free_mem_132034;
    char *free_mem_132035;
    float *retval_defunc_2_reduce_res_132057;
    float *retval_defunc_2_reduce_res_132058;
    float *retval_defunc_2_reduce_res_132059;
    float *retval_defunc_2_reduce_res_132060;
    float *retval_defunc_2_reduce_res_132061;
    char *retval_mem_132055;
    char *retval_mem_132056;
};
struct futhark_mc_segred_stage_1_parloop_struct_136668 {
    struct futhark_context *ctx;
    char *free_mem_132034;
    char *free_mem_132035;
    char *free_mem_132055;
    char *free_mem_132056;
    char *free_reduce_stage_1_tid_res_arr_mem_132413;
    char *free_reduce_stage_1_tid_res_arr_mem_132415;
    char *free_reduce_stage_1_tid_res_arr_mem_132417;
    char *free_reduce_stage_1_tid_res_arr_mem_132419;
    char *free_reduce_stage_1_tid_res_arr_mem_132421;
};
static int futhark_mc_segred_stage_1_parloop_136669(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123510,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136668
    *futhark_mc_segred_stage_1_parloop_struct_136668 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136668 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136668->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136669_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136669_start = get_wall_time();
    
    struct memblock mem_132034 = {.desc ="mem_132034", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136668->free_mem_132034,
                                  .size =0, .references =NULL};
    struct memblock mem_132035 = {.desc ="mem_132035", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136668->free_mem_132035,
                                  .size =0, .references =NULL};
    struct memblock mem_132055 = {.desc ="mem_132055", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136668->free_mem_132055,
                                  .size =0, .references =NULL};
    struct memblock mem_132056 = {.desc ="mem_132056", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136668->free_mem_132056,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_132413 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132413",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136668->free_reduce_stage_1_tid_res_arr_mem_132413,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_132415 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132415",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136668->free_reduce_stage_1_tid_res_arr_mem_132415,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_132417 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132417",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136668->free_reduce_stage_1_tid_res_arr_mem_132417,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_132419 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132419",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136668->free_reduce_stage_1_tid_res_arr_mem_132419,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_132421 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132421",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136668->free_reduce_stage_1_tid_res_arr_mem_132421,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132423 = start;
    float x_132355;
    float x_132356;
    float x_132358;
    float x_132359;
    float x_132361;
    float x_132362;
    float x_132364;
    float x_132365;
    float x_132367;
    float x_132368;
    float local_acc_132424 = 0.0F;
    float local_acc_132425 = 0.0F;
    float local_acc_132426 = 0.0F;
    float local_acc_132427 = 0.0F;
    float local_acc_132428 = 0.0F;
    
    for (; iter_132423 < end; iter_132423++) {
        int64_t gtid_123511 = iter_132423;
        float x_132370 = ((float *) mem_132034.mem)[gtid_123511];
        float x_132371 = ((float *) mem_132035.mem)[gtid_123511];
        float defunc_1_f_res_132372 = x_132370 * x_132371;
        float defunc_1_f_res_132373 = x_132370 * defunc_1_f_res_132372;
        float defunc_1_f_res_132374 = x_132370 * defunc_1_f_res_132373;
        float defunc_1_f_res_132375 = x_132370 * defunc_1_f_res_132374;
        
        // save map-out results
        {
            ((float *) mem_132055.mem)[gtid_123511] = defunc_1_f_res_132373;
            ((float *) mem_132056.mem)[gtid_123511] = defunc_1_f_res_132372;
        }
        // Load accum params
        {
            x_132355 = local_acc_132424;
        }
        // Load next params
        {
            x_132356 = x_132371;
        }
        // Red body
        {
            float defunc_1_op_res_132357 = x_132355 + x_132356;
            
            local_acc_132424 = defunc_1_op_res_132357;
        }
        // Load accum params
        {
            x_132358 = local_acc_132425;
        }
        // Load next params
        {
            x_132359 = defunc_1_f_res_132372;
        }
        // Red body
        {
            float defunc_1_op_res_132360 = x_132358 + x_132359;
            
            local_acc_132425 = defunc_1_op_res_132360;
        }
        // Load accum params
        {
            x_132361 = local_acc_132426;
        }
        // Load next params
        {
            x_132362 = defunc_1_f_res_132373;
        }
        // Red body
        {
            float defunc_1_op_res_132363 = x_132361 + x_132362;
            
            local_acc_132426 = defunc_1_op_res_132363;
        }
        // Load accum params
        {
            x_132364 = local_acc_132427;
        }
        // Load next params
        {
            x_132365 = defunc_1_f_res_132374;
        }
        // Red body
        {
            float defunc_1_op_res_132366 = x_132364 + x_132365;
            
            local_acc_132427 = defunc_1_op_res_132366;
        }
        // Load accum params
        {
            x_132367 = local_acc_132428;
        }
        // Load next params
        {
            x_132368 = defunc_1_f_res_132375;
        }
        // Red body
        {
            float defunc_1_op_res_132369 = x_132367 + x_132368;
            
            local_acc_132428 = defunc_1_op_res_132369;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_132413.mem)[flat_tid_123510] =
        local_acc_132424;
    ((float *) reduce_stage_1_tid_res_arr_mem_132415.mem)[flat_tid_123510] =
        local_acc_132425;
    ((float *) reduce_stage_1_tid_res_arr_mem_132417.mem)[flat_tid_123510] =
        local_acc_132426;
    ((float *) reduce_stage_1_tid_res_arr_mem_132419.mem)[flat_tid_123510] =
        local_acc_132427;
    ((float *) reduce_stage_1_tid_res_arr_mem_132421.mem)[flat_tid_123510] =
        local_acc_132428;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136669_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136669_end -
                 futhark_mc_segred_stage_1_parloop_136669_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136669_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136669_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136669_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136662(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123510 = tid;
    int num_tasks_132412 = info.nsubtasks;
    struct futhark_mc_task_136661 *futhark_mc_task_136661 =
                                  (struct futhark_mc_task_136661 *) args;
    struct futhark_context *ctx = futhark_mc_task_136661->ctx;
    uint64_t futhark_mc_segred_task_136662_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136662_start = get_wall_time();
    
    struct memblock mem_132034 = {.desc ="mem_132034", .mem =
                                  futhark_mc_task_136661->free_mem_132034,
                                  .size =0, .references =NULL};
    struct memblock mem_132035 = {.desc ="mem_132035", .mem =
                                  futhark_mc_task_136661->free_mem_132035,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_132057 =
          *futhark_mc_task_136661->retval_defunc_2_reduce_res_132057;
    float defunc_2_reduce_res_132058 =
          *futhark_mc_task_136661->retval_defunc_2_reduce_res_132058;
    float defunc_2_reduce_res_132059 =
          *futhark_mc_task_136661->retval_defunc_2_reduce_res_132059;
    float defunc_2_reduce_res_132060 =
          *futhark_mc_task_136661->retval_defunc_2_reduce_res_132060;
    float defunc_2_reduce_res_132061 =
          *futhark_mc_task_136661->retval_defunc_2_reduce_res_132061;
    struct memblock mem_132055 = {.desc ="mem_132055", .mem =
                                  futhark_mc_task_136661->retval_mem_132055,
                                  .size =0, .references =NULL};
    struct memblock mem_132056 = {.desc ="mem_132056", .mem =
                                  futhark_mc_task_136661->retval_mem_132056,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_132413_cached_sizze_136663 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132413 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_132415_cached_sizze_136664 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132415 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_132417_cached_sizze_136665 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132417 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_132419_cached_sizze_136666 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132419 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_132421_cached_sizze_136667 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132421 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_132413_cached_sizze_136663 <
        (size_t) ((int64_t) 4 * num_tasks_132412)) {
        reduce_stage_1_tid_res_arr_mem_132413 =
            realloc(reduce_stage_1_tid_res_arr_mem_132413, (int64_t) 4 *
                    num_tasks_132412);
        reduce_stage_1_tid_res_arr_mem_132413_cached_sizze_136663 =
            (int64_t) 4 * num_tasks_132412;
    }
    if (reduce_stage_1_tid_res_arr_mem_132415_cached_sizze_136664 <
        (size_t) ((int64_t) 4 * num_tasks_132412)) {
        reduce_stage_1_tid_res_arr_mem_132415 =
            realloc(reduce_stage_1_tid_res_arr_mem_132415, (int64_t) 4 *
                    num_tasks_132412);
        reduce_stage_1_tid_res_arr_mem_132415_cached_sizze_136664 =
            (int64_t) 4 * num_tasks_132412;
    }
    if (reduce_stage_1_tid_res_arr_mem_132417_cached_sizze_136665 <
        (size_t) ((int64_t) 4 * num_tasks_132412)) {
        reduce_stage_1_tid_res_arr_mem_132417 =
            realloc(reduce_stage_1_tid_res_arr_mem_132417, (int64_t) 4 *
                    num_tasks_132412);
        reduce_stage_1_tid_res_arr_mem_132417_cached_sizze_136665 =
            (int64_t) 4 * num_tasks_132412;
    }
    if (reduce_stage_1_tid_res_arr_mem_132419_cached_sizze_136666 <
        (size_t) ((int64_t) 4 * num_tasks_132412)) {
        reduce_stage_1_tid_res_arr_mem_132419 =
            realloc(reduce_stage_1_tid_res_arr_mem_132419, (int64_t) 4 *
                    num_tasks_132412);
        reduce_stage_1_tid_res_arr_mem_132419_cached_sizze_136666 =
            (int64_t) 4 * num_tasks_132412;
    }
    if (reduce_stage_1_tid_res_arr_mem_132421_cached_sizze_136667 <
        (size_t) ((int64_t) 4 * num_tasks_132412)) {
        reduce_stage_1_tid_res_arr_mem_132421 =
            realloc(reduce_stage_1_tid_res_arr_mem_132421, (int64_t) 4 *
                    num_tasks_132412);
        reduce_stage_1_tid_res_arr_mem_132421_cached_sizze_136667 =
            (int64_t) 4 * num_tasks_132412;
    }
    
    int64_t iter_132423;
    struct futhark_mc_segred_stage_1_parloop_struct_136668
    futhark_mc_segred_stage_1_parloop_struct_136668;
    
    futhark_mc_segred_stage_1_parloop_struct_136668.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_mem_132034 =
        mem_132034.mem;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_mem_132035 =
        mem_132035.mem;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_mem_132055 =
        mem_132055.mem;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_mem_132056 =
        mem_132056.mem;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_reduce_stage_1_tid_res_arr_mem_132413 =
        reduce_stage_1_tid_res_arr_mem_132413;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_reduce_stage_1_tid_res_arr_mem_132415 =
        reduce_stage_1_tid_res_arr_mem_132415;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_reduce_stage_1_tid_res_arr_mem_132417 =
        reduce_stage_1_tid_res_arr_mem_132417;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_reduce_stage_1_tid_res_arr_mem_132419 =
        reduce_stage_1_tid_res_arr_mem_132419;
    futhark_mc_segred_stage_1_parloop_struct_136668.free_reduce_stage_1_tid_res_arr_mem_132421 =
        reduce_stage_1_tid_res_arr_mem_132421;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136669_task;
    
    futhark_mc_segred_stage_1_parloop_136669_task.name =
        "futhark_mc_segred_stage_1_parloop_136669";
    futhark_mc_segred_stage_1_parloop_136669_task.fn =
        futhark_mc_segred_stage_1_parloop_136669;
    futhark_mc_segred_stage_1_parloop_136669_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136668;
    futhark_mc_segred_stage_1_parloop_136669_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136669_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136669_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136669_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136669_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136669_task);
    
    if (futhark_mc_segred_stage_1_parloop_136669_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136669_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136669_total_end -
                 futhark_mc_segred_stage_1_parloop_136669_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136669_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136669_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136669_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_132057 = 0.0F;
        defunc_2_reduce_res_132058 = 0.0F;
        defunc_2_reduce_res_132059 = 0.0F;
        defunc_2_reduce_res_132060 = 0.0F;
        defunc_2_reduce_res_132061 = 0.0F;
    }
    
    float x_132429;
    float x_132430;
    float x_132432;
    float x_132433;
    float x_132435;
    float x_132436;
    float x_132438;
    float x_132439;
    float x_132441;
    float x_132442;
    
    for (int32_t i_132444 = 0; i_132444 < num_tasks_132412; i_132444++) {
        flat_tid_123510 = i_132444;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_132429 = defunc_2_reduce_res_132057;
            }
            // load next params
            {
                x_132430 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132413)[flat_tid_123510];
            }
            // red body
            {
                float defunc_1_op_res_132431 = x_132429 + x_132430;
                
                defunc_2_reduce_res_132057 = defunc_1_op_res_132431;
            }
            // load acc params
            {
                x_132432 = defunc_2_reduce_res_132058;
            }
            // load next params
            {
                x_132433 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132415)[flat_tid_123510];
            }
            // red body
            {
                float defunc_1_op_res_132434 = x_132432 + x_132433;
                
                defunc_2_reduce_res_132058 = defunc_1_op_res_132434;
            }
            // load acc params
            {
                x_132435 = defunc_2_reduce_res_132059;
            }
            // load next params
            {
                x_132436 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132417)[flat_tid_123510];
            }
            // red body
            {
                float defunc_1_op_res_132437 = x_132435 + x_132436;
                
                defunc_2_reduce_res_132059 = defunc_1_op_res_132437;
            }
            // load acc params
            {
                x_132438 = defunc_2_reduce_res_132060;
            }
            // load next params
            {
                x_132439 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132419)[flat_tid_123510];
            }
            // red body
            {
                float defunc_1_op_res_132440 = x_132438 + x_132439;
                
                defunc_2_reduce_res_132060 = defunc_1_op_res_132440;
            }
            // load acc params
            {
                x_132441 = defunc_2_reduce_res_132061;
            }
            // load next params
            {
                x_132442 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132421)[flat_tid_123510];
            }
            // red body
            {
                float defunc_1_op_res_132443 = x_132441 + x_132442;
                
                defunc_2_reduce_res_132061 = defunc_1_op_res_132443;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_132413);
    free(reduce_stage_1_tid_res_arr_mem_132415);
    free(reduce_stage_1_tid_res_arr_mem_132417);
    free(reduce_stage_1_tid_res_arr_mem_132419);
    free(reduce_stage_1_tid_res_arr_mem_132421);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136662_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136662_end -
                 futhark_mc_segred_task_136662_start;
        
        ctx->futhark_mc_segred_task_136662_runs[tid]++;
        ctx->futhark_mc_segred_task_136662_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136662_iter[tid] += iterations;
    }
    *futhark_mc_task_136661->retval_defunc_2_reduce_res_132057 =
        defunc_2_reduce_res_132057;
    *futhark_mc_task_136661->retval_defunc_2_reduce_res_132058 =
        defunc_2_reduce_res_132058;
    *futhark_mc_task_136661->retval_defunc_2_reduce_res_132059 =
        defunc_2_reduce_res_132059;
    *futhark_mc_task_136661->retval_defunc_2_reduce_res_132060 =
        defunc_2_reduce_res_132060;
    *futhark_mc_task_136661->retval_defunc_2_reduce_res_132061 =
        defunc_2_reduce_res_132061;
    futhark_mc_task_136661->retval_mem_132055 = mem_132055.mem;
    futhark_mc_task_136661->retval_mem_132056 = mem_132056.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136670 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123503;
    char *free_mem_127292;
    int64_t free_x_132029;
    char *free_mem_132035;
    char *free_mem_132055;
    char *free_mem_132056;
    float free_a12_132105;
    float free_b12_132106;
    float free_c12_132107;
    float free_b2_132108;
    float free_c2_132109;
    float *retval_defunc_2_reduce_res_132110;
    float *retval_defunc_2_reduce_res_132111;
};
struct futhark_mc_segred_stage_1_parloop_struct_136674 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123503;
    char *free_mem_127292;
    int64_t free_x_132029;
    char *free_mem_132035;
    char *free_mem_132055;
    char *free_mem_132056;
    float free_a12_132105;
    float free_b12_132106;
    float free_c12_132107;
    float free_b2_132108;
    float free_c2_132109;
    char *free_reduce_stage_1_tid_res_arr_mem_132446;
    char *free_reduce_stage_1_tid_res_arr_mem_132448;
};
static int futhark_mc_segred_stage_1_parloop_136675(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123512,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136674
    *futhark_mc_segred_stage_1_parloop_struct_136674 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136674 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136674->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136675_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136675_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136674->free_n_119475;
    int64_t gtid_123503 =
            futhark_mc_segred_stage_1_parloop_struct_136674->free_gtid_123503;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136674->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_132029 =
            futhark_mc_segred_stage_1_parloop_struct_136674->free_x_132029;
    struct memblock mem_132035 = {.desc ="mem_132035", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136674->free_mem_132035,
                                  .size =0, .references =NULL};
    struct memblock mem_132055 = {.desc ="mem_132055", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136674->free_mem_132055,
                                  .size =0, .references =NULL};
    struct memblock mem_132056 = {.desc ="mem_132056", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136674->free_mem_132056,
                                  .size =0, .references =NULL};
    float a12_132105 =
          futhark_mc_segred_stage_1_parloop_struct_136674->free_a12_132105;
    float b12_132106 =
          futhark_mc_segred_stage_1_parloop_struct_136674->free_b12_132106;
    float c12_132107 =
          futhark_mc_segred_stage_1_parloop_struct_136674->free_c12_132107;
    float b2_132108 =
          futhark_mc_segred_stage_1_parloop_struct_136674->free_b2_132108;
    float c2_132109 =
          futhark_mc_segred_stage_1_parloop_struct_136674->free_c2_132109;
    struct memblock reduce_stage_1_tid_res_arr_mem_132446 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132446",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136674->free_reduce_stage_1_tid_res_arr_mem_132446,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_132448 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132448",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136674->free_reduce_stage_1_tid_res_arr_mem_132448,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132450 = start;
    float x_132376;
    float x_132377;
    float x_132379;
    float x_132380;
    float local_acc_132451 = 0.0F;
    float local_acc_132452 = 0.0F;
    
    for (; iter_132450 < end; iter_132450++) {
        int64_t gtid_123513 = iter_132450;
        float x_132382 = ((float *) mem_132035.mem)[gtid_123513];
        float x_132383 = ((float *) mem_132056.mem)[gtid_123513];
        float x_132384 = ((float *) mem_132055.mem)[gtid_123513];
        bool cond_132385 = sle64(n_119475, gtid_123513);
        float defunc_0_f_res_132386;
        
        if (cond_132385) {
            defunc_0_f_res_132386 = 0.0F;
        } else {
            int64_t i_132387 = add64(gtid_123513, x_132029);
            float x_132388 = ((float *) mem_127292.mem)[gtid_123503 * n_119475 +
                                                        i_132387];
            
            defunc_0_f_res_132386 = x_132388;
        }
        
        float x_132389 = a12_132105 * x_132382;
        float y_132390 = b12_132106 * x_132383;
        float x_132391 = x_132389 + y_132390;
        float y_132392 = c12_132107 * x_132384;
        float x_132393 = x_132391 + y_132392;
        float defunc_9_fit_fun_res_132394 = defunc_0_f_res_132386 * x_132393;
        float x_132395 = b12_132106 * x_132382;
        float y_132396 = b2_132108 * x_132383;
        float x_132397 = x_132395 + y_132396;
        float y_132398 = c2_132109 * x_132384;
        float x_132399 = x_132397 + y_132398;
        float defunc_9_slope_fun_res_132400 = defunc_0_f_res_132386 * x_132399;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_132376 = local_acc_132451;
        }
        // Load next params
        {
            x_132377 = defunc_9_fit_fun_res_132394;
        }
        // Red body
        {
            float defunc_1_op_res_132378 = x_132376 + x_132377;
            
            local_acc_132451 = defunc_1_op_res_132378;
        }
        // Load accum params
        {
            x_132379 = local_acc_132452;
        }
        // Load next params
        {
            x_132380 = defunc_9_slope_fun_res_132400;
        }
        // Red body
        {
            float defunc_1_op_res_132381 = x_132379 + x_132380;
            
            local_acc_132452 = defunc_1_op_res_132381;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_132446.mem)[flat_tid_123512] =
        local_acc_132451;
    ((float *) reduce_stage_1_tid_res_arr_mem_132448.mem)[flat_tid_123512] =
        local_acc_132452;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136675_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136675_end -
                 futhark_mc_segred_stage_1_parloop_136675_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136675_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136675_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136675_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136671(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123512 = tid;
    int num_tasks_132445 = info.nsubtasks;
    struct futhark_mc_task_136670 *futhark_mc_task_136670 =
                                  (struct futhark_mc_task_136670 *) args;
    struct futhark_context *ctx = futhark_mc_task_136670->ctx;
    uint64_t futhark_mc_segred_task_136671_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136671_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136670->free_n_119475;
    int64_t gtid_123503 = futhark_mc_task_136670->free_gtid_123503;
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136670->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t x_132029 = futhark_mc_task_136670->free_x_132029;
    struct memblock mem_132035 = {.desc ="mem_132035", .mem =
                                  futhark_mc_task_136670->free_mem_132035,
                                  .size =0, .references =NULL};
    struct memblock mem_132055 = {.desc ="mem_132055", .mem =
                                  futhark_mc_task_136670->free_mem_132055,
                                  .size =0, .references =NULL};
    struct memblock mem_132056 = {.desc ="mem_132056", .mem =
                                  futhark_mc_task_136670->free_mem_132056,
                                  .size =0, .references =NULL};
    float a12_132105 = futhark_mc_task_136670->free_a12_132105;
    float b12_132106 = futhark_mc_task_136670->free_b12_132106;
    float c12_132107 = futhark_mc_task_136670->free_c12_132107;
    float b2_132108 = futhark_mc_task_136670->free_b2_132108;
    float c2_132109 = futhark_mc_task_136670->free_c2_132109;
    float defunc_2_reduce_res_132110 =
          *futhark_mc_task_136670->retval_defunc_2_reduce_res_132110;
    float defunc_2_reduce_res_132111 =
          *futhark_mc_task_136670->retval_defunc_2_reduce_res_132111;
    size_t reduce_stage_1_tid_res_arr_mem_132446_cached_sizze_136672 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132446 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_132448_cached_sizze_136673 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132448 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_132446_cached_sizze_136672 <
        (size_t) ((int64_t) 4 * num_tasks_132445)) {
        reduce_stage_1_tid_res_arr_mem_132446 =
            realloc(reduce_stage_1_tid_res_arr_mem_132446, (int64_t) 4 *
                    num_tasks_132445);
        reduce_stage_1_tid_res_arr_mem_132446_cached_sizze_136672 =
            (int64_t) 4 * num_tasks_132445;
    }
    if (reduce_stage_1_tid_res_arr_mem_132448_cached_sizze_136673 <
        (size_t) ((int64_t) 4 * num_tasks_132445)) {
        reduce_stage_1_tid_res_arr_mem_132448 =
            realloc(reduce_stage_1_tid_res_arr_mem_132448, (int64_t) 4 *
                    num_tasks_132445);
        reduce_stage_1_tid_res_arr_mem_132448_cached_sizze_136673 =
            (int64_t) 4 * num_tasks_132445;
    }
    
    int64_t iter_132450;
    struct futhark_mc_segred_stage_1_parloop_struct_136674
    futhark_mc_segred_stage_1_parloop_struct_136674;
    
    futhark_mc_segred_stage_1_parloop_struct_136674.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_gtid_123503 =
        gtid_123503;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_mem_127292 =
        mem_127292.mem;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_x_132029 = x_132029;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_mem_132035 =
        mem_132035.mem;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_mem_132055 =
        mem_132055.mem;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_mem_132056 =
        mem_132056.mem;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_a12_132105 =
        a12_132105;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_b12_132106 =
        b12_132106;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_c12_132107 =
        c12_132107;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_b2_132108 = b2_132108;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_c2_132109 = c2_132109;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_reduce_stage_1_tid_res_arr_mem_132446 =
        reduce_stage_1_tid_res_arr_mem_132446;
    futhark_mc_segred_stage_1_parloop_struct_136674.free_reduce_stage_1_tid_res_arr_mem_132448 =
        reduce_stage_1_tid_res_arr_mem_132448;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136675_task;
    
    futhark_mc_segred_stage_1_parloop_136675_task.name =
        "futhark_mc_segred_stage_1_parloop_136675";
    futhark_mc_segred_stage_1_parloop_136675_task.fn =
        futhark_mc_segred_stage_1_parloop_136675;
    futhark_mc_segred_stage_1_parloop_136675_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136674;
    futhark_mc_segred_stage_1_parloop_136675_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136675_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136675_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136675_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136675_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136675_task);
    
    if (futhark_mc_segred_stage_1_parloop_136675_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136675_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136675_total_end -
                 futhark_mc_segred_stage_1_parloop_136675_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136675_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136675_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136675_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_132110 = 0.0F;
        defunc_2_reduce_res_132111 = 0.0F;
    }
    
    float x_132453;
    float x_132454;
    float x_132456;
    float x_132457;
    
    for (int32_t i_132459 = 0; i_132459 < num_tasks_132445; i_132459++) {
        flat_tid_123512 = i_132459;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_132453 = defunc_2_reduce_res_132110;
            }
            // load next params
            {
                x_132454 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132446)[flat_tid_123512];
            }
            // red body
            {
                float defunc_1_op_res_132455 = x_132453 + x_132454;
                
                defunc_2_reduce_res_132110 = defunc_1_op_res_132455;
            }
            // load acc params
            {
                x_132456 = defunc_2_reduce_res_132111;
            }
            // load next params
            {
                x_132457 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132448)[flat_tid_123512];
            }
            // red body
            {
                float defunc_1_op_res_132458 = x_132456 + x_132457;
                
                defunc_2_reduce_res_132111 = defunc_1_op_res_132458;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_132446);
    free(reduce_stage_1_tid_res_arr_mem_132448);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136671_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136671_end -
                 futhark_mc_segred_task_136671_start;
        
        ctx->futhark_mc_segred_task_136671_runs[tid]++;
        ctx->futhark_mc_segred_task_136671_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136671_iter[tid] += iterations;
    }
    *futhark_mc_task_136670->retval_defunc_2_reduce_res_132110 =
        defunc_2_reduce_res_132110;
    *futhark_mc_task_136670->retval_defunc_2_reduce_res_132111 =
        defunc_2_reduce_res_132111;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136652(void *args, int64_t start,
                                            int64_t end, int flat_tid_123506,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136651
    *futhark_mc_segmap_parloop_struct_136651 =
    (struct futhark_mc_segmap_parloop_struct_136651 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136651->ctx;
    uint64_t futhark_mc_segmap_parloop_136652_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136652_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136651->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136651->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136651->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136651->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136651->free_i_119551;
    int64_t gtid_123503 =
            futhark_mc_segmap_parloop_struct_136651->free_gtid_123503;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136651->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136651->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136651->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136651->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136651->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136651->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136651->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 =
            futhark_mc_segmap_parloop_struct_136651->free_bytes_127580;
    struct memblock mem_127654 = {.desc ="mem_127654", .mem =
                                  futhark_mc_segmap_parloop_struct_136651->free_mem_127654,
                                  .size =0, .references =NULL};
    struct memblock mem_127657 = {.desc ="mem_127657", .mem =
                                  futhark_mc_segmap_parloop_struct_136651->free_mem_127657,
                                  .size =0, .references =NULL};
    size_t mem_132034_cached_sizze_136653 = 0;
    char *mem_132034 = NULL;
    size_t mem_132035_cached_sizze_136654 = 0;
    char *mem_132035 = NULL;
    size_t mem_132055_cached_sizze_136655 = 0;
    char *mem_132055 = NULL;
    size_t mem_132056_cached_sizze_136656 = 0;
    char *mem_132056 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132337 = start;
    
    if (mem_132034_cached_sizze_136653 < (size_t) bytes_127580) {
        mem_132034 = realloc(mem_132034, bytes_127580);
        mem_132034_cached_sizze_136653 = bytes_127580;
    }
    if (mem_132035_cached_sizze_136654 < (size_t) bytes_127580) {
        mem_132035 = realloc(mem_132035, bytes_127580);
        mem_132035_cached_sizze_136654 = bytes_127580;
    }
    if (mem_132055_cached_sizze_136655 < (size_t) bytes_127580) {
        mem_132055 = realloc(mem_132055, bytes_127580);
        mem_132055_cached_sizze_136655 = bytes_127580;
    }
    if (mem_132056_cached_sizze_136656 < (size_t) bytes_127580) {
        mem_132056 = realloc(mem_132056, bytes_127580);
        mem_132056_cached_sizze_136656 = bytes_127580;
    }
    for (; iter_132337 < end; iter_132337++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132401 = l_n_m_119525;
        int64_t gtid_123507 = iter_132337;
        int64_t remnant_132402 = iter_132337 - gtid_123507;
        int64_t x_132029 = ((int64_t *) mem_127048.mem)[gtid_123503 *
                                                        l_n_m_119525 +
                                                        gtid_123507];
        float x_132030 = ((float *) mem_127052.mem)[gtid_123503 * l_n_m_119525 +
                                                    gtid_123507];
        int64_t min_arg_132031 = mul64(t_jump_119482, gtid_123507);
        int64_t min_res_132032 = smin64(i_119551, min_arg_132031);
        float defunc_0_f_res_132033 = sitofp_i64_f32(min_res_132032);
        int64_t flat_tid_123508 = (int64_t) 0;
        int32_t num_tasks_132403;
        struct futhark_mc_task_136657 futhark_mc_task_136657;
        
        futhark_mc_task_136657.ctx = ctx;
        futhark_mc_task_136657.free_n_119475 = n_119475;
        futhark_mc_task_136657.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136657.free_gtid_123503 = gtid_123503;
        futhark_mc_task_136657.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136657.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136657.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136657.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136657.free_x_132029 = x_132029;
        futhark_mc_task_136657.free_x_132030 = x_132030;
        futhark_mc_task_136657.free_defunc_0_f_res_132033 =
            defunc_0_f_res_132033;
        futhark_mc_task_136657.free_mem_132034 = mem_132034;
        futhark_mc_task_136657.free_mem_132035 = mem_132035;
        
        struct scheduler_segop futhark_mc_task_136657_task;
        
        futhark_mc_task_136657_task.args = &futhark_mc_task_136657;
        futhark_mc_task_136657_task.top_level_fn =
            futhark_mc_segmap_task_136658;
        futhark_mc_task_136657_task.name = "futhark_mc_segmap_task_136658";
        futhark_mc_task_136657_task.iterations = l_window_119479;
        futhark_mc_task_136657_task.task_time =
            &ctx->futhark_mc_segmap_task_136658_total_time;
        futhark_mc_task_136657_task.task_iter =
            &ctx->futhark_mc_segmap_task_136658_total_iter;
        futhark_mc_task_136657_task.sched = STATIC;
        futhark_mc_task_136657_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136658_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136657_task);
        
        if (futhark_mc_segmap_task_136658_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_2_reduce_res_132057;
        float defunc_2_reduce_res_132058;
        float defunc_2_reduce_res_132059;
        float defunc_2_reduce_res_132060;
        float defunc_2_reduce_res_132061;
        int64_t flat_tid_123510 = (int64_t) 0;
        int32_t num_tasks_132412;
        struct futhark_mc_task_136661 futhark_mc_task_136661;
        
        futhark_mc_task_136661.ctx = ctx;
        futhark_mc_task_136661.free_mem_132034 = mem_132034;
        futhark_mc_task_136661.free_mem_132035 = mem_132035;
        futhark_mc_task_136661.retval_defunc_2_reduce_res_132057 =
            &defunc_2_reduce_res_132057;
        futhark_mc_task_136661.retval_defunc_2_reduce_res_132058 =
            &defunc_2_reduce_res_132058;
        futhark_mc_task_136661.retval_defunc_2_reduce_res_132059 =
            &defunc_2_reduce_res_132059;
        futhark_mc_task_136661.retval_defunc_2_reduce_res_132060 =
            &defunc_2_reduce_res_132060;
        futhark_mc_task_136661.retval_defunc_2_reduce_res_132061 =
            &defunc_2_reduce_res_132061;
        futhark_mc_task_136661.retval_mem_132055 = mem_132055;
        futhark_mc_task_136661.retval_mem_132056 = mem_132056;
        
        struct scheduler_segop futhark_mc_task_136661_task;
        
        futhark_mc_task_136661_task.args = &futhark_mc_task_136661;
        futhark_mc_task_136661_task.top_level_fn =
            futhark_mc_segred_task_136662;
        futhark_mc_task_136661_task.name = "futhark_mc_segred_task_136662";
        futhark_mc_task_136661_task.iterations = l_window_119479;
        futhark_mc_task_136661_task.task_time =
            &ctx->futhark_mc_segred_task_136662_total_time;
        futhark_mc_task_136661_task.task_iter =
            &ctx->futhark_mc_segred_task_136662_total_iter;
        futhark_mc_task_136661_task.sched = STATIC;
        futhark_mc_task_136661_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136662_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136661_task);
        
        if (futhark_mc_segred_task_136662_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_132085 = defunc_2_reduce_res_132059 *
              defunc_2_reduce_res_132061;
        float y_132086 = defunc_2_reduce_res_132060 *
              defunc_2_reduce_res_132060;
        float a12_132087 = x_132085 - y_132086;
        float x_132088 = defunc_2_reduce_res_132059 *
              defunc_2_reduce_res_132060;
        float y_132089 = defunc_2_reduce_res_132058 *
              defunc_2_reduce_res_132061;
        float b12_132090 = x_132088 - y_132089;
        float x_132091 = defunc_2_reduce_res_132058 *
              defunc_2_reduce_res_132060;
        float y_132092 = defunc_2_reduce_res_132059 *
              defunc_2_reduce_res_132059;
        float c12_132093 = x_132091 - y_132092;
        float x_132094 = defunc_2_reduce_res_132057 *
              defunc_2_reduce_res_132061;
        float b2_132095 = x_132094 - y_132092;
        float x_132096 = defunc_2_reduce_res_132058 *
              defunc_2_reduce_res_132059;
        float y_132097 = defunc_2_reduce_res_132057 *
              defunc_2_reduce_res_132060;
        float c2_132098 = x_132096 - y_132097;
        float x_132099 = defunc_2_reduce_res_132057 * a12_132087;
        float y_132100 = defunc_2_reduce_res_132058 * b12_132090;
        float x_132101 = x_132099 + y_132100;
        float y_132102 = defunc_2_reduce_res_132059 * c12_132093;
        float y_132103 = x_132101 + y_132102;
        float det_132104 = 1.0F / y_132103;
        float a12_132105 = a12_132087 * det_132104;
        float b12_132106 = b12_132090 * det_132104;
        float c12_132107 = c12_132093 * det_132104;
        float b2_132108 = b2_132095 * det_132104;
        float c2_132109 = c2_132098 * det_132104;
        float defunc_2_reduce_res_132110;
        float defunc_2_reduce_res_132111;
        int64_t flat_tid_123512 = (int64_t) 0;
        int32_t num_tasks_132445;
        struct futhark_mc_task_136670 futhark_mc_task_136670;
        
        futhark_mc_task_136670.ctx = ctx;
        futhark_mc_task_136670.free_n_119475 = n_119475;
        futhark_mc_task_136670.free_gtid_123503 = gtid_123503;
        futhark_mc_task_136670.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136670.free_x_132029 = x_132029;
        futhark_mc_task_136670.free_mem_132035 = mem_132035;
        futhark_mc_task_136670.free_mem_132055 = mem_132055;
        futhark_mc_task_136670.free_mem_132056 = mem_132056;
        futhark_mc_task_136670.free_a12_132105 = a12_132105;
        futhark_mc_task_136670.free_b12_132106 = b12_132106;
        futhark_mc_task_136670.free_c12_132107 = c12_132107;
        futhark_mc_task_136670.free_b2_132108 = b2_132108;
        futhark_mc_task_136670.free_c2_132109 = c2_132109;
        futhark_mc_task_136670.retval_defunc_2_reduce_res_132110 =
            &defunc_2_reduce_res_132110;
        futhark_mc_task_136670.retval_defunc_2_reduce_res_132111 =
            &defunc_2_reduce_res_132111;
        
        struct scheduler_segop futhark_mc_task_136670_task;
        
        futhark_mc_task_136670_task.args = &futhark_mc_task_136670;
        futhark_mc_task_136670_task.top_level_fn =
            futhark_mc_segred_task_136671;
        futhark_mc_task_136670_task.name = "futhark_mc_segred_task_136671";
        futhark_mc_task_136670_task.iterations = l_window_119479;
        futhark_mc_task_136670_task.task_time =
            &ctx->futhark_mc_segred_task_136671_total_time;
        futhark_mc_task_136670_task.task_iter =
            &ctx->futhark_mc_segred_task_136671_total_iter;
        futhark_mc_task_136670_task.sched = STATIC;
        futhark_mc_task_136670_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136671_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136670_task);
        
        if (futhark_mc_segred_task_136671_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127654.mem)[gtid_123507] = defunc_2_reduce_res_132110;
        ((float *) mem_127657.mem)[gtid_123507] = defunc_2_reduce_res_132111;
    }
    
  cleanup:
    { }
    free(mem_132034);
    free(mem_132035);
    free(mem_132055);
    free(mem_132056);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136652_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136652_end -
                 futhark_mc_segmap_parloop_136652_start;
        
        ctx->futhark_mc_segmap_parloop_136652_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136652_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136652_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136650(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123506 = tid;
    int num_tasks_132255 = info.nsubtasks;
    struct futhark_mc_task_136642 *futhark_mc_task_136642 =
                                  (struct futhark_mc_task_136642 *) args;
    struct futhark_context *ctx = futhark_mc_task_136642->ctx;
    uint64_t futhark_mc_segmap_nested_task_136650_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136650_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136642->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136642->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136642->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136642->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136642->free_i_119551;
    int64_t gtid_123503 = futhark_mc_task_136642->free_gtid_123503;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136642->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136642->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136642->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136642->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136642->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136642->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136642->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 = futhark_mc_task_136642->free_bytes_127580;
    struct memblock mem_127654 = {.desc ="mem_127654", .mem =
                                  futhark_mc_task_136642->free_mem_127654,
                                  .size =0, .references =NULL};
    struct memblock mem_127657 = {.desc ="mem_127657", .mem =
                                  futhark_mc_task_136642->free_mem_127657,
                                  .size =0, .references =NULL};
    int64_t iter_132337;
    struct futhark_mc_segmap_parloop_struct_136651
    futhark_mc_segmap_parloop_struct_136651;
    
    futhark_mc_segmap_parloop_struct_136651.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136651.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136651.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136651.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136651.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136651.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136651.free_gtid_123503 = gtid_123503;
    futhark_mc_segmap_parloop_struct_136651.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136651.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136651.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136651.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136651.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136651.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136651.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136651.free_bytes_127580 = bytes_127580;
    futhark_mc_segmap_parloop_struct_136651.free_mem_127654 = mem_127654.mem;
    futhark_mc_segmap_parloop_struct_136651.free_mem_127657 = mem_127657.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136652_task;
    
    futhark_mc_segmap_parloop_136652_task.name =
        "futhark_mc_segmap_parloop_136652";
    futhark_mc_segmap_parloop_136652_task.fn = futhark_mc_segmap_parloop_136652;
    futhark_mc_segmap_parloop_136652_task.args =
        &futhark_mc_segmap_parloop_struct_136651;
    futhark_mc_segmap_parloop_136652_task.iterations = iterations;
    futhark_mc_segmap_parloop_136652_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136652_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136652_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136652_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136652_task);
    
    if (futhark_mc_segmap_parloop_136652_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136652_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136652_total_end -
                 futhark_mc_segmap_parloop_136652_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136652_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136652_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136652_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136650_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136650_end -
                 futhark_mc_segmap_nested_task_136650_start;
        
        ctx->futhark_mc_segmap_nested_task_136650_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136650_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136650_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136639(void *args, int64_t start,
                                            int64_t end, int flat_tid_123502,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136638
    *futhark_mc_segmap_parloop_struct_136638 =
    (struct futhark_mc_segmap_parloop_struct_136638 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136638->ctx;
    uint64_t futhark_mc_segmap_parloop_136639_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136639_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136638->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136638->free_n_119475;
    int64_t l_window_119479 =
            futhark_mc_segmap_parloop_struct_136638->free_l_window_119479;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136638->free_t_jump_119482;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136638->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136638->free_i_119551;
    int64_t bytes_126994 =
            futhark_mc_segmap_parloop_struct_136638->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_segmap_parloop_struct_136638->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_segmap_parloop_struct_136638->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136638->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136638->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136638->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136638->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_segmap_parloop_struct_136638->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 =
            futhark_mc_segmap_parloop_struct_136638->free_bytes_127580;
    struct memblock mem_127751 = {.desc ="mem_127751", .mem =
                                  futhark_mc_segmap_parloop_struct_136638->free_mem_127751,
                                  .size =0, .references =NULL};
    struct memblock mem_127755 = {.desc ="mem_127755", .mem =
                                  futhark_mc_segmap_parloop_struct_136638->free_mem_127755,
                                  .size =0, .references =NULL};
    size_t mem_127654_cached_sizze_136640 = 0;
    char *mem_127654 = NULL;
    size_t mem_127657_cached_sizze_136641 = 0;
    char *mem_127657 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132028 = start;
    
    if (mem_127654_cached_sizze_136640 < (size_t) bytes_126994) {
        mem_127654 = realloc(mem_127654, bytes_126994);
        mem_127654_cached_sizze_136640 = bytes_126994;
    }
    if (mem_127657_cached_sizze_136641 < (size_t) bytes_126994) {
        mem_127657 = realloc(mem_127657, bytes_126994);
        mem_127657_cached_sizze_136641 = bytes_126994;
    }
    for (; iter_132028 < end; iter_132028++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132253 = m_119474;
        int64_t gtid_123503 = iter_132028;
        int64_t remnant_132254 = iter_132028 - gtid_123503;
        int64_t flat_tid_123504 = (int64_t) 0;
        int32_t num_tasks_132255;
        int64_t flat_tid_123506 = (int64_t) 0;
        struct futhark_mc_task_136642 futhark_mc_task_136642;
        
        futhark_mc_task_136642.ctx = ctx;
        futhark_mc_task_136642.free_n_119475 = n_119475;
        futhark_mc_task_136642.free_l_window_119479 = l_window_119479;
        futhark_mc_task_136642.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136642.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136642.free_i_119551 = i_119551;
        futhark_mc_task_136642.free_gtid_123503 = gtid_123503;
        futhark_mc_task_136642.free_mem_127048 = mem_127048.mem;
        futhark_mc_task_136642.free_mem_127052 = mem_127052.mem;
        futhark_mc_task_136642.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136642.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136642.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136642.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136642.free_mem_127292 = mem_127292.mem;
        futhark_mc_task_136642.free_bytes_127580 = bytes_127580;
        futhark_mc_task_136642.free_mem_127654 = mem_127654;
        futhark_mc_task_136642.free_mem_127657 = mem_127657;
        
        struct scheduler_segop futhark_mc_task_136642_task;
        
        futhark_mc_task_136642_task.args = &futhark_mc_task_136642;
        futhark_mc_task_136642_task.top_level_fn =
            futhark_mc_segmap_task_136643;
        futhark_mc_task_136642_task.name = "futhark_mc_segmap_task_136643";
        futhark_mc_task_136642_task.iterations = l_n_m_119525;
        futhark_mc_task_136642_task.task_time =
            &ctx->futhark_mc_segmap_task_136643_total_time;
        futhark_mc_task_136642_task.task_iter =
            &ctx->futhark_mc_segmap_task_136643_total_iter;
        futhark_mc_task_136642_task.sched = STATIC;
        futhark_mc_task_136642_task.nested_fn =
            futhark_mc_segmap_nested_task_136650;
        
        int futhark_mc_segmap_task_136643_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136642_task);
        
        if (futhark_mc_segmap_task_136643_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127751.mem + gtid_123503 * l_n_m_119525 * (int64_t) 4,
                mem_127654 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
        memmove(mem_127755.mem + gtid_123503 * l_n_m_119525 * (int64_t) 4,
                mem_127657 + (int64_t) 0, l_n_m_119525 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127654);
    free(mem_127657);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136639_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136639_end -
                 futhark_mc_segmap_parloop_136639_start;
        
        ctx->futhark_mc_segmap_parloop_136639_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136639_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136639_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136637(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123502 = tid;
    int num_tasks_131894 = info.nsubtasks;
    struct futhark_mc_task_136627 *futhark_mc_task_136627 =
                                  (struct futhark_mc_task_136627 *) args;
    struct futhark_context *ctx = futhark_mc_task_136627->ctx;
    uint64_t futhark_mc_segmap_nested_task_136637_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136637_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136627->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136627->free_n_119475;
    int64_t l_window_119479 = futhark_mc_task_136627->free_l_window_119479;
    int64_t t_jump_119482 = futhark_mc_task_136627->free_t_jump_119482;
    int64_t l_n_m_119525 = futhark_mc_task_136627->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136627->free_i_119551;
    int64_t bytes_126994 = futhark_mc_task_136627->free_bytes_126994;
    struct memblock mem_127048 = {.desc ="mem_127048", .mem =
                                  futhark_mc_task_136627->free_mem_127048,
                                  .size =0, .references =NULL};
    struct memblock mem_127052 = {.desc ="mem_127052", .mem =
                                  futhark_mc_task_136627->free_mem_127052,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136627->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136627->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136627->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136627->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127292 = {.desc ="mem_127292", .mem =
                                  futhark_mc_task_136627->free_mem_127292,
                                  .size =0, .references =NULL};
    int64_t bytes_127580 = futhark_mc_task_136627->free_bytes_127580;
    struct memblock mem_127751 = {.desc ="mem_127751", .mem =
                                  futhark_mc_task_136627->free_mem_127751,
                                  .size =0, .references =NULL};
    struct memblock mem_127755 = {.desc ="mem_127755", .mem =
                                  futhark_mc_task_136627->free_mem_127755,
                                  .size =0, .references =NULL};
    int64_t iter_132028;
    struct futhark_mc_segmap_parloop_struct_136638
    futhark_mc_segmap_parloop_struct_136638;
    
    futhark_mc_segmap_parloop_struct_136638.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136638.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136638.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136638.free_l_window_119479 =
        l_window_119479;
    futhark_mc_segmap_parloop_struct_136638.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136638.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136638.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136638.free_bytes_126994 = bytes_126994;
    futhark_mc_segmap_parloop_struct_136638.free_mem_127048 = mem_127048.mem;
    futhark_mc_segmap_parloop_struct_136638.free_mem_127052 = mem_127052.mem;
    futhark_mc_segmap_parloop_struct_136638.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136638.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136638.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136638.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136638.free_mem_127292 = mem_127292.mem;
    futhark_mc_segmap_parloop_struct_136638.free_bytes_127580 = bytes_127580;
    futhark_mc_segmap_parloop_struct_136638.free_mem_127751 = mem_127751.mem;
    futhark_mc_segmap_parloop_struct_136638.free_mem_127755 = mem_127755.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136639_task;
    
    futhark_mc_segmap_parloop_136639_task.name =
        "futhark_mc_segmap_parloop_136639";
    futhark_mc_segmap_parloop_136639_task.fn = futhark_mc_segmap_parloop_136639;
    futhark_mc_segmap_parloop_136639_task.args =
        &futhark_mc_segmap_parloop_struct_136638;
    futhark_mc_segmap_parloop_136639_task.iterations = iterations;
    futhark_mc_segmap_parloop_136639_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136639_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136639_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136639_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136639_task);
    
    if (futhark_mc_segmap_parloop_136639_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136639_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136639_total_end -
                 futhark_mc_segmap_parloop_136639_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136639_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136639_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136639_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136637_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136637_end -
                 futhark_mc_segmap_nested_task_136637_start;
        
        ctx->futhark_mc_segmap_nested_task_136637_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136637_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136637_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136676 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_y_120667;
    int64_t free_bytes_126925;
    char *free_ext_mem_127760;
    char *free_ext_mem_127761;
    char *free_mem_127783;
};
struct futhark_mc_segmap_parloop_struct_136678 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_y_120667;
    int64_t free_bytes_126925;
    char *free_ext_mem_127760;
    char *free_ext_mem_127761;
    char *free_mem_127783;
};
static int futhark_mc_segmap_parloop_136679(void *args, int64_t start,
                                            int64_t end, int flat_tid_123841,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136678
    *futhark_mc_segmap_parloop_struct_136678 =
    (struct futhark_mc_segmap_parloop_struct_136678 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136678->ctx;
    uint64_t futhark_mc_segmap_parloop_136679_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136679_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136678->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136678->free_n_119475;
    int64_t l_jump_119483 =
            futhark_mc_segmap_parloop_struct_136678->free_l_jump_119483;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136678->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136678->free_i_119551;
    int64_t y_120667 = futhark_mc_segmap_parloop_struct_136678->free_y_120667;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136678->free_bytes_126925;
    struct memblock ext_mem_127760 = {.desc ="ext_mem_127760", .mem =
                                      futhark_mc_segmap_parloop_struct_136678->free_ext_mem_127760,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_127761 = {.desc ="ext_mem_127761", .mem =
                                      futhark_mc_segmap_parloop_struct_136678->free_ext_mem_127761,
                                      .size =0, .references =NULL};
    struct memblock mem_127783 = {.desc ="mem_127783", .mem =
                                  futhark_mc_segmap_parloop_struct_136678->free_mem_127783,
                                  .size =0, .references =NULL};
    size_t mem_127767_cached_sizze_136680 = 0;
    char *mem_127767 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132461 = start;
    
    if (mem_127767_cached_sizze_136680 < (size_t) bytes_126925) {
        mem_127767 = realloc(mem_127767, bytes_126925);
        mem_127767_cached_sizze_136680 = bytes_126925;
    }
    for (; iter_132461 < end; iter_132461++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132511 = m_119474;
        int64_t gtid_123842 = iter_132461;
        int64_t remnant_132512 = iter_132461 - gtid_123842;
        
        for (int64_t i_132462 = 0; i_132462 < n_119475; i_132462++) {
            int64_t m_v_132464 = sdiv64(i_132462, l_jump_119483);
            bool cond_132465 = m_v_132464 == y_120667;
            int64_t j_132466;
            
            if (cond_132465) {
                int64_t j_t_res_132467 = sub64(m_v_132464, (int64_t) 1);
                
                j_132466 = j_t_res_132467;
            } else {
                j_132466 = m_v_132464;
            }
            
            int64_t min_arg_132468 = mul64(l_jump_119483, j_132466);
            int64_t min_res_132469 = smin64(i_119551, min_arg_132468);
            int64_t defunc_0_m_fun_arg_132470 = add64((int64_t) 1, j_132466);
            int64_t min_arg_132471 = mul64(l_jump_119483,
                                           defunc_0_m_fun_arg_132470);
            int64_t min_res_132472 = smin64(i_119551, min_arg_132471);
            int64_t i64_arg_132473 = sub64(min_res_132472, min_res_132469);
            float i64_res_132474 = sitofp_i64_f32(i64_arg_132473);
            int64_t i64_arg_132475 = sub64(i_132462, min_res_132469);
            float i64_res_132476 = sitofp_i64_f32(i64_arg_132475);
            float u_132477 = i64_res_132476 / i64_res_132474;
            float u2_132478 = u_132477 * u_132477;
            float u3_132479 = u_132477 * u2_132478;
            float x_132480 = 2.0F * u3_132479;
            float y_132481 = 3.0F * u2_132478;
            float x_132482 = x_132480 - y_132481;
            float x_132483 = 1.0F + x_132482;
            bool x_132484 = sle64((int64_t) 0, j_132466);
            bool y_132485 = slt64(j_132466, l_n_m_119525);
            bool bounds_check_132486 = x_132484 && y_132485;
            bool index_certs_132487;
            
            if (!bounds_check_132486) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) j_132466,
                              "] out of bounds for array of shape [",
                              (long long) l_n_m_119525, "].",
                              "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float y_132488 = ((float *) ext_mem_127761.mem)[gtid_123842 *
                                                            l_n_m_119525 +
                                                            j_132466];
            float x_132489 = x_132483 * y_132488;
            float x_132490 = y_132481 - x_132480;
            bool x_132491 = sle64((int64_t) 0, defunc_0_m_fun_arg_132470);
            bool y_132492 = slt64(defunc_0_m_fun_arg_132470, l_n_m_119525);
            bool bounds_check_132493 = x_132491 && y_132492;
            bool index_certs_132494;
            
            if (!bounds_check_132493) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) defunc_0_m_fun_arg_132470,
                              "] out of bounds for array of shape [",
                              (long long) l_n_m_119525, "].",
                              "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float y_132495 = ((float *) ext_mem_127761.mem)[gtid_123842 *
                                                            l_n_m_119525 +
                                                            defunc_0_m_fun_arg_132470];
            float y_132496 = x_132490 * y_132495;
            float x_132497 = x_132489 + y_132496;
            float y_132498 = 2.0F * u2_132478;
            float x_132499 = u3_132479 - y_132498;
            float x_132500 = u_132477 + x_132499;
            float y_132501 = ((float *) ext_mem_127760.mem)[gtid_123842 *
                                                            l_n_m_119525 +
                                                            j_132466];
            float x_132502 = x_132500 * y_132501;
            float y_132503 = i64_res_132474 * x_132502;
            float x_132504 = x_132497 + y_132503;
            float x_132505 = u3_132479 - u2_132478;
            float y_132506 = ((float *) ext_mem_127760.mem)[gtid_123842 *
                                                            l_n_m_119525 +
                                                            defunc_0_m_fun_arg_132470];
            float x_132507 = x_132505 * y_132506;
            float y_132508 = i64_res_132474 * x_132507;
            float defunc_0_f_res_132509 = x_132504 + y_132508;
            
            ((float *) mem_127767)[i_132462] = defunc_0_f_res_132509;
        }
        memmove(mem_127783.mem + gtid_123842 * n_119475 * (int64_t) 4,
                mem_127767 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127767);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136679_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136679_end -
                 futhark_mc_segmap_parloop_136679_start;
        
        ctx->futhark_mc_segmap_parloop_136679_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136679_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136679_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136677(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123841 = tid;
    int num_tasks_132460 = info.nsubtasks;
    struct futhark_mc_task_136676 *futhark_mc_task_136676 =
                                  (struct futhark_mc_task_136676 *) args;
    struct futhark_context *ctx = futhark_mc_task_136676->ctx;
    uint64_t futhark_mc_segmap_task_136677_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136677_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136676->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136676->free_n_119475;
    int64_t l_jump_119483 = futhark_mc_task_136676->free_l_jump_119483;
    int64_t l_n_m_119525 = futhark_mc_task_136676->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136676->free_i_119551;
    int64_t y_120667 = futhark_mc_task_136676->free_y_120667;
    int64_t bytes_126925 = futhark_mc_task_136676->free_bytes_126925;
    struct memblock ext_mem_127760 = {.desc ="ext_mem_127760", .mem =
                                      futhark_mc_task_136676->free_ext_mem_127760,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_127761 = {.desc ="ext_mem_127761", .mem =
                                      futhark_mc_task_136676->free_ext_mem_127761,
                                      .size =0, .references =NULL};
    struct memblock mem_127783 = {.desc ="mem_127783", .mem =
                                  futhark_mc_task_136676->free_mem_127783,
                                  .size =0, .references =NULL};
    int64_t iter_132461;
    struct futhark_mc_segmap_parloop_struct_136678
    futhark_mc_segmap_parloop_struct_136678;
    
    futhark_mc_segmap_parloop_struct_136678.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136678.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136678.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136678.free_l_jump_119483 = l_jump_119483;
    futhark_mc_segmap_parloop_struct_136678.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136678.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136678.free_y_120667 = y_120667;
    futhark_mc_segmap_parloop_struct_136678.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136678.free_ext_mem_127760 =
        ext_mem_127760.mem;
    futhark_mc_segmap_parloop_struct_136678.free_ext_mem_127761 =
        ext_mem_127761.mem;
    futhark_mc_segmap_parloop_struct_136678.free_mem_127783 = mem_127783.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136679_task;
    
    futhark_mc_segmap_parloop_136679_task.name =
        "futhark_mc_segmap_parloop_136679";
    futhark_mc_segmap_parloop_136679_task.fn = futhark_mc_segmap_parloop_136679;
    futhark_mc_segmap_parloop_136679_task.args =
        &futhark_mc_segmap_parloop_struct_136678;
    futhark_mc_segmap_parloop_136679_task.iterations = iterations;
    futhark_mc_segmap_parloop_136679_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136679_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136679_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136679_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136679_task);
    
    if (futhark_mc_segmap_parloop_136679_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136679_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136679_total_end -
                 futhark_mc_segmap_parloop_136679_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136679_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136679_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136679_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136677_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136677_end -
                 futhark_mc_segmap_task_136677_start;
        
        ctx->futhark_mc_segmap_task_136677_runs[tid]++;
        ctx->futhark_mc_segmap_task_136677_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136677_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136682 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_y_120667;
    int64_t free_bytes_126925;
    char *free_ext_mem_127760;
    char *free_ext_mem_127761;
    char *free_mem_127783;
};
struct futhark_mc_task_136685 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_y_120667;
    int64_t free_gtid_123844;
    char *free_ext_mem_127760;
    char *free_ext_mem_127761;
    char *free_mem_127764;
};
struct futhark_mc_segmap_parloop_struct_136687 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_l_jump_119483;
    int64_t free_l_n_m_119525;
    int64_t free_i_119551;
    int64_t free_y_120667;
    int64_t free_gtid_123844;
    char *free_ext_mem_127760;
    char *free_ext_mem_127761;
    char *free_mem_127764;
};
static int futhark_mc_segmap_parloop_136688(void *args, int64_t start,
                                            int64_t end, int flat_tid_123845,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136687
    *futhark_mc_segmap_parloop_struct_136687 =
    (struct futhark_mc_segmap_parloop_struct_136687 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136687->ctx;
    uint64_t futhark_mc_segmap_parloop_136688_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136688_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136687->free_n_119475;
    int64_t l_jump_119483 =
            futhark_mc_segmap_parloop_struct_136687->free_l_jump_119483;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136687->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136687->free_i_119551;
    int64_t y_120667 = futhark_mc_segmap_parloop_struct_136687->free_y_120667;
    int64_t gtid_123844 =
            futhark_mc_segmap_parloop_struct_136687->free_gtid_123844;
    struct memblock ext_mem_127760 = {.desc ="ext_mem_127760", .mem =
                                      futhark_mc_segmap_parloop_struct_136687->free_ext_mem_127760,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_127761 = {.desc ="ext_mem_127761", .mem =
                                      futhark_mc_segmap_parloop_struct_136687->free_ext_mem_127761,
                                      .size =0, .references =NULL};
    struct memblock mem_127764 = {.desc ="mem_127764", .mem =
                                  futhark_mc_segmap_parloop_struct_136687->free_mem_127764,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132564 = start;
    
    for (; iter_132564 < end; iter_132564++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132566 = n_119475;
        int64_t gtid_123846 = iter_132564;
        int64_t remnant_132567 = iter_132564 - gtid_123846;
        int64_t m_v_132515 = sdiv64(gtid_123846, l_jump_119483);
        bool cond_132516 = m_v_132515 == y_120667;
        int64_t j_132517;
        
        if (cond_132516) {
            int64_t j_t_res_132565 = sub64(m_v_132515, (int64_t) 1);
            
            j_132517 = j_t_res_132565;
        } else {
            j_132517 = m_v_132515;
        }
        
        int64_t min_arg_132519 = mul64(l_jump_119483, j_132517);
        int64_t min_res_132520 = smin64(i_119551, min_arg_132519);
        int64_t defunc_0_m_fun_arg_132521 = add64((int64_t) 1, j_132517);
        int64_t min_arg_132522 = mul64(l_jump_119483,
                                       defunc_0_m_fun_arg_132521);
        int64_t min_res_132523 = smin64(i_119551, min_arg_132522);
        int64_t i64_arg_132524 = sub64(min_res_132523, min_res_132520);
        float i64_res_132525 = sitofp_i64_f32(i64_arg_132524);
        int64_t i64_arg_132526 = sub64(gtid_123846, min_res_132520);
        float i64_res_132527 = sitofp_i64_f32(i64_arg_132526);
        float u_132528 = i64_res_132527 / i64_res_132525;
        float u2_132529 = u_132528 * u_132528;
        float u3_132530 = u_132528 * u2_132529;
        float x_132531 = 2.0F * u3_132530;
        float y_132532 = 3.0F * u2_132529;
        float x_132533 = x_132531 - y_132532;
        float x_132534 = 1.0F + x_132533;
        bool x_132535 = sle64((int64_t) 0, j_132517);
        bool y_132536 = slt64(j_132517, l_n_m_119525);
        bool bounds_check_132537 = x_132535 && y_132536;
        bool index_certs_132538;
        
        if (!bounds_check_132537) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) j_132517,
                                   "] out of bounds for array of shape [",
                                   (long long) l_n_m_119525, "].",
                                   "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
            return 1;
        }
        
        float y_132539 = ((float *) ext_mem_127761.mem)[gtid_123844 *
                                                        l_n_m_119525 +
                                                        j_132517];
        float x_132540 = x_132534 * y_132539;
        float x_132541 = y_132532 - x_132531;
        bool x_132542 = sle64((int64_t) 0, defunc_0_m_fun_arg_132521);
        bool y_132543 = slt64(defunc_0_m_fun_arg_132521, l_n_m_119525);
        bool bounds_check_132544 = x_132542 && y_132543;
        bool index_certs_132545;
        
        if (!bounds_check_132544) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [",
                                   (long long) defunc_0_m_fun_arg_132521,
                                   "] out of bounds for array of shape [",
                                   (long long) l_n_m_119525, "].",
                                   "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
            return 1;
        }
        
        float y_132546 = ((float *) ext_mem_127761.mem)[gtid_123844 *
                                                        l_n_m_119525 +
                                                        defunc_0_m_fun_arg_132521];
        float y_132547 = x_132541 * y_132546;
        float x_132548 = x_132540 + y_132547;
        float y_132549 = 2.0F * u2_132529;
        float x_132550 = u3_132530 - y_132549;
        float x_132551 = u_132528 + x_132550;
        float y_132552 = ((float *) ext_mem_127760.mem)[gtid_123844 *
                                                        l_n_m_119525 +
                                                        j_132517];
        float x_132553 = x_132551 * y_132552;
        float y_132554 = i64_res_132525 * x_132553;
        float x_132555 = x_132548 + y_132554;
        float x_132556 = u3_132530 - u2_132529;
        float y_132557 = ((float *) ext_mem_127760.mem)[gtid_123844 *
                                                        l_n_m_119525 +
                                                        defunc_0_m_fun_arg_132521];
        float x_132558 = x_132556 * y_132557;
        float y_132559 = i64_res_132525 * x_132558;
        float defunc_0_f_res_132560 = x_132555 + y_132559;
        
        ((float *) mem_127764.mem)[gtid_123846] = defunc_0_f_res_132560;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136688_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136688_end -
                 futhark_mc_segmap_parloop_136688_start;
        
        ctx->futhark_mc_segmap_parloop_136688_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136688_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136688_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136686(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123845 = tid;
    int num_tasks_132563 = info.nsubtasks;
    struct futhark_mc_task_136685 *futhark_mc_task_136685 =
                                  (struct futhark_mc_task_136685 *) args;
    struct futhark_context *ctx = futhark_mc_task_136685->ctx;
    uint64_t futhark_mc_segmap_task_136686_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136686_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136685->free_n_119475;
    int64_t l_jump_119483 = futhark_mc_task_136685->free_l_jump_119483;
    int64_t l_n_m_119525 = futhark_mc_task_136685->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136685->free_i_119551;
    int64_t y_120667 = futhark_mc_task_136685->free_y_120667;
    int64_t gtid_123844 = futhark_mc_task_136685->free_gtid_123844;
    struct memblock ext_mem_127760 = {.desc ="ext_mem_127760", .mem =
                                      futhark_mc_task_136685->free_ext_mem_127760,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_127761 = {.desc ="ext_mem_127761", .mem =
                                      futhark_mc_task_136685->free_ext_mem_127761,
                                      .size =0, .references =NULL};
    struct memblock mem_127764 = {.desc ="mem_127764", .mem =
                                  futhark_mc_task_136685->free_mem_127764,
                                  .size =0, .references =NULL};
    int64_t iter_132564;
    struct futhark_mc_segmap_parloop_struct_136687
    futhark_mc_segmap_parloop_struct_136687;
    
    futhark_mc_segmap_parloop_struct_136687.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136687.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136687.free_l_jump_119483 = l_jump_119483;
    futhark_mc_segmap_parloop_struct_136687.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136687.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136687.free_y_120667 = y_120667;
    futhark_mc_segmap_parloop_struct_136687.free_gtid_123844 = gtid_123844;
    futhark_mc_segmap_parloop_struct_136687.free_ext_mem_127760 =
        ext_mem_127760.mem;
    futhark_mc_segmap_parloop_struct_136687.free_ext_mem_127761 =
        ext_mem_127761.mem;
    futhark_mc_segmap_parloop_struct_136687.free_mem_127764 = mem_127764.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136688_task;
    
    futhark_mc_segmap_parloop_136688_task.name =
        "futhark_mc_segmap_parloop_136688";
    futhark_mc_segmap_parloop_136688_task.fn = futhark_mc_segmap_parloop_136688;
    futhark_mc_segmap_parloop_136688_task.args =
        &futhark_mc_segmap_parloop_struct_136687;
    futhark_mc_segmap_parloop_136688_task.iterations = iterations;
    futhark_mc_segmap_parloop_136688_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136688_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136688_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136688_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136688_task);
    
    if (futhark_mc_segmap_parloop_136688_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136688_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136688_total_end -
                 futhark_mc_segmap_parloop_136688_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136688_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136688_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136688_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136686_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136686_end -
                 futhark_mc_segmap_task_136686_start;
        
        ctx->futhark_mc_segmap_task_136686_runs[tid]++;
        ctx->futhark_mc_segmap_task_136686_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136686_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136683(void *args, int64_t start,
                                            int64_t end, int flat_tid_123843,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136682
    *futhark_mc_segmap_parloop_struct_136682 =
    (struct futhark_mc_segmap_parloop_struct_136682 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136682->ctx;
    uint64_t futhark_mc_segmap_parloop_136683_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136683_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136682->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136682->free_n_119475;
    int64_t l_jump_119483 =
            futhark_mc_segmap_parloop_struct_136682->free_l_jump_119483;
    int64_t l_n_m_119525 =
            futhark_mc_segmap_parloop_struct_136682->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136682->free_i_119551;
    int64_t y_120667 = futhark_mc_segmap_parloop_struct_136682->free_y_120667;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136682->free_bytes_126925;
    struct memblock ext_mem_127760 = {.desc ="ext_mem_127760", .mem =
                                      futhark_mc_segmap_parloop_struct_136682->free_ext_mem_127760,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_127761 = {.desc ="ext_mem_127761", .mem =
                                      futhark_mc_segmap_parloop_struct_136682->free_ext_mem_127761,
                                      .size =0, .references =NULL};
    struct memblock mem_127783 = {.desc ="mem_127783", .mem =
                                  futhark_mc_segmap_parloop_struct_136682->free_mem_127783,
                                  .size =0, .references =NULL};
    size_t mem_127764_cached_sizze_136684 = 0;
    char *mem_127764 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132514 = start;
    
    if (mem_127764_cached_sizze_136684 < (size_t) bytes_126925) {
        mem_127764 = realloc(mem_127764, bytes_126925);
        mem_127764_cached_sizze_136684 = bytes_126925;
    }
    for (; iter_132514 < end; iter_132514++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132561 = m_119474;
        int64_t gtid_123844 = iter_132514;
        int64_t remnant_132562 = iter_132514 - gtid_123844;
        int64_t flat_tid_123845 = (int64_t) 0;
        int32_t num_tasks_132563;
        struct futhark_mc_task_136685 futhark_mc_task_136685;
        
        futhark_mc_task_136685.ctx = ctx;
        futhark_mc_task_136685.free_n_119475 = n_119475;
        futhark_mc_task_136685.free_l_jump_119483 = l_jump_119483;
        futhark_mc_task_136685.free_l_n_m_119525 = l_n_m_119525;
        futhark_mc_task_136685.free_i_119551 = i_119551;
        futhark_mc_task_136685.free_y_120667 = y_120667;
        futhark_mc_task_136685.free_gtid_123844 = gtid_123844;
        futhark_mc_task_136685.free_ext_mem_127760 = ext_mem_127760.mem;
        futhark_mc_task_136685.free_ext_mem_127761 = ext_mem_127761.mem;
        futhark_mc_task_136685.free_mem_127764 = mem_127764;
        
        struct scheduler_segop futhark_mc_task_136685_task;
        
        futhark_mc_task_136685_task.args = &futhark_mc_task_136685;
        futhark_mc_task_136685_task.top_level_fn =
            futhark_mc_segmap_task_136686;
        futhark_mc_task_136685_task.name = "futhark_mc_segmap_task_136686";
        futhark_mc_task_136685_task.iterations = n_119475;
        futhark_mc_task_136685_task.task_time =
            &ctx->futhark_mc_segmap_task_136686_total_time;
        futhark_mc_task_136685_task.task_iter =
            &ctx->futhark_mc_segmap_task_136686_total_iter;
        futhark_mc_task_136685_task.sched = STATIC;
        futhark_mc_task_136685_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136686_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136685_task);
        
        if (futhark_mc_segmap_task_136686_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127783.mem + gtid_123844 * n_119475 * (int64_t) 4,
                mem_127764 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127764);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136683_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136683_end -
                 futhark_mc_segmap_parloop_136683_start;
        
        ctx->futhark_mc_segmap_parloop_136683_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136683_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136683_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136681(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123843 = tid;
    int num_tasks_132460 = info.nsubtasks;
    struct futhark_mc_task_136676 *futhark_mc_task_136676 =
                                  (struct futhark_mc_task_136676 *) args;
    struct futhark_context *ctx = futhark_mc_task_136676->ctx;
    uint64_t futhark_mc_segmap_nested_task_136681_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136681_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136676->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136676->free_n_119475;
    int64_t l_jump_119483 = futhark_mc_task_136676->free_l_jump_119483;
    int64_t l_n_m_119525 = futhark_mc_task_136676->free_l_n_m_119525;
    int64_t i_119551 = futhark_mc_task_136676->free_i_119551;
    int64_t y_120667 = futhark_mc_task_136676->free_y_120667;
    int64_t bytes_126925 = futhark_mc_task_136676->free_bytes_126925;
    struct memblock ext_mem_127760 = {.desc ="ext_mem_127760", .mem =
                                      futhark_mc_task_136676->free_ext_mem_127760,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_127761 = {.desc ="ext_mem_127761", .mem =
                                      futhark_mc_task_136676->free_ext_mem_127761,
                                      .size =0, .references =NULL};
    struct memblock mem_127783 = {.desc ="mem_127783", .mem =
                                  futhark_mc_task_136676->free_mem_127783,
                                  .size =0, .references =NULL};
    int64_t iter_132514;
    struct futhark_mc_segmap_parloop_struct_136682
    futhark_mc_segmap_parloop_struct_136682;
    
    futhark_mc_segmap_parloop_struct_136682.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136682.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136682.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136682.free_l_jump_119483 = l_jump_119483;
    futhark_mc_segmap_parloop_struct_136682.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_segmap_parloop_struct_136682.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136682.free_y_120667 = y_120667;
    futhark_mc_segmap_parloop_struct_136682.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136682.free_ext_mem_127760 =
        ext_mem_127760.mem;
    futhark_mc_segmap_parloop_struct_136682.free_ext_mem_127761 =
        ext_mem_127761.mem;
    futhark_mc_segmap_parloop_struct_136682.free_mem_127783 = mem_127783.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136683_task;
    
    futhark_mc_segmap_parloop_136683_task.name =
        "futhark_mc_segmap_parloop_136683";
    futhark_mc_segmap_parloop_136683_task.fn = futhark_mc_segmap_parloop_136683;
    futhark_mc_segmap_parloop_136683_task.args =
        &futhark_mc_segmap_parloop_struct_136682;
    futhark_mc_segmap_parloop_136683_task.iterations = iterations;
    futhark_mc_segmap_parloop_136683_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136683_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136683_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136683_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136683_task);
    
    if (futhark_mc_segmap_parloop_136683_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136683_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136683_total_end -
                 futhark_mc_segmap_parloop_136683_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136683_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136683_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136683_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136681_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136681_end -
                 futhark_mc_segmap_nested_task_136681_start;
        
        ctx->futhark_mc_segmap_nested_task_136681_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136681_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136681_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136689 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    char *free_Y_mem_126881;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127234;
    char *free_ext_mem_127784;
    int64_t free_ext_127785;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127869;
};
struct futhark_mc_segmap_parloop_struct_136691 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    char *free_Y_mem_126881;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127234;
    char *free_ext_mem_127784;
    int64_t free_ext_127785;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127869;
};
static int futhark_mc_segmap_parloop_136692(void *args, int64_t start,
                                            int64_t end, int flat_tid_123897,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136691
    *futhark_mc_segmap_parloop_struct_136691 =
    (struct futhark_mc_segmap_parloop_struct_136691 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136691->ctx;
    uint64_t futhark_mc_segmap_parloop_136692_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136692_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136691->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136691->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136691->free_n_p_119477;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136691->free_C_len_119523;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136691->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136691->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136691->free_bytes_126925;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136691->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136691->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136691->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136691->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136691->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_127784 = {.desc ="ext_mem_127784", .mem =
                                      futhark_mc_segmap_parloop_struct_136691->free_ext_mem_127784,
                                      .size =0, .references =NULL};
    int64_t ext_127785 =
            futhark_mc_segmap_parloop_struct_136691->free_ext_127785;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136691->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136691->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127869 = {.desc ="mem_127869", .mem =
                                  futhark_mc_segmap_parloop_struct_136691->free_mem_127869,
                                  .size =0, .references =NULL};
    size_t mem_127800_cached_sizze_136693 = 0;
    char *mem_127800 = NULL;
    size_t mem_127803_cached_sizze_136694 = 0;
    char *mem_127803 = NULL;
    size_t mem_127830_cached_sizze_136695 = 0;
    char *mem_127830 = NULL;
    size_t mem_127833_cached_sizze_136696 = 0;
    char *mem_127833 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132569 = start;
    
    if (mem_127800_cached_sizze_136693 < (size_t) bytes_126925) {
        mem_127800 = realloc(mem_127800, bytes_126925);
        mem_127800_cached_sizze_136693 = bytes_126925;
    }
    if (mem_127803_cached_sizze_136694 < (size_t) bytes_126925) {
        mem_127803 = realloc(mem_127803, bytes_126925);
        mem_127803_cached_sizze_136694 = bytes_126925;
    }
    if (mem_127830_cached_sizze_136695 < (size_t) bytes_126925) {
        mem_127830 = realloc(mem_127830, bytes_126925);
        mem_127830_cached_sizze_136695 = bytes_126925;
    }
    if (mem_127833_cached_sizze_136696 < (size_t) bytes_126925) {
        mem_127833 = realloc(mem_127833, bytes_126925);
        mem_127833_cached_sizze_136696 = bytes_126925;
    }
    for (; iter_132569 < end; iter_132569++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132598 = m_119474;
        int64_t gtid_123898 = iter_132569;
        int64_t remnant_132599 = iter_132569 - gtid_123898;
        
        for (int64_t i_132570 = 0; i_132570 < n_119475; i_132570++) {
            int64_t slice_132573 = n_p_119477 + i_132570;
            float x_132574 = ((float *) mem_127234.mem)[gtid_123898 *
                                                        C_len_119523 +
                                                        slice_132573];
            float x_132575 = ((float *) ext_mem_127784.mem)[gtid_123898 *
                                                            ext_127785 +
                                                            i_132570];
            float x_132576 = ((float *) Y_mem_126881.mem)[gtid_123898 *
                                                          n_119475 + i_132570];
            float defunc_1_f_res_132577 = x_132574 - x_132575;
            float defunc_1_f_res_132578 = x_132576 - defunc_1_f_res_132577;
            
            ((float *) mem_127800)[i_132570] = defunc_1_f_res_132578;
            ((float *) mem_127803)[i_132570] = defunc_1_f_res_132577;
        }
        for (int64_t i_132581 = 0; i_132581 < n_119475; i_132581++) {
            int64_t x_132584 = ((int64_t *) mem_126921.mem)[gtid_123898 *
                                                            n_119475 +
                                                            i_132581];
            bool cond_132585 = sle64((int64_t) 0, x_132584);
            float defunc_0_f_res_132586;
            
            if (cond_132585) {
                bool y_132587 = slt64(x_132584, n_119475);
                bool bounds_check_132588 = cond_132585 && y_132587;
                bool index_certs_132589;
                
                if (!bounds_check_132588) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_132584,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:248:33-53\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_132590 =
                      ((float *) mem_127800)[x_132584];
                
                defunc_0_f_res_132586 = defunc_0_f_res_t_res_132590;
            } else {
                defunc_0_f_res_132586 = 0.0F;
            }
            
            float defunc_0_f_res_132591;
            
            if (cond_132585) {
                bool y_132592 = slt64(x_132584, n_119475);
                bool bounds_check_132593 = cond_132585 && y_132592;
                bool index_certs_132594;
                
                if (!bounds_check_132593) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_132584,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:249:33-59\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_132595 =
                      ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                       (gtid_123898 *
                                                        ctx_param_ext_127142 +
                                                        x_132584 *
                                                        ctx_param_ext_127144)];
                
                defunc_0_f_res_132591 = defunc_0_f_res_t_res_132595;
            } else {
                defunc_0_f_res_132591 = 0.0F;
            }
            ((float *) mem_127830)[i_132581] = defunc_0_f_res_132591;
            ((float *) mem_127833)[i_132581] = defunc_0_f_res_132586;
        }
        memmove(mem_127861.mem + gtid_123898 * n_119475 * (int64_t) 4,
                mem_127833 + (int64_t) 0, n_119475 * (int64_t) 4);
        memmove(mem_127865.mem + gtid_123898 * n_119475 * (int64_t) 4,
                mem_127830 + (int64_t) 0, n_119475 * (int64_t) 4);
        memmove(mem_127869.mem + gtid_123898 * n_119475 * (int64_t) 4,
                mem_127803 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127800);
    free(mem_127803);
    free(mem_127830);
    free(mem_127833);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136692_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136692_end -
                 futhark_mc_segmap_parloop_136692_start;
        
        ctx->futhark_mc_segmap_parloop_136692_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136692_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136692_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136690(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123897 = tid;
    int num_tasks_132568 = info.nsubtasks;
    struct futhark_mc_task_136689 *futhark_mc_task_136689 =
                                  (struct futhark_mc_task_136689 *) args;
    struct futhark_context *ctx = futhark_mc_task_136689->ctx;
    uint64_t futhark_mc_segmap_task_136690_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136690_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136689->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136689->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136689->free_n_p_119477;
    int64_t C_len_119523 = futhark_mc_task_136689->free_C_len_119523;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136689->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136689->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136689->free_bytes_126925;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136689->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136689->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136689->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136689->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136689->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_127784 = {.desc ="ext_mem_127784", .mem =
                                      futhark_mc_task_136689->free_ext_mem_127784,
                                      .size =0, .references =NULL};
    int64_t ext_127785 = futhark_mc_task_136689->free_ext_127785;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136689->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136689->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127869 = {.desc ="mem_127869", .mem =
                                  futhark_mc_task_136689->free_mem_127869,
                                  .size =0, .references =NULL};
    int64_t iter_132569;
    struct futhark_mc_segmap_parloop_struct_136691
    futhark_mc_segmap_parloop_struct_136691;
    
    futhark_mc_segmap_parloop_struct_136691.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136691.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136691.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136691.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136691.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136691.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136691.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136691.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136691.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136691.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136691.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136691.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136691.free_mem_127234 = mem_127234.mem;
    futhark_mc_segmap_parloop_struct_136691.free_ext_mem_127784 =
        ext_mem_127784.mem;
    futhark_mc_segmap_parloop_struct_136691.free_ext_127785 = ext_127785;
    futhark_mc_segmap_parloop_struct_136691.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136691.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136691.free_mem_127869 = mem_127869.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136692_task;
    
    futhark_mc_segmap_parloop_136692_task.name =
        "futhark_mc_segmap_parloop_136692";
    futhark_mc_segmap_parloop_136692_task.fn = futhark_mc_segmap_parloop_136692;
    futhark_mc_segmap_parloop_136692_task.args =
        &futhark_mc_segmap_parloop_struct_136691;
    futhark_mc_segmap_parloop_136692_task.iterations = iterations;
    futhark_mc_segmap_parloop_136692_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136692_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136692_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136692_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136692_task);
    
    if (futhark_mc_segmap_parloop_136692_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136692_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136692_total_end -
                 futhark_mc_segmap_parloop_136692_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136692_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136692_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136692_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136690_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136690_end -
                 futhark_mc_segmap_task_136690_start;
        
        ctx->futhark_mc_segmap_task_136690_runs[tid]++;
        ctx->futhark_mc_segmap_task_136690_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136690_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136698 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    char *free_Y_mem_126881;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127234;
    char *free_ext_mem_127784;
    int64_t free_ext_127785;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127869;
};
struct futhark_mc_task_136704 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    int64_t free_gtid_123900;
    char *free_Y_mem_126881;
    char *free_mem_127234;
    char *free_ext_mem_127784;
    int64_t free_ext_127785;
    char *free_mem_127788;
    char *free_mem_127791;
};
struct futhark_mc_segmap_parloop_struct_136706 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_n_p_119477;
    int64_t free_C_len_119523;
    int64_t free_gtid_123900;
    char *free_Y_mem_126881;
    char *free_mem_127234;
    char *free_ext_mem_127784;
    int64_t free_ext_127785;
    char *free_mem_127788;
    char *free_mem_127791;
};
static int futhark_mc_segmap_parloop_136707(void *args, int64_t start,
                                            int64_t end, int flat_tid_123901,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136706
    *futhark_mc_segmap_parloop_struct_136706 =
    (struct futhark_mc_segmap_parloop_struct_136706 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136706->ctx;
    uint64_t futhark_mc_segmap_parloop_136707_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136707_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136706->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136706->free_n_p_119477;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136706->free_C_len_119523;
    int64_t gtid_123900 =
            futhark_mc_segmap_parloop_struct_136706->free_gtid_123900;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136706->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136706->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_127784 = {.desc ="ext_mem_127784", .mem =
                                      futhark_mc_segmap_parloop_struct_136706->free_ext_mem_127784,
                                      .size =0, .references =NULL};
    int64_t ext_127785 =
            futhark_mc_segmap_parloop_struct_136706->free_ext_127785;
    struct memblock mem_127788 = {.desc ="mem_127788", .mem =
                                  futhark_mc_segmap_parloop_struct_136706->free_mem_127788,
                                  .size =0, .references =NULL};
    struct memblock mem_127791 = {.desc ="mem_127791", .mem =
                                  futhark_mc_segmap_parloop_struct_136706->free_mem_127791,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132626 = start;
    
    for (; iter_132626 < end; iter_132626++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132627 = n_119475;
        int64_t gtid_123902 = iter_132626;
        int64_t remnant_132628 = iter_132626 - gtid_123902;
        int64_t slice_132605 = n_p_119477 + gtid_123902;
        float x_132606 = ((float *) mem_127234.mem)[gtid_123900 * C_len_119523 +
                                                    slice_132605];
        float x_132607 = ((float *) ext_mem_127784.mem)[gtid_123900 *
                                                        ext_127785 +
                                                        gtid_123902];
        float x_132608 = ((float *) Y_mem_126881.mem)[gtid_123900 * n_119475 +
                                                      gtid_123902];
        float defunc_1_f_res_132609 = x_132606 - x_132607;
        float defunc_1_f_res_132610 = x_132608 - defunc_1_f_res_132609;
        
        ((float *) mem_127788.mem)[gtid_123902] = defunc_1_f_res_132610;
        ((float *) mem_127791.mem)[gtid_123902] = defunc_1_f_res_132609;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136707_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136707_end -
                 futhark_mc_segmap_parloop_136707_start;
        
        ctx->futhark_mc_segmap_parloop_136707_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136707_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136707_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136705(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123901 = tid;
    int num_tasks_132625 = info.nsubtasks;
    struct futhark_mc_task_136704 *futhark_mc_task_136704 =
                                  (struct futhark_mc_task_136704 *) args;
    struct futhark_context *ctx = futhark_mc_task_136704->ctx;
    uint64_t futhark_mc_segmap_task_136705_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136705_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136704->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136704->free_n_p_119477;
    int64_t C_len_119523 = futhark_mc_task_136704->free_C_len_119523;
    int64_t gtid_123900 = futhark_mc_task_136704->free_gtid_123900;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136704->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136704->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_127784 = {.desc ="ext_mem_127784", .mem =
                                      futhark_mc_task_136704->free_ext_mem_127784,
                                      .size =0, .references =NULL};
    int64_t ext_127785 = futhark_mc_task_136704->free_ext_127785;
    struct memblock mem_127788 = {.desc ="mem_127788", .mem =
                                  futhark_mc_task_136704->free_mem_127788,
                                  .size =0, .references =NULL};
    struct memblock mem_127791 = {.desc ="mem_127791", .mem =
                                  futhark_mc_task_136704->free_mem_127791,
                                  .size =0, .references =NULL};
    int64_t iter_132626;
    struct futhark_mc_segmap_parloop_struct_136706
    futhark_mc_segmap_parloop_struct_136706;
    
    futhark_mc_segmap_parloop_struct_136706.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136706.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136706.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136706.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136706.free_gtid_123900 = gtid_123900;
    futhark_mc_segmap_parloop_struct_136706.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136706.free_mem_127234 = mem_127234.mem;
    futhark_mc_segmap_parloop_struct_136706.free_ext_mem_127784 =
        ext_mem_127784.mem;
    futhark_mc_segmap_parloop_struct_136706.free_ext_127785 = ext_127785;
    futhark_mc_segmap_parloop_struct_136706.free_mem_127788 = mem_127788.mem;
    futhark_mc_segmap_parloop_struct_136706.free_mem_127791 = mem_127791.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136707_task;
    
    futhark_mc_segmap_parloop_136707_task.name =
        "futhark_mc_segmap_parloop_136707";
    futhark_mc_segmap_parloop_136707_task.fn = futhark_mc_segmap_parloop_136707;
    futhark_mc_segmap_parloop_136707_task.args =
        &futhark_mc_segmap_parloop_struct_136706;
    futhark_mc_segmap_parloop_136707_task.iterations = iterations;
    futhark_mc_segmap_parloop_136707_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136707_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136707_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136707_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136707_task);
    
    if (futhark_mc_segmap_parloop_136707_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136707_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136707_total_end -
                 futhark_mc_segmap_parloop_136707_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136707_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136707_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136707_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136705_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136705_end -
                 futhark_mc_segmap_task_136705_start;
        
        ctx->futhark_mc_segmap_task_136705_runs[tid]++;
        ctx->futhark_mc_segmap_task_136705_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136705_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136708 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123900;
    char *free_mem_126921;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127788;
    char *free_mem_127794;
    char *free_mem_127797;
};
struct futhark_mc_segmap_parloop_struct_136710 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123900;
    char *free_mem_126921;
    int64_t free_ctx_param_ext_127141;
    int64_t free_ctx_param_ext_127142;
    int64_t free_ctx_param_ext_127144;
    char *free_mem_param_127146;
    char *free_mem_127788;
    char *free_mem_127794;
    char *free_mem_127797;
};
static int futhark_mc_segmap_parloop_136711(void *args, int64_t start,
                                            int64_t end, int flat_tid_123903,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136710
    *futhark_mc_segmap_parloop_struct_136710 =
    (struct futhark_mc_segmap_parloop_struct_136710 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136710->ctx;
    uint64_t futhark_mc_segmap_parloop_136711_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136711_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136710->free_n_119475;
    int64_t gtid_123900 =
            futhark_mc_segmap_parloop_struct_136710->free_gtid_123900;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136710->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136710->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136710->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136710->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136710->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127788 = {.desc ="mem_127788", .mem =
                                  futhark_mc_segmap_parloop_struct_136710->free_mem_127788,
                                  .size =0, .references =NULL};
    struct memblock mem_127794 = {.desc ="mem_127794", .mem =
                                  futhark_mc_segmap_parloop_struct_136710->free_mem_127794,
                                  .size =0, .references =NULL};
    struct memblock mem_127797 = {.desc ="mem_127797", .mem =
                                  futhark_mc_segmap_parloop_struct_136710->free_mem_127797,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132630 = start;
    
    for (; iter_132630 < end; iter_132630++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132639 = n_119475;
        int64_t gtid_123904 = iter_132630;
        int64_t remnant_132640 = iter_132630 - gtid_123904;
        int64_t x_132611 = ((int64_t *) mem_126921.mem)[gtid_123900 * n_119475 +
                                                        gtid_123904];
        bool cond_132612 = sle64((int64_t) 0, x_132611);
        float defunc_0_f_res_132613;
        
        if (cond_132612) {
            bool y_132631 = slt64(x_132611, n_119475);
            bool bounds_check_132632 = cond_132612 && y_132631;
            bool index_certs_132633;
            
            if (!bounds_check_132632) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_132611,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:248:33-53\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_132634 =
                  ((float *) mem_127788.mem)[x_132611];
            
            defunc_0_f_res_132613 = defunc_0_f_res_t_res_132634;
        } else {
            defunc_0_f_res_132613 = 0.0F;
        }
        
        float defunc_0_f_res_132618;
        
        if (cond_132612) {
            bool y_132635 = slt64(x_132611, n_119475);
            bool bounds_check_132636 = cond_132612 && y_132635;
            bool index_certs_132637;
            
            if (!bounds_check_132636) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_132611,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:249:33-59\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_132638 =
                  ((float *) mem_param_127146.mem)[ctx_param_ext_127141 +
                                                   (gtid_123900 *
                                                    ctx_param_ext_127142 +
                                                    x_132611 *
                                                    ctx_param_ext_127144)];
            
            defunc_0_f_res_132618 = defunc_0_f_res_t_res_132638;
        } else {
            defunc_0_f_res_132618 = 0.0F;
        }
        ((float *) mem_127794.mem)[gtid_123904] = defunc_0_f_res_132618;
        ((float *) mem_127797.mem)[gtid_123904] = defunc_0_f_res_132613;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136711_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136711_end -
                 futhark_mc_segmap_parloop_136711_start;
        
        ctx->futhark_mc_segmap_parloop_136711_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136711_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136711_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136709(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123903 = tid;
    int num_tasks_132629 = info.nsubtasks;
    struct futhark_mc_task_136708 *futhark_mc_task_136708 =
                                  (struct futhark_mc_task_136708 *) args;
    struct futhark_context *ctx = futhark_mc_task_136708->ctx;
    uint64_t futhark_mc_segmap_task_136709_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136709_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136708->free_n_119475;
    int64_t gtid_123900 = futhark_mc_task_136708->free_gtid_123900;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136708->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136708->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136708->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136708->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136708->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127788 = {.desc ="mem_127788", .mem =
                                  futhark_mc_task_136708->free_mem_127788,
                                  .size =0, .references =NULL};
    struct memblock mem_127794 = {.desc ="mem_127794", .mem =
                                  futhark_mc_task_136708->free_mem_127794,
                                  .size =0, .references =NULL};
    struct memblock mem_127797 = {.desc ="mem_127797", .mem =
                                  futhark_mc_task_136708->free_mem_127797,
                                  .size =0, .references =NULL};
    int64_t iter_132630;
    struct futhark_mc_segmap_parloop_struct_136710
    futhark_mc_segmap_parloop_struct_136710;
    
    futhark_mc_segmap_parloop_struct_136710.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136710.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136710.free_gtid_123900 = gtid_123900;
    futhark_mc_segmap_parloop_struct_136710.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136710.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136710.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136710.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136710.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136710.free_mem_127788 = mem_127788.mem;
    futhark_mc_segmap_parloop_struct_136710.free_mem_127794 = mem_127794.mem;
    futhark_mc_segmap_parloop_struct_136710.free_mem_127797 = mem_127797.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136711_task;
    
    futhark_mc_segmap_parloop_136711_task.name =
        "futhark_mc_segmap_parloop_136711";
    futhark_mc_segmap_parloop_136711_task.fn = futhark_mc_segmap_parloop_136711;
    futhark_mc_segmap_parloop_136711_task.args =
        &futhark_mc_segmap_parloop_struct_136710;
    futhark_mc_segmap_parloop_136711_task.iterations = iterations;
    futhark_mc_segmap_parloop_136711_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136711_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136711_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136711_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136711_task);
    
    if (futhark_mc_segmap_parloop_136711_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136711_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136711_total_end -
                 futhark_mc_segmap_parloop_136711_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136711_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136711_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136711_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136709_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136709_end -
                 futhark_mc_segmap_task_136709_start;
        
        ctx->futhark_mc_segmap_task_136709_runs[tid]++;
        ctx->futhark_mc_segmap_task_136709_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136709_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136699(void *args, int64_t start,
                                            int64_t end, int flat_tid_123899,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136698
    *futhark_mc_segmap_parloop_struct_136698 =
    (struct futhark_mc_segmap_parloop_struct_136698 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136698->ctx;
    uint64_t futhark_mc_segmap_parloop_136699_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136699_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136698->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136698->free_n_119475;
    int64_t n_p_119477 =
            futhark_mc_segmap_parloop_struct_136698->free_n_p_119477;
    int64_t C_len_119523 =
            futhark_mc_segmap_parloop_struct_136698->free_C_len_119523;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136698->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136698->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136698->free_bytes_126925;
    int64_t ctx_param_ext_127141 =
            futhark_mc_segmap_parloop_struct_136698->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_segmap_parloop_struct_136698->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_segmap_parloop_struct_136698->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_segmap_parloop_struct_136698->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_segmap_parloop_struct_136698->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_127784 = {.desc ="ext_mem_127784", .mem =
                                      futhark_mc_segmap_parloop_struct_136698->free_ext_mem_127784,
                                      .size =0, .references =NULL};
    int64_t ext_127785 =
            futhark_mc_segmap_parloop_struct_136698->free_ext_127785;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136698->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136698->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127869 = {.desc ="mem_127869", .mem =
                                  futhark_mc_segmap_parloop_struct_136698->free_mem_127869,
                                  .size =0, .references =NULL};
    size_t mem_127788_cached_sizze_136700 = 0;
    char *mem_127788 = NULL;
    size_t mem_127791_cached_sizze_136701 = 0;
    char *mem_127791 = NULL;
    size_t mem_127794_cached_sizze_136702 = 0;
    char *mem_127794 = NULL;
    size_t mem_127797_cached_sizze_136703 = 0;
    char *mem_127797 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132604 = start;
    
    if (mem_127788_cached_sizze_136700 < (size_t) bytes_126925) {
        mem_127788 = realloc(mem_127788, bytes_126925);
        mem_127788_cached_sizze_136700 = bytes_126925;
    }
    if (mem_127791_cached_sizze_136701 < (size_t) bytes_126925) {
        mem_127791 = realloc(mem_127791, bytes_126925);
        mem_127791_cached_sizze_136701 = bytes_126925;
    }
    if (mem_127794_cached_sizze_136702 < (size_t) bytes_126925) {
        mem_127794 = realloc(mem_127794, bytes_126925);
        mem_127794_cached_sizze_136702 = bytes_126925;
    }
    if (mem_127797_cached_sizze_136703 < (size_t) bytes_126925) {
        mem_127797 = realloc(mem_127797, bytes_126925);
        mem_127797_cached_sizze_136703 = bytes_126925;
    }
    for (; iter_132604 < end; iter_132604++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132623 = m_119474;
        int64_t gtid_123900 = iter_132604;
        int64_t remnant_132624 = iter_132604 - gtid_123900;
        int64_t flat_tid_123901 = (int64_t) 0;
        int32_t num_tasks_132625;
        struct futhark_mc_task_136704 futhark_mc_task_136704;
        
        futhark_mc_task_136704.ctx = ctx;
        futhark_mc_task_136704.free_n_119475 = n_119475;
        futhark_mc_task_136704.free_n_p_119477 = n_p_119477;
        futhark_mc_task_136704.free_C_len_119523 = C_len_119523;
        futhark_mc_task_136704.free_gtid_123900 = gtid_123900;
        futhark_mc_task_136704.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136704.free_mem_127234 = mem_127234.mem;
        futhark_mc_task_136704.free_ext_mem_127784 = ext_mem_127784.mem;
        futhark_mc_task_136704.free_ext_127785 = ext_127785;
        futhark_mc_task_136704.free_mem_127788 = mem_127788;
        futhark_mc_task_136704.free_mem_127791 = mem_127791;
        
        struct scheduler_segop futhark_mc_task_136704_task;
        
        futhark_mc_task_136704_task.args = &futhark_mc_task_136704;
        futhark_mc_task_136704_task.top_level_fn =
            futhark_mc_segmap_task_136705;
        futhark_mc_task_136704_task.name = "futhark_mc_segmap_task_136705";
        futhark_mc_task_136704_task.iterations = n_119475;
        futhark_mc_task_136704_task.task_time =
            &ctx->futhark_mc_segmap_task_136705_total_time;
        futhark_mc_task_136704_task.task_iter =
            &ctx->futhark_mc_segmap_task_136705_total_iter;
        futhark_mc_task_136704_task.sched = STATIC;
        futhark_mc_task_136704_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136705_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136704_task);
        
        if (futhark_mc_segmap_task_136705_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t flat_tid_123903 = (int64_t) 0;
        int32_t num_tasks_132629;
        struct futhark_mc_task_136708 futhark_mc_task_136708;
        
        futhark_mc_task_136708.ctx = ctx;
        futhark_mc_task_136708.free_n_119475 = n_119475;
        futhark_mc_task_136708.free_gtid_123900 = gtid_123900;
        futhark_mc_task_136708.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136708.free_ctx_param_ext_127141 = ctx_param_ext_127141;
        futhark_mc_task_136708.free_ctx_param_ext_127142 = ctx_param_ext_127142;
        futhark_mc_task_136708.free_ctx_param_ext_127144 = ctx_param_ext_127144;
        futhark_mc_task_136708.free_mem_param_127146 = mem_param_127146.mem;
        futhark_mc_task_136708.free_mem_127788 = mem_127788;
        futhark_mc_task_136708.free_mem_127794 = mem_127794;
        futhark_mc_task_136708.free_mem_127797 = mem_127797;
        
        struct scheduler_segop futhark_mc_task_136708_task;
        
        futhark_mc_task_136708_task.args = &futhark_mc_task_136708;
        futhark_mc_task_136708_task.top_level_fn =
            futhark_mc_segmap_task_136709;
        futhark_mc_task_136708_task.name = "futhark_mc_segmap_task_136709";
        futhark_mc_task_136708_task.iterations = n_119475;
        futhark_mc_task_136708_task.task_time =
            &ctx->futhark_mc_segmap_task_136709_total_time;
        futhark_mc_task_136708_task.task_iter =
            &ctx->futhark_mc_segmap_task_136709_total_iter;
        futhark_mc_task_136708_task.sched = STATIC;
        futhark_mc_task_136708_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136709_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136708_task);
        
        if (futhark_mc_segmap_task_136709_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127861.mem + gtid_123900 * n_119475 * (int64_t) 4,
                mem_127797 + (int64_t) 0, n_119475 * (int64_t) 4);
        memmove(mem_127865.mem + gtid_123900 * n_119475 * (int64_t) 4,
                mem_127794 + (int64_t) 0, n_119475 * (int64_t) 4);
        memmove(mem_127869.mem + gtid_123900 * n_119475 * (int64_t) 4,
                mem_127791 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127788);
    free(mem_127791);
    free(mem_127794);
    free(mem_127797);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136699_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136699_end -
                 futhark_mc_segmap_parloop_136699_start;
        
        ctx->futhark_mc_segmap_parloop_136699_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136699_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136699_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136697(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123899 = tid;
    int num_tasks_132568 = info.nsubtasks;
    struct futhark_mc_task_136689 *futhark_mc_task_136689 =
                                  (struct futhark_mc_task_136689 *) args;
    struct futhark_context *ctx = futhark_mc_task_136689->ctx;
    uint64_t futhark_mc_segmap_nested_task_136697_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136697_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136689->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136689->free_n_119475;
    int64_t n_p_119477 = futhark_mc_task_136689->free_n_p_119477;
    int64_t C_len_119523 = futhark_mc_task_136689->free_C_len_119523;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136689->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136689->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136689->free_bytes_126925;
    int64_t ctx_param_ext_127141 =
            futhark_mc_task_136689->free_ctx_param_ext_127141;
    int64_t ctx_param_ext_127142 =
            futhark_mc_task_136689->free_ctx_param_ext_127142;
    int64_t ctx_param_ext_127144 =
            futhark_mc_task_136689->free_ctx_param_ext_127144;
    struct memblock mem_param_127146 = {.desc ="mem_param_127146", .mem =
                                        futhark_mc_task_136689->free_mem_param_127146,
                                        .size =0, .references =NULL};
    struct memblock mem_127234 = {.desc ="mem_127234", .mem =
                                  futhark_mc_task_136689->free_mem_127234,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_127784 = {.desc ="ext_mem_127784", .mem =
                                      futhark_mc_task_136689->free_ext_mem_127784,
                                      .size =0, .references =NULL};
    int64_t ext_127785 = futhark_mc_task_136689->free_ext_127785;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136689->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136689->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127869 = {.desc ="mem_127869", .mem =
                                  futhark_mc_task_136689->free_mem_127869,
                                  .size =0, .references =NULL};
    int64_t iter_132604;
    struct futhark_mc_segmap_parloop_struct_136698
    futhark_mc_segmap_parloop_struct_136698;
    
    futhark_mc_segmap_parloop_struct_136698.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136698.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136698.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136698.free_n_p_119477 = n_p_119477;
    futhark_mc_segmap_parloop_struct_136698.free_C_len_119523 = C_len_119523;
    futhark_mc_segmap_parloop_struct_136698.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136698.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136698.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136698.free_ctx_param_ext_127141 =
        ctx_param_ext_127141;
    futhark_mc_segmap_parloop_struct_136698.free_ctx_param_ext_127142 =
        ctx_param_ext_127142;
    futhark_mc_segmap_parloop_struct_136698.free_ctx_param_ext_127144 =
        ctx_param_ext_127144;
    futhark_mc_segmap_parloop_struct_136698.free_mem_param_127146 =
        mem_param_127146.mem;
    futhark_mc_segmap_parloop_struct_136698.free_mem_127234 = mem_127234.mem;
    futhark_mc_segmap_parloop_struct_136698.free_ext_mem_127784 =
        ext_mem_127784.mem;
    futhark_mc_segmap_parloop_struct_136698.free_ext_127785 = ext_127785;
    futhark_mc_segmap_parloop_struct_136698.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136698.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136698.free_mem_127869 = mem_127869.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136699_task;
    
    futhark_mc_segmap_parloop_136699_task.name =
        "futhark_mc_segmap_parloop_136699";
    futhark_mc_segmap_parloop_136699_task.fn = futhark_mc_segmap_parloop_136699;
    futhark_mc_segmap_parloop_136699_task.args =
        &futhark_mc_segmap_parloop_struct_136698;
    futhark_mc_segmap_parloop_136699_task.iterations = iterations;
    futhark_mc_segmap_parloop_136699_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136699_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136699_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136699_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136699_task);
    
    if (futhark_mc_segmap_parloop_136699_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136699_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136699_total_end -
                 futhark_mc_segmap_parloop_136699_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136699_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136699_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136699_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136697_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136697_end -
                 futhark_mc_segmap_nested_task_136697_start;
        
        ctx->futhark_mc_segmap_nested_task_136697_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136697_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136697_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136712 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127895;
};
struct futhark_mc_segmap_parloop_struct_136714 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127895;
};
static int futhark_mc_segmap_parloop_136715(void *args, int64_t start,
                                            int64_t end, int flat_tid_123931,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136714
    *futhark_mc_segmap_parloop_struct_136714 =
    (struct futhark_mc_segmap_parloop_struct_136714 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136714->ctx;
    uint64_t futhark_mc_segmap_parloop_136715_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136715_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136714->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136714->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136714->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136714->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136714->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136714->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136714->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127895 = {.desc ="mem_127895", .mem =
                                  futhark_mc_segmap_parloop_struct_136714->free_mem_127895,
                                  .size =0, .references =NULL};
    size_t mem_127879_cached_sizze_136716 = 0;
    char *mem_127879 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132644 = start;
    
    if (mem_127879_cached_sizze_136716 < (size_t) bytes_127056) {
        mem_127879 = realloc(mem_127879, bytes_127056);
        mem_127879_cached_sizze_136716 = bytes_127056;
    }
    for (; iter_132644 < end; iter_132644++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132701 = m_119474;
        int64_t gtid_123932 = iter_132644;
        int64_t remnant_132702 = iter_132644 - gtid_123932;
        int64_t x_120783 = ((int64_t *) mem_126924.mem)[gtid_123932];
        
        for (int64_t i_132645 = 0; i_132645 < t_n_m_119532; i_132645++) {
            int64_t x_132647 = ((int64_t *) mem_127110.mem)[gtid_123932 *
                                                            t_n_m_119532 +
                                                            i_132645];
            float x_132648 = ((float *) mem_127114.mem)[gtid_123932 *
                                                        t_n_m_119532 +
                                                        i_132645];
            int64_t min_arg_132649 = mul64(t_jump_119482, i_132645);
            int64_t min_res_132650 = smin64(i_119551, min_arg_132649);
            float defunc_0_f_res_132651 = sitofp_i64_f32(min_res_132650);
            float defunc_2_reduce_res_132652;
            float redout_132654 = 0.0F;
            
            for (int64_t i_132653 = 0; i_132653 < t_window_119478; i_132653++) {
                bool cond_132655 = sle64(x_120783, i_132653);
                float defunc_0_f_res_132656;
                
                if (cond_132655) {
                    defunc_0_f_res_132656 = 0.0F;
                } else {
                    int64_t i_132657 = add64(x_132647, i_132653);
                    float x_132658 = ((float *) mem_126946.mem)[gtid_123932 *
                                                                n_119475 +
                                                                i_132657];
                    float defunc_0_f_res_f_res_132659 = 1.0F + x_132658;
                    
                    defunc_0_f_res_132656 = defunc_0_f_res_f_res_132659;
                }
                
                float defunc_0_f_res_132660;
                
                if (cond_132655) {
                    defunc_0_f_res_132660 = 0.0F;
                } else {
                    int64_t i_132661 = add64(x_132647, i_132653);
                    float x_132662 = ((float *) mem_127865.mem)[gtid_123932 *
                                                                n_119475 +
                                                                i_132661];
                    
                    defunc_0_f_res_132660 = x_132662;
                }
                
                float x_j_132663 = defunc_0_f_res_132656 -
                      defunc_0_f_res_132651;
                float abs_res_132664 = (float) fabs(x_j_132663);
                float tmp1_132665 = abs_res_132664 / x_132648;
                float x_132666 = tmp1_132665 * tmp1_132665;
                float y_132667 = tmp1_132665 * x_132666;
                float tmp2_132668 = 1.0F - y_132667;
                float x_132669 = tmp2_132668 * tmp2_132668;
                float tmp3_132670 = tmp2_132668 * x_132669;
                float w_j_132671 = defunc_0_f_res_132660 * tmp3_132670;
                float defunc_1_op_res_132672 = w_j_132671 + redout_132654;
                float redout_tmp_132704 = defunc_1_op_res_132672;
                
                redout_132654 = redout_tmp_132704;
            }
            defunc_2_reduce_res_132652 = redout_132654;
            
            float a0_132673 = 1.0F / defunc_2_reduce_res_132652;
            float defunc_2_reduce_res_132674;
            float redout_132676 = 0.0F;
            
            for (int64_t i_132675 = 0; i_132675 < t_window_119478; i_132675++) {
                bool cond_132677 = sle64(x_120783, i_132675);
                float defunc_0_f_res_132678;
                
                if (cond_132677) {
                    defunc_0_f_res_132678 = 0.0F;
                } else {
                    int64_t i_132679 = add64(x_132647, i_132675);
                    float x_132680 = ((float *) mem_126946.mem)[gtid_123932 *
                                                                n_119475 +
                                                                i_132679];
                    float defunc_0_f_res_f_res_132681 = 1.0F + x_132680;
                    
                    defunc_0_f_res_132678 = defunc_0_f_res_f_res_132681;
                }
                
                float defunc_0_f_res_132682;
                
                if (cond_132677) {
                    defunc_0_f_res_132682 = 0.0F;
                } else {
                    int64_t i_132683 = add64(x_132647, i_132675);
                    float x_132684 = ((float *) mem_127865.mem)[gtid_123932 *
                                                                n_119475 +
                                                                i_132683];
                    
                    defunc_0_f_res_132682 = x_132684;
                }
                
                float x_j_132685 = defunc_0_f_res_132678 -
                      defunc_0_f_res_132651;
                float abs_res_132686 = (float) fabs(x_j_132685);
                float tmp1_132687 = abs_res_132686 / x_132648;
                float x_132688 = tmp1_132687 * tmp1_132687;
                float y_132689 = tmp1_132687 * x_132688;
                float tmp2_132690 = 1.0F - y_132689;
                float x_132691 = tmp2_132690 * tmp2_132690;
                float tmp3_132692 = tmp2_132690 * x_132691;
                float tmp4_132693 = defunc_0_f_res_132682 * tmp3_132692;
                float defunc_0_f_res_132694;
                
                if (cond_132677) {
                    defunc_0_f_res_132694 = 0.0F;
                } else {
                    int64_t i_132695 = add64(x_132647, i_132675);
                    float x_132696 = ((float *) mem_127861.mem)[gtid_123932 *
                                                                n_119475 +
                                                                i_132695];
                    
                    defunc_0_f_res_132694 = x_132696;
                }
                
                float x_132697 = a0_132673 * tmp4_132693;
                float defunc_9_fit_fun_res_132698 = defunc_0_f_res_132694 *
                      x_132697;
                float defunc_1_op_res_132699 = defunc_9_fit_fun_res_132698 +
                      redout_132676;
                float redout_tmp_132705 = defunc_1_op_res_132699;
                
                redout_132676 = redout_tmp_132705;
            }
            defunc_2_reduce_res_132674 = redout_132676;
            ((float *) mem_127879)[i_132645] = defunc_2_reduce_res_132674;
        }
        memmove(mem_127895.mem + gtid_123932 * t_n_m_119532 * (int64_t) 4,
                mem_127879 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127879);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136715_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136715_end -
                 futhark_mc_segmap_parloop_136715_start;
        
        ctx->futhark_mc_segmap_parloop_136715_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136715_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136715_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136713(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123931 = tid;
    int num_tasks_132643 = info.nsubtasks;
    struct futhark_mc_task_136712 *futhark_mc_task_136712 =
                                  (struct futhark_mc_task_136712 *) args;
    struct futhark_context *ctx = futhark_mc_task_136712->ctx;
    uint64_t futhark_mc_segmap_task_136713_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136713_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136712->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136712->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136712->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136712->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136712->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136712->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136712->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136712->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136712->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136712->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136712->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136712->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136712->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127895 = {.desc ="mem_127895", .mem =
                                  futhark_mc_task_136712->free_mem_127895,
                                  .size =0, .references =NULL};
    int64_t iter_132644;
    struct futhark_mc_segmap_parloop_struct_136714
    futhark_mc_segmap_parloop_struct_136714;
    
    futhark_mc_segmap_parloop_struct_136714.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136714.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136714.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136714.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136714.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136714.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136714.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136714.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136714.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136714.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136714.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136714.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136714.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136714.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136714.free_mem_127895 = mem_127895.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136715_task;
    
    futhark_mc_segmap_parloop_136715_task.name =
        "futhark_mc_segmap_parloop_136715";
    futhark_mc_segmap_parloop_136715_task.fn = futhark_mc_segmap_parloop_136715;
    futhark_mc_segmap_parloop_136715_task.args =
        &futhark_mc_segmap_parloop_struct_136714;
    futhark_mc_segmap_parloop_136715_task.iterations = iterations;
    futhark_mc_segmap_parloop_136715_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136715_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136715_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136715_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136715_task);
    
    if (futhark_mc_segmap_parloop_136715_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136715_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136715_total_end -
                 futhark_mc_segmap_parloop_136715_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136715_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136715_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136715_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136713_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136713_end -
                 futhark_mc_segmap_task_136713_start;
        
        ctx->futhark_mc_segmap_task_136713_runs[tid]++;
        ctx->futhark_mc_segmap_task_136713_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136713_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136718 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127895;
};
struct futhark_mc_task_136721 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127876;
};
struct futhark_mc_segmap_parloop_struct_136723 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127876;
};
static int futhark_mc_segmap_parloop_136724(void *args, int64_t start,
                                            int64_t end, int flat_tid_123935,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136723
    *futhark_mc_segmap_parloop_struct_136723 =
    (struct futhark_mc_segmap_parloop_struct_136723 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136723->ctx;
    uint64_t futhark_mc_segmap_parloop_136724_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136724_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136723->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136723->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136723->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136723->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136723->free_i_119551;
    int64_t gtid_123934 =
            futhark_mc_segmap_parloop_struct_136723->free_gtid_123934;
    int64_t x_124004 = futhark_mc_segmap_parloop_struct_136723->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136723->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136723->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136723->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136723->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136723->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127876 = {.desc ="mem_127876", .mem =
                                  futhark_mc_segmap_parloop_struct_136723->free_mem_127876,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132816 = start;
    
    for (; iter_132816 < end; iter_132816++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132862 = t_n_m_119532;
        int64_t gtid_123936 = iter_132816;
        int64_t remnant_132863 = iter_132816 - gtid_123936;
        int64_t x_132760 = ((int64_t *) mem_127110.mem)[gtid_123934 *
                                                        t_n_m_119532 +
                                                        gtid_123936];
        float x_132761 = ((float *) mem_127114.mem)[gtid_123934 * t_n_m_119532 +
                                                    gtid_123936];
        int64_t min_arg_132762 = mul64(t_jump_119482, gtid_123936);
        int64_t min_res_132763 = smin64(i_119551, min_arg_132762);
        float defunc_0_f_res_132764 = sitofp_i64_f32(min_res_132763);
        float defunc_2_reduce_res_132765;
        float redout_132818 = 0.0F;
        
        for (int64_t i_132817 = 0; i_132817 < t_window_119478; i_132817++) {
            bool cond_132819 = sle64(x_124004, i_132817);
            float defunc_0_f_res_132820;
            
            if (cond_132819) {
                defunc_0_f_res_132820 = 0.0F;
            } else {
                int64_t i_132821 = add64(x_132760, i_132817);
                float x_132822 = ((float *) mem_126946.mem)[gtid_123934 *
                                                            n_119475 +
                                                            i_132821];
                float defunc_0_f_res_f_res_132823 = 1.0F + x_132822;
                
                defunc_0_f_res_132820 = defunc_0_f_res_f_res_132823;
            }
            
            float defunc_0_f_res_132824;
            
            if (cond_132819) {
                defunc_0_f_res_132824 = 0.0F;
            } else {
                int64_t i_132825 = add64(x_132760, i_132817);
                float x_132826 = ((float *) mem_127865.mem)[gtid_123934 *
                                                            n_119475 +
                                                            i_132825];
                
                defunc_0_f_res_132824 = x_132826;
            }
            
            float x_j_132827 = defunc_0_f_res_132820 - defunc_0_f_res_132764;
            float abs_res_132828 = (float) fabs(x_j_132827);
            float tmp1_132829 = abs_res_132828 / x_132761;
            float x_132830 = tmp1_132829 * tmp1_132829;
            float y_132831 = tmp1_132829 * x_132830;
            float tmp2_132832 = 1.0F - y_132831;
            float x_132833 = tmp2_132832 * tmp2_132832;
            float tmp3_132834 = tmp2_132832 * x_132833;
            float w_j_132835 = defunc_0_f_res_132824 * tmp3_132834;
            float defunc_1_op_res_132836 = w_j_132835 + redout_132818;
            float redout_tmp_132864 = defunc_1_op_res_132836;
            
            redout_132818 = redout_tmp_132864;
        }
        defunc_2_reduce_res_132765 = redout_132818;
        
        float a0_132786 = 1.0F / defunc_2_reduce_res_132765;
        float defunc_2_reduce_res_132787;
        float redout_132838 = 0.0F;
        
        for (int64_t i_132837 = 0; i_132837 < t_window_119478; i_132837++) {
            bool cond_132839 = sle64(x_124004, i_132837);
            float defunc_0_f_res_132840;
            
            if (cond_132839) {
                defunc_0_f_res_132840 = 0.0F;
            } else {
                int64_t i_132841 = add64(x_132760, i_132837);
                float x_132842 = ((float *) mem_126946.mem)[gtid_123934 *
                                                            n_119475 +
                                                            i_132841];
                float defunc_0_f_res_f_res_132843 = 1.0F + x_132842;
                
                defunc_0_f_res_132840 = defunc_0_f_res_f_res_132843;
            }
            
            float defunc_0_f_res_132844;
            
            if (cond_132839) {
                defunc_0_f_res_132844 = 0.0F;
            } else {
                int64_t i_132845 = add64(x_132760, i_132837);
                float x_132846 = ((float *) mem_127865.mem)[gtid_123934 *
                                                            n_119475 +
                                                            i_132845];
                
                defunc_0_f_res_132844 = x_132846;
            }
            
            float x_j_132847 = defunc_0_f_res_132840 - defunc_0_f_res_132764;
            float abs_res_132848 = (float) fabs(x_j_132847);
            float tmp1_132849 = abs_res_132848 / x_132761;
            float x_132850 = tmp1_132849 * tmp1_132849;
            float y_132851 = tmp1_132849 * x_132850;
            float tmp2_132852 = 1.0F - y_132851;
            float x_132853 = tmp2_132852 * tmp2_132852;
            float tmp3_132854 = tmp2_132852 * x_132853;
            float tmp4_132855 = defunc_0_f_res_132844 * tmp3_132854;
            float defunc_0_f_res_132856;
            
            if (cond_132839) {
                defunc_0_f_res_132856 = 0.0F;
            } else {
                int64_t i_132857 = add64(x_132760, i_132837);
                float x_132858 = ((float *) mem_127861.mem)[gtid_123934 *
                                                            n_119475 +
                                                            i_132857];
                
                defunc_0_f_res_132856 = x_132858;
            }
            
            float x_132859 = a0_132786 * tmp4_132855;
            float defunc_9_fit_fun_res_132860 = defunc_0_f_res_132856 *
                  x_132859;
            float defunc_1_op_res_132861 = defunc_9_fit_fun_res_132860 +
                  redout_132838;
            float redout_tmp_132865 = defunc_1_op_res_132861;
            
            redout_132838 = redout_tmp_132865;
        }
        defunc_2_reduce_res_132787 = redout_132838;
        ((float *) mem_127876.mem)[gtid_123936] = defunc_2_reduce_res_132787;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136724_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136724_end -
                 futhark_mc_segmap_parloop_136724_start;
        
        ctx->futhark_mc_segmap_parloop_136724_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136724_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136724_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136722(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123935 = tid;
    int num_tasks_132815 = info.nsubtasks;
    struct futhark_mc_task_136721 *futhark_mc_task_136721 =
                                  (struct futhark_mc_task_136721 *) args;
    struct futhark_context *ctx = futhark_mc_task_136721->ctx;
    uint64_t futhark_mc_segmap_task_136722_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136722_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136721->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136721->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136721->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136721->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136721->free_i_119551;
    int64_t gtid_123934 = futhark_mc_task_136721->free_gtid_123934;
    int64_t x_124004 = futhark_mc_task_136721->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136721->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136721->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136721->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136721->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136721->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127876 = {.desc ="mem_127876", .mem =
                                  futhark_mc_task_136721->free_mem_127876,
                                  .size =0, .references =NULL};
    int64_t iter_132816;
    struct futhark_mc_segmap_parloop_struct_136723
    futhark_mc_segmap_parloop_struct_136723;
    
    futhark_mc_segmap_parloop_struct_136723.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136723.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136723.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136723.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136723.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136723.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136723.free_gtid_123934 = gtid_123934;
    futhark_mc_segmap_parloop_struct_136723.free_x_124004 = x_124004;
    futhark_mc_segmap_parloop_struct_136723.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136723.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136723.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136723.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136723.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136723.free_mem_127876 = mem_127876.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136724_task;
    
    futhark_mc_segmap_parloop_136724_task.name =
        "futhark_mc_segmap_parloop_136724";
    futhark_mc_segmap_parloop_136724_task.fn = futhark_mc_segmap_parloop_136724;
    futhark_mc_segmap_parloop_136724_task.args =
        &futhark_mc_segmap_parloop_struct_136723;
    futhark_mc_segmap_parloop_136724_task.iterations = iterations;
    futhark_mc_segmap_parloop_136724_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136724_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136724_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136724_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136724_task);
    
    if (futhark_mc_segmap_parloop_136724_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136724_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136724_total_end -
                 futhark_mc_segmap_parloop_136724_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136724_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136724_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136724_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136722_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136722_end -
                 futhark_mc_segmap_task_136722_start;
        
        ctx->futhark_mc_segmap_task_136722_runs[tid]++;
        ctx->futhark_mc_segmap_task_136722_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136722_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136726 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127876;
};
struct futhark_mc_task_136728 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_132707;
    float free_x_132708;
    float free_defunc_0_f_res_132711;
    float *retval_defunc_2_reduce_res_132712;
};
struct futhark_mc_segred_stage_1_parloop_struct_136731 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_132707;
    float free_x_132708;
    float free_defunc_0_f_res_132711;
    char *free_reduce_stage_1_tid_res_arr_mem_132915;
};
static int futhark_mc_segred_stage_1_parloop_136732(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123939,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136731
    *futhark_mc_segred_stage_1_parloop_struct_136731 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136731 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136731->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136732_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136732_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136731->free_n_119475;
    int64_t gtid_123934 =
            futhark_mc_segred_stage_1_parloop_struct_136731->free_gtid_123934;
    int64_t x_124004 =
            futhark_mc_segred_stage_1_parloop_struct_136731->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136731->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136731->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_132707 =
            futhark_mc_segred_stage_1_parloop_struct_136731->free_x_132707;
    float x_132708 =
          futhark_mc_segred_stage_1_parloop_struct_136731->free_x_132708;
    float defunc_0_f_res_132711 =
          futhark_mc_segred_stage_1_parloop_struct_136731->free_defunc_0_f_res_132711;
    struct memblock reduce_stage_1_tid_res_arr_mem_132915 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132915",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136731->free_reduce_stage_1_tid_res_arr_mem_132915,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132917 = start;
    float x_132867;
    float x_132868;
    float local_acc_132918 = 0.0F;
    
    for (; iter_132917 < end; iter_132917++) {
        int64_t gtid_123940 = iter_132917;
        bool cond_132870 = sle64(x_124004, gtid_123940);
        float defunc_0_f_res_132871;
        
        if (cond_132870) {
            defunc_0_f_res_132871 = 0.0F;
        } else {
            int64_t i_132872 = add64(gtid_123940, x_132707);
            float x_132873 = ((float *) mem_126946.mem)[gtid_123934 * n_119475 +
                                                        i_132872];
            float defunc_0_f_res_f_res_132874 = 1.0F + x_132873;
            
            defunc_0_f_res_132871 = defunc_0_f_res_f_res_132874;
        }
        
        float defunc_0_f_res_132875;
        
        if (cond_132870) {
            defunc_0_f_res_132875 = 0.0F;
        } else {
            int64_t i_132876 = add64(gtid_123940, x_132707);
            float x_132877 = ((float *) mem_127865.mem)[gtid_123934 * n_119475 +
                                                        i_132876];
            
            defunc_0_f_res_132875 = x_132877;
        }
        
        float x_j_132878 = defunc_0_f_res_132871 - defunc_0_f_res_132711;
        float abs_res_132879 = (float) fabs(x_j_132878);
        float tmp1_132880 = abs_res_132879 / x_132708;
        float x_132881 = tmp1_132880 * tmp1_132880;
        float y_132882 = tmp1_132880 * x_132881;
        float tmp2_132883 = 1.0F - y_132882;
        float x_132884 = tmp2_132883 * tmp2_132883;
        float tmp3_132885 = tmp2_132883 * x_132884;
        float w_j_132886 = defunc_0_f_res_132875 * tmp3_132885;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_132867 = local_acc_132918;
        }
        // Load next params
        {
            x_132868 = w_j_132886;
        }
        // Red body
        {
            float defunc_1_op_res_132869 = x_132867 + x_132868;
            
            local_acc_132918 = defunc_1_op_res_132869;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_132915.mem)[flat_tid_123939] =
        local_acc_132918;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136732_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136732_end -
                 futhark_mc_segred_stage_1_parloop_136732_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136732_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136732_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136732_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136729(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123939 = tid;
    int num_tasks_132914 = info.nsubtasks;
    struct futhark_mc_task_136728 *futhark_mc_task_136728 =
                                  (struct futhark_mc_task_136728 *) args;
    struct futhark_context *ctx = futhark_mc_task_136728->ctx;
    uint64_t futhark_mc_segred_task_136729_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136729_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136728->free_n_119475;
    int64_t gtid_123934 = futhark_mc_task_136728->free_gtid_123934;
    int64_t x_124004 = futhark_mc_task_136728->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136728->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136728->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_132707 = futhark_mc_task_136728->free_x_132707;
    float x_132708 = futhark_mc_task_136728->free_x_132708;
    float defunc_0_f_res_132711 =
          futhark_mc_task_136728->free_defunc_0_f_res_132711;
    float defunc_2_reduce_res_132712 =
          *futhark_mc_task_136728->retval_defunc_2_reduce_res_132712;
    size_t reduce_stage_1_tid_res_arr_mem_132915_cached_sizze_136730 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132915 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_132915_cached_sizze_136730 <
        (size_t) ((int64_t) 4 * num_tasks_132914)) {
        reduce_stage_1_tid_res_arr_mem_132915 =
            realloc(reduce_stage_1_tid_res_arr_mem_132915, (int64_t) 4 *
                    num_tasks_132914);
        reduce_stage_1_tid_res_arr_mem_132915_cached_sizze_136730 =
            (int64_t) 4 * num_tasks_132914;
    }
    
    int64_t iter_132917;
    struct futhark_mc_segred_stage_1_parloop_struct_136731
    futhark_mc_segred_stage_1_parloop_struct_136731;
    
    futhark_mc_segred_stage_1_parloop_struct_136731.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_gtid_123934 =
        gtid_123934;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_x_124004 = x_124004;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_x_132707 = x_132707;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_x_132708 = x_132708;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_defunc_0_f_res_132711 =
        defunc_0_f_res_132711;
    futhark_mc_segred_stage_1_parloop_struct_136731.free_reduce_stage_1_tid_res_arr_mem_132915 =
        reduce_stage_1_tid_res_arr_mem_132915;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136732_task;
    
    futhark_mc_segred_stage_1_parloop_136732_task.name =
        "futhark_mc_segred_stage_1_parloop_136732";
    futhark_mc_segred_stage_1_parloop_136732_task.fn =
        futhark_mc_segred_stage_1_parloop_136732;
    futhark_mc_segred_stage_1_parloop_136732_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136731;
    futhark_mc_segred_stage_1_parloop_136732_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136732_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136732_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136732_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136732_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136732_task);
    
    if (futhark_mc_segred_stage_1_parloop_136732_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136732_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136732_total_end -
                 futhark_mc_segred_stage_1_parloop_136732_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136732_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136732_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136732_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_132712 = 0.0F;
    }
    
    float x_132919;
    float x_132920;
    
    for (int32_t i_132922 = 0; i_132922 < num_tasks_132914; i_132922++) {
        flat_tid_123939 = i_132922;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_132919 = defunc_2_reduce_res_132712;
            }
            // load next params
            {
                x_132920 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132915)[flat_tid_123939];
            }
            // red body
            {
                float defunc_1_op_res_132921 = x_132919 + x_132920;
                
                defunc_2_reduce_res_132712 = defunc_1_op_res_132921;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_132915);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136729_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136729_end -
                 futhark_mc_segred_task_136729_start;
        
        ctx->futhark_mc_segred_task_136729_runs[tid]++;
        ctx->futhark_mc_segred_task_136729_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136729_iter[tid] += iterations;
    }
    *futhark_mc_task_136728->retval_defunc_2_reduce_res_132712 =
        defunc_2_reduce_res_132712;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136733 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_x_132707;
    float free_x_132708;
    float free_defunc_0_f_res_132711;
    float free_a0_132733;
    float *retval_defunc_2_reduce_res_132734;
};
struct futhark_mc_segred_stage_1_parloop_struct_136736 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_123934;
    int64_t free_x_124004;
    char *free_mem_126946;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_x_132707;
    float free_x_132708;
    float free_defunc_0_f_res_132711;
    float free_a0_132733;
    char *free_reduce_stage_1_tid_res_arr_mem_132924;
};
static int futhark_mc_segred_stage_1_parloop_136737(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_123941,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136736
    *futhark_mc_segred_stage_1_parloop_struct_136736 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136736 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136736->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136737_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136737_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136736->free_n_119475;
    int64_t gtid_123934 =
            futhark_mc_segred_stage_1_parloop_struct_136736->free_gtid_123934;
    int64_t x_124004 =
            futhark_mc_segred_stage_1_parloop_struct_136736->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136736->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136736->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136736->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_132707 =
            futhark_mc_segred_stage_1_parloop_struct_136736->free_x_132707;
    float x_132708 =
          futhark_mc_segred_stage_1_parloop_struct_136736->free_x_132708;
    float defunc_0_f_res_132711 =
          futhark_mc_segred_stage_1_parloop_struct_136736->free_defunc_0_f_res_132711;
    float a0_132733 =
          futhark_mc_segred_stage_1_parloop_struct_136736->free_a0_132733;
    struct memblock reduce_stage_1_tid_res_arr_mem_132924 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_132924",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136736->free_reduce_stage_1_tid_res_arr_mem_132924,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132926 = start;
    float x_132887;
    float x_132888;
    float local_acc_132927 = 0.0F;
    
    for (; iter_132926 < end; iter_132926++) {
        int64_t gtid_123942 = iter_132926;
        bool cond_132890 = sle64(x_124004, gtid_123942);
        float defunc_0_f_res_132891;
        
        if (cond_132890) {
            defunc_0_f_res_132891 = 0.0F;
        } else {
            int64_t i_132892 = add64(gtid_123942, x_132707);
            float x_132893 = ((float *) mem_126946.mem)[gtid_123934 * n_119475 +
                                                        i_132892];
            float defunc_0_f_res_f_res_132894 = 1.0F + x_132893;
            
            defunc_0_f_res_132891 = defunc_0_f_res_f_res_132894;
        }
        
        float defunc_0_f_res_132895;
        
        if (cond_132890) {
            defunc_0_f_res_132895 = 0.0F;
        } else {
            int64_t i_132896 = add64(gtid_123942, x_132707);
            float x_132897 = ((float *) mem_127865.mem)[gtid_123934 * n_119475 +
                                                        i_132896];
            
            defunc_0_f_res_132895 = x_132897;
        }
        
        float x_j_132898 = defunc_0_f_res_132891 - defunc_0_f_res_132711;
        float abs_res_132899 = (float) fabs(x_j_132898);
        float tmp1_132900 = abs_res_132899 / x_132708;
        float x_132901 = tmp1_132900 * tmp1_132900;
        float y_132902 = tmp1_132900 * x_132901;
        float tmp2_132903 = 1.0F - y_132902;
        float x_132904 = tmp2_132903 * tmp2_132903;
        float tmp3_132905 = tmp2_132903 * x_132904;
        float tmp4_132906 = defunc_0_f_res_132895 * tmp3_132905;
        float defunc_0_f_res_132907;
        
        if (cond_132890) {
            defunc_0_f_res_132907 = 0.0F;
        } else {
            int64_t i_132908 = add64(gtid_123942, x_132707);
            float x_132909 = ((float *) mem_127861.mem)[gtid_123934 * n_119475 +
                                                        i_132908];
            
            defunc_0_f_res_132907 = x_132909;
        }
        
        float x_132910 = a0_132733 * tmp4_132906;
        float defunc_9_fit_fun_res_132911 = defunc_0_f_res_132907 * x_132910;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_132887 = local_acc_132927;
        }
        // Load next params
        {
            x_132888 = defunc_9_fit_fun_res_132911;
        }
        // Red body
        {
            float defunc_1_op_res_132889 = x_132887 + x_132888;
            
            local_acc_132927 = defunc_1_op_res_132889;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_132924.mem)[flat_tid_123941] =
        local_acc_132927;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136737_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136737_end -
                 futhark_mc_segred_stage_1_parloop_136737_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136737_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136737_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136737_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136734(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123941 = tid;
    int num_tasks_132923 = info.nsubtasks;
    struct futhark_mc_task_136733 *futhark_mc_task_136733 =
                                  (struct futhark_mc_task_136733 *) args;
    struct futhark_context *ctx = futhark_mc_task_136733->ctx;
    uint64_t futhark_mc_segred_task_136734_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136734_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136733->free_n_119475;
    int64_t gtid_123934 = futhark_mc_task_136733->free_gtid_123934;
    int64_t x_124004 = futhark_mc_task_136733->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136733->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136733->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136733->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_132707 = futhark_mc_task_136733->free_x_132707;
    float x_132708 = futhark_mc_task_136733->free_x_132708;
    float defunc_0_f_res_132711 =
          futhark_mc_task_136733->free_defunc_0_f_res_132711;
    float a0_132733 = futhark_mc_task_136733->free_a0_132733;
    float defunc_2_reduce_res_132734 =
          *futhark_mc_task_136733->retval_defunc_2_reduce_res_132734;
    size_t reduce_stage_1_tid_res_arr_mem_132924_cached_sizze_136735 = 0;
    char *reduce_stage_1_tid_res_arr_mem_132924 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_132924_cached_sizze_136735 <
        (size_t) ((int64_t) 4 * num_tasks_132923)) {
        reduce_stage_1_tid_res_arr_mem_132924 =
            realloc(reduce_stage_1_tid_res_arr_mem_132924, (int64_t) 4 *
                    num_tasks_132923);
        reduce_stage_1_tid_res_arr_mem_132924_cached_sizze_136735 =
            (int64_t) 4 * num_tasks_132923;
    }
    
    int64_t iter_132926;
    struct futhark_mc_segred_stage_1_parloop_struct_136736
    futhark_mc_segred_stage_1_parloop_struct_136736;
    
    futhark_mc_segred_stage_1_parloop_struct_136736.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_gtid_123934 =
        gtid_123934;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_x_124004 = x_124004;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_mem_127861 =
        mem_127861.mem;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_x_132707 = x_132707;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_x_132708 = x_132708;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_defunc_0_f_res_132711 =
        defunc_0_f_res_132711;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_a0_132733 = a0_132733;
    futhark_mc_segred_stage_1_parloop_struct_136736.free_reduce_stage_1_tid_res_arr_mem_132924 =
        reduce_stage_1_tid_res_arr_mem_132924;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136737_task;
    
    futhark_mc_segred_stage_1_parloop_136737_task.name =
        "futhark_mc_segred_stage_1_parloop_136737";
    futhark_mc_segred_stage_1_parloop_136737_task.fn =
        futhark_mc_segred_stage_1_parloop_136737;
    futhark_mc_segred_stage_1_parloop_136737_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136736;
    futhark_mc_segred_stage_1_parloop_136737_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136737_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136737_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136737_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136737_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136737_task);
    
    if (futhark_mc_segred_stage_1_parloop_136737_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136737_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136737_total_end -
                 futhark_mc_segred_stage_1_parloop_136737_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136737_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136737_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136737_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_132734 = 0.0F;
    }
    
    float x_132928;
    float x_132929;
    
    for (int32_t i_132931 = 0; i_132931 < num_tasks_132923; i_132931++) {
        flat_tid_123941 = i_132931;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_132928 = defunc_2_reduce_res_132734;
            }
            // load next params
            {
                x_132929 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_132924)[flat_tid_123941];
            }
            // red body
            {
                float defunc_1_op_res_132930 = x_132928 + x_132929;
                
                defunc_2_reduce_res_132734 = defunc_1_op_res_132930;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_132924);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136734_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136734_end -
                 futhark_mc_segred_task_136734_start;
        
        ctx->futhark_mc_segred_task_136734_runs[tid]++;
        ctx->futhark_mc_segred_task_136734_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136734_iter[tid] += iterations;
    }
    *futhark_mc_task_136733->retval_defunc_2_reduce_res_132734 =
        defunc_2_reduce_res_132734;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136727(void *args, int64_t start,
                                            int64_t end, int flat_tid_123937,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136726
    *futhark_mc_segmap_parloop_struct_136726 =
    (struct futhark_mc_segmap_parloop_struct_136726 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136726->ctx;
    uint64_t futhark_mc_segmap_parloop_136727_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136727_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136726->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136726->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136726->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136726->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136726->free_i_119551;
    int64_t gtid_123934 =
            futhark_mc_segmap_parloop_struct_136726->free_gtid_123934;
    int64_t x_124004 = futhark_mc_segmap_parloop_struct_136726->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136726->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136726->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136726->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136726->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136726->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127876 = {.desc ="mem_127876", .mem =
                                  futhark_mc_segmap_parloop_struct_136726->free_mem_127876,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_132866 = start;
    
    for (; iter_132866 < end; iter_132866++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132912 = t_n_m_119532;
        int64_t gtid_123938 = iter_132866;
        int64_t remnant_132913 = iter_132866 - gtid_123938;
        int64_t x_132707 = ((int64_t *) mem_127110.mem)[gtid_123934 *
                                                        t_n_m_119532 +
                                                        gtid_123938];
        float x_132708 = ((float *) mem_127114.mem)[gtid_123934 * t_n_m_119532 +
                                                    gtid_123938];
        int64_t min_arg_132709 = mul64(t_jump_119482, gtid_123938);
        int64_t min_res_132710 = smin64(i_119551, min_arg_132709);
        float defunc_0_f_res_132711 = sitofp_i64_f32(min_res_132710);
        float defunc_2_reduce_res_132712;
        int64_t flat_tid_123939 = (int64_t) 0;
        int32_t num_tasks_132914;
        struct futhark_mc_task_136728 futhark_mc_task_136728;
        
        futhark_mc_task_136728.ctx = ctx;
        futhark_mc_task_136728.free_n_119475 = n_119475;
        futhark_mc_task_136728.free_gtid_123934 = gtid_123934;
        futhark_mc_task_136728.free_x_124004 = x_124004;
        futhark_mc_task_136728.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136728.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136728.free_x_132707 = x_132707;
        futhark_mc_task_136728.free_x_132708 = x_132708;
        futhark_mc_task_136728.free_defunc_0_f_res_132711 =
            defunc_0_f_res_132711;
        futhark_mc_task_136728.retval_defunc_2_reduce_res_132712 =
            &defunc_2_reduce_res_132712;
        
        struct scheduler_segop futhark_mc_task_136728_task;
        
        futhark_mc_task_136728_task.args = &futhark_mc_task_136728;
        futhark_mc_task_136728_task.top_level_fn =
            futhark_mc_segred_task_136729;
        futhark_mc_task_136728_task.name = "futhark_mc_segred_task_136729";
        futhark_mc_task_136728_task.iterations = t_window_119478;
        futhark_mc_task_136728_task.task_time =
            &ctx->futhark_mc_segred_task_136729_total_time;
        futhark_mc_task_136728_task.task_iter =
            &ctx->futhark_mc_segred_task_136729_total_iter;
        futhark_mc_task_136728_task.sched = STATIC;
        futhark_mc_task_136728_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136729_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136728_task);
        
        if (futhark_mc_segred_task_136729_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_132733 = 1.0F / defunc_2_reduce_res_132712;
        float defunc_2_reduce_res_132734;
        int64_t flat_tid_123941 = (int64_t) 0;
        int32_t num_tasks_132923;
        struct futhark_mc_task_136733 futhark_mc_task_136733;
        
        futhark_mc_task_136733.ctx = ctx;
        futhark_mc_task_136733.free_n_119475 = n_119475;
        futhark_mc_task_136733.free_gtid_123934 = gtid_123934;
        futhark_mc_task_136733.free_x_124004 = x_124004;
        futhark_mc_task_136733.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136733.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136733.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136733.free_x_132707 = x_132707;
        futhark_mc_task_136733.free_x_132708 = x_132708;
        futhark_mc_task_136733.free_defunc_0_f_res_132711 =
            defunc_0_f_res_132711;
        futhark_mc_task_136733.free_a0_132733 = a0_132733;
        futhark_mc_task_136733.retval_defunc_2_reduce_res_132734 =
            &defunc_2_reduce_res_132734;
        
        struct scheduler_segop futhark_mc_task_136733_task;
        
        futhark_mc_task_136733_task.args = &futhark_mc_task_136733;
        futhark_mc_task_136733_task.top_level_fn =
            futhark_mc_segred_task_136734;
        futhark_mc_task_136733_task.name = "futhark_mc_segred_task_136734";
        futhark_mc_task_136733_task.iterations = t_window_119478;
        futhark_mc_task_136733_task.task_time =
            &ctx->futhark_mc_segred_task_136734_total_time;
        futhark_mc_task_136733_task.task_iter =
            &ctx->futhark_mc_segred_task_136734_total_iter;
        futhark_mc_task_136733_task.sched = STATIC;
        futhark_mc_task_136733_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136734_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136733_task);
        
        if (futhark_mc_segred_task_136734_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127876.mem)[gtid_123938] = defunc_2_reduce_res_132734;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136727_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136727_end -
                 futhark_mc_segmap_parloop_136727_start;
        
        ctx->futhark_mc_segmap_parloop_136727_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136727_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136727_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136725(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123937 = tid;
    int num_tasks_132815 = info.nsubtasks;
    struct futhark_mc_task_136721 *futhark_mc_task_136721 =
                                  (struct futhark_mc_task_136721 *) args;
    struct futhark_context *ctx = futhark_mc_task_136721->ctx;
    uint64_t futhark_mc_segmap_nested_task_136725_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136725_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136721->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136721->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136721->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136721->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136721->free_i_119551;
    int64_t gtid_123934 = futhark_mc_task_136721->free_gtid_123934;
    int64_t x_124004 = futhark_mc_task_136721->free_x_124004;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136721->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136721->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136721->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136721->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136721->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127876 = {.desc ="mem_127876", .mem =
                                  futhark_mc_task_136721->free_mem_127876,
                                  .size =0, .references =NULL};
    int64_t iter_132866;
    struct futhark_mc_segmap_parloop_struct_136726
    futhark_mc_segmap_parloop_struct_136726;
    
    futhark_mc_segmap_parloop_struct_136726.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136726.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136726.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136726.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136726.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136726.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136726.free_gtid_123934 = gtid_123934;
    futhark_mc_segmap_parloop_struct_136726.free_x_124004 = x_124004;
    futhark_mc_segmap_parloop_struct_136726.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136726.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136726.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136726.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136726.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136726.free_mem_127876 = mem_127876.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136727_task;
    
    futhark_mc_segmap_parloop_136727_task.name =
        "futhark_mc_segmap_parloop_136727";
    futhark_mc_segmap_parloop_136727_task.fn = futhark_mc_segmap_parloop_136727;
    futhark_mc_segmap_parloop_136727_task.args =
        &futhark_mc_segmap_parloop_struct_136726;
    futhark_mc_segmap_parloop_136727_task.iterations = iterations;
    futhark_mc_segmap_parloop_136727_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136727_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136727_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136727_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136727_task);
    
    if (futhark_mc_segmap_parloop_136727_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136727_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136727_total_end -
                 futhark_mc_segmap_parloop_136727_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136727_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136727_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136727_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136725_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136725_end -
                 futhark_mc_segmap_nested_task_136725_start;
        
        ctx->futhark_mc_segmap_nested_task_136725_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136725_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136725_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136719(void *args, int64_t start,
                                            int64_t end, int flat_tid_123933,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136718
    *futhark_mc_segmap_parloop_struct_136718 =
    (struct futhark_mc_segmap_parloop_struct_136718 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136718->ctx;
    uint64_t futhark_mc_segmap_parloop_136719_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136719_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136718->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136718->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136718->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136718->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136718->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136718->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136718->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127895 = {.desc ="mem_127895", .mem =
                                  futhark_mc_segmap_parloop_struct_136718->free_mem_127895,
                                  .size =0, .references =NULL};
    size_t mem_127876_cached_sizze_136720 = 0;
    char *mem_127876 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132706 = start;
    
    if (mem_127876_cached_sizze_136720 < (size_t) bytes_127056) {
        mem_127876 = realloc(mem_127876, bytes_127056);
        mem_127876_cached_sizze_136720 = bytes_127056;
    }
    for (; iter_132706 < end; iter_132706++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_132813 = m_119474;
        int64_t gtid_123934 = iter_132706;
        int64_t remnant_132814 = iter_132706 - gtid_123934;
        int64_t x_124004 = ((int64_t *) mem_126924.mem)[gtid_123934];
        int64_t flat_tid_123935 = (int64_t) 0;
        int32_t num_tasks_132815;
        int64_t flat_tid_123937 = (int64_t) 0;
        struct futhark_mc_task_136721 futhark_mc_task_136721;
        
        futhark_mc_task_136721.ctx = ctx;
        futhark_mc_task_136721.free_n_119475 = n_119475;
        futhark_mc_task_136721.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136721.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136721.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136721.free_i_119551 = i_119551;
        futhark_mc_task_136721.free_gtid_123934 = gtid_123934;
        futhark_mc_task_136721.free_x_124004 = x_124004;
        futhark_mc_task_136721.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136721.free_mem_127110 = mem_127110.mem;
        futhark_mc_task_136721.free_mem_127114 = mem_127114.mem;
        futhark_mc_task_136721.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136721.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136721.free_mem_127876 = mem_127876;
        
        struct scheduler_segop futhark_mc_task_136721_task;
        
        futhark_mc_task_136721_task.args = &futhark_mc_task_136721;
        futhark_mc_task_136721_task.top_level_fn =
            futhark_mc_segmap_task_136722;
        futhark_mc_task_136721_task.name = "futhark_mc_segmap_task_136722";
        futhark_mc_task_136721_task.iterations = t_n_m_119532;
        futhark_mc_task_136721_task.task_time =
            &ctx->futhark_mc_segmap_task_136722_total_time;
        futhark_mc_task_136721_task.task_iter =
            &ctx->futhark_mc_segmap_task_136722_total_iter;
        futhark_mc_task_136721_task.sched = STATIC;
        futhark_mc_task_136721_task.nested_fn =
            futhark_mc_segmap_nested_task_136725;
        
        int futhark_mc_segmap_task_136722_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136721_task);
        
        if (futhark_mc_segmap_task_136722_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127895.mem + gtid_123934 * t_n_m_119532 * (int64_t) 4,
                mem_127876 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127876);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136719_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136719_end -
                 futhark_mc_segmap_parloop_136719_start;
        
        ctx->futhark_mc_segmap_parloop_136719_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136719_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136719_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136717(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_123933 = tid;
    int num_tasks_132643 = info.nsubtasks;
    struct futhark_mc_task_136712 *futhark_mc_task_136712 =
                                  (struct futhark_mc_task_136712 *) args;
    struct futhark_context *ctx = futhark_mc_task_136712->ctx;
    uint64_t futhark_mc_segmap_nested_task_136717_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136717_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136712->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136712->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136712->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136712->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136712->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136712->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136712->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136712->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136712->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136712->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136712->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136712->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136712->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127895 = {.desc ="mem_127895", .mem =
                                  futhark_mc_task_136712->free_mem_127895,
                                  .size =0, .references =NULL};
    int64_t iter_132706;
    struct futhark_mc_segmap_parloop_struct_136718
    futhark_mc_segmap_parloop_struct_136718;
    
    futhark_mc_segmap_parloop_struct_136718.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136718.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136718.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136718.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136718.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136718.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136718.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136718.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136718.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136718.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136718.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136718.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136718.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136718.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136718.free_mem_127895 = mem_127895.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136719_task;
    
    futhark_mc_segmap_parloop_136719_task.name =
        "futhark_mc_segmap_parloop_136719";
    futhark_mc_segmap_parloop_136719_task.fn = futhark_mc_segmap_parloop_136719;
    futhark_mc_segmap_parloop_136719_task.args =
        &futhark_mc_segmap_parloop_struct_136718;
    futhark_mc_segmap_parloop_136719_task.iterations = iterations;
    futhark_mc_segmap_parloop_136719_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136719_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136719_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136719_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136719_task);
    
    if (futhark_mc_segmap_parloop_136719_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136719_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136719_total_end -
                 futhark_mc_segmap_parloop_136719_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136719_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136719_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136719_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136717_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136717_end -
                 futhark_mc_segmap_nested_task_136717_start;
        
        ctx->futhark_mc_segmap_nested_task_136717_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136717_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136717_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136738 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127935;
    char *free_mem_127939;
};
struct futhark_mc_segmap_parloop_struct_136740 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127935;
    char *free_mem_127939;
};
static int futhark_mc_segmap_parloop_136741(void *args, int64_t start,
                                            int64_t end, int flat_tid_124118,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136740
    *futhark_mc_segmap_parloop_struct_136740 =
    (struct futhark_mc_segmap_parloop_struct_136740 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136740->ctx;
    uint64_t futhark_mc_segmap_parloop_136741_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136741_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136740->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136740->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136740->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136740->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136740->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136740->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136740->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127935 = {.desc ="mem_127935", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_127935,
                                  .size =0, .references =NULL};
    struct memblock mem_127939 = {.desc ="mem_127939", .mem =
                                  futhark_mc_segmap_parloop_struct_136740->free_mem_127939,
                                  .size =0, .references =NULL};
    size_t mem_127904_cached_sizze_136742 = 0;
    char *mem_127904 = NULL;
    size_t mem_127907_cached_sizze_136743 = 0;
    char *mem_127907 = NULL;
    int64_t iterations = end - start;
    int64_t iter_132933 = start;
    
    if (mem_127904_cached_sizze_136742 < (size_t) bytes_127056) {
        mem_127904 = realloc(mem_127904, bytes_127056);
        mem_127904_cached_sizze_136742 = bytes_127056;
    }
    if (mem_127907_cached_sizze_136743 < (size_t) bytes_127056) {
        mem_127907 = realloc(mem_127907, bytes_127056);
        mem_127907_cached_sizze_136743 = bytes_127056;
    }
    for (; iter_132933 < end; iter_132933++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133017 = m_119474;
        int64_t gtid_124119 = iter_132933;
        int64_t remnant_133018 = iter_132933 - gtid_124119;
        int64_t x_120854 = ((int64_t *) mem_126924.mem)[gtid_124119];
        
        for (int64_t i_132934 = 0; i_132934 < t_n_m_119532; i_132934++) {
            int64_t x_132937 = ((int64_t *) mem_127110.mem)[gtid_124119 *
                                                            t_n_m_119532 +
                                                            i_132934];
            float x_132938 = ((float *) mem_127114.mem)[gtid_124119 *
                                                        t_n_m_119532 +
                                                        i_132934];
            int64_t min_arg_132939 = mul64(t_jump_119482, i_132934);
            int64_t min_res_132940 = smin64(i_119551, min_arg_132939);
            float defunc_0_f_res_132941 = sitofp_i64_f32(min_res_132940);
            float defunc_2_reduce_res_132942;
            float defunc_2_reduce_res_132943;
            float defunc_2_reduce_res_132944;
            float redout_132946;
            float redout_132947;
            float redout_132948;
            
            redout_132946 = 0.0F;
            redout_132947 = 0.0F;
            redout_132948 = 0.0F;
            for (int64_t i_132945 = 0; i_132945 < t_window_119478; i_132945++) {
                bool cond_132949 = sle64(x_120854, i_132945);
                float defunc_0_f_res_132950;
                
                if (cond_132949) {
                    defunc_0_f_res_132950 = 0.0F;
                } else {
                    int64_t i_132951 = add64(x_132937, i_132945);
                    float x_132952 = ((float *) mem_126946.mem)[gtid_124119 *
                                                                n_119475 +
                                                                i_132951];
                    float defunc_0_f_res_f_res_132953 = 1.0F + x_132952;
                    
                    defunc_0_f_res_132950 = defunc_0_f_res_f_res_132953;
                }
                
                float defunc_0_f_res_132954;
                
                if (cond_132949) {
                    defunc_0_f_res_132954 = 0.0F;
                } else {
                    int64_t i_132955 = add64(x_132937, i_132945);
                    float x_132956 = ((float *) mem_127865.mem)[gtid_124119 *
                                                                n_119475 +
                                                                i_132955];
                    
                    defunc_0_f_res_132954 = x_132956;
                }
                
                float x_j_132957 = defunc_0_f_res_132950 -
                      defunc_0_f_res_132941;
                float abs_res_132958 = (float) fabs(x_j_132957);
                float tmp1_132959 = abs_res_132958 / x_132938;
                float x_132960 = tmp1_132959 * tmp1_132959;
                float y_132961 = tmp1_132959 * x_132960;
                float tmp2_132962 = 1.0F - y_132961;
                float x_132963 = tmp2_132962 * tmp2_132962;
                float tmp3_132964 = tmp2_132962 * x_132963;
                float w_j_132965 = defunc_0_f_res_132954 * tmp3_132964;
                float xw_j_132966 = x_j_132957 * w_j_132965;
                float x2w_j_132967 = x_j_132957 * xw_j_132966;
                float defunc_1_op_res_132968 = w_j_132965 + redout_132946;
                float defunc_1_op_res_132969 = xw_j_132966 + redout_132947;
                float defunc_1_op_res_132970 = x2w_j_132967 + redout_132948;
                float redout_tmp_133021 = defunc_1_op_res_132968;
                float redout_tmp_133022 = defunc_1_op_res_132969;
                float redout_tmp_133023 = defunc_1_op_res_132970;
                
                redout_132946 = redout_tmp_133021;
                redout_132947 = redout_tmp_133022;
                redout_132948 = redout_tmp_133023;
            }
            defunc_2_reduce_res_132942 = redout_132946;
            defunc_2_reduce_res_132943 = redout_132947;
            defunc_2_reduce_res_132944 = redout_132948;
            
            float x_132971 = defunc_2_reduce_res_132942 *
                  defunc_2_reduce_res_132944;
            float y_132972 = defunc_2_reduce_res_132943 *
                  defunc_2_reduce_res_132943;
            float y_132973 = x_132971 - y_132972;
            float det1_132974 = 1.0F / y_132973;
            float a11_132975 = defunc_2_reduce_res_132944 * det1_132974;
            float negate_arg_132976 = defunc_2_reduce_res_132943 * det1_132974;
            float b11_132977 = 0.0F - negate_arg_132976;
            float c11_132978 = defunc_2_reduce_res_132942 * det1_132974;
            float defunc_2_reduce_res_132979;
            float defunc_2_reduce_res_132980;
            float redout_132982;
            float redout_132983;
            
            redout_132982 = 0.0F;
            redout_132983 = 0.0F;
            for (int64_t i_132981 = 0; i_132981 < t_window_119478; i_132981++) {
                bool cond_132984 = sle64(x_120854, i_132981);
                float defunc_0_f_res_132985;
                
                if (cond_132984) {
                    defunc_0_f_res_132985 = 0.0F;
                } else {
                    int64_t i_132986 = add64(x_132937, i_132981);
                    float x_132987 = ((float *) mem_126946.mem)[gtid_124119 *
                                                                n_119475 +
                                                                i_132986];
                    float defunc_0_f_res_f_res_132988 = 1.0F + x_132987;
                    
                    defunc_0_f_res_132985 = defunc_0_f_res_f_res_132988;
                }
                
                float defunc_0_f_res_132989;
                
                if (cond_132984) {
                    defunc_0_f_res_132989 = 0.0F;
                } else {
                    int64_t i_132990 = add64(x_132937, i_132981);
                    float x_132991 = ((float *) mem_127865.mem)[gtid_124119 *
                                                                n_119475 +
                                                                i_132990];
                    
                    defunc_0_f_res_132989 = x_132991;
                }
                
                float x_j_132992 = defunc_0_f_res_132985 -
                      defunc_0_f_res_132941;
                float abs_res_132993 = (float) fabs(x_j_132992);
                float tmp1_132994 = abs_res_132993 / x_132938;
                float x_132995 = tmp1_132994 * tmp1_132994;
                float y_132996 = tmp1_132994 * x_132995;
                float tmp2_132997 = 1.0F - y_132996;
                float x_132998 = tmp2_132997 * tmp2_132997;
                float tmp3_132999 = tmp2_132997 * x_132998;
                float tmp4_133000 = defunc_0_f_res_132989 * tmp3_132999;
                float defunc_1_f_res_133001 = x_j_132992 * tmp4_133000;
                float defunc_0_f_res_133002;
                
                if (cond_132984) {
                    defunc_0_f_res_133002 = 0.0F;
                } else {
                    int64_t i_133003 = add64(x_132937, i_132981);
                    float x_133004 = ((float *) mem_127861.mem)[gtid_124119 *
                                                                n_119475 +
                                                                i_133003];
                    
                    defunc_0_f_res_133002 = x_133004;
                }
                
                float x_133005 = a11_132975 * tmp4_133000;
                float y_133006 = b11_132977 * defunc_1_f_res_133001;
                float x_133007 = x_133005 + y_133006;
                float defunc_9_fit_fun_res_133008 = defunc_0_f_res_133002 *
                      x_133007;
                float x_133009 = b11_132977 * tmp4_133000;
                float y_133010 = c11_132978 * defunc_1_f_res_133001;
                float x_133011 = x_133009 + y_133010;
                float defunc_9_slope_fun_res_133012 = defunc_0_f_res_133002 *
                      x_133011;
                float defunc_1_op_res_133013 = defunc_9_fit_fun_res_133008 +
                      redout_132982;
                float defunc_1_op_res_133014 = defunc_9_slope_fun_res_133012 +
                      redout_132983;
                float redout_tmp_133024 = defunc_1_op_res_133013;
                float redout_tmp_133025 = defunc_1_op_res_133014;
                
                redout_132982 = redout_tmp_133024;
                redout_132983 = redout_tmp_133025;
            }
            defunc_2_reduce_res_132979 = redout_132982;
            defunc_2_reduce_res_132980 = redout_132983;
            ((float *) mem_127904)[i_132934] = defunc_2_reduce_res_132979;
            ((float *) mem_127907)[i_132934] = defunc_2_reduce_res_132980;
        }
        memmove(mem_127935.mem + gtid_124119 * t_n_m_119532 * (int64_t) 4,
                mem_127904 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_127939.mem + gtid_124119 * t_n_m_119532 * (int64_t) 4,
                mem_127907 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127904);
    free(mem_127907);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136741_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136741_end -
                 futhark_mc_segmap_parloop_136741_start;
        
        ctx->futhark_mc_segmap_parloop_136741_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136741_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136741_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136739(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124118 = tid;
    int num_tasks_132932 = info.nsubtasks;
    struct futhark_mc_task_136738 *futhark_mc_task_136738 =
                                  (struct futhark_mc_task_136738 *) args;
    struct futhark_context *ctx = futhark_mc_task_136738->ctx;
    uint64_t futhark_mc_segmap_task_136739_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136739_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136738->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136738->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136738->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136738->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136738->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136738->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136738->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136738->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136738->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136738->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136738->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136738->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136738->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127935 = {.desc ="mem_127935", .mem =
                                  futhark_mc_task_136738->free_mem_127935,
                                  .size =0, .references =NULL};
    struct memblock mem_127939 = {.desc ="mem_127939", .mem =
                                  futhark_mc_task_136738->free_mem_127939,
                                  .size =0, .references =NULL};
    int64_t iter_132933;
    struct futhark_mc_segmap_parloop_struct_136740
    futhark_mc_segmap_parloop_struct_136740;
    
    futhark_mc_segmap_parloop_struct_136740.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136740.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136740.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136740.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136740.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136740.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136740.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136740.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136740.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136740.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136740.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136740.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136740.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136740.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136740.free_mem_127935 = mem_127935.mem;
    futhark_mc_segmap_parloop_struct_136740.free_mem_127939 = mem_127939.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136741_task;
    
    futhark_mc_segmap_parloop_136741_task.name =
        "futhark_mc_segmap_parloop_136741";
    futhark_mc_segmap_parloop_136741_task.fn = futhark_mc_segmap_parloop_136741;
    futhark_mc_segmap_parloop_136741_task.args =
        &futhark_mc_segmap_parloop_struct_136740;
    futhark_mc_segmap_parloop_136741_task.iterations = iterations;
    futhark_mc_segmap_parloop_136741_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136741_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136741_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136741_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136741_task);
    
    if (futhark_mc_segmap_parloop_136741_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136741_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136741_total_end -
                 futhark_mc_segmap_parloop_136741_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136741_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136741_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136741_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136739_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136739_end -
                 futhark_mc_segmap_task_136739_start;
        
        ctx->futhark_mc_segmap_task_136739_runs[tid]++;
        ctx->futhark_mc_segmap_task_136739_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136739_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136745 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127935;
    char *free_mem_127939;
};
struct futhark_mc_task_136749 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127898;
    char *free_mem_127901;
};
struct futhark_mc_segmap_parloop_struct_136751 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127898;
    char *free_mem_127901;
};
static int futhark_mc_segmap_parloop_136752(void *args, int64_t start,
                                            int64_t end, int flat_tid_124122,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136751
    *futhark_mc_segmap_parloop_struct_136751 =
    (struct futhark_mc_segmap_parloop_struct_136751 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136751->ctx;
    uint64_t futhark_mc_segmap_parloop_136752_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136752_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136751->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136751->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136751->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136751->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136751->free_i_119551;
    int64_t gtid_124121 =
            futhark_mc_segmap_parloop_struct_136751->free_gtid_124121;
    int64_t x_124219 = futhark_mc_segmap_parloop_struct_136751->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127898 = {.desc ="mem_127898", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_127898,
                                  .size =0, .references =NULL};
    struct memblock mem_127901 = {.desc ="mem_127901", .mem =
                                  futhark_mc_segmap_parloop_struct_136751->free_mem_127901,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133189 = start;
    
    for (; iter_133189 < end; iter_133189++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133250 = t_n_m_119532;
        int64_t gtid_124123 = iter_133189;
        int64_t remnant_133251 = iter_133189 - gtid_124123;
        int64_t x_133108 = ((int64_t *) mem_127110.mem)[gtid_124121 *
                                                        t_n_m_119532 +
                                                        gtid_124123];
        float x_133109 = ((float *) mem_127114.mem)[gtid_124121 * t_n_m_119532 +
                                                    gtid_124123];
        int64_t min_arg_133110 = mul64(t_jump_119482, gtid_124123);
        int64_t min_res_133111 = smin64(i_119551, min_arg_133110);
        float defunc_0_f_res_133112 = sitofp_i64_f32(min_res_133111);
        float defunc_2_reduce_res_133113;
        float defunc_2_reduce_res_133114;
        float defunc_2_reduce_res_133115;
        float redout_133191;
        float redout_133192;
        float redout_133193;
        
        redout_133191 = 0.0F;
        redout_133192 = 0.0F;
        redout_133193 = 0.0F;
        for (int64_t i_133190 = 0; i_133190 < t_window_119478; i_133190++) {
            bool cond_133194 = sle64(x_124219, i_133190);
            float defunc_0_f_res_133195;
            
            if (cond_133194) {
                defunc_0_f_res_133195 = 0.0F;
            } else {
                int64_t i_133196 = add64(x_133108, i_133190);
                float x_133197 = ((float *) mem_126946.mem)[gtid_124121 *
                                                            n_119475 +
                                                            i_133196];
                float defunc_0_f_res_f_res_133198 = 1.0F + x_133197;
                
                defunc_0_f_res_133195 = defunc_0_f_res_f_res_133198;
            }
            
            float defunc_0_f_res_133199;
            
            if (cond_133194) {
                defunc_0_f_res_133199 = 0.0F;
            } else {
                int64_t i_133200 = add64(x_133108, i_133190);
                float x_133201 = ((float *) mem_127865.mem)[gtid_124121 *
                                                            n_119475 +
                                                            i_133200];
                
                defunc_0_f_res_133199 = x_133201;
            }
            
            float x_j_133202 = defunc_0_f_res_133195 - defunc_0_f_res_133112;
            float abs_res_133203 = (float) fabs(x_j_133202);
            float tmp1_133204 = abs_res_133203 / x_133109;
            float x_133205 = tmp1_133204 * tmp1_133204;
            float y_133206 = tmp1_133204 * x_133205;
            float tmp2_133207 = 1.0F - y_133206;
            float x_133208 = tmp2_133207 * tmp2_133207;
            float tmp3_133209 = tmp2_133207 * x_133208;
            float w_j_133210 = defunc_0_f_res_133199 * tmp3_133209;
            float xw_j_133211 = x_j_133202 * w_j_133210;
            float x2w_j_133212 = x_j_133202 * xw_j_133211;
            float defunc_1_op_res_133213 = w_j_133210 + redout_133191;
            float defunc_1_op_res_133214 = xw_j_133211 + redout_133192;
            float defunc_1_op_res_133215 = x2w_j_133212 + redout_133193;
            float redout_tmp_133252 = defunc_1_op_res_133213;
            float redout_tmp_133253 = defunc_1_op_res_133214;
            float redout_tmp_133254 = defunc_1_op_res_133215;
            
            redout_133191 = redout_tmp_133252;
            redout_133192 = redout_tmp_133253;
            redout_133193 = redout_tmp_133254;
        }
        defunc_2_reduce_res_133113 = redout_133191;
        defunc_2_reduce_res_133114 = redout_133192;
        defunc_2_reduce_res_133115 = redout_133193;
        
        float x_133142 = defunc_2_reduce_res_133113 *
              defunc_2_reduce_res_133115;
        float y_133143 = defunc_2_reduce_res_133114 *
              defunc_2_reduce_res_133114;
        float y_133144 = x_133142 - y_133143;
        float det1_133145 = 1.0F / y_133144;
        float a11_133146 = defunc_2_reduce_res_133115 * det1_133145;
        float negate_arg_133147 = defunc_2_reduce_res_133114 * det1_133145;
        float b11_133148 = 0.0F - negate_arg_133147;
        float c11_133149 = defunc_2_reduce_res_133113 * det1_133145;
        float defunc_2_reduce_res_133150;
        float defunc_2_reduce_res_133151;
        float redout_133217;
        float redout_133218;
        
        redout_133217 = 0.0F;
        redout_133218 = 0.0F;
        for (int64_t i_133216 = 0; i_133216 < t_window_119478; i_133216++) {
            bool cond_133219 = sle64(x_124219, i_133216);
            float defunc_0_f_res_133220;
            
            if (cond_133219) {
                defunc_0_f_res_133220 = 0.0F;
            } else {
                int64_t i_133221 = add64(x_133108, i_133216);
                float x_133222 = ((float *) mem_126946.mem)[gtid_124121 *
                                                            n_119475 +
                                                            i_133221];
                float defunc_0_f_res_f_res_133223 = 1.0F + x_133222;
                
                defunc_0_f_res_133220 = defunc_0_f_res_f_res_133223;
            }
            
            float defunc_0_f_res_133224;
            
            if (cond_133219) {
                defunc_0_f_res_133224 = 0.0F;
            } else {
                int64_t i_133225 = add64(x_133108, i_133216);
                float x_133226 = ((float *) mem_127865.mem)[gtid_124121 *
                                                            n_119475 +
                                                            i_133225];
                
                defunc_0_f_res_133224 = x_133226;
            }
            
            float x_j_133227 = defunc_0_f_res_133220 - defunc_0_f_res_133112;
            float abs_res_133228 = (float) fabs(x_j_133227);
            float tmp1_133229 = abs_res_133228 / x_133109;
            float x_133230 = tmp1_133229 * tmp1_133229;
            float y_133231 = tmp1_133229 * x_133230;
            float tmp2_133232 = 1.0F - y_133231;
            float x_133233 = tmp2_133232 * tmp2_133232;
            float tmp3_133234 = tmp2_133232 * x_133233;
            float tmp4_133235 = defunc_0_f_res_133224 * tmp3_133234;
            float defunc_1_f_res_133236 = x_j_133227 * tmp4_133235;
            float defunc_0_f_res_133237;
            
            if (cond_133219) {
                defunc_0_f_res_133237 = 0.0F;
            } else {
                int64_t i_133238 = add64(x_133108, i_133216);
                float x_133239 = ((float *) mem_127861.mem)[gtid_124121 *
                                                            n_119475 +
                                                            i_133238];
                
                defunc_0_f_res_133237 = x_133239;
            }
            
            float x_133240 = a11_133146 * tmp4_133235;
            float y_133241 = b11_133148 * defunc_1_f_res_133236;
            float x_133242 = x_133240 + y_133241;
            float defunc_9_fit_fun_res_133243 = defunc_0_f_res_133237 *
                  x_133242;
            float x_133244 = b11_133148 * tmp4_133235;
            float y_133245 = c11_133149 * defunc_1_f_res_133236;
            float x_133246 = x_133244 + y_133245;
            float defunc_9_slope_fun_res_133247 = defunc_0_f_res_133237 *
                  x_133246;
            float defunc_1_op_res_133248 = defunc_9_fit_fun_res_133243 +
                  redout_133217;
            float defunc_1_op_res_133249 = defunc_9_slope_fun_res_133247 +
                  redout_133218;
            float redout_tmp_133255 = defunc_1_op_res_133248;
            float redout_tmp_133256 = defunc_1_op_res_133249;
            
            redout_133217 = redout_tmp_133255;
            redout_133218 = redout_tmp_133256;
        }
        defunc_2_reduce_res_133150 = redout_133217;
        defunc_2_reduce_res_133151 = redout_133218;
        ((float *) mem_127898.mem)[gtid_124123] = defunc_2_reduce_res_133150;
        ((float *) mem_127901.mem)[gtid_124123] = defunc_2_reduce_res_133151;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136752_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136752_end -
                 futhark_mc_segmap_parloop_136752_start;
        
        ctx->futhark_mc_segmap_parloop_136752_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136752_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136752_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136750(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124122 = tid;
    int num_tasks_133188 = info.nsubtasks;
    struct futhark_mc_task_136749 *futhark_mc_task_136749 =
                                  (struct futhark_mc_task_136749 *) args;
    struct futhark_context *ctx = futhark_mc_task_136749->ctx;
    uint64_t futhark_mc_segmap_task_136750_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136750_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136749->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136749->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136749->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136749->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136749->free_i_119551;
    int64_t gtid_124121 = futhark_mc_task_136749->free_gtid_124121;
    int64_t x_124219 = futhark_mc_task_136749->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136749->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136749->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136749->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136749->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136749->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127898 = {.desc ="mem_127898", .mem =
                                  futhark_mc_task_136749->free_mem_127898,
                                  .size =0, .references =NULL};
    struct memblock mem_127901 = {.desc ="mem_127901", .mem =
                                  futhark_mc_task_136749->free_mem_127901,
                                  .size =0, .references =NULL};
    int64_t iter_133189;
    struct futhark_mc_segmap_parloop_struct_136751
    futhark_mc_segmap_parloop_struct_136751;
    
    futhark_mc_segmap_parloop_struct_136751.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136751.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136751.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136751.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136751.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136751.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136751.free_gtid_124121 = gtid_124121;
    futhark_mc_segmap_parloop_struct_136751.free_x_124219 = x_124219;
    futhark_mc_segmap_parloop_struct_136751.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136751.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136751.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136751.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136751.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136751.free_mem_127898 = mem_127898.mem;
    futhark_mc_segmap_parloop_struct_136751.free_mem_127901 = mem_127901.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136752_task;
    
    futhark_mc_segmap_parloop_136752_task.name =
        "futhark_mc_segmap_parloop_136752";
    futhark_mc_segmap_parloop_136752_task.fn = futhark_mc_segmap_parloop_136752;
    futhark_mc_segmap_parloop_136752_task.args =
        &futhark_mc_segmap_parloop_struct_136751;
    futhark_mc_segmap_parloop_136752_task.iterations = iterations;
    futhark_mc_segmap_parloop_136752_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136752_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136752_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136752_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136752_task);
    
    if (futhark_mc_segmap_parloop_136752_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136752_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136752_total_end -
                 futhark_mc_segmap_parloop_136752_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136752_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136752_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136752_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136750_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136750_end -
                 futhark_mc_segmap_task_136750_start;
        
        ctx->futhark_mc_segmap_task_136750_runs[tid]++;
        ctx->futhark_mc_segmap_task_136750_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136750_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136754 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127898;
    char *free_mem_127901;
};
struct futhark_mc_task_136756 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_133027;
    float free_x_133028;
    float free_defunc_0_f_res_133031;
    float *retval_defunc_2_reduce_res_133032;
    float *retval_defunc_2_reduce_res_133033;
    float *retval_defunc_2_reduce_res_133034;
};
struct futhark_mc_segred_stage_1_parloop_struct_136761 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_133027;
    float free_x_133028;
    float free_defunc_0_f_res_133031;
    char *free_reduce_stage_1_tid_res_arr_mem_133324;
    char *free_reduce_stage_1_tid_res_arr_mem_133326;
    char *free_reduce_stage_1_tid_res_arr_mem_133328;
};
static int futhark_mc_segred_stage_1_parloop_136762(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124126,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136761
    *futhark_mc_segred_stage_1_parloop_struct_136761 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136761 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136761->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136762_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136762_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136761->free_n_119475;
    int64_t gtid_124121 =
            futhark_mc_segred_stage_1_parloop_struct_136761->free_gtid_124121;
    int64_t x_124219 =
            futhark_mc_segred_stage_1_parloop_struct_136761->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136761->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136761->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133027 =
            futhark_mc_segred_stage_1_parloop_struct_136761->free_x_133027;
    float x_133028 =
          futhark_mc_segred_stage_1_parloop_struct_136761->free_x_133028;
    float defunc_0_f_res_133031 =
          futhark_mc_segred_stage_1_parloop_struct_136761->free_defunc_0_f_res_133031;
    struct memblock reduce_stage_1_tid_res_arr_mem_133324 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133324",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136761->free_reduce_stage_1_tid_res_arr_mem_133324,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133326 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133326",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136761->free_reduce_stage_1_tid_res_arr_mem_133326,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133328 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133328",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136761->free_reduce_stage_1_tid_res_arr_mem_133328,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133330 = start;
    float x_133258;
    float x_133259;
    float x_133261;
    float x_133262;
    float x_133264;
    float x_133265;
    float local_acc_133331 = 0.0F;
    float local_acc_133332 = 0.0F;
    float local_acc_133333 = 0.0F;
    
    for (; iter_133330 < end; iter_133330++) {
        int64_t gtid_124127 = iter_133330;
        bool cond_133267 = sle64(x_124219, gtid_124127);
        float defunc_0_f_res_133268;
        
        if (cond_133267) {
            defunc_0_f_res_133268 = 0.0F;
        } else {
            int64_t i_133269 = add64(gtid_124127, x_133027);
            float x_133270 = ((float *) mem_126946.mem)[gtid_124121 * n_119475 +
                                                        i_133269];
            float defunc_0_f_res_f_res_133271 = 1.0F + x_133270;
            
            defunc_0_f_res_133268 = defunc_0_f_res_f_res_133271;
        }
        
        float defunc_0_f_res_133272;
        
        if (cond_133267) {
            defunc_0_f_res_133272 = 0.0F;
        } else {
            int64_t i_133273 = add64(gtid_124127, x_133027);
            float x_133274 = ((float *) mem_127865.mem)[gtid_124121 * n_119475 +
                                                        i_133273];
            
            defunc_0_f_res_133272 = x_133274;
        }
        
        float x_j_133275 = defunc_0_f_res_133268 - defunc_0_f_res_133031;
        float abs_res_133276 = (float) fabs(x_j_133275);
        float tmp1_133277 = abs_res_133276 / x_133028;
        float x_133278 = tmp1_133277 * tmp1_133277;
        float y_133279 = tmp1_133277 * x_133278;
        float tmp2_133280 = 1.0F - y_133279;
        float x_133281 = tmp2_133280 * tmp2_133280;
        float tmp3_133282 = tmp2_133280 * x_133281;
        float w_j_133283 = defunc_0_f_res_133272 * tmp3_133282;
        float xw_j_133284 = x_j_133275 * w_j_133283;
        float x2w_j_133285 = x_j_133275 * xw_j_133284;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_133258 = local_acc_133331;
        }
        // Load next params
        {
            x_133259 = w_j_133283;
        }
        // Red body
        {
            float defunc_1_op_res_133260 = x_133258 + x_133259;
            
            local_acc_133331 = defunc_1_op_res_133260;
        }
        // Load accum params
        {
            x_133261 = local_acc_133332;
        }
        // Load next params
        {
            x_133262 = xw_j_133284;
        }
        // Red body
        {
            float defunc_1_op_res_133263 = x_133261 + x_133262;
            
            local_acc_133332 = defunc_1_op_res_133263;
        }
        // Load accum params
        {
            x_133264 = local_acc_133333;
        }
        // Load next params
        {
            x_133265 = x2w_j_133285;
        }
        // Red body
        {
            float defunc_1_op_res_133266 = x_133264 + x_133265;
            
            local_acc_133333 = defunc_1_op_res_133266;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_133324.mem)[flat_tid_124126] =
        local_acc_133331;
    ((float *) reduce_stage_1_tid_res_arr_mem_133326.mem)[flat_tid_124126] =
        local_acc_133332;
    ((float *) reduce_stage_1_tid_res_arr_mem_133328.mem)[flat_tid_124126] =
        local_acc_133333;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136762_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136762_end -
                 futhark_mc_segred_stage_1_parloop_136762_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136762_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136762_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136762_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136757(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124126 = tid;
    int num_tasks_133323 = info.nsubtasks;
    struct futhark_mc_task_136756 *futhark_mc_task_136756 =
                                  (struct futhark_mc_task_136756 *) args;
    struct futhark_context *ctx = futhark_mc_task_136756->ctx;
    uint64_t futhark_mc_segred_task_136757_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136757_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136756->free_n_119475;
    int64_t gtid_124121 = futhark_mc_task_136756->free_gtid_124121;
    int64_t x_124219 = futhark_mc_task_136756->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136756->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136756->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133027 = futhark_mc_task_136756->free_x_133027;
    float x_133028 = futhark_mc_task_136756->free_x_133028;
    float defunc_0_f_res_133031 =
          futhark_mc_task_136756->free_defunc_0_f_res_133031;
    float defunc_2_reduce_res_133032 =
          *futhark_mc_task_136756->retval_defunc_2_reduce_res_133032;
    float defunc_2_reduce_res_133033 =
          *futhark_mc_task_136756->retval_defunc_2_reduce_res_133033;
    float defunc_2_reduce_res_133034 =
          *futhark_mc_task_136756->retval_defunc_2_reduce_res_133034;
    size_t reduce_stage_1_tid_res_arr_mem_133324_cached_sizze_136758 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133324 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133326_cached_sizze_136759 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133326 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133328_cached_sizze_136760 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133328 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_133324_cached_sizze_136758 <
        (size_t) ((int64_t) 4 * num_tasks_133323)) {
        reduce_stage_1_tid_res_arr_mem_133324 =
            realloc(reduce_stage_1_tid_res_arr_mem_133324, (int64_t) 4 *
                    num_tasks_133323);
        reduce_stage_1_tid_res_arr_mem_133324_cached_sizze_136758 =
            (int64_t) 4 * num_tasks_133323;
    }
    if (reduce_stage_1_tid_res_arr_mem_133326_cached_sizze_136759 <
        (size_t) ((int64_t) 4 * num_tasks_133323)) {
        reduce_stage_1_tid_res_arr_mem_133326 =
            realloc(reduce_stage_1_tid_res_arr_mem_133326, (int64_t) 4 *
                    num_tasks_133323);
        reduce_stage_1_tid_res_arr_mem_133326_cached_sizze_136759 =
            (int64_t) 4 * num_tasks_133323;
    }
    if (reduce_stage_1_tid_res_arr_mem_133328_cached_sizze_136760 <
        (size_t) ((int64_t) 4 * num_tasks_133323)) {
        reduce_stage_1_tid_res_arr_mem_133328 =
            realloc(reduce_stage_1_tid_res_arr_mem_133328, (int64_t) 4 *
                    num_tasks_133323);
        reduce_stage_1_tid_res_arr_mem_133328_cached_sizze_136760 =
            (int64_t) 4 * num_tasks_133323;
    }
    
    int64_t iter_133330;
    struct futhark_mc_segred_stage_1_parloop_struct_136761
    futhark_mc_segred_stage_1_parloop_struct_136761;
    
    futhark_mc_segred_stage_1_parloop_struct_136761.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_gtid_124121 =
        gtid_124121;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_x_124219 = x_124219;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_x_133027 = x_133027;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_x_133028 = x_133028;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_defunc_0_f_res_133031 =
        defunc_0_f_res_133031;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_reduce_stage_1_tid_res_arr_mem_133324 =
        reduce_stage_1_tid_res_arr_mem_133324;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_reduce_stage_1_tid_res_arr_mem_133326 =
        reduce_stage_1_tid_res_arr_mem_133326;
    futhark_mc_segred_stage_1_parloop_struct_136761.free_reduce_stage_1_tid_res_arr_mem_133328 =
        reduce_stage_1_tid_res_arr_mem_133328;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136762_task;
    
    futhark_mc_segred_stage_1_parloop_136762_task.name =
        "futhark_mc_segred_stage_1_parloop_136762";
    futhark_mc_segred_stage_1_parloop_136762_task.fn =
        futhark_mc_segred_stage_1_parloop_136762;
    futhark_mc_segred_stage_1_parloop_136762_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136761;
    futhark_mc_segred_stage_1_parloop_136762_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136762_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136762_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136762_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136762_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136762_task);
    
    if (futhark_mc_segred_stage_1_parloop_136762_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136762_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136762_total_end -
                 futhark_mc_segred_stage_1_parloop_136762_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136762_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136762_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136762_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_133032 = 0.0F;
        defunc_2_reduce_res_133033 = 0.0F;
        defunc_2_reduce_res_133034 = 0.0F;
    }
    
    float x_133334;
    float x_133335;
    float x_133337;
    float x_133338;
    float x_133340;
    float x_133341;
    
    for (int32_t i_133343 = 0; i_133343 < num_tasks_133323; i_133343++) {
        flat_tid_124126 = i_133343;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_133334 = defunc_2_reduce_res_133032;
            }
            // load next params
            {
                x_133335 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133324)[flat_tid_124126];
            }
            // red body
            {
                float defunc_1_op_res_133336 = x_133334 + x_133335;
                
                defunc_2_reduce_res_133032 = defunc_1_op_res_133336;
            }
            // load acc params
            {
                x_133337 = defunc_2_reduce_res_133033;
            }
            // load next params
            {
                x_133338 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133326)[flat_tid_124126];
            }
            // red body
            {
                float defunc_1_op_res_133339 = x_133337 + x_133338;
                
                defunc_2_reduce_res_133033 = defunc_1_op_res_133339;
            }
            // load acc params
            {
                x_133340 = defunc_2_reduce_res_133034;
            }
            // load next params
            {
                x_133341 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133328)[flat_tid_124126];
            }
            // red body
            {
                float defunc_1_op_res_133342 = x_133340 + x_133341;
                
                defunc_2_reduce_res_133034 = defunc_1_op_res_133342;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_133324);
    free(reduce_stage_1_tid_res_arr_mem_133326);
    free(reduce_stage_1_tid_res_arr_mem_133328);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136757_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136757_end -
                 futhark_mc_segred_task_136757_start;
        
        ctx->futhark_mc_segred_task_136757_runs[tid]++;
        ctx->futhark_mc_segred_task_136757_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136757_iter[tid] += iterations;
    }
    *futhark_mc_task_136756->retval_defunc_2_reduce_res_133032 =
        defunc_2_reduce_res_133032;
    *futhark_mc_task_136756->retval_defunc_2_reduce_res_133033 =
        defunc_2_reduce_res_133033;
    *futhark_mc_task_136756->retval_defunc_2_reduce_res_133034 =
        defunc_2_reduce_res_133034;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136763 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_x_133027;
    float free_x_133028;
    float free_defunc_0_f_res_133031;
    float free_a11_133067;
    float free_b11_133069;
    float free_c11_133070;
    float *retval_defunc_2_reduce_res_133071;
    float *retval_defunc_2_reduce_res_133072;
};
struct futhark_mc_segred_stage_1_parloop_struct_136767 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124121;
    int64_t free_x_124219;
    char *free_mem_126946;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_x_133027;
    float free_x_133028;
    float free_defunc_0_f_res_133031;
    float free_a11_133067;
    float free_b11_133069;
    float free_c11_133070;
    char *free_reduce_stage_1_tid_res_arr_mem_133345;
    char *free_reduce_stage_1_tid_res_arr_mem_133347;
};
static int futhark_mc_segred_stage_1_parloop_136768(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124128,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136767
    *futhark_mc_segred_stage_1_parloop_struct_136767 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136767 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136767->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136768_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136768_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136767->free_n_119475;
    int64_t gtid_124121 =
            futhark_mc_segred_stage_1_parloop_struct_136767->free_gtid_124121;
    int64_t x_124219 =
            futhark_mc_segred_stage_1_parloop_struct_136767->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136767->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136767->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136767->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133027 =
            futhark_mc_segred_stage_1_parloop_struct_136767->free_x_133027;
    float x_133028 =
          futhark_mc_segred_stage_1_parloop_struct_136767->free_x_133028;
    float defunc_0_f_res_133031 =
          futhark_mc_segred_stage_1_parloop_struct_136767->free_defunc_0_f_res_133031;
    float a11_133067 =
          futhark_mc_segred_stage_1_parloop_struct_136767->free_a11_133067;
    float b11_133069 =
          futhark_mc_segred_stage_1_parloop_struct_136767->free_b11_133069;
    float c11_133070 =
          futhark_mc_segred_stage_1_parloop_struct_136767->free_c11_133070;
    struct memblock reduce_stage_1_tid_res_arr_mem_133345 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133345",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136767->free_reduce_stage_1_tid_res_arr_mem_133345,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133347 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133347",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136767->free_reduce_stage_1_tid_res_arr_mem_133347,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133349 = start;
    float x_133286;
    float x_133287;
    float x_133289;
    float x_133290;
    float local_acc_133350 = 0.0F;
    float local_acc_133351 = 0.0F;
    
    for (; iter_133349 < end; iter_133349++) {
        int64_t gtid_124129 = iter_133349;
        bool cond_133292 = sle64(x_124219, gtid_124129);
        float defunc_0_f_res_133293;
        
        if (cond_133292) {
            defunc_0_f_res_133293 = 0.0F;
        } else {
            int64_t i_133294 = add64(gtid_124129, x_133027);
            float x_133295 = ((float *) mem_126946.mem)[gtid_124121 * n_119475 +
                                                        i_133294];
            float defunc_0_f_res_f_res_133296 = 1.0F + x_133295;
            
            defunc_0_f_res_133293 = defunc_0_f_res_f_res_133296;
        }
        
        float defunc_0_f_res_133297;
        
        if (cond_133292) {
            defunc_0_f_res_133297 = 0.0F;
        } else {
            int64_t i_133298 = add64(gtid_124129, x_133027);
            float x_133299 = ((float *) mem_127865.mem)[gtid_124121 * n_119475 +
                                                        i_133298];
            
            defunc_0_f_res_133297 = x_133299;
        }
        
        float x_j_133300 = defunc_0_f_res_133293 - defunc_0_f_res_133031;
        float abs_res_133301 = (float) fabs(x_j_133300);
        float tmp1_133302 = abs_res_133301 / x_133028;
        float x_133303 = tmp1_133302 * tmp1_133302;
        float y_133304 = tmp1_133302 * x_133303;
        float tmp2_133305 = 1.0F - y_133304;
        float x_133306 = tmp2_133305 * tmp2_133305;
        float tmp3_133307 = tmp2_133305 * x_133306;
        float tmp4_133308 = defunc_0_f_res_133297 * tmp3_133307;
        float defunc_1_f_res_133309 = x_j_133300 * tmp4_133308;
        float defunc_0_f_res_133310;
        
        if (cond_133292) {
            defunc_0_f_res_133310 = 0.0F;
        } else {
            int64_t i_133311 = add64(gtid_124129, x_133027);
            float x_133312 = ((float *) mem_127861.mem)[gtid_124121 * n_119475 +
                                                        i_133311];
            
            defunc_0_f_res_133310 = x_133312;
        }
        
        float x_133313 = a11_133067 * tmp4_133308;
        float y_133314 = b11_133069 * defunc_1_f_res_133309;
        float x_133315 = x_133313 + y_133314;
        float defunc_9_fit_fun_res_133316 = defunc_0_f_res_133310 * x_133315;
        float x_133317 = b11_133069 * tmp4_133308;
        float y_133318 = c11_133070 * defunc_1_f_res_133309;
        float x_133319 = x_133317 + y_133318;
        float defunc_9_slope_fun_res_133320 = defunc_0_f_res_133310 * x_133319;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_133286 = local_acc_133350;
        }
        // Load next params
        {
            x_133287 = defunc_9_fit_fun_res_133316;
        }
        // Red body
        {
            float defunc_1_op_res_133288 = x_133286 + x_133287;
            
            local_acc_133350 = defunc_1_op_res_133288;
        }
        // Load accum params
        {
            x_133289 = local_acc_133351;
        }
        // Load next params
        {
            x_133290 = defunc_9_slope_fun_res_133320;
        }
        // Red body
        {
            float defunc_1_op_res_133291 = x_133289 + x_133290;
            
            local_acc_133351 = defunc_1_op_res_133291;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_133345.mem)[flat_tid_124128] =
        local_acc_133350;
    ((float *) reduce_stage_1_tid_res_arr_mem_133347.mem)[flat_tid_124128] =
        local_acc_133351;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136768_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136768_end -
                 futhark_mc_segred_stage_1_parloop_136768_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136768_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136768_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136768_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136764(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124128 = tid;
    int num_tasks_133344 = info.nsubtasks;
    struct futhark_mc_task_136763 *futhark_mc_task_136763 =
                                  (struct futhark_mc_task_136763 *) args;
    struct futhark_context *ctx = futhark_mc_task_136763->ctx;
    uint64_t futhark_mc_segred_task_136764_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136764_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136763->free_n_119475;
    int64_t gtid_124121 = futhark_mc_task_136763->free_gtid_124121;
    int64_t x_124219 = futhark_mc_task_136763->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136763->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136763->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136763->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133027 = futhark_mc_task_136763->free_x_133027;
    float x_133028 = futhark_mc_task_136763->free_x_133028;
    float defunc_0_f_res_133031 =
          futhark_mc_task_136763->free_defunc_0_f_res_133031;
    float a11_133067 = futhark_mc_task_136763->free_a11_133067;
    float b11_133069 = futhark_mc_task_136763->free_b11_133069;
    float c11_133070 = futhark_mc_task_136763->free_c11_133070;
    float defunc_2_reduce_res_133071 =
          *futhark_mc_task_136763->retval_defunc_2_reduce_res_133071;
    float defunc_2_reduce_res_133072 =
          *futhark_mc_task_136763->retval_defunc_2_reduce_res_133072;
    size_t reduce_stage_1_tid_res_arr_mem_133345_cached_sizze_136765 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133345 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133347_cached_sizze_136766 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133347 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_133345_cached_sizze_136765 <
        (size_t) ((int64_t) 4 * num_tasks_133344)) {
        reduce_stage_1_tid_res_arr_mem_133345 =
            realloc(reduce_stage_1_tid_res_arr_mem_133345, (int64_t) 4 *
                    num_tasks_133344);
        reduce_stage_1_tid_res_arr_mem_133345_cached_sizze_136765 =
            (int64_t) 4 * num_tasks_133344;
    }
    if (reduce_stage_1_tid_res_arr_mem_133347_cached_sizze_136766 <
        (size_t) ((int64_t) 4 * num_tasks_133344)) {
        reduce_stage_1_tid_res_arr_mem_133347 =
            realloc(reduce_stage_1_tid_res_arr_mem_133347, (int64_t) 4 *
                    num_tasks_133344);
        reduce_stage_1_tid_res_arr_mem_133347_cached_sizze_136766 =
            (int64_t) 4 * num_tasks_133344;
    }
    
    int64_t iter_133349;
    struct futhark_mc_segred_stage_1_parloop_struct_136767
    futhark_mc_segred_stage_1_parloop_struct_136767;
    
    futhark_mc_segred_stage_1_parloop_struct_136767.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_gtid_124121 =
        gtid_124121;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_x_124219 = x_124219;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_mem_127861 =
        mem_127861.mem;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_x_133027 = x_133027;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_x_133028 = x_133028;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_defunc_0_f_res_133031 =
        defunc_0_f_res_133031;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_a11_133067 =
        a11_133067;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_b11_133069 =
        b11_133069;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_c11_133070 =
        c11_133070;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_reduce_stage_1_tid_res_arr_mem_133345 =
        reduce_stage_1_tid_res_arr_mem_133345;
    futhark_mc_segred_stage_1_parloop_struct_136767.free_reduce_stage_1_tid_res_arr_mem_133347 =
        reduce_stage_1_tid_res_arr_mem_133347;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136768_task;
    
    futhark_mc_segred_stage_1_parloop_136768_task.name =
        "futhark_mc_segred_stage_1_parloop_136768";
    futhark_mc_segred_stage_1_parloop_136768_task.fn =
        futhark_mc_segred_stage_1_parloop_136768;
    futhark_mc_segred_stage_1_parloop_136768_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136767;
    futhark_mc_segred_stage_1_parloop_136768_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136768_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136768_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136768_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136768_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136768_task);
    
    if (futhark_mc_segred_stage_1_parloop_136768_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136768_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136768_total_end -
                 futhark_mc_segred_stage_1_parloop_136768_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136768_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136768_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136768_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_133071 = 0.0F;
        defunc_2_reduce_res_133072 = 0.0F;
    }
    
    float x_133352;
    float x_133353;
    float x_133355;
    float x_133356;
    
    for (int32_t i_133358 = 0; i_133358 < num_tasks_133344; i_133358++) {
        flat_tid_124128 = i_133358;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_133352 = defunc_2_reduce_res_133071;
            }
            // load next params
            {
                x_133353 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133345)[flat_tid_124128];
            }
            // red body
            {
                float defunc_1_op_res_133354 = x_133352 + x_133353;
                
                defunc_2_reduce_res_133071 = defunc_1_op_res_133354;
            }
            // load acc params
            {
                x_133355 = defunc_2_reduce_res_133072;
            }
            // load next params
            {
                x_133356 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133347)[flat_tid_124128];
            }
            // red body
            {
                float defunc_1_op_res_133357 = x_133355 + x_133356;
                
                defunc_2_reduce_res_133072 = defunc_1_op_res_133357;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_133345);
    free(reduce_stage_1_tid_res_arr_mem_133347);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136764_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136764_end -
                 futhark_mc_segred_task_136764_start;
        
        ctx->futhark_mc_segred_task_136764_runs[tid]++;
        ctx->futhark_mc_segred_task_136764_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136764_iter[tid] += iterations;
    }
    *futhark_mc_task_136763->retval_defunc_2_reduce_res_133071 =
        defunc_2_reduce_res_133071;
    *futhark_mc_task_136763->retval_defunc_2_reduce_res_133072 =
        defunc_2_reduce_res_133072;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136755(void *args, int64_t start,
                                            int64_t end, int flat_tid_124124,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136754
    *futhark_mc_segmap_parloop_struct_136754 =
    (struct futhark_mc_segmap_parloop_struct_136754 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136754->ctx;
    uint64_t futhark_mc_segmap_parloop_136755_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136755_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136754->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136754->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136754->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136754->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136754->free_i_119551;
    int64_t gtid_124121 =
            futhark_mc_segmap_parloop_struct_136754->free_gtid_124121;
    int64_t x_124219 = futhark_mc_segmap_parloop_struct_136754->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127898 = {.desc ="mem_127898", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_127898,
                                  .size =0, .references =NULL};
    struct memblock mem_127901 = {.desc ="mem_127901", .mem =
                                  futhark_mc_segmap_parloop_struct_136754->free_mem_127901,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133257 = start;
    
    for (; iter_133257 < end; iter_133257++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133321 = t_n_m_119532;
        int64_t gtid_124125 = iter_133257;
        int64_t remnant_133322 = iter_133257 - gtid_124125;
        int64_t x_133027 = ((int64_t *) mem_127110.mem)[gtid_124121 *
                                                        t_n_m_119532 +
                                                        gtid_124125];
        float x_133028 = ((float *) mem_127114.mem)[gtid_124121 * t_n_m_119532 +
                                                    gtid_124125];
        int64_t min_arg_133029 = mul64(t_jump_119482, gtid_124125);
        int64_t min_res_133030 = smin64(i_119551, min_arg_133029);
        float defunc_0_f_res_133031 = sitofp_i64_f32(min_res_133030);
        float defunc_2_reduce_res_133032;
        float defunc_2_reduce_res_133033;
        float defunc_2_reduce_res_133034;
        int64_t flat_tid_124126 = (int64_t) 0;
        int32_t num_tasks_133323;
        struct futhark_mc_task_136756 futhark_mc_task_136756;
        
        futhark_mc_task_136756.ctx = ctx;
        futhark_mc_task_136756.free_n_119475 = n_119475;
        futhark_mc_task_136756.free_gtid_124121 = gtid_124121;
        futhark_mc_task_136756.free_x_124219 = x_124219;
        futhark_mc_task_136756.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136756.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136756.free_x_133027 = x_133027;
        futhark_mc_task_136756.free_x_133028 = x_133028;
        futhark_mc_task_136756.free_defunc_0_f_res_133031 =
            defunc_0_f_res_133031;
        futhark_mc_task_136756.retval_defunc_2_reduce_res_133032 =
            &defunc_2_reduce_res_133032;
        futhark_mc_task_136756.retval_defunc_2_reduce_res_133033 =
            &defunc_2_reduce_res_133033;
        futhark_mc_task_136756.retval_defunc_2_reduce_res_133034 =
            &defunc_2_reduce_res_133034;
        
        struct scheduler_segop futhark_mc_task_136756_task;
        
        futhark_mc_task_136756_task.args = &futhark_mc_task_136756;
        futhark_mc_task_136756_task.top_level_fn =
            futhark_mc_segred_task_136757;
        futhark_mc_task_136756_task.name = "futhark_mc_segred_task_136757";
        futhark_mc_task_136756_task.iterations = t_window_119478;
        futhark_mc_task_136756_task.task_time =
            &ctx->futhark_mc_segred_task_136757_total_time;
        futhark_mc_task_136756_task.task_iter =
            &ctx->futhark_mc_segred_task_136757_total_iter;
        futhark_mc_task_136756_task.sched = STATIC;
        futhark_mc_task_136756_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136757_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136756_task);
        
        if (futhark_mc_segred_task_136757_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_133063 = defunc_2_reduce_res_133032 *
              defunc_2_reduce_res_133034;
        float y_133064 = defunc_2_reduce_res_133033 *
              defunc_2_reduce_res_133033;
        float y_133065 = x_133063 - y_133064;
        float det1_133066 = 1.0F / y_133065;
        float a11_133067 = defunc_2_reduce_res_133034 * det1_133066;
        float negate_arg_133068 = defunc_2_reduce_res_133033 * det1_133066;
        float b11_133069 = 0.0F - negate_arg_133068;
        float c11_133070 = defunc_2_reduce_res_133032 * det1_133066;
        float defunc_2_reduce_res_133071;
        float defunc_2_reduce_res_133072;
        int64_t flat_tid_124128 = (int64_t) 0;
        int32_t num_tasks_133344;
        struct futhark_mc_task_136763 futhark_mc_task_136763;
        
        futhark_mc_task_136763.ctx = ctx;
        futhark_mc_task_136763.free_n_119475 = n_119475;
        futhark_mc_task_136763.free_gtid_124121 = gtid_124121;
        futhark_mc_task_136763.free_x_124219 = x_124219;
        futhark_mc_task_136763.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136763.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136763.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136763.free_x_133027 = x_133027;
        futhark_mc_task_136763.free_x_133028 = x_133028;
        futhark_mc_task_136763.free_defunc_0_f_res_133031 =
            defunc_0_f_res_133031;
        futhark_mc_task_136763.free_a11_133067 = a11_133067;
        futhark_mc_task_136763.free_b11_133069 = b11_133069;
        futhark_mc_task_136763.free_c11_133070 = c11_133070;
        futhark_mc_task_136763.retval_defunc_2_reduce_res_133071 =
            &defunc_2_reduce_res_133071;
        futhark_mc_task_136763.retval_defunc_2_reduce_res_133072 =
            &defunc_2_reduce_res_133072;
        
        struct scheduler_segop futhark_mc_task_136763_task;
        
        futhark_mc_task_136763_task.args = &futhark_mc_task_136763;
        futhark_mc_task_136763_task.top_level_fn =
            futhark_mc_segred_task_136764;
        futhark_mc_task_136763_task.name = "futhark_mc_segred_task_136764";
        futhark_mc_task_136763_task.iterations = t_window_119478;
        futhark_mc_task_136763_task.task_time =
            &ctx->futhark_mc_segred_task_136764_total_time;
        futhark_mc_task_136763_task.task_iter =
            &ctx->futhark_mc_segred_task_136764_total_iter;
        futhark_mc_task_136763_task.sched = STATIC;
        futhark_mc_task_136763_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136764_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136763_task);
        
        if (futhark_mc_segred_task_136764_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127898.mem)[gtid_124125] = defunc_2_reduce_res_133071;
        ((float *) mem_127901.mem)[gtid_124125] = defunc_2_reduce_res_133072;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136755_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136755_end -
                 futhark_mc_segmap_parloop_136755_start;
        
        ctx->futhark_mc_segmap_parloop_136755_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136755_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136755_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136753(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124124 = tid;
    int num_tasks_133188 = info.nsubtasks;
    struct futhark_mc_task_136749 *futhark_mc_task_136749 =
                                  (struct futhark_mc_task_136749 *) args;
    struct futhark_context *ctx = futhark_mc_task_136749->ctx;
    uint64_t futhark_mc_segmap_nested_task_136753_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136753_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136749->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136749->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136749->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136749->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136749->free_i_119551;
    int64_t gtid_124121 = futhark_mc_task_136749->free_gtid_124121;
    int64_t x_124219 = futhark_mc_task_136749->free_x_124219;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136749->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136749->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136749->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136749->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136749->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127898 = {.desc ="mem_127898", .mem =
                                  futhark_mc_task_136749->free_mem_127898,
                                  .size =0, .references =NULL};
    struct memblock mem_127901 = {.desc ="mem_127901", .mem =
                                  futhark_mc_task_136749->free_mem_127901,
                                  .size =0, .references =NULL};
    int64_t iter_133257;
    struct futhark_mc_segmap_parloop_struct_136754
    futhark_mc_segmap_parloop_struct_136754;
    
    futhark_mc_segmap_parloop_struct_136754.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136754.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136754.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136754.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136754.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136754.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136754.free_gtid_124121 = gtid_124121;
    futhark_mc_segmap_parloop_struct_136754.free_x_124219 = x_124219;
    futhark_mc_segmap_parloop_struct_136754.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136754.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136754.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136754.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136754.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136754.free_mem_127898 = mem_127898.mem;
    futhark_mc_segmap_parloop_struct_136754.free_mem_127901 = mem_127901.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136755_task;
    
    futhark_mc_segmap_parloop_136755_task.name =
        "futhark_mc_segmap_parloop_136755";
    futhark_mc_segmap_parloop_136755_task.fn = futhark_mc_segmap_parloop_136755;
    futhark_mc_segmap_parloop_136755_task.args =
        &futhark_mc_segmap_parloop_struct_136754;
    futhark_mc_segmap_parloop_136755_task.iterations = iterations;
    futhark_mc_segmap_parloop_136755_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136755_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136755_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136755_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136755_task);
    
    if (futhark_mc_segmap_parloop_136755_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136755_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136755_total_end -
                 futhark_mc_segmap_parloop_136755_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136755_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136755_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136755_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136753_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136753_end -
                 futhark_mc_segmap_nested_task_136753_start;
        
        ctx->futhark_mc_segmap_nested_task_136753_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136753_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136753_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136746(void *args, int64_t start,
                                            int64_t end, int flat_tid_124120,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136745
    *futhark_mc_segmap_parloop_struct_136745 =
    (struct futhark_mc_segmap_parloop_struct_136745 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136745->ctx;
    uint64_t futhark_mc_segmap_parloop_136746_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136746_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136745->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136745->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136745->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136745->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136745->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136745->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136745->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127935 = {.desc ="mem_127935", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_127935,
                                  .size =0, .references =NULL};
    struct memblock mem_127939 = {.desc ="mem_127939", .mem =
                                  futhark_mc_segmap_parloop_struct_136745->free_mem_127939,
                                  .size =0, .references =NULL};
    size_t mem_127898_cached_sizze_136747 = 0;
    char *mem_127898 = NULL;
    size_t mem_127901_cached_sizze_136748 = 0;
    char *mem_127901 = NULL;
    int64_t iterations = end - start;
    int64_t iter_133026 = start;
    
    if (mem_127898_cached_sizze_136747 < (size_t) bytes_127056) {
        mem_127898 = realloc(mem_127898, bytes_127056);
        mem_127898_cached_sizze_136747 = bytes_127056;
    }
    if (mem_127901_cached_sizze_136748 < (size_t) bytes_127056) {
        mem_127901 = realloc(mem_127901, bytes_127056);
        mem_127901_cached_sizze_136748 = bytes_127056;
    }
    for (; iter_133026 < end; iter_133026++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133186 = m_119474;
        int64_t gtid_124121 = iter_133026;
        int64_t remnant_133187 = iter_133026 - gtid_124121;
        int64_t x_124219 = ((int64_t *) mem_126924.mem)[gtid_124121];
        int64_t flat_tid_124122 = (int64_t) 0;
        int32_t num_tasks_133188;
        int64_t flat_tid_124124 = (int64_t) 0;
        struct futhark_mc_task_136749 futhark_mc_task_136749;
        
        futhark_mc_task_136749.ctx = ctx;
        futhark_mc_task_136749.free_n_119475 = n_119475;
        futhark_mc_task_136749.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136749.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136749.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136749.free_i_119551 = i_119551;
        futhark_mc_task_136749.free_gtid_124121 = gtid_124121;
        futhark_mc_task_136749.free_x_124219 = x_124219;
        futhark_mc_task_136749.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136749.free_mem_127110 = mem_127110.mem;
        futhark_mc_task_136749.free_mem_127114 = mem_127114.mem;
        futhark_mc_task_136749.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136749.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136749.free_mem_127898 = mem_127898;
        futhark_mc_task_136749.free_mem_127901 = mem_127901;
        
        struct scheduler_segop futhark_mc_task_136749_task;
        
        futhark_mc_task_136749_task.args = &futhark_mc_task_136749;
        futhark_mc_task_136749_task.top_level_fn =
            futhark_mc_segmap_task_136750;
        futhark_mc_task_136749_task.name = "futhark_mc_segmap_task_136750";
        futhark_mc_task_136749_task.iterations = t_n_m_119532;
        futhark_mc_task_136749_task.task_time =
            &ctx->futhark_mc_segmap_task_136750_total_time;
        futhark_mc_task_136749_task.task_iter =
            &ctx->futhark_mc_segmap_task_136750_total_iter;
        futhark_mc_task_136749_task.sched = STATIC;
        futhark_mc_task_136749_task.nested_fn =
            futhark_mc_segmap_nested_task_136753;
        
        int futhark_mc_segmap_task_136750_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136749_task);
        
        if (futhark_mc_segmap_task_136750_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127935.mem + gtid_124121 * t_n_m_119532 * (int64_t) 4,
                mem_127898 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_127939.mem + gtid_124121 * t_n_m_119532 * (int64_t) 4,
                mem_127901 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127898);
    free(mem_127901);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136746_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136746_end -
                 futhark_mc_segmap_parloop_136746_start;
        
        ctx->futhark_mc_segmap_parloop_136746_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136746_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136746_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136744(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124120 = tid;
    int num_tasks_132932 = info.nsubtasks;
    struct futhark_mc_task_136738 *futhark_mc_task_136738 =
                                  (struct futhark_mc_task_136738 *) args;
    struct futhark_context *ctx = futhark_mc_task_136738->ctx;
    uint64_t futhark_mc_segmap_nested_task_136744_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136744_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136738->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136738->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136738->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136738->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136738->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136738->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136738->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136738->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136738->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136738->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136738->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136738->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136738->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127935 = {.desc ="mem_127935", .mem =
                                  futhark_mc_task_136738->free_mem_127935,
                                  .size =0, .references =NULL};
    struct memblock mem_127939 = {.desc ="mem_127939", .mem =
                                  futhark_mc_task_136738->free_mem_127939,
                                  .size =0, .references =NULL};
    int64_t iter_133026;
    struct futhark_mc_segmap_parloop_struct_136745
    futhark_mc_segmap_parloop_struct_136745;
    
    futhark_mc_segmap_parloop_struct_136745.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136745.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136745.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136745.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136745.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136745.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136745.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136745.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136745.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136745.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136745.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136745.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136745.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136745.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136745.free_mem_127935 = mem_127935.mem;
    futhark_mc_segmap_parloop_struct_136745.free_mem_127939 = mem_127939.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136746_task;
    
    futhark_mc_segmap_parloop_136746_task.name =
        "futhark_mc_segmap_parloop_136746";
    futhark_mc_segmap_parloop_136746_task.fn = futhark_mc_segmap_parloop_136746;
    futhark_mc_segmap_parloop_136746_task.args =
        &futhark_mc_segmap_parloop_struct_136745;
    futhark_mc_segmap_parloop_136746_task.iterations = iterations;
    futhark_mc_segmap_parloop_136746_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136746_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136746_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136746_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136746_task);
    
    if (futhark_mc_segmap_parloop_136746_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136746_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136746_total_end -
                 futhark_mc_segmap_parloop_136746_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136746_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136746_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136746_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136744_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136744_end -
                 futhark_mc_segmap_nested_task_136744_start;
        
        ctx->futhark_mc_segmap_nested_task_136744_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136744_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136744_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136769 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127979;
    char *free_mem_127983;
};
struct futhark_mc_segmap_parloop_struct_136771 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127979;
    char *free_mem_127983;
};
static int futhark_mc_segmap_parloop_136772(void *args, int64_t start,
                                            int64_t end, int flat_tid_124390,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136771
    *futhark_mc_segmap_parloop_struct_136771 =
    (struct futhark_mc_segmap_parloop_struct_136771 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136771->ctx;
    uint64_t futhark_mc_segmap_parloop_136772_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136772_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136771->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136771->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136771->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136771->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136771->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136771->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136771->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127979 = {.desc ="mem_127979", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_127979,
                                  .size =0, .references =NULL};
    struct memblock mem_127983 = {.desc ="mem_127983", .mem =
                                  futhark_mc_segmap_parloop_struct_136771->free_mem_127983,
                                  .size =0, .references =NULL};
    size_t mem_127948_cached_sizze_136773 = 0;
    char *mem_127948 = NULL;
    size_t mem_127951_cached_sizze_136774 = 0;
    char *mem_127951 = NULL;
    int64_t iterations = end - start;
    int64_t iter_133360 = start;
    
    if (mem_127948_cached_sizze_136773 < (size_t) bytes_127056) {
        mem_127948 = realloc(mem_127948, bytes_127056);
        mem_127948_cached_sizze_136773 = bytes_127056;
    }
    if (mem_127951_cached_sizze_136774 < (size_t) bytes_127056) {
        mem_127951 = realloc(mem_127951, bytes_127056);
        mem_127951_cached_sizze_136774 = bytes_127056;
    }
    for (; iter_133360 < end; iter_133360++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133474 = m_119474;
        int64_t gtid_124391 = iter_133360;
        int64_t remnant_133475 = iter_133360 - gtid_124391;
        int64_t x_120951 = ((int64_t *) mem_126924.mem)[gtid_124391];
        
        for (int64_t i_133361 = 0; i_133361 < t_n_m_119532; i_133361++) {
            int64_t x_133364 = ((int64_t *) mem_127110.mem)[gtid_124391 *
                                                            t_n_m_119532 +
                                                            i_133361];
            float x_133365 = ((float *) mem_127114.mem)[gtid_124391 *
                                                        t_n_m_119532 +
                                                        i_133361];
            int64_t min_arg_133366 = mul64(t_jump_119482, i_133361);
            int64_t min_res_133367 = smin64(i_119551, min_arg_133366);
            float defunc_0_f_res_133368 = sitofp_i64_f32(min_res_133367);
            float defunc_2_reduce_res_133369;
            float defunc_2_reduce_res_133370;
            float defunc_2_reduce_res_133371;
            float defunc_2_reduce_res_133372;
            float defunc_2_reduce_res_133373;
            float redout_133375;
            float redout_133376;
            float redout_133377;
            float redout_133378;
            float redout_133379;
            
            redout_133375 = 0.0F;
            redout_133376 = 0.0F;
            redout_133377 = 0.0F;
            redout_133378 = 0.0F;
            redout_133379 = 0.0F;
            for (int64_t i_133374 = 0; i_133374 < t_window_119478; i_133374++) {
                bool cond_133380 = sle64(x_120951, i_133374);
                float defunc_0_f_res_133381;
                
                if (cond_133380) {
                    defunc_0_f_res_133381 = 0.0F;
                } else {
                    int64_t i_133382 = add64(x_133364, i_133374);
                    float x_133383 = ((float *) mem_126946.mem)[gtid_124391 *
                                                                n_119475 +
                                                                i_133382];
                    float defunc_0_f_res_f_res_133384 = 1.0F + x_133383;
                    
                    defunc_0_f_res_133381 = defunc_0_f_res_f_res_133384;
                }
                
                float defunc_0_f_res_133385;
                
                if (cond_133380) {
                    defunc_0_f_res_133385 = 0.0F;
                } else {
                    int64_t i_133386 = add64(x_133364, i_133374);
                    float x_133387 = ((float *) mem_127865.mem)[gtid_124391 *
                                                                n_119475 +
                                                                i_133386];
                    
                    defunc_0_f_res_133385 = x_133387;
                }
                
                float x_j_133388 = defunc_0_f_res_133381 -
                      defunc_0_f_res_133368;
                float abs_res_133389 = (float) fabs(x_j_133388);
                float tmp1_133390 = abs_res_133389 / x_133365;
                float x_133391 = tmp1_133390 * tmp1_133390;
                float y_133392 = tmp1_133390 * x_133391;
                float tmp2_133393 = 1.0F - y_133392;
                float x_133394 = tmp2_133393 * tmp2_133393;
                float tmp3_133395 = tmp2_133393 * x_133394;
                float w_j_133396 = defunc_0_f_res_133385 * tmp3_133395;
                float xw_j_133397 = x_j_133388 * w_j_133396;
                float x2w_j_133398 = x_j_133388 * xw_j_133397;
                float x3w_j_133399 = x_j_133388 * x2w_j_133398;
                float x4w_j_133400 = x_j_133388 * x3w_j_133399;
                float defunc_1_op_res_133401 = w_j_133396 + redout_133375;
                float defunc_1_op_res_133402 = xw_j_133397 + redout_133376;
                float defunc_1_op_res_133403 = x2w_j_133398 + redout_133377;
                float defunc_1_op_res_133404 = x3w_j_133399 + redout_133378;
                float defunc_1_op_res_133405 = x4w_j_133400 + redout_133379;
                float redout_tmp_133478 = defunc_1_op_res_133401;
                float redout_tmp_133479 = defunc_1_op_res_133402;
                float redout_tmp_133480 = defunc_1_op_res_133403;
                float redout_tmp_133481 = defunc_1_op_res_133404;
                float redout_tmp_133482 = defunc_1_op_res_133405;
                
                redout_133375 = redout_tmp_133478;
                redout_133376 = redout_tmp_133479;
                redout_133377 = redout_tmp_133480;
                redout_133378 = redout_tmp_133481;
                redout_133379 = redout_tmp_133482;
            }
            defunc_2_reduce_res_133369 = redout_133375;
            defunc_2_reduce_res_133370 = redout_133376;
            defunc_2_reduce_res_133371 = redout_133377;
            defunc_2_reduce_res_133372 = redout_133378;
            defunc_2_reduce_res_133373 = redout_133379;
            
            float x_133406 = defunc_2_reduce_res_133371 *
                  defunc_2_reduce_res_133373;
            float y_133407 = defunc_2_reduce_res_133372 *
                  defunc_2_reduce_res_133372;
            float a12_133408 = x_133406 - y_133407;
            float x_133409 = defunc_2_reduce_res_133371 *
                  defunc_2_reduce_res_133372;
            float y_133410 = defunc_2_reduce_res_133370 *
                  defunc_2_reduce_res_133373;
            float b12_133411 = x_133409 - y_133410;
            float x_133412 = defunc_2_reduce_res_133370 *
                  defunc_2_reduce_res_133372;
            float y_133413 = defunc_2_reduce_res_133371 *
                  defunc_2_reduce_res_133371;
            float c12_133414 = x_133412 - y_133413;
            float x_133415 = defunc_2_reduce_res_133369 *
                  defunc_2_reduce_res_133373;
            float b2_133416 = x_133415 - y_133413;
            float x_133417 = defunc_2_reduce_res_133370 *
                  defunc_2_reduce_res_133371;
            float y_133418 = defunc_2_reduce_res_133369 *
                  defunc_2_reduce_res_133372;
            float c2_133419 = x_133417 - y_133418;
            float x_133420 = defunc_2_reduce_res_133369 * a12_133408;
            float y_133421 = defunc_2_reduce_res_133370 * b12_133411;
            float x_133422 = x_133420 + y_133421;
            float y_133423 = defunc_2_reduce_res_133371 * c12_133414;
            float y_133424 = x_133422 + y_133423;
            float det_133425 = 1.0F / y_133424;
            float a12_133426 = a12_133408 * det_133425;
            float b12_133427 = b12_133411 * det_133425;
            float c12_133428 = c12_133414 * det_133425;
            float b2_133429 = b2_133416 * det_133425;
            float c2_133430 = c2_133419 * det_133425;
            float defunc_2_reduce_res_133431;
            float defunc_2_reduce_res_133432;
            float redout_133434;
            float redout_133435;
            
            redout_133434 = 0.0F;
            redout_133435 = 0.0F;
            for (int64_t i_133433 = 0; i_133433 < t_window_119478; i_133433++) {
                bool cond_133436 = sle64(x_120951, i_133433);
                float defunc_0_f_res_133437;
                
                if (cond_133436) {
                    defunc_0_f_res_133437 = 0.0F;
                } else {
                    int64_t i_133438 = add64(x_133364, i_133433);
                    float x_133439 = ((float *) mem_126946.mem)[gtid_124391 *
                                                                n_119475 +
                                                                i_133438];
                    float defunc_0_f_res_f_res_133440 = 1.0F + x_133439;
                    
                    defunc_0_f_res_133437 = defunc_0_f_res_f_res_133440;
                }
                
                float defunc_0_f_res_133441;
                
                if (cond_133436) {
                    defunc_0_f_res_133441 = 0.0F;
                } else {
                    int64_t i_133442 = add64(x_133364, i_133433);
                    float x_133443 = ((float *) mem_127865.mem)[gtid_124391 *
                                                                n_119475 +
                                                                i_133442];
                    
                    defunc_0_f_res_133441 = x_133443;
                }
                
                float x_j_133444 = defunc_0_f_res_133437 -
                      defunc_0_f_res_133368;
                float abs_res_133445 = (float) fabs(x_j_133444);
                float tmp1_133446 = abs_res_133445 / x_133365;
                float x_133447 = tmp1_133446 * tmp1_133446;
                float y_133448 = tmp1_133446 * x_133447;
                float tmp2_133449 = 1.0F - y_133448;
                float x_133450 = tmp2_133449 * tmp2_133449;
                float tmp3_133451 = tmp2_133449 * x_133450;
                float tmp4_133452 = defunc_0_f_res_133441 * tmp3_133451;
                float defunc_1_f_res_133453 = x_j_133444 * tmp4_133452;
                float defunc_1_f_res_133454 = x_j_133444 *
                      defunc_1_f_res_133453;
                float defunc_0_f_res_133455;
                
                if (cond_133436) {
                    defunc_0_f_res_133455 = 0.0F;
                } else {
                    int64_t i_133456 = add64(x_133364, i_133433);
                    float x_133457 = ((float *) mem_127861.mem)[gtid_124391 *
                                                                n_119475 +
                                                                i_133456];
                    
                    defunc_0_f_res_133455 = x_133457;
                }
                
                float x_133458 = a12_133426 * tmp4_133452;
                float y_133459 = b12_133427 * defunc_1_f_res_133453;
                float x_133460 = x_133458 + y_133459;
                float y_133461 = c12_133428 * defunc_1_f_res_133454;
                float x_133462 = x_133460 + y_133461;
                float defunc_9_fit_fun_res_133463 = defunc_0_f_res_133455 *
                      x_133462;
                float x_133464 = b12_133427 * tmp4_133452;
                float y_133465 = b2_133429 * defunc_1_f_res_133453;
                float x_133466 = x_133464 + y_133465;
                float y_133467 = c2_133430 * defunc_1_f_res_133454;
                float x_133468 = x_133466 + y_133467;
                float defunc_9_slope_fun_res_133469 = defunc_0_f_res_133455 *
                      x_133468;
                float defunc_1_op_res_133470 = defunc_9_fit_fun_res_133463 +
                      redout_133434;
                float defunc_1_op_res_133471 = defunc_9_slope_fun_res_133469 +
                      redout_133435;
                float redout_tmp_133483 = defunc_1_op_res_133470;
                float redout_tmp_133484 = defunc_1_op_res_133471;
                
                redout_133434 = redout_tmp_133483;
                redout_133435 = redout_tmp_133484;
            }
            defunc_2_reduce_res_133431 = redout_133434;
            defunc_2_reduce_res_133432 = redout_133435;
            ((float *) mem_127948)[i_133361] = defunc_2_reduce_res_133431;
            ((float *) mem_127951)[i_133361] = defunc_2_reduce_res_133432;
        }
        memmove(mem_127979.mem + gtid_124391 * t_n_m_119532 * (int64_t) 4,
                mem_127948 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_127983.mem + gtid_124391 * t_n_m_119532 * (int64_t) 4,
                mem_127951 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127948);
    free(mem_127951);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136772_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136772_end -
                 futhark_mc_segmap_parloop_136772_start;
        
        ctx->futhark_mc_segmap_parloop_136772_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136772_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136772_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136770(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124390 = tid;
    int num_tasks_133359 = info.nsubtasks;
    struct futhark_mc_task_136769 *futhark_mc_task_136769 =
                                  (struct futhark_mc_task_136769 *) args;
    struct futhark_context *ctx = futhark_mc_task_136769->ctx;
    uint64_t futhark_mc_segmap_task_136770_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136770_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136769->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136769->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136769->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136769->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136769->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136769->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136769->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136769->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136769->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136769->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136769->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136769->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136769->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127979 = {.desc ="mem_127979", .mem =
                                  futhark_mc_task_136769->free_mem_127979,
                                  .size =0, .references =NULL};
    struct memblock mem_127983 = {.desc ="mem_127983", .mem =
                                  futhark_mc_task_136769->free_mem_127983,
                                  .size =0, .references =NULL};
    int64_t iter_133360;
    struct futhark_mc_segmap_parloop_struct_136771
    futhark_mc_segmap_parloop_struct_136771;
    
    futhark_mc_segmap_parloop_struct_136771.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136771.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136771.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136771.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136771.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136771.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136771.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136771.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136771.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136771.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136771.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136771.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136771.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136771.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136771.free_mem_127979 = mem_127979.mem;
    futhark_mc_segmap_parloop_struct_136771.free_mem_127983 = mem_127983.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136772_task;
    
    futhark_mc_segmap_parloop_136772_task.name =
        "futhark_mc_segmap_parloop_136772";
    futhark_mc_segmap_parloop_136772_task.fn = futhark_mc_segmap_parloop_136772;
    futhark_mc_segmap_parloop_136772_task.args =
        &futhark_mc_segmap_parloop_struct_136771;
    futhark_mc_segmap_parloop_136772_task.iterations = iterations;
    futhark_mc_segmap_parloop_136772_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136772_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136772_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136772_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136772_task);
    
    if (futhark_mc_segmap_parloop_136772_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136772_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136772_total_end -
                 futhark_mc_segmap_parloop_136772_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136772_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136772_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136772_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136770_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136770_end -
                 futhark_mc_segmap_task_136770_start;
        
        ctx->futhark_mc_segmap_task_136770_runs[tid]++;
        ctx->futhark_mc_segmap_task_136770_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136770_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136776 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127979;
    char *free_mem_127983;
};
struct futhark_mc_task_136780 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127942;
    char *free_mem_127945;
};
struct futhark_mc_segmap_parloop_struct_136782 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127942;
    char *free_mem_127945;
};
static int futhark_mc_segmap_parloop_136783(void *args, int64_t start,
                                            int64_t end, int flat_tid_124394,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136782
    *futhark_mc_segmap_parloop_struct_136782 =
    (struct futhark_mc_segmap_parloop_struct_136782 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136782->ctx;
    uint64_t futhark_mc_segmap_parloop_136783_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136783_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136782->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136782->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136782->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136782->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136782->free_i_119551;
    int64_t gtid_124393 =
            futhark_mc_segmap_parloop_struct_136782->free_gtid_124393;
    int64_t x_124523 = futhark_mc_segmap_parloop_struct_136782->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127942 = {.desc ="mem_127942", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_127942,
                                  .size =0, .references =NULL};
    struct memblock mem_127945 = {.desc ="mem_127945", .mem =
                                  futhark_mc_segmap_parloop_struct_136782->free_mem_127945,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133710 = start;
    
    for (; iter_133710 < end; iter_133710++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133782 = t_n_m_119532;
        int64_t gtid_124395 = iter_133710;
        int64_t remnant_133783 = iter_133710 - gtid_124395;
        int64_t x_133599 = ((int64_t *) mem_127110.mem)[gtid_124393 *
                                                        t_n_m_119532 +
                                                        gtid_124395];
        float x_133600 = ((float *) mem_127114.mem)[gtid_124393 * t_n_m_119532 +
                                                    gtid_124395];
        int64_t min_arg_133601 = mul64(t_jump_119482, gtid_124395);
        int64_t min_res_133602 = smin64(i_119551, min_arg_133601);
        float defunc_0_f_res_133603 = sitofp_i64_f32(min_res_133602);
        float defunc_2_reduce_res_133604;
        float defunc_2_reduce_res_133605;
        float defunc_2_reduce_res_133606;
        float defunc_2_reduce_res_133607;
        float defunc_2_reduce_res_133608;
        float redout_133712;
        float redout_133713;
        float redout_133714;
        float redout_133715;
        float redout_133716;
        
        redout_133712 = 0.0F;
        redout_133713 = 0.0F;
        redout_133714 = 0.0F;
        redout_133715 = 0.0F;
        redout_133716 = 0.0F;
        for (int64_t i_133711 = 0; i_133711 < t_window_119478; i_133711++) {
            bool cond_133717 = sle64(x_124523, i_133711);
            float defunc_0_f_res_133718;
            
            if (cond_133717) {
                defunc_0_f_res_133718 = 0.0F;
            } else {
                int64_t i_133719 = add64(x_133599, i_133711);
                float x_133720 = ((float *) mem_126946.mem)[gtid_124393 *
                                                            n_119475 +
                                                            i_133719];
                float defunc_0_f_res_f_res_133721 = 1.0F + x_133720;
                
                defunc_0_f_res_133718 = defunc_0_f_res_f_res_133721;
            }
            
            float defunc_0_f_res_133722;
            
            if (cond_133717) {
                defunc_0_f_res_133722 = 0.0F;
            } else {
                int64_t i_133723 = add64(x_133599, i_133711);
                float x_133724 = ((float *) mem_127865.mem)[gtid_124393 *
                                                            n_119475 +
                                                            i_133723];
                
                defunc_0_f_res_133722 = x_133724;
            }
            
            float x_j_133725 = defunc_0_f_res_133718 - defunc_0_f_res_133603;
            float abs_res_133726 = (float) fabs(x_j_133725);
            float tmp1_133727 = abs_res_133726 / x_133600;
            float x_133728 = tmp1_133727 * tmp1_133727;
            float y_133729 = tmp1_133727 * x_133728;
            float tmp2_133730 = 1.0F - y_133729;
            float x_133731 = tmp2_133730 * tmp2_133730;
            float tmp3_133732 = tmp2_133730 * x_133731;
            float w_j_133733 = defunc_0_f_res_133722 * tmp3_133732;
            float xw_j_133734 = x_j_133725 * w_j_133733;
            float x2w_j_133735 = x_j_133725 * xw_j_133734;
            float x3w_j_133736 = x_j_133725 * x2w_j_133735;
            float x4w_j_133737 = x_j_133725 * x3w_j_133736;
            float defunc_1_op_res_133738 = w_j_133733 + redout_133712;
            float defunc_1_op_res_133739 = xw_j_133734 + redout_133713;
            float defunc_1_op_res_133740 = x2w_j_133735 + redout_133714;
            float defunc_1_op_res_133741 = x3w_j_133736 + redout_133715;
            float defunc_1_op_res_133742 = x4w_j_133737 + redout_133716;
            float redout_tmp_133784 = defunc_1_op_res_133738;
            float redout_tmp_133785 = defunc_1_op_res_133739;
            float redout_tmp_133786 = defunc_1_op_res_133740;
            float redout_tmp_133787 = defunc_1_op_res_133741;
            float redout_tmp_133788 = defunc_1_op_res_133742;
            
            redout_133712 = redout_tmp_133784;
            redout_133713 = redout_tmp_133785;
            redout_133714 = redout_tmp_133786;
            redout_133715 = redout_tmp_133787;
            redout_133716 = redout_tmp_133788;
        }
        defunc_2_reduce_res_133604 = redout_133712;
        defunc_2_reduce_res_133605 = redout_133713;
        defunc_2_reduce_res_133606 = redout_133714;
        defunc_2_reduce_res_133607 = redout_133715;
        defunc_2_reduce_res_133608 = redout_133716;
        
        float x_133641 = defunc_2_reduce_res_133606 *
              defunc_2_reduce_res_133608;
        float y_133642 = defunc_2_reduce_res_133607 *
              defunc_2_reduce_res_133607;
        float a12_133643 = x_133641 - y_133642;
        float x_133644 = defunc_2_reduce_res_133606 *
              defunc_2_reduce_res_133607;
        float y_133645 = defunc_2_reduce_res_133605 *
              defunc_2_reduce_res_133608;
        float b12_133646 = x_133644 - y_133645;
        float x_133647 = defunc_2_reduce_res_133605 *
              defunc_2_reduce_res_133607;
        float y_133648 = defunc_2_reduce_res_133606 *
              defunc_2_reduce_res_133606;
        float c12_133649 = x_133647 - y_133648;
        float x_133650 = defunc_2_reduce_res_133604 *
              defunc_2_reduce_res_133608;
        float b2_133651 = x_133650 - y_133648;
        float x_133652 = defunc_2_reduce_res_133605 *
              defunc_2_reduce_res_133606;
        float y_133653 = defunc_2_reduce_res_133604 *
              defunc_2_reduce_res_133607;
        float c2_133654 = x_133652 - y_133653;
        float x_133655 = defunc_2_reduce_res_133604 * a12_133643;
        float y_133656 = defunc_2_reduce_res_133605 * b12_133646;
        float x_133657 = x_133655 + y_133656;
        float y_133658 = defunc_2_reduce_res_133606 * c12_133649;
        float y_133659 = x_133657 + y_133658;
        float det_133660 = 1.0F / y_133659;
        float a12_133661 = a12_133643 * det_133660;
        float b12_133662 = b12_133646 * det_133660;
        float c12_133663 = c12_133649 * det_133660;
        float b2_133664 = b2_133651 * det_133660;
        float c2_133665 = c2_133654 * det_133660;
        float defunc_2_reduce_res_133666;
        float defunc_2_reduce_res_133667;
        float redout_133744;
        float redout_133745;
        
        redout_133744 = 0.0F;
        redout_133745 = 0.0F;
        for (int64_t i_133743 = 0; i_133743 < t_window_119478; i_133743++) {
            bool cond_133746 = sle64(x_124523, i_133743);
            float defunc_0_f_res_133747;
            
            if (cond_133746) {
                defunc_0_f_res_133747 = 0.0F;
            } else {
                int64_t i_133748 = add64(x_133599, i_133743);
                float x_133749 = ((float *) mem_126946.mem)[gtid_124393 *
                                                            n_119475 +
                                                            i_133748];
                float defunc_0_f_res_f_res_133750 = 1.0F + x_133749;
                
                defunc_0_f_res_133747 = defunc_0_f_res_f_res_133750;
            }
            
            float defunc_0_f_res_133751;
            
            if (cond_133746) {
                defunc_0_f_res_133751 = 0.0F;
            } else {
                int64_t i_133752 = add64(x_133599, i_133743);
                float x_133753 = ((float *) mem_127865.mem)[gtid_124393 *
                                                            n_119475 +
                                                            i_133752];
                
                defunc_0_f_res_133751 = x_133753;
            }
            
            float x_j_133754 = defunc_0_f_res_133747 - defunc_0_f_res_133603;
            float abs_res_133755 = (float) fabs(x_j_133754);
            float tmp1_133756 = abs_res_133755 / x_133600;
            float x_133757 = tmp1_133756 * tmp1_133756;
            float y_133758 = tmp1_133756 * x_133757;
            float tmp2_133759 = 1.0F - y_133758;
            float x_133760 = tmp2_133759 * tmp2_133759;
            float tmp3_133761 = tmp2_133759 * x_133760;
            float tmp4_133762 = defunc_0_f_res_133751 * tmp3_133761;
            float defunc_1_f_res_133763 = x_j_133754 * tmp4_133762;
            float defunc_1_f_res_133764 = x_j_133754 * defunc_1_f_res_133763;
            float defunc_0_f_res_133765;
            
            if (cond_133746) {
                defunc_0_f_res_133765 = 0.0F;
            } else {
                int64_t i_133766 = add64(x_133599, i_133743);
                float x_133767 = ((float *) mem_127861.mem)[gtid_124393 *
                                                            n_119475 +
                                                            i_133766];
                
                defunc_0_f_res_133765 = x_133767;
            }
            
            float x_133768 = a12_133661 * tmp4_133762;
            float y_133769 = b12_133662 * defunc_1_f_res_133763;
            float x_133770 = x_133768 + y_133769;
            float y_133771 = c12_133663 * defunc_1_f_res_133764;
            float x_133772 = x_133770 + y_133771;
            float defunc_9_fit_fun_res_133773 = defunc_0_f_res_133765 *
                  x_133772;
            float x_133774 = b12_133662 * tmp4_133762;
            float y_133775 = b2_133664 * defunc_1_f_res_133763;
            float x_133776 = x_133774 + y_133775;
            float y_133777 = c2_133665 * defunc_1_f_res_133764;
            float x_133778 = x_133776 + y_133777;
            float defunc_9_slope_fun_res_133779 = defunc_0_f_res_133765 *
                  x_133778;
            float defunc_1_op_res_133780 = defunc_9_fit_fun_res_133773 +
                  redout_133744;
            float defunc_1_op_res_133781 = defunc_9_slope_fun_res_133779 +
                  redout_133745;
            float redout_tmp_133789 = defunc_1_op_res_133780;
            float redout_tmp_133790 = defunc_1_op_res_133781;
            
            redout_133744 = redout_tmp_133789;
            redout_133745 = redout_tmp_133790;
        }
        defunc_2_reduce_res_133666 = redout_133744;
        defunc_2_reduce_res_133667 = redout_133745;
        ((float *) mem_127942.mem)[gtid_124395] = defunc_2_reduce_res_133666;
        ((float *) mem_127945.mem)[gtid_124395] = defunc_2_reduce_res_133667;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136783_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136783_end -
                 futhark_mc_segmap_parloop_136783_start;
        
        ctx->futhark_mc_segmap_parloop_136783_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136783_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136783_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136781(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124394 = tid;
    int num_tasks_133709 = info.nsubtasks;
    struct futhark_mc_task_136780 *futhark_mc_task_136780 =
                                  (struct futhark_mc_task_136780 *) args;
    struct futhark_context *ctx = futhark_mc_task_136780->ctx;
    uint64_t futhark_mc_segmap_task_136781_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136781_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136780->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136780->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136780->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136780->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136780->free_i_119551;
    int64_t gtid_124393 = futhark_mc_task_136780->free_gtid_124393;
    int64_t x_124523 = futhark_mc_task_136780->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136780->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136780->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136780->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136780->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136780->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127942 = {.desc ="mem_127942", .mem =
                                  futhark_mc_task_136780->free_mem_127942,
                                  .size =0, .references =NULL};
    struct memblock mem_127945 = {.desc ="mem_127945", .mem =
                                  futhark_mc_task_136780->free_mem_127945,
                                  .size =0, .references =NULL};
    int64_t iter_133710;
    struct futhark_mc_segmap_parloop_struct_136782
    futhark_mc_segmap_parloop_struct_136782;
    
    futhark_mc_segmap_parloop_struct_136782.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136782.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136782.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136782.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136782.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136782.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136782.free_gtid_124393 = gtid_124393;
    futhark_mc_segmap_parloop_struct_136782.free_x_124523 = x_124523;
    futhark_mc_segmap_parloop_struct_136782.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136782.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136782.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136782.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136782.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136782.free_mem_127942 = mem_127942.mem;
    futhark_mc_segmap_parloop_struct_136782.free_mem_127945 = mem_127945.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136783_task;
    
    futhark_mc_segmap_parloop_136783_task.name =
        "futhark_mc_segmap_parloop_136783";
    futhark_mc_segmap_parloop_136783_task.fn = futhark_mc_segmap_parloop_136783;
    futhark_mc_segmap_parloop_136783_task.args =
        &futhark_mc_segmap_parloop_struct_136782;
    futhark_mc_segmap_parloop_136783_task.iterations = iterations;
    futhark_mc_segmap_parloop_136783_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136783_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136783_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136783_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136783_task);
    
    if (futhark_mc_segmap_parloop_136783_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136783_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136783_total_end -
                 futhark_mc_segmap_parloop_136783_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136783_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136783_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136783_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136781_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136781_end -
                 futhark_mc_segmap_task_136781_start;
        
        ctx->futhark_mc_segmap_task_136781_runs[tid]++;
        ctx->futhark_mc_segmap_task_136781_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136781_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136785 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    char *free_mem_127942;
    char *free_mem_127945;
};
struct futhark_mc_task_136787 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_133486;
    float free_x_133487;
    float free_defunc_0_f_res_133490;
    float *retval_defunc_2_reduce_res_133491;
    float *retval_defunc_2_reduce_res_133492;
    float *retval_defunc_2_reduce_res_133493;
    float *retval_defunc_2_reduce_res_133494;
    float *retval_defunc_2_reduce_res_133495;
};
struct futhark_mc_segred_stage_1_parloop_struct_136794 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_133486;
    float free_x_133487;
    float free_defunc_0_f_res_133490;
    char *free_reduce_stage_1_tid_res_arr_mem_133871;
    char *free_reduce_stage_1_tid_res_arr_mem_133873;
    char *free_reduce_stage_1_tid_res_arr_mem_133875;
    char *free_reduce_stage_1_tid_res_arr_mem_133877;
    char *free_reduce_stage_1_tid_res_arr_mem_133879;
};
static int futhark_mc_segred_stage_1_parloop_136795(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124398,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136794
    *futhark_mc_segred_stage_1_parloop_struct_136794 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136794 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136794->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136795_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136795_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136794->free_n_119475;
    int64_t gtid_124393 =
            futhark_mc_segred_stage_1_parloop_struct_136794->free_gtid_124393;
    int64_t x_124523 =
            futhark_mc_segred_stage_1_parloop_struct_136794->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136794->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136794->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133486 =
            futhark_mc_segred_stage_1_parloop_struct_136794->free_x_133486;
    float x_133487 =
          futhark_mc_segred_stage_1_parloop_struct_136794->free_x_133487;
    float defunc_0_f_res_133490 =
          futhark_mc_segred_stage_1_parloop_struct_136794->free_defunc_0_f_res_133490;
    struct memblock reduce_stage_1_tid_res_arr_mem_133871 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133871",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136794->free_reduce_stage_1_tid_res_arr_mem_133871,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133873 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133873",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136794->free_reduce_stage_1_tid_res_arr_mem_133873,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133875 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133875",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136794->free_reduce_stage_1_tid_res_arr_mem_133875,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133877 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133877",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136794->free_reduce_stage_1_tid_res_arr_mem_133877,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133879 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133879",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136794->free_reduce_stage_1_tid_res_arr_mem_133879,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133881 = start;
    float x_133792;
    float x_133793;
    float x_133795;
    float x_133796;
    float x_133798;
    float x_133799;
    float x_133801;
    float x_133802;
    float x_133804;
    float x_133805;
    float local_acc_133882 = 0.0F;
    float local_acc_133883 = 0.0F;
    float local_acc_133884 = 0.0F;
    float local_acc_133885 = 0.0F;
    float local_acc_133886 = 0.0F;
    
    for (; iter_133881 < end; iter_133881++) {
        int64_t gtid_124399 = iter_133881;
        bool cond_133807 = sle64(x_124523, gtid_124399);
        float defunc_0_f_res_133808;
        
        if (cond_133807) {
            defunc_0_f_res_133808 = 0.0F;
        } else {
            int64_t i_133809 = add64(gtid_124399, x_133486);
            float x_133810 = ((float *) mem_126946.mem)[gtid_124393 * n_119475 +
                                                        i_133809];
            float defunc_0_f_res_f_res_133811 = 1.0F + x_133810;
            
            defunc_0_f_res_133808 = defunc_0_f_res_f_res_133811;
        }
        
        float defunc_0_f_res_133812;
        
        if (cond_133807) {
            defunc_0_f_res_133812 = 0.0F;
        } else {
            int64_t i_133813 = add64(gtid_124399, x_133486);
            float x_133814 = ((float *) mem_127865.mem)[gtid_124393 * n_119475 +
                                                        i_133813];
            
            defunc_0_f_res_133812 = x_133814;
        }
        
        float x_j_133815 = defunc_0_f_res_133808 - defunc_0_f_res_133490;
        float abs_res_133816 = (float) fabs(x_j_133815);
        float tmp1_133817 = abs_res_133816 / x_133487;
        float x_133818 = tmp1_133817 * tmp1_133817;
        float y_133819 = tmp1_133817 * x_133818;
        float tmp2_133820 = 1.0F - y_133819;
        float x_133821 = tmp2_133820 * tmp2_133820;
        float tmp3_133822 = tmp2_133820 * x_133821;
        float w_j_133823 = defunc_0_f_res_133812 * tmp3_133822;
        float xw_j_133824 = x_j_133815 * w_j_133823;
        float x2w_j_133825 = x_j_133815 * xw_j_133824;
        float x3w_j_133826 = x_j_133815 * x2w_j_133825;
        float x4w_j_133827 = x_j_133815 * x3w_j_133826;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_133792 = local_acc_133882;
        }
        // Load next params
        {
            x_133793 = w_j_133823;
        }
        // Red body
        {
            float defunc_1_op_res_133794 = x_133792 + x_133793;
            
            local_acc_133882 = defunc_1_op_res_133794;
        }
        // Load accum params
        {
            x_133795 = local_acc_133883;
        }
        // Load next params
        {
            x_133796 = xw_j_133824;
        }
        // Red body
        {
            float defunc_1_op_res_133797 = x_133795 + x_133796;
            
            local_acc_133883 = defunc_1_op_res_133797;
        }
        // Load accum params
        {
            x_133798 = local_acc_133884;
        }
        // Load next params
        {
            x_133799 = x2w_j_133825;
        }
        // Red body
        {
            float defunc_1_op_res_133800 = x_133798 + x_133799;
            
            local_acc_133884 = defunc_1_op_res_133800;
        }
        // Load accum params
        {
            x_133801 = local_acc_133885;
        }
        // Load next params
        {
            x_133802 = x3w_j_133826;
        }
        // Red body
        {
            float defunc_1_op_res_133803 = x_133801 + x_133802;
            
            local_acc_133885 = defunc_1_op_res_133803;
        }
        // Load accum params
        {
            x_133804 = local_acc_133886;
        }
        // Load next params
        {
            x_133805 = x4w_j_133827;
        }
        // Red body
        {
            float defunc_1_op_res_133806 = x_133804 + x_133805;
            
            local_acc_133886 = defunc_1_op_res_133806;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_133871.mem)[flat_tid_124398] =
        local_acc_133882;
    ((float *) reduce_stage_1_tid_res_arr_mem_133873.mem)[flat_tid_124398] =
        local_acc_133883;
    ((float *) reduce_stage_1_tid_res_arr_mem_133875.mem)[flat_tid_124398] =
        local_acc_133884;
    ((float *) reduce_stage_1_tid_res_arr_mem_133877.mem)[flat_tid_124398] =
        local_acc_133885;
    ((float *) reduce_stage_1_tid_res_arr_mem_133879.mem)[flat_tid_124398] =
        local_acc_133886;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136795_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136795_end -
                 futhark_mc_segred_stage_1_parloop_136795_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136795_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136795_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136795_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136788(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124398 = tid;
    int num_tasks_133870 = info.nsubtasks;
    struct futhark_mc_task_136787 *futhark_mc_task_136787 =
                                  (struct futhark_mc_task_136787 *) args;
    struct futhark_context *ctx = futhark_mc_task_136787->ctx;
    uint64_t futhark_mc_segred_task_136788_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136788_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136787->free_n_119475;
    int64_t gtid_124393 = futhark_mc_task_136787->free_gtid_124393;
    int64_t x_124523 = futhark_mc_task_136787->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136787->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136787->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133486 = futhark_mc_task_136787->free_x_133486;
    float x_133487 = futhark_mc_task_136787->free_x_133487;
    float defunc_0_f_res_133490 =
          futhark_mc_task_136787->free_defunc_0_f_res_133490;
    float defunc_2_reduce_res_133491 =
          *futhark_mc_task_136787->retval_defunc_2_reduce_res_133491;
    float defunc_2_reduce_res_133492 =
          *futhark_mc_task_136787->retval_defunc_2_reduce_res_133492;
    float defunc_2_reduce_res_133493 =
          *futhark_mc_task_136787->retval_defunc_2_reduce_res_133493;
    float defunc_2_reduce_res_133494 =
          *futhark_mc_task_136787->retval_defunc_2_reduce_res_133494;
    float defunc_2_reduce_res_133495 =
          *futhark_mc_task_136787->retval_defunc_2_reduce_res_133495;
    size_t reduce_stage_1_tid_res_arr_mem_133871_cached_sizze_136789 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133871 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133873_cached_sizze_136790 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133873 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133875_cached_sizze_136791 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133875 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133877_cached_sizze_136792 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133877 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133879_cached_sizze_136793 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133879 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_133871_cached_sizze_136789 <
        (size_t) ((int64_t) 4 * num_tasks_133870)) {
        reduce_stage_1_tid_res_arr_mem_133871 =
            realloc(reduce_stage_1_tid_res_arr_mem_133871, (int64_t) 4 *
                    num_tasks_133870);
        reduce_stage_1_tid_res_arr_mem_133871_cached_sizze_136789 =
            (int64_t) 4 * num_tasks_133870;
    }
    if (reduce_stage_1_tid_res_arr_mem_133873_cached_sizze_136790 <
        (size_t) ((int64_t) 4 * num_tasks_133870)) {
        reduce_stage_1_tid_res_arr_mem_133873 =
            realloc(reduce_stage_1_tid_res_arr_mem_133873, (int64_t) 4 *
                    num_tasks_133870);
        reduce_stage_1_tid_res_arr_mem_133873_cached_sizze_136790 =
            (int64_t) 4 * num_tasks_133870;
    }
    if (reduce_stage_1_tid_res_arr_mem_133875_cached_sizze_136791 <
        (size_t) ((int64_t) 4 * num_tasks_133870)) {
        reduce_stage_1_tid_res_arr_mem_133875 =
            realloc(reduce_stage_1_tid_res_arr_mem_133875, (int64_t) 4 *
                    num_tasks_133870);
        reduce_stage_1_tid_res_arr_mem_133875_cached_sizze_136791 =
            (int64_t) 4 * num_tasks_133870;
    }
    if (reduce_stage_1_tid_res_arr_mem_133877_cached_sizze_136792 <
        (size_t) ((int64_t) 4 * num_tasks_133870)) {
        reduce_stage_1_tid_res_arr_mem_133877 =
            realloc(reduce_stage_1_tid_res_arr_mem_133877, (int64_t) 4 *
                    num_tasks_133870);
        reduce_stage_1_tid_res_arr_mem_133877_cached_sizze_136792 =
            (int64_t) 4 * num_tasks_133870;
    }
    if (reduce_stage_1_tid_res_arr_mem_133879_cached_sizze_136793 <
        (size_t) ((int64_t) 4 * num_tasks_133870)) {
        reduce_stage_1_tid_res_arr_mem_133879 =
            realloc(reduce_stage_1_tid_res_arr_mem_133879, (int64_t) 4 *
                    num_tasks_133870);
        reduce_stage_1_tid_res_arr_mem_133879_cached_sizze_136793 =
            (int64_t) 4 * num_tasks_133870;
    }
    
    int64_t iter_133881;
    struct futhark_mc_segred_stage_1_parloop_struct_136794
    futhark_mc_segred_stage_1_parloop_struct_136794;
    
    futhark_mc_segred_stage_1_parloop_struct_136794.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_gtid_124393 =
        gtid_124393;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_x_124523 = x_124523;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_x_133486 = x_133486;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_x_133487 = x_133487;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_defunc_0_f_res_133490 =
        defunc_0_f_res_133490;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_reduce_stage_1_tid_res_arr_mem_133871 =
        reduce_stage_1_tid_res_arr_mem_133871;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_reduce_stage_1_tid_res_arr_mem_133873 =
        reduce_stage_1_tid_res_arr_mem_133873;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_reduce_stage_1_tid_res_arr_mem_133875 =
        reduce_stage_1_tid_res_arr_mem_133875;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_reduce_stage_1_tid_res_arr_mem_133877 =
        reduce_stage_1_tid_res_arr_mem_133877;
    futhark_mc_segred_stage_1_parloop_struct_136794.free_reduce_stage_1_tid_res_arr_mem_133879 =
        reduce_stage_1_tid_res_arr_mem_133879;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136795_task;
    
    futhark_mc_segred_stage_1_parloop_136795_task.name =
        "futhark_mc_segred_stage_1_parloop_136795";
    futhark_mc_segred_stage_1_parloop_136795_task.fn =
        futhark_mc_segred_stage_1_parloop_136795;
    futhark_mc_segred_stage_1_parloop_136795_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136794;
    futhark_mc_segred_stage_1_parloop_136795_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136795_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136795_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136795_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136795_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136795_task);
    
    if (futhark_mc_segred_stage_1_parloop_136795_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136795_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136795_total_end -
                 futhark_mc_segred_stage_1_parloop_136795_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136795_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136795_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136795_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_133491 = 0.0F;
        defunc_2_reduce_res_133492 = 0.0F;
        defunc_2_reduce_res_133493 = 0.0F;
        defunc_2_reduce_res_133494 = 0.0F;
        defunc_2_reduce_res_133495 = 0.0F;
    }
    
    float x_133887;
    float x_133888;
    float x_133890;
    float x_133891;
    float x_133893;
    float x_133894;
    float x_133896;
    float x_133897;
    float x_133899;
    float x_133900;
    
    for (int32_t i_133902 = 0; i_133902 < num_tasks_133870; i_133902++) {
        flat_tid_124398 = i_133902;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_133887 = defunc_2_reduce_res_133491;
            }
            // load next params
            {
                x_133888 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133871)[flat_tid_124398];
            }
            // red body
            {
                float defunc_1_op_res_133889 = x_133887 + x_133888;
                
                defunc_2_reduce_res_133491 = defunc_1_op_res_133889;
            }
            // load acc params
            {
                x_133890 = defunc_2_reduce_res_133492;
            }
            // load next params
            {
                x_133891 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133873)[flat_tid_124398];
            }
            // red body
            {
                float defunc_1_op_res_133892 = x_133890 + x_133891;
                
                defunc_2_reduce_res_133492 = defunc_1_op_res_133892;
            }
            // load acc params
            {
                x_133893 = defunc_2_reduce_res_133493;
            }
            // load next params
            {
                x_133894 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133875)[flat_tid_124398];
            }
            // red body
            {
                float defunc_1_op_res_133895 = x_133893 + x_133894;
                
                defunc_2_reduce_res_133493 = defunc_1_op_res_133895;
            }
            // load acc params
            {
                x_133896 = defunc_2_reduce_res_133494;
            }
            // load next params
            {
                x_133897 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133877)[flat_tid_124398];
            }
            // red body
            {
                float defunc_1_op_res_133898 = x_133896 + x_133897;
                
                defunc_2_reduce_res_133494 = defunc_1_op_res_133898;
            }
            // load acc params
            {
                x_133899 = defunc_2_reduce_res_133495;
            }
            // load next params
            {
                x_133900 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133879)[flat_tid_124398];
            }
            // red body
            {
                float defunc_1_op_res_133901 = x_133899 + x_133900;
                
                defunc_2_reduce_res_133495 = defunc_1_op_res_133901;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_133871);
    free(reduce_stage_1_tid_res_arr_mem_133873);
    free(reduce_stage_1_tid_res_arr_mem_133875);
    free(reduce_stage_1_tid_res_arr_mem_133877);
    free(reduce_stage_1_tid_res_arr_mem_133879);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136788_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136788_end -
                 futhark_mc_segred_task_136788_start;
        
        ctx->futhark_mc_segred_task_136788_runs[tid]++;
        ctx->futhark_mc_segred_task_136788_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136788_iter[tid] += iterations;
    }
    *futhark_mc_task_136787->retval_defunc_2_reduce_res_133491 =
        defunc_2_reduce_res_133491;
    *futhark_mc_task_136787->retval_defunc_2_reduce_res_133492 =
        defunc_2_reduce_res_133492;
    *futhark_mc_task_136787->retval_defunc_2_reduce_res_133493 =
        defunc_2_reduce_res_133493;
    *futhark_mc_task_136787->retval_defunc_2_reduce_res_133494 =
        defunc_2_reduce_res_133494;
    *futhark_mc_task_136787->retval_defunc_2_reduce_res_133495 =
        defunc_2_reduce_res_133495;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136796 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_x_133486;
    float free_x_133487;
    float free_defunc_0_f_res_133490;
    float free_a12_133552;
    float free_b12_133553;
    float free_c12_133554;
    float free_b2_133555;
    float free_c2_133556;
    float *retval_defunc_2_reduce_res_133557;
    float *retval_defunc_2_reduce_res_133558;
};
struct futhark_mc_segred_stage_1_parloop_struct_136800 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124393;
    int64_t free_x_124523;
    char *free_mem_126946;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_x_133486;
    float free_x_133487;
    float free_defunc_0_f_res_133490;
    float free_a12_133552;
    float free_b12_133553;
    float free_c12_133554;
    float free_b2_133555;
    float free_c2_133556;
    char *free_reduce_stage_1_tid_res_arr_mem_133904;
    char *free_reduce_stage_1_tid_res_arr_mem_133906;
};
static int futhark_mc_segred_stage_1_parloop_136801(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124400,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136800
    *futhark_mc_segred_stage_1_parloop_struct_136800 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136800 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136800->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136801_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136801_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136800->free_n_119475;
    int64_t gtid_124393 =
            futhark_mc_segred_stage_1_parloop_struct_136800->free_gtid_124393;
    int64_t x_124523 =
            futhark_mc_segred_stage_1_parloop_struct_136800->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136800->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136800->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136800->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133486 =
            futhark_mc_segred_stage_1_parloop_struct_136800->free_x_133486;
    float x_133487 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_x_133487;
    float defunc_0_f_res_133490 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_defunc_0_f_res_133490;
    float a12_133552 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_a12_133552;
    float b12_133553 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_b12_133553;
    float c12_133554 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_c12_133554;
    float b2_133555 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_b2_133555;
    float c2_133556 =
          futhark_mc_segred_stage_1_parloop_struct_136800->free_c2_133556;
    struct memblock reduce_stage_1_tid_res_arr_mem_133904 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133904",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136800->free_reduce_stage_1_tid_res_arr_mem_133904,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_133906 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_133906",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136800->free_reduce_stage_1_tid_res_arr_mem_133906,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133908 = start;
    float x_133828;
    float x_133829;
    float x_133831;
    float x_133832;
    float local_acc_133909 = 0.0F;
    float local_acc_133910 = 0.0F;
    
    for (; iter_133908 < end; iter_133908++) {
        int64_t gtid_124401 = iter_133908;
        bool cond_133834 = sle64(x_124523, gtid_124401);
        float defunc_0_f_res_133835;
        
        if (cond_133834) {
            defunc_0_f_res_133835 = 0.0F;
        } else {
            int64_t i_133836 = add64(gtid_124401, x_133486);
            float x_133837 = ((float *) mem_126946.mem)[gtid_124393 * n_119475 +
                                                        i_133836];
            float defunc_0_f_res_f_res_133838 = 1.0F + x_133837;
            
            defunc_0_f_res_133835 = defunc_0_f_res_f_res_133838;
        }
        
        float defunc_0_f_res_133839;
        
        if (cond_133834) {
            defunc_0_f_res_133839 = 0.0F;
        } else {
            int64_t i_133840 = add64(gtid_124401, x_133486);
            float x_133841 = ((float *) mem_127865.mem)[gtid_124393 * n_119475 +
                                                        i_133840];
            
            defunc_0_f_res_133839 = x_133841;
        }
        
        float x_j_133842 = defunc_0_f_res_133835 - defunc_0_f_res_133490;
        float abs_res_133843 = (float) fabs(x_j_133842);
        float tmp1_133844 = abs_res_133843 / x_133487;
        float x_133845 = tmp1_133844 * tmp1_133844;
        float y_133846 = tmp1_133844 * x_133845;
        float tmp2_133847 = 1.0F - y_133846;
        float x_133848 = tmp2_133847 * tmp2_133847;
        float tmp3_133849 = tmp2_133847 * x_133848;
        float tmp4_133850 = defunc_0_f_res_133839 * tmp3_133849;
        float defunc_1_f_res_133851 = x_j_133842 * tmp4_133850;
        float defunc_1_f_res_133852 = x_j_133842 * defunc_1_f_res_133851;
        float defunc_0_f_res_133853;
        
        if (cond_133834) {
            defunc_0_f_res_133853 = 0.0F;
        } else {
            int64_t i_133854 = add64(gtid_124401, x_133486);
            float x_133855 = ((float *) mem_127861.mem)[gtid_124393 * n_119475 +
                                                        i_133854];
            
            defunc_0_f_res_133853 = x_133855;
        }
        
        float x_133856 = a12_133552 * tmp4_133850;
        float y_133857 = b12_133553 * defunc_1_f_res_133851;
        float x_133858 = x_133856 + y_133857;
        float y_133859 = c12_133554 * defunc_1_f_res_133852;
        float x_133860 = x_133858 + y_133859;
        float defunc_9_fit_fun_res_133861 = defunc_0_f_res_133853 * x_133860;
        float x_133862 = b12_133553 * tmp4_133850;
        float y_133863 = b2_133555 * defunc_1_f_res_133851;
        float x_133864 = x_133862 + y_133863;
        float y_133865 = c2_133556 * defunc_1_f_res_133852;
        float x_133866 = x_133864 + y_133865;
        float defunc_9_slope_fun_res_133867 = defunc_0_f_res_133853 * x_133866;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_133828 = local_acc_133909;
        }
        // Load next params
        {
            x_133829 = defunc_9_fit_fun_res_133861;
        }
        // Red body
        {
            float defunc_1_op_res_133830 = x_133828 + x_133829;
            
            local_acc_133909 = defunc_1_op_res_133830;
        }
        // Load accum params
        {
            x_133831 = local_acc_133910;
        }
        // Load next params
        {
            x_133832 = defunc_9_slope_fun_res_133867;
        }
        // Red body
        {
            float defunc_1_op_res_133833 = x_133831 + x_133832;
            
            local_acc_133910 = defunc_1_op_res_133833;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_133904.mem)[flat_tid_124400] =
        local_acc_133909;
    ((float *) reduce_stage_1_tid_res_arr_mem_133906.mem)[flat_tid_124400] =
        local_acc_133910;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136801_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136801_end -
                 futhark_mc_segred_stage_1_parloop_136801_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136801_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136801_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136801_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136797(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124400 = tid;
    int num_tasks_133903 = info.nsubtasks;
    struct futhark_mc_task_136796 *futhark_mc_task_136796 =
                                  (struct futhark_mc_task_136796 *) args;
    struct futhark_context *ctx = futhark_mc_task_136796->ctx;
    uint64_t futhark_mc_segred_task_136797_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136797_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136796->free_n_119475;
    int64_t gtid_124393 = futhark_mc_task_136796->free_gtid_124393;
    int64_t x_124523 = futhark_mc_task_136796->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136796->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136796->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136796->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133486 = futhark_mc_task_136796->free_x_133486;
    float x_133487 = futhark_mc_task_136796->free_x_133487;
    float defunc_0_f_res_133490 =
          futhark_mc_task_136796->free_defunc_0_f_res_133490;
    float a12_133552 = futhark_mc_task_136796->free_a12_133552;
    float b12_133553 = futhark_mc_task_136796->free_b12_133553;
    float c12_133554 = futhark_mc_task_136796->free_c12_133554;
    float b2_133555 = futhark_mc_task_136796->free_b2_133555;
    float c2_133556 = futhark_mc_task_136796->free_c2_133556;
    float defunc_2_reduce_res_133557 =
          *futhark_mc_task_136796->retval_defunc_2_reduce_res_133557;
    float defunc_2_reduce_res_133558 =
          *futhark_mc_task_136796->retval_defunc_2_reduce_res_133558;
    size_t reduce_stage_1_tid_res_arr_mem_133904_cached_sizze_136798 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133904 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_133906_cached_sizze_136799 = 0;
    char *reduce_stage_1_tid_res_arr_mem_133906 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_133904_cached_sizze_136798 <
        (size_t) ((int64_t) 4 * num_tasks_133903)) {
        reduce_stage_1_tid_res_arr_mem_133904 =
            realloc(reduce_stage_1_tid_res_arr_mem_133904, (int64_t) 4 *
                    num_tasks_133903);
        reduce_stage_1_tid_res_arr_mem_133904_cached_sizze_136798 =
            (int64_t) 4 * num_tasks_133903;
    }
    if (reduce_stage_1_tid_res_arr_mem_133906_cached_sizze_136799 <
        (size_t) ((int64_t) 4 * num_tasks_133903)) {
        reduce_stage_1_tid_res_arr_mem_133906 =
            realloc(reduce_stage_1_tid_res_arr_mem_133906, (int64_t) 4 *
                    num_tasks_133903);
        reduce_stage_1_tid_res_arr_mem_133906_cached_sizze_136799 =
            (int64_t) 4 * num_tasks_133903;
    }
    
    int64_t iter_133908;
    struct futhark_mc_segred_stage_1_parloop_struct_136800
    futhark_mc_segred_stage_1_parloop_struct_136800;
    
    futhark_mc_segred_stage_1_parloop_struct_136800.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_gtid_124393 =
        gtid_124393;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_x_124523 = x_124523;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_mem_127861 =
        mem_127861.mem;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_x_133486 = x_133486;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_x_133487 = x_133487;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_defunc_0_f_res_133490 =
        defunc_0_f_res_133490;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_a12_133552 =
        a12_133552;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_b12_133553 =
        b12_133553;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_c12_133554 =
        c12_133554;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_b2_133555 = b2_133555;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_c2_133556 = c2_133556;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_reduce_stage_1_tid_res_arr_mem_133904 =
        reduce_stage_1_tid_res_arr_mem_133904;
    futhark_mc_segred_stage_1_parloop_struct_136800.free_reduce_stage_1_tid_res_arr_mem_133906 =
        reduce_stage_1_tid_res_arr_mem_133906;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136801_task;
    
    futhark_mc_segred_stage_1_parloop_136801_task.name =
        "futhark_mc_segred_stage_1_parloop_136801";
    futhark_mc_segred_stage_1_parloop_136801_task.fn =
        futhark_mc_segred_stage_1_parloop_136801;
    futhark_mc_segred_stage_1_parloop_136801_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136800;
    futhark_mc_segred_stage_1_parloop_136801_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136801_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136801_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136801_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136801_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136801_task);
    
    if (futhark_mc_segred_stage_1_parloop_136801_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136801_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136801_total_end -
                 futhark_mc_segred_stage_1_parloop_136801_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136801_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136801_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136801_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_133557 = 0.0F;
        defunc_2_reduce_res_133558 = 0.0F;
    }
    
    float x_133911;
    float x_133912;
    float x_133914;
    float x_133915;
    
    for (int32_t i_133917 = 0; i_133917 < num_tasks_133903; i_133917++) {
        flat_tid_124400 = i_133917;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_133911 = defunc_2_reduce_res_133557;
            }
            // load next params
            {
                x_133912 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133904)[flat_tid_124400];
            }
            // red body
            {
                float defunc_1_op_res_133913 = x_133911 + x_133912;
                
                defunc_2_reduce_res_133557 = defunc_1_op_res_133913;
            }
            // load acc params
            {
                x_133914 = defunc_2_reduce_res_133558;
            }
            // load next params
            {
                x_133915 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_133906)[flat_tid_124400];
            }
            // red body
            {
                float defunc_1_op_res_133916 = x_133914 + x_133915;
                
                defunc_2_reduce_res_133558 = defunc_1_op_res_133916;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_133904);
    free(reduce_stage_1_tid_res_arr_mem_133906);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136797_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136797_end -
                 futhark_mc_segred_task_136797_start;
        
        ctx->futhark_mc_segred_task_136797_runs[tid]++;
        ctx->futhark_mc_segred_task_136797_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136797_iter[tid] += iterations;
    }
    *futhark_mc_task_136796->retval_defunc_2_reduce_res_133557 =
        defunc_2_reduce_res_133557;
    *futhark_mc_task_136796->retval_defunc_2_reduce_res_133558 =
        defunc_2_reduce_res_133558;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136786(void *args, int64_t start,
                                            int64_t end, int flat_tid_124396,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136785
    *futhark_mc_segmap_parloop_struct_136785 =
    (struct futhark_mc_segmap_parloop_struct_136785 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136785->ctx;
    uint64_t futhark_mc_segmap_parloop_136786_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136786_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136785->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136785->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136785->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136785->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136785->free_i_119551;
    int64_t gtid_124393 =
            futhark_mc_segmap_parloop_struct_136785->free_gtid_124393;
    int64_t x_124523 = futhark_mc_segmap_parloop_struct_136785->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127942 = {.desc ="mem_127942", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_127942,
                                  .size =0, .references =NULL};
    struct memblock mem_127945 = {.desc ="mem_127945", .mem =
                                  futhark_mc_segmap_parloop_struct_136785->free_mem_127945,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_133791 = start;
    
    for (; iter_133791 < end; iter_133791++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133868 = t_n_m_119532;
        int64_t gtid_124397 = iter_133791;
        int64_t remnant_133869 = iter_133791 - gtid_124397;
        int64_t x_133486 = ((int64_t *) mem_127110.mem)[gtid_124393 *
                                                        t_n_m_119532 +
                                                        gtid_124397];
        float x_133487 = ((float *) mem_127114.mem)[gtid_124393 * t_n_m_119532 +
                                                    gtid_124397];
        int64_t min_arg_133488 = mul64(t_jump_119482, gtid_124397);
        int64_t min_res_133489 = smin64(i_119551, min_arg_133488);
        float defunc_0_f_res_133490 = sitofp_i64_f32(min_res_133489);
        float defunc_2_reduce_res_133491;
        float defunc_2_reduce_res_133492;
        float defunc_2_reduce_res_133493;
        float defunc_2_reduce_res_133494;
        float defunc_2_reduce_res_133495;
        int64_t flat_tid_124398 = (int64_t) 0;
        int32_t num_tasks_133870;
        struct futhark_mc_task_136787 futhark_mc_task_136787;
        
        futhark_mc_task_136787.ctx = ctx;
        futhark_mc_task_136787.free_n_119475 = n_119475;
        futhark_mc_task_136787.free_gtid_124393 = gtid_124393;
        futhark_mc_task_136787.free_x_124523 = x_124523;
        futhark_mc_task_136787.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136787.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136787.free_x_133486 = x_133486;
        futhark_mc_task_136787.free_x_133487 = x_133487;
        futhark_mc_task_136787.free_defunc_0_f_res_133490 =
            defunc_0_f_res_133490;
        futhark_mc_task_136787.retval_defunc_2_reduce_res_133491 =
            &defunc_2_reduce_res_133491;
        futhark_mc_task_136787.retval_defunc_2_reduce_res_133492 =
            &defunc_2_reduce_res_133492;
        futhark_mc_task_136787.retval_defunc_2_reduce_res_133493 =
            &defunc_2_reduce_res_133493;
        futhark_mc_task_136787.retval_defunc_2_reduce_res_133494 =
            &defunc_2_reduce_res_133494;
        futhark_mc_task_136787.retval_defunc_2_reduce_res_133495 =
            &defunc_2_reduce_res_133495;
        
        struct scheduler_segop futhark_mc_task_136787_task;
        
        futhark_mc_task_136787_task.args = &futhark_mc_task_136787;
        futhark_mc_task_136787_task.top_level_fn =
            futhark_mc_segred_task_136788;
        futhark_mc_task_136787_task.name = "futhark_mc_segred_task_136788";
        futhark_mc_task_136787_task.iterations = t_window_119478;
        futhark_mc_task_136787_task.task_time =
            &ctx->futhark_mc_segred_task_136788_total_time;
        futhark_mc_task_136787_task.task_iter =
            &ctx->futhark_mc_segred_task_136788_total_iter;
        futhark_mc_task_136787_task.sched = STATIC;
        futhark_mc_task_136787_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136788_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136787_task);
        
        if (futhark_mc_segred_task_136788_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_133532 = defunc_2_reduce_res_133493 *
              defunc_2_reduce_res_133495;
        float y_133533 = defunc_2_reduce_res_133494 *
              defunc_2_reduce_res_133494;
        float a12_133534 = x_133532 - y_133533;
        float x_133535 = defunc_2_reduce_res_133493 *
              defunc_2_reduce_res_133494;
        float y_133536 = defunc_2_reduce_res_133492 *
              defunc_2_reduce_res_133495;
        float b12_133537 = x_133535 - y_133536;
        float x_133538 = defunc_2_reduce_res_133492 *
              defunc_2_reduce_res_133494;
        float y_133539 = defunc_2_reduce_res_133493 *
              defunc_2_reduce_res_133493;
        float c12_133540 = x_133538 - y_133539;
        float x_133541 = defunc_2_reduce_res_133491 *
              defunc_2_reduce_res_133495;
        float b2_133542 = x_133541 - y_133539;
        float x_133543 = defunc_2_reduce_res_133492 *
              defunc_2_reduce_res_133493;
        float y_133544 = defunc_2_reduce_res_133491 *
              defunc_2_reduce_res_133494;
        float c2_133545 = x_133543 - y_133544;
        float x_133546 = defunc_2_reduce_res_133491 * a12_133534;
        float y_133547 = defunc_2_reduce_res_133492 * b12_133537;
        float x_133548 = x_133546 + y_133547;
        float y_133549 = defunc_2_reduce_res_133493 * c12_133540;
        float y_133550 = x_133548 + y_133549;
        float det_133551 = 1.0F / y_133550;
        float a12_133552 = a12_133534 * det_133551;
        float b12_133553 = b12_133537 * det_133551;
        float c12_133554 = c12_133540 * det_133551;
        float b2_133555 = b2_133542 * det_133551;
        float c2_133556 = c2_133545 * det_133551;
        float defunc_2_reduce_res_133557;
        float defunc_2_reduce_res_133558;
        int64_t flat_tid_124400 = (int64_t) 0;
        int32_t num_tasks_133903;
        struct futhark_mc_task_136796 futhark_mc_task_136796;
        
        futhark_mc_task_136796.ctx = ctx;
        futhark_mc_task_136796.free_n_119475 = n_119475;
        futhark_mc_task_136796.free_gtid_124393 = gtid_124393;
        futhark_mc_task_136796.free_x_124523 = x_124523;
        futhark_mc_task_136796.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136796.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136796.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136796.free_x_133486 = x_133486;
        futhark_mc_task_136796.free_x_133487 = x_133487;
        futhark_mc_task_136796.free_defunc_0_f_res_133490 =
            defunc_0_f_res_133490;
        futhark_mc_task_136796.free_a12_133552 = a12_133552;
        futhark_mc_task_136796.free_b12_133553 = b12_133553;
        futhark_mc_task_136796.free_c12_133554 = c12_133554;
        futhark_mc_task_136796.free_b2_133555 = b2_133555;
        futhark_mc_task_136796.free_c2_133556 = c2_133556;
        futhark_mc_task_136796.retval_defunc_2_reduce_res_133557 =
            &defunc_2_reduce_res_133557;
        futhark_mc_task_136796.retval_defunc_2_reduce_res_133558 =
            &defunc_2_reduce_res_133558;
        
        struct scheduler_segop futhark_mc_task_136796_task;
        
        futhark_mc_task_136796_task.args = &futhark_mc_task_136796;
        futhark_mc_task_136796_task.top_level_fn =
            futhark_mc_segred_task_136797;
        futhark_mc_task_136796_task.name = "futhark_mc_segred_task_136797";
        futhark_mc_task_136796_task.iterations = t_window_119478;
        futhark_mc_task_136796_task.task_time =
            &ctx->futhark_mc_segred_task_136797_total_time;
        futhark_mc_task_136796_task.task_iter =
            &ctx->futhark_mc_segred_task_136797_total_iter;
        futhark_mc_task_136796_task.sched = STATIC;
        futhark_mc_task_136796_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136797_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136796_task);
        
        if (futhark_mc_segred_task_136797_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_127942.mem)[gtid_124397] = defunc_2_reduce_res_133557;
        ((float *) mem_127945.mem)[gtid_124397] = defunc_2_reduce_res_133558;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136786_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136786_end -
                 futhark_mc_segmap_parloop_136786_start;
        
        ctx->futhark_mc_segmap_parloop_136786_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136786_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136786_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136784(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124396 = tid;
    int num_tasks_133709 = info.nsubtasks;
    struct futhark_mc_task_136780 *futhark_mc_task_136780 =
                                  (struct futhark_mc_task_136780 *) args;
    struct futhark_context *ctx = futhark_mc_task_136780->ctx;
    uint64_t futhark_mc_segmap_nested_task_136784_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136784_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136780->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136780->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136780->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136780->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136780->free_i_119551;
    int64_t gtid_124393 = futhark_mc_task_136780->free_gtid_124393;
    int64_t x_124523 = futhark_mc_task_136780->free_x_124523;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136780->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136780->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136780->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136780->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136780->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127942 = {.desc ="mem_127942", .mem =
                                  futhark_mc_task_136780->free_mem_127942,
                                  .size =0, .references =NULL};
    struct memblock mem_127945 = {.desc ="mem_127945", .mem =
                                  futhark_mc_task_136780->free_mem_127945,
                                  .size =0, .references =NULL};
    int64_t iter_133791;
    struct futhark_mc_segmap_parloop_struct_136785
    futhark_mc_segmap_parloop_struct_136785;
    
    futhark_mc_segmap_parloop_struct_136785.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136785.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136785.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136785.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136785.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136785.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136785.free_gtid_124393 = gtid_124393;
    futhark_mc_segmap_parloop_struct_136785.free_x_124523 = x_124523;
    futhark_mc_segmap_parloop_struct_136785.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136785.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136785.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136785.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136785.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136785.free_mem_127942 = mem_127942.mem;
    futhark_mc_segmap_parloop_struct_136785.free_mem_127945 = mem_127945.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136786_task;
    
    futhark_mc_segmap_parloop_136786_task.name =
        "futhark_mc_segmap_parloop_136786";
    futhark_mc_segmap_parloop_136786_task.fn = futhark_mc_segmap_parloop_136786;
    futhark_mc_segmap_parloop_136786_task.args =
        &futhark_mc_segmap_parloop_struct_136785;
    futhark_mc_segmap_parloop_136786_task.iterations = iterations;
    futhark_mc_segmap_parloop_136786_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136786_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136786_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136786_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136786_task);
    
    if (futhark_mc_segmap_parloop_136786_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136786_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136786_total_end -
                 futhark_mc_segmap_parloop_136786_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136786_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136786_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136786_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136784_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136784_end -
                 futhark_mc_segmap_nested_task_136784_start;
        
        ctx->futhark_mc_segmap_nested_task_136784_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136784_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136784_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136777(void *args, int64_t start,
                                            int64_t end, int flat_tid_124392,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136776
    *futhark_mc_segmap_parloop_struct_136776 =
    (struct futhark_mc_segmap_parloop_struct_136776 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136776->ctx;
    uint64_t futhark_mc_segmap_parloop_136777_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136777_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136776->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136776->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136776->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136776->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136776->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136776->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136776->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127979 = {.desc ="mem_127979", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_127979,
                                  .size =0, .references =NULL};
    struct memblock mem_127983 = {.desc ="mem_127983", .mem =
                                  futhark_mc_segmap_parloop_struct_136776->free_mem_127983,
                                  .size =0, .references =NULL};
    size_t mem_127942_cached_sizze_136778 = 0;
    char *mem_127942 = NULL;
    size_t mem_127945_cached_sizze_136779 = 0;
    char *mem_127945 = NULL;
    int64_t iterations = end - start;
    int64_t iter_133485 = start;
    
    if (mem_127942_cached_sizze_136778 < (size_t) bytes_127056) {
        mem_127942 = realloc(mem_127942, bytes_127056);
        mem_127942_cached_sizze_136778 = bytes_127056;
    }
    if (mem_127945_cached_sizze_136779 < (size_t) bytes_127056) {
        mem_127945 = realloc(mem_127945, bytes_127056);
        mem_127945_cached_sizze_136779 = bytes_127056;
    }
    for (; iter_133485 < end; iter_133485++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133707 = m_119474;
        int64_t gtid_124393 = iter_133485;
        int64_t remnant_133708 = iter_133485 - gtid_124393;
        int64_t x_124523 = ((int64_t *) mem_126924.mem)[gtid_124393];
        int64_t flat_tid_124394 = (int64_t) 0;
        int32_t num_tasks_133709;
        int64_t flat_tid_124396 = (int64_t) 0;
        struct futhark_mc_task_136780 futhark_mc_task_136780;
        
        futhark_mc_task_136780.ctx = ctx;
        futhark_mc_task_136780.free_n_119475 = n_119475;
        futhark_mc_task_136780.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136780.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136780.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136780.free_i_119551 = i_119551;
        futhark_mc_task_136780.free_gtid_124393 = gtid_124393;
        futhark_mc_task_136780.free_x_124523 = x_124523;
        futhark_mc_task_136780.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136780.free_mem_127110 = mem_127110.mem;
        futhark_mc_task_136780.free_mem_127114 = mem_127114.mem;
        futhark_mc_task_136780.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136780.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136780.free_mem_127942 = mem_127942;
        futhark_mc_task_136780.free_mem_127945 = mem_127945;
        
        struct scheduler_segop futhark_mc_task_136780_task;
        
        futhark_mc_task_136780_task.args = &futhark_mc_task_136780;
        futhark_mc_task_136780_task.top_level_fn =
            futhark_mc_segmap_task_136781;
        futhark_mc_task_136780_task.name = "futhark_mc_segmap_task_136781";
        futhark_mc_task_136780_task.iterations = t_n_m_119532;
        futhark_mc_task_136780_task.task_time =
            &ctx->futhark_mc_segmap_task_136781_total_time;
        futhark_mc_task_136780_task.task_iter =
            &ctx->futhark_mc_segmap_task_136781_total_iter;
        futhark_mc_task_136780_task.sched = STATIC;
        futhark_mc_task_136780_task.nested_fn =
            futhark_mc_segmap_nested_task_136784;
        
        int futhark_mc_segmap_task_136781_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136780_task);
        
        if (futhark_mc_segmap_task_136781_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_127979.mem + gtid_124393 * t_n_m_119532 * (int64_t) 4,
                mem_127942 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_127983.mem + gtid_124393 * t_n_m_119532 * (int64_t) 4,
                mem_127945 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_127942);
    free(mem_127945);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136777_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136777_end -
                 futhark_mc_segmap_parloop_136777_start;
        
        ctx->futhark_mc_segmap_parloop_136777_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136777_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136777_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136775(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124392 = tid;
    int num_tasks_133359 = info.nsubtasks;
    struct futhark_mc_task_136769 *futhark_mc_task_136769 =
                                  (struct futhark_mc_task_136769 *) args;
    struct futhark_context *ctx = futhark_mc_task_136769->ctx;
    uint64_t futhark_mc_segmap_nested_task_136775_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136775_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136769->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136769->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136769->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136769->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136769->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136769->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136769->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136769->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136769->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136769->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136769->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136769->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136769->free_mem_127865,
                                  .size =0, .references =NULL};
    struct memblock mem_127979 = {.desc ="mem_127979", .mem =
                                  futhark_mc_task_136769->free_mem_127979,
                                  .size =0, .references =NULL};
    struct memblock mem_127983 = {.desc ="mem_127983", .mem =
                                  futhark_mc_task_136769->free_mem_127983,
                                  .size =0, .references =NULL};
    int64_t iter_133485;
    struct futhark_mc_segmap_parloop_struct_136776
    futhark_mc_segmap_parloop_struct_136776;
    
    futhark_mc_segmap_parloop_struct_136776.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136776.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136776.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136776.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136776.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136776.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136776.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136776.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136776.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136776.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136776.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136776.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136776.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136776.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136776.free_mem_127979 = mem_127979.mem;
    futhark_mc_segmap_parloop_struct_136776.free_mem_127983 = mem_127983.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136777_task;
    
    futhark_mc_segmap_parloop_136777_task.name =
        "futhark_mc_segmap_parloop_136777";
    futhark_mc_segmap_parloop_136777_task.fn = futhark_mc_segmap_parloop_136777;
    futhark_mc_segmap_parloop_136777_task.args =
        &futhark_mc_segmap_parloop_struct_136776;
    futhark_mc_segmap_parloop_136777_task.iterations = iterations;
    futhark_mc_segmap_parloop_136777_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136777_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136777_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136777_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136777_task);
    
    if (futhark_mc_segmap_parloop_136777_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136777_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136777_total_end -
                 futhark_mc_segmap_parloop_136777_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136777_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136777_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136777_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136775_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136775_end -
                 futhark_mc_segmap_nested_task_136775_start;
        
        ctx->futhark_mc_segmap_nested_task_136775_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136775_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136775_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136802 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_127992;
    char *free_mem_128046;
};
struct futhark_mc_segmap_parloop_struct_136804 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_127992;
    char *free_mem_128046;
};
static int futhark_mc_segmap_parloop_136805(void *args, int64_t start,
                                            int64_t end, int flat_tid_124758,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136804
    *futhark_mc_segmap_parloop_struct_136804 =
    (struct futhark_mc_segmap_parloop_struct_136804 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136804->ctx;
    uint64_t futhark_mc_segmap_parloop_136805_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136805_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136804->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136804->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136804->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136804->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136804->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136804->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136804->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 =
            futhark_mc_segmap_parloop_struct_136804->free_bytes_127992;
    struct memblock mem_128046 = {.desc ="mem_128046", .mem =
                                  futhark_mc_segmap_parloop_struct_136804->free_mem_128046,
                                  .size =0, .references =NULL};
    size_t mem_128015_cached_sizze_136806 = 0;
    char *mem_128015 = NULL;
    size_t mem_128025_cached_sizze_136807 = 0;
    char *mem_128025 = NULL;
    int64_t iterations = end - start;
    int64_t iter_133921 = start;
    
    if (mem_128015_cached_sizze_136806 < (size_t) bytes_127056) {
        mem_128015 = realloc(mem_128015, bytes_127056);
        mem_128015_cached_sizze_136806 = bytes_127056;
    }
    if (mem_128025_cached_sizze_136807 < (size_t) bytes_127992) {
        mem_128025 = realloc(mem_128025, bytes_127992);
        mem_128025_cached_sizze_136807 = bytes_127992;
    }
    for (; iter_133921 < end; iter_133921++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_133967 = m_119474;
        int64_t gtid_124759 = iter_133921;
        int64_t remnant_133968 = iter_133921 - gtid_124759;
        int64_t x_121083 = ((int64_t *) mem_126924.mem)[gtid_124759];
        
        for (int64_t i_133922 = 0; i_133922 < t_n_m_119532; i_133922++) {
            int64_t x_133924 = ((int64_t *) mem_127110.mem)[gtid_124759 *
                                                            t_n_m_119532 +
                                                            i_133922];
            float x_133925 = ((float *) mem_127114.mem)[gtid_124759 *
                                                        t_n_m_119532 +
                                                        i_133922];
            int64_t min_arg_133926 = mul64(t_jump_119482, i_133922);
            int64_t min_res_133927 = smin64(i_119551, min_arg_133926);
            float defunc_0_f_res_133928 = sitofp_i64_f32(min_res_133927);
            float defunc_2_reduce_res_133930;
            float redout_133933 = 0.0F;
            
            for (int64_t i_133932 = 0; i_133932 < t_window_119478; i_133932++) {
                bool cond_133935 = sle64(x_121083, i_133932);
                float defunc_0_f_res_133936;
                
                if (cond_133935) {
                    defunc_0_f_res_133936 = 0.0F;
                } else {
                    int64_t i_133937 = add64(x_133924, i_133932);
                    float x_133938 = ((float *) mem_126946.mem)[gtid_124759 *
                                                                n_119475 +
                                                                i_133937];
                    float defunc_0_f_res_f_res_133939 = 1.0F + x_133938;
                    
                    defunc_0_f_res_133936 = defunc_0_f_res_f_res_133939;
                }
                
                float defunc_0_f_res_133940;
                
                if (cond_133935) {
                    defunc_0_f_res_133940 = 0.0F;
                } else {
                    int64_t i_133941 = add64(x_133924, i_133932);
                    float x_133942 = ((float *) mem_127865.mem)[gtid_124759 *
                                                                n_119475 +
                                                                i_133941];
                    
                    defunc_0_f_res_133940 = x_133942;
                }
                
                float x_j_133943 = defunc_0_f_res_133936 -
                      defunc_0_f_res_133928;
                float abs_res_133944 = (float) fabs(x_j_133943);
                float tmp1_133945 = abs_res_133944 / x_133925;
                float x_133946 = tmp1_133945 * tmp1_133945;
                float y_133947 = tmp1_133945 * x_133946;
                float tmp2_133948 = 1.0F - y_133947;
                float x_133949 = tmp2_133948 * tmp2_133948;
                float tmp3_133950 = tmp2_133948 * x_133949;
                float tmp4_133951 = defunc_0_f_res_133940 * tmp3_133950;
                float defunc_1_op_res_133952 = tmp4_133951 + redout_133933;
                
                ((float *) mem_128025)[i_133932] = tmp4_133951;
                
                float redout_tmp_133970 = defunc_1_op_res_133952;
                
                redout_133933 = redout_tmp_133970;
            }
            defunc_2_reduce_res_133930 = redout_133933;
            
            float a0_133954 = 1.0F / defunc_2_reduce_res_133930;
            float defunc_2_reduce_res_133955;
            float redout_133957 = 0.0F;
            
            for (int64_t i_133956 = 0; i_133956 < t_window_119478; i_133956++) {
                float x_133958 = ((float *) mem_128025)[i_133956];
                bool cond_133959 = sle64(x_121083, i_133956);
                float defunc_0_f_res_133960;
                
                if (cond_133959) {
                    defunc_0_f_res_133960 = 0.0F;
                } else {
                    int64_t i_133961 = add64(x_133924, i_133956);
                    float x_133962 = ((float *) mem_127861.mem)[gtid_124759 *
                                                                n_119475 +
                                                                i_133961];
                    
                    defunc_0_f_res_133960 = x_133962;
                }
                
                float x_133963 = a0_133954 * x_133958;
                float defunc_9_fit_fun_res_133964 = defunc_0_f_res_133960 *
                      x_133963;
                float defunc_1_op_res_133965 = defunc_9_fit_fun_res_133964 +
                      redout_133957;
                float redout_tmp_133972 = defunc_1_op_res_133965;
                
                redout_133957 = redout_tmp_133972;
            }
            defunc_2_reduce_res_133955 = redout_133957;
            ((float *) mem_128015)[i_133922] = defunc_2_reduce_res_133955;
        }
        memmove(mem_128046.mem + gtid_124759 * t_n_m_119532 * (int64_t) 4,
                mem_128015 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128015);
    free(mem_128025);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136805_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136805_end -
                 futhark_mc_segmap_parloop_136805_start;
        
        ctx->futhark_mc_segmap_parloop_136805_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136805_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136805_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136803(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124758 = tid;
    int num_tasks_133920 = info.nsubtasks;
    struct futhark_mc_task_136802 *futhark_mc_task_136802 =
                                  (struct futhark_mc_task_136802 *) args;
    struct futhark_context *ctx = futhark_mc_task_136802->ctx;
    uint64_t futhark_mc_segmap_task_136803_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136803_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136802->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136802->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136802->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136802->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136802->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136802->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136802->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136802->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136802->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136802->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136802->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136802->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136802->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 = futhark_mc_task_136802->free_bytes_127992;
    struct memblock mem_128046 = {.desc ="mem_128046", .mem =
                                  futhark_mc_task_136802->free_mem_128046,
                                  .size =0, .references =NULL};
    int64_t iter_133921;
    struct futhark_mc_segmap_parloop_struct_136804
    futhark_mc_segmap_parloop_struct_136804;
    
    futhark_mc_segmap_parloop_struct_136804.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136804.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136804.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136804.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136804.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136804.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136804.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136804.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136804.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136804.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136804.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136804.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136804.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136804.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136804.free_bytes_127992 = bytes_127992;
    futhark_mc_segmap_parloop_struct_136804.free_mem_128046 = mem_128046.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136805_task;
    
    futhark_mc_segmap_parloop_136805_task.name =
        "futhark_mc_segmap_parloop_136805";
    futhark_mc_segmap_parloop_136805_task.fn = futhark_mc_segmap_parloop_136805;
    futhark_mc_segmap_parloop_136805_task.args =
        &futhark_mc_segmap_parloop_struct_136804;
    futhark_mc_segmap_parloop_136805_task.iterations = iterations;
    futhark_mc_segmap_parloop_136805_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136805_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136805_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136805_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136805_task);
    
    if (futhark_mc_segmap_parloop_136805_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136805_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136805_total_end -
                 futhark_mc_segmap_parloop_136805_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136805_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136805_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136805_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136803_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136803_end -
                 futhark_mc_segmap_task_136803_start;
        
        ctx->futhark_mc_segmap_task_136803_runs[tid]++;
        ctx->futhark_mc_segmap_task_136803_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136803_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136809 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_127992;
    char *free_mem_128046;
};
struct futhark_mc_task_136812 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_127992;
    char *free_mem_128012;
};
struct futhark_mc_segmap_parloop_struct_136814 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_127992;
    char *free_mem_128012;
};
static int futhark_mc_segmap_parloop_136815(void *args, int64_t start,
                                            int64_t end, int flat_tid_124762,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136814
    *futhark_mc_segmap_parloop_struct_136814 =
    (struct futhark_mc_segmap_parloop_struct_136814 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136814->ctx;
    uint64_t futhark_mc_segmap_parloop_136815_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136815_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136814->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136814->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136814->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136814->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136814->free_i_119551;
    int64_t gtid_124761 =
            futhark_mc_segmap_parloop_struct_136814->free_gtid_124761;
    int64_t x_124817 = futhark_mc_segmap_parloop_struct_136814->free_x_124817;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136814->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136814->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136814->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136814->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136814->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 =
            futhark_mc_segmap_parloop_struct_136814->free_bytes_127992;
    struct memblock mem_128012 = {.desc ="mem_128012", .mem =
                                  futhark_mc_segmap_parloop_struct_136814->free_mem_128012,
                                  .size =0, .references =NULL};
    size_t mem_134019_cached_sizze_136816 = 0;
    char *mem_134019 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134060 = start;
    
    if (mem_134019_cached_sizze_136816 < (size_t) bytes_127992) {
        mem_134019 = realloc(mem_134019, bytes_127992);
        mem_134019_cached_sizze_136816 = bytes_127992;
    }
    for (; iter_134060 < end; iter_134060++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134093 = t_n_m_119532;
        int64_t gtid_124763 = iter_134060;
        int64_t remnant_134094 = iter_134060 - gtid_124763;
        int64_t x_134014 = ((int64_t *) mem_127110.mem)[gtid_124761 *
                                                        t_n_m_119532 +
                                                        gtid_124763];
        float x_134015 = ((float *) mem_127114.mem)[gtid_124761 * t_n_m_119532 +
                                                    gtid_124763];
        int64_t min_arg_134016 = mul64(t_jump_119482, gtid_124763);
        int64_t min_res_134017 = smin64(i_119551, min_arg_134016);
        float defunc_0_f_res_134018 = sitofp_i64_f32(min_res_134017);
        float defunc_2_reduce_res_134021;
        float redout_134062 = 0.0F;
        
        for (int64_t i_134061 = 0; i_134061 < t_window_119478; i_134061++) {
            bool cond_134064 = sle64(x_124817, i_134061);
            float defunc_0_f_res_134065;
            
            if (cond_134064) {
                defunc_0_f_res_134065 = 0.0F;
            } else {
                int64_t i_134066 = add64(x_134014, i_134061);
                float x_134067 = ((float *) mem_126946.mem)[gtid_124761 *
                                                            n_119475 +
                                                            i_134066];
                float defunc_0_f_res_f_res_134068 = 1.0F + x_134067;
                
                defunc_0_f_res_134065 = defunc_0_f_res_f_res_134068;
            }
            
            float defunc_0_f_res_134069;
            
            if (cond_134064) {
                defunc_0_f_res_134069 = 0.0F;
            } else {
                int64_t i_134070 = add64(x_134014, i_134061);
                float x_134071 = ((float *) mem_127865.mem)[gtid_124761 *
                                                            n_119475 +
                                                            i_134070];
                
                defunc_0_f_res_134069 = x_134071;
            }
            
            float x_j_134072 = defunc_0_f_res_134065 - defunc_0_f_res_134018;
            float abs_res_134073 = (float) fabs(x_j_134072);
            float tmp1_134074 = abs_res_134073 / x_134015;
            float x_134075 = tmp1_134074 * tmp1_134074;
            float y_134076 = tmp1_134074 * x_134075;
            float tmp2_134077 = 1.0F - y_134076;
            float x_134078 = tmp2_134077 * tmp2_134077;
            float tmp3_134079 = tmp2_134077 * x_134078;
            float tmp4_134080 = defunc_0_f_res_134069 * tmp3_134079;
            float defunc_1_op_res_134081 = tmp4_134080 + redout_134062;
            
            ((float *) mem_134019)[i_134061] = tmp4_134080;
            
            float redout_tmp_134095 = defunc_1_op_res_134081;
            
            redout_134062 = redout_tmp_134095;
        }
        defunc_2_reduce_res_134021 = redout_134062;
        
        float a0_134045 = 1.0F / defunc_2_reduce_res_134021;
        float defunc_2_reduce_res_134046;
        float redout_134084 = 0.0F;
        
        for (int64_t i_134083 = 0; i_134083 < t_window_119478; i_134083++) {
            float x_134085 = ((float *) mem_134019)[i_134083];
            bool cond_134086 = sle64(x_124817, i_134083);
            float defunc_0_f_res_134087;
            
            if (cond_134086) {
                defunc_0_f_res_134087 = 0.0F;
            } else {
                int64_t i_134088 = add64(x_134014, i_134083);
                float x_134089 = ((float *) mem_127861.mem)[gtid_124761 *
                                                            n_119475 +
                                                            i_134088];
                
                defunc_0_f_res_134087 = x_134089;
            }
            
            float x_134090 = a0_134045 * x_134085;
            float defunc_9_fit_fun_res_134091 = defunc_0_f_res_134087 *
                  x_134090;
            float defunc_1_op_res_134092 = defunc_9_fit_fun_res_134091 +
                  redout_134084;
            float redout_tmp_134097 = defunc_1_op_res_134092;
            
            redout_134084 = redout_tmp_134097;
        }
        defunc_2_reduce_res_134046 = redout_134084;
        ((float *) mem_128012.mem)[gtid_124763] = defunc_2_reduce_res_134046;
    }
    
  cleanup:
    { }
    free(mem_134019);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136815_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136815_end -
                 futhark_mc_segmap_parloop_136815_start;
        
        ctx->futhark_mc_segmap_parloop_136815_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136815_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136815_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136813(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124762 = tid;
    int num_tasks_134059 = info.nsubtasks;
    struct futhark_mc_task_136812 *futhark_mc_task_136812 =
                                  (struct futhark_mc_task_136812 *) args;
    struct futhark_context *ctx = futhark_mc_task_136812->ctx;
    uint64_t futhark_mc_segmap_task_136813_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136813_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136812->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136812->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136812->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136812->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136812->free_i_119551;
    int64_t gtid_124761 = futhark_mc_task_136812->free_gtid_124761;
    int64_t x_124817 = futhark_mc_task_136812->free_x_124817;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136812->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136812->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136812->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136812->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136812->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 = futhark_mc_task_136812->free_bytes_127992;
    struct memblock mem_128012 = {.desc ="mem_128012", .mem =
                                  futhark_mc_task_136812->free_mem_128012,
                                  .size =0, .references =NULL};
    int64_t iter_134060;
    struct futhark_mc_segmap_parloop_struct_136814
    futhark_mc_segmap_parloop_struct_136814;
    
    futhark_mc_segmap_parloop_struct_136814.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136814.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136814.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136814.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136814.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136814.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136814.free_gtid_124761 = gtid_124761;
    futhark_mc_segmap_parloop_struct_136814.free_x_124817 = x_124817;
    futhark_mc_segmap_parloop_struct_136814.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136814.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136814.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136814.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136814.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136814.free_bytes_127992 = bytes_127992;
    futhark_mc_segmap_parloop_struct_136814.free_mem_128012 = mem_128012.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136815_task;
    
    futhark_mc_segmap_parloop_136815_task.name =
        "futhark_mc_segmap_parloop_136815";
    futhark_mc_segmap_parloop_136815_task.fn = futhark_mc_segmap_parloop_136815;
    futhark_mc_segmap_parloop_136815_task.args =
        &futhark_mc_segmap_parloop_struct_136814;
    futhark_mc_segmap_parloop_136815_task.iterations = iterations;
    futhark_mc_segmap_parloop_136815_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136815_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136815_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136815_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136815_task);
    
    if (futhark_mc_segmap_parloop_136815_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136815_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136815_total_end -
                 futhark_mc_segmap_parloop_136815_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136815_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136815_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136815_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136813_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136813_end -
                 futhark_mc_segmap_task_136813_start;
        
        ctx->futhark_mc_segmap_task_136813_runs[tid]++;
        ctx->futhark_mc_segmap_task_136813_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136813_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136818 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_127992;
    char *free_mem_128012;
};
struct futhark_mc_task_136821 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_133974;
    float free_x_133975;
    float free_defunc_0_f_res_133978;
    float *retval_defunc_2_reduce_res_133980;
    char *retval_mem_133979;
};
struct futhark_mc_segred_stage_1_parloop_struct_136824 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_133974;
    float free_x_133975;
    float free_defunc_0_f_res_133978;
    char *free_mem_133979;
    char *free_reduce_stage_1_tid_res_arr_mem_134132;
};
static int futhark_mc_segred_stage_1_parloop_136825(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124766,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136824
    *futhark_mc_segred_stage_1_parloop_struct_136824 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136824 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136824->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136825_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136825_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136824->free_n_119475;
    int64_t gtid_124761 =
            futhark_mc_segred_stage_1_parloop_struct_136824->free_gtid_124761;
    int64_t x_124817 =
            futhark_mc_segred_stage_1_parloop_struct_136824->free_x_124817;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136824->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136824->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133974 =
            futhark_mc_segred_stage_1_parloop_struct_136824->free_x_133974;
    float x_133975 =
          futhark_mc_segred_stage_1_parloop_struct_136824->free_x_133975;
    float defunc_0_f_res_133978 =
          futhark_mc_segred_stage_1_parloop_struct_136824->free_defunc_0_f_res_133978;
    struct memblock mem_133979 = {.desc ="mem_133979", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136824->free_mem_133979,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_134132 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134132",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136824->free_reduce_stage_1_tid_res_arr_mem_134132,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_134134 = start;
    float x_134099;
    float x_134100;
    float local_acc_134135 = 0.0F;
    
    for (; iter_134134 < end; iter_134134++) {
        int64_t gtid_124767 = iter_134134;
        bool cond_134102 = sle64(x_124817, gtid_124767);
        float defunc_0_f_res_134103;
        
        if (cond_134102) {
            defunc_0_f_res_134103 = 0.0F;
        } else {
            int64_t i_134104 = add64(gtid_124767, x_133974);
            float x_134105 = ((float *) mem_126946.mem)[gtid_124761 * n_119475 +
                                                        i_134104];
            float defunc_0_f_res_f_res_134106 = 1.0F + x_134105;
            
            defunc_0_f_res_134103 = defunc_0_f_res_f_res_134106;
        }
        
        float defunc_0_f_res_134107;
        
        if (cond_134102) {
            defunc_0_f_res_134107 = 0.0F;
        } else {
            int64_t i_134108 = add64(gtid_124767, x_133974);
            float x_134109 = ((float *) mem_127865.mem)[gtid_124761 * n_119475 +
                                                        i_134108];
            
            defunc_0_f_res_134107 = x_134109;
        }
        
        float x_j_134110 = defunc_0_f_res_134103 - defunc_0_f_res_133978;
        float abs_res_134111 = (float) fabs(x_j_134110);
        float tmp1_134112 = abs_res_134111 / x_133975;
        float x_134113 = tmp1_134112 * tmp1_134112;
        float y_134114 = tmp1_134112 * x_134113;
        float tmp2_134115 = 1.0F - y_134114;
        float x_134116 = tmp2_134115 * tmp2_134115;
        float tmp3_134117 = tmp2_134115 * x_134116;
        float tmp4_134118 = defunc_0_f_res_134107 * tmp3_134117;
        
        // save map-out results
        {
            ((float *) mem_133979.mem)[gtid_124767] = tmp4_134118;
        }
        // Load accum params
        {
            x_134099 = local_acc_134135;
        }
        // Load next params
        {
            x_134100 = tmp4_134118;
        }
        // Red body
        {
            float defunc_1_op_res_134101 = x_134099 + x_134100;
            
            local_acc_134135 = defunc_1_op_res_134101;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_134132.mem)[flat_tid_124766] =
        local_acc_134135;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136825_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136825_end -
                 futhark_mc_segred_stage_1_parloop_136825_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136825_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136825_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136825_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136822(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124766 = tid;
    int num_tasks_134131 = info.nsubtasks;
    struct futhark_mc_task_136821 *futhark_mc_task_136821 =
                                  (struct futhark_mc_task_136821 *) args;
    struct futhark_context *ctx = futhark_mc_task_136821->ctx;
    uint64_t futhark_mc_segred_task_136822_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136822_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136821->free_n_119475;
    int64_t gtid_124761 = futhark_mc_task_136821->free_gtid_124761;
    int64_t x_124817 = futhark_mc_task_136821->free_x_124817;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136821->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136821->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_133974 = futhark_mc_task_136821->free_x_133974;
    float x_133975 = futhark_mc_task_136821->free_x_133975;
    float defunc_0_f_res_133978 =
          futhark_mc_task_136821->free_defunc_0_f_res_133978;
    float defunc_2_reduce_res_133980 =
          *futhark_mc_task_136821->retval_defunc_2_reduce_res_133980;
    struct memblock mem_133979 = {.desc ="mem_133979", .mem =
                                  futhark_mc_task_136821->retval_mem_133979,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_134132_cached_sizze_136823 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134132 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_134132_cached_sizze_136823 <
        (size_t) ((int64_t) 4 * num_tasks_134131)) {
        reduce_stage_1_tid_res_arr_mem_134132 =
            realloc(reduce_stage_1_tid_res_arr_mem_134132, (int64_t) 4 *
                    num_tasks_134131);
        reduce_stage_1_tid_res_arr_mem_134132_cached_sizze_136823 =
            (int64_t) 4 * num_tasks_134131;
    }
    
    int64_t iter_134134;
    struct futhark_mc_segred_stage_1_parloop_struct_136824
    futhark_mc_segred_stage_1_parloop_struct_136824;
    
    futhark_mc_segred_stage_1_parloop_struct_136824.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_gtid_124761 =
        gtid_124761;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_x_124817 = x_124817;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_x_133974 = x_133974;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_x_133975 = x_133975;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_defunc_0_f_res_133978 =
        defunc_0_f_res_133978;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_mem_133979 =
        mem_133979.mem;
    futhark_mc_segred_stage_1_parloop_struct_136824.free_reduce_stage_1_tid_res_arr_mem_134132 =
        reduce_stage_1_tid_res_arr_mem_134132;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136825_task;
    
    futhark_mc_segred_stage_1_parloop_136825_task.name =
        "futhark_mc_segred_stage_1_parloop_136825";
    futhark_mc_segred_stage_1_parloop_136825_task.fn =
        futhark_mc_segred_stage_1_parloop_136825;
    futhark_mc_segred_stage_1_parloop_136825_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136824;
    futhark_mc_segred_stage_1_parloop_136825_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136825_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136825_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136825_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136825_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136825_task);
    
    if (futhark_mc_segred_stage_1_parloop_136825_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136825_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136825_total_end -
                 futhark_mc_segred_stage_1_parloop_136825_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136825_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136825_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136825_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_133980 = 0.0F;
    }
    
    float x_134136;
    float x_134137;
    
    for (int32_t i_134139 = 0; i_134139 < num_tasks_134131; i_134139++) {
        flat_tid_124766 = i_134139;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_134136 = defunc_2_reduce_res_133980;
            }
            // load next params
            {
                x_134137 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134132)[flat_tid_124766];
            }
            // red body
            {
                float defunc_1_op_res_134138 = x_134136 + x_134137;
                
                defunc_2_reduce_res_133980 = defunc_1_op_res_134138;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_134132);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136822_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136822_end -
                 futhark_mc_segred_task_136822_start;
        
        ctx->futhark_mc_segred_task_136822_runs[tid]++;
        ctx->futhark_mc_segred_task_136822_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136822_iter[tid] += iterations;
    }
    *futhark_mc_task_136821->retval_defunc_2_reduce_res_133980 =
        defunc_2_reduce_res_133980;
    futhark_mc_task_136821->retval_mem_133979 = mem_133979.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136826 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_127861;
    int64_t free_x_133974;
    char *free_mem_133979;
    float free_a0_134002;
    float *retval_defunc_2_reduce_res_134003;
};
struct futhark_mc_segred_stage_1_parloop_struct_136829 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124761;
    int64_t free_x_124817;
    char *free_mem_127861;
    int64_t free_x_133974;
    char *free_mem_133979;
    float free_a0_134002;
    char *free_reduce_stage_1_tid_res_arr_mem_134141;
};
static int futhark_mc_segred_stage_1_parloop_136830(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124768,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136829
    *futhark_mc_segred_stage_1_parloop_struct_136829 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136829 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136829->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136830_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136830_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136829->free_n_119475;
    int64_t gtid_124761 =
            futhark_mc_segred_stage_1_parloop_struct_136829->free_gtid_124761;
    int64_t x_124817 =
            futhark_mc_segred_stage_1_parloop_struct_136829->free_x_124817;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136829->free_mem_127861,
                                  .size =0, .references =NULL};
    int64_t x_133974 =
            futhark_mc_segred_stage_1_parloop_struct_136829->free_x_133974;
    struct memblock mem_133979 = {.desc ="mem_133979", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136829->free_mem_133979,
                                  .size =0, .references =NULL};
    float a0_134002 =
          futhark_mc_segred_stage_1_parloop_struct_136829->free_a0_134002;
    struct memblock reduce_stage_1_tid_res_arr_mem_134141 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134141",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136829->free_reduce_stage_1_tid_res_arr_mem_134141,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_134143 = start;
    float x_134119;
    float x_134120;
    float local_acc_134144 = 0.0F;
    
    for (; iter_134143 < end; iter_134143++) {
        int64_t gtid_124769 = iter_134143;
        float x_134122 = ((float *) mem_133979.mem)[gtid_124769];
        bool cond_134123 = sle64(x_124817, gtid_124769);
        float defunc_0_f_res_134124;
        
        if (cond_134123) {
            defunc_0_f_res_134124 = 0.0F;
        } else {
            int64_t i_134125 = add64(gtid_124769, x_133974);
            float x_134126 = ((float *) mem_127861.mem)[gtid_124761 * n_119475 +
                                                        i_134125];
            
            defunc_0_f_res_134124 = x_134126;
        }
        
        float x_134127 = a0_134002 * x_134122;
        float defunc_9_fit_fun_res_134128 = defunc_0_f_res_134124 * x_134127;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_134119 = local_acc_134144;
        }
        // Load next params
        {
            x_134120 = defunc_9_fit_fun_res_134128;
        }
        // Red body
        {
            float defunc_1_op_res_134121 = x_134119 + x_134120;
            
            local_acc_134144 = defunc_1_op_res_134121;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_134141.mem)[flat_tid_124768] =
        local_acc_134144;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136830_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136830_end -
                 futhark_mc_segred_stage_1_parloop_136830_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136830_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136830_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136830_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136827(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124768 = tid;
    int num_tasks_134140 = info.nsubtasks;
    struct futhark_mc_task_136826 *futhark_mc_task_136826 =
                                  (struct futhark_mc_task_136826 *) args;
    struct futhark_context *ctx = futhark_mc_task_136826->ctx;
    uint64_t futhark_mc_segred_task_136827_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136827_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136826->free_n_119475;
    int64_t gtid_124761 = futhark_mc_task_136826->free_gtid_124761;
    int64_t x_124817 = futhark_mc_task_136826->free_x_124817;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136826->free_mem_127861,
                                  .size =0, .references =NULL};
    int64_t x_133974 = futhark_mc_task_136826->free_x_133974;
    struct memblock mem_133979 = {.desc ="mem_133979", .mem =
                                  futhark_mc_task_136826->free_mem_133979,
                                  .size =0, .references =NULL};
    float a0_134002 = futhark_mc_task_136826->free_a0_134002;
    float defunc_2_reduce_res_134003 =
          *futhark_mc_task_136826->retval_defunc_2_reduce_res_134003;
    size_t reduce_stage_1_tid_res_arr_mem_134141_cached_sizze_136828 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134141 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_134141_cached_sizze_136828 <
        (size_t) ((int64_t) 4 * num_tasks_134140)) {
        reduce_stage_1_tid_res_arr_mem_134141 =
            realloc(reduce_stage_1_tid_res_arr_mem_134141, (int64_t) 4 *
                    num_tasks_134140);
        reduce_stage_1_tid_res_arr_mem_134141_cached_sizze_136828 =
            (int64_t) 4 * num_tasks_134140;
    }
    
    int64_t iter_134143;
    struct futhark_mc_segred_stage_1_parloop_struct_136829
    futhark_mc_segred_stage_1_parloop_struct_136829;
    
    futhark_mc_segred_stage_1_parloop_struct_136829.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_gtid_124761 =
        gtid_124761;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_x_124817 = x_124817;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_mem_127861 =
        mem_127861.mem;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_x_133974 = x_133974;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_mem_133979 =
        mem_133979.mem;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_a0_134002 = a0_134002;
    futhark_mc_segred_stage_1_parloop_struct_136829.free_reduce_stage_1_tid_res_arr_mem_134141 =
        reduce_stage_1_tid_res_arr_mem_134141;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136830_task;
    
    futhark_mc_segred_stage_1_parloop_136830_task.name =
        "futhark_mc_segred_stage_1_parloop_136830";
    futhark_mc_segred_stage_1_parloop_136830_task.fn =
        futhark_mc_segred_stage_1_parloop_136830;
    futhark_mc_segred_stage_1_parloop_136830_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136829;
    futhark_mc_segred_stage_1_parloop_136830_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136830_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136830_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136830_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136830_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136830_task);
    
    if (futhark_mc_segred_stage_1_parloop_136830_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136830_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136830_total_end -
                 futhark_mc_segred_stage_1_parloop_136830_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136830_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136830_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136830_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_134003 = 0.0F;
    }
    
    float x_134145;
    float x_134146;
    
    for (int32_t i_134148 = 0; i_134148 < num_tasks_134140; i_134148++) {
        flat_tid_124768 = i_134148;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_134145 = defunc_2_reduce_res_134003;
            }
            // load next params
            {
                x_134146 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134141)[flat_tid_124768];
            }
            // red body
            {
                float defunc_1_op_res_134147 = x_134145 + x_134146;
                
                defunc_2_reduce_res_134003 = defunc_1_op_res_134147;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_134141);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136827_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136827_end -
                 futhark_mc_segred_task_136827_start;
        
        ctx->futhark_mc_segred_task_136827_runs[tid]++;
        ctx->futhark_mc_segred_task_136827_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136827_iter[tid] += iterations;
    }
    *futhark_mc_task_136826->retval_defunc_2_reduce_res_134003 =
        defunc_2_reduce_res_134003;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136819(void *args, int64_t start,
                                            int64_t end, int flat_tid_124764,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136818
    *futhark_mc_segmap_parloop_struct_136818 =
    (struct futhark_mc_segmap_parloop_struct_136818 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136818->ctx;
    uint64_t futhark_mc_segmap_parloop_136819_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136819_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136818->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136818->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136818->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136818->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136818->free_i_119551;
    int64_t gtid_124761 =
            futhark_mc_segmap_parloop_struct_136818->free_gtid_124761;
    int64_t x_124817 = futhark_mc_segmap_parloop_struct_136818->free_x_124817;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136818->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136818->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136818->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136818->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136818->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 =
            futhark_mc_segmap_parloop_struct_136818->free_bytes_127992;
    struct memblock mem_128012 = {.desc ="mem_128012", .mem =
                                  futhark_mc_segmap_parloop_struct_136818->free_mem_128012,
                                  .size =0, .references =NULL};
    size_t mem_133979_cached_sizze_136820 = 0;
    char *mem_133979 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134098 = start;
    
    if (mem_133979_cached_sizze_136820 < (size_t) bytes_127992) {
        mem_133979 = realloc(mem_133979, bytes_127992);
        mem_133979_cached_sizze_136820 = bytes_127992;
    }
    for (; iter_134098 < end; iter_134098++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134129 = t_n_m_119532;
        int64_t gtid_124765 = iter_134098;
        int64_t remnant_134130 = iter_134098 - gtid_124765;
        int64_t x_133974 = ((int64_t *) mem_127110.mem)[gtid_124761 *
                                                        t_n_m_119532 +
                                                        gtid_124765];
        float x_133975 = ((float *) mem_127114.mem)[gtid_124761 * t_n_m_119532 +
                                                    gtid_124765];
        int64_t min_arg_133976 = mul64(t_jump_119482, gtid_124765);
        int64_t min_res_133977 = smin64(i_119551, min_arg_133976);
        float defunc_0_f_res_133978 = sitofp_i64_f32(min_res_133977);
        float defunc_2_reduce_res_133980;
        int64_t flat_tid_124766 = (int64_t) 0;
        int32_t num_tasks_134131;
        struct futhark_mc_task_136821 futhark_mc_task_136821;
        
        futhark_mc_task_136821.ctx = ctx;
        futhark_mc_task_136821.free_n_119475 = n_119475;
        futhark_mc_task_136821.free_gtid_124761 = gtid_124761;
        futhark_mc_task_136821.free_x_124817 = x_124817;
        futhark_mc_task_136821.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136821.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136821.free_x_133974 = x_133974;
        futhark_mc_task_136821.free_x_133975 = x_133975;
        futhark_mc_task_136821.free_defunc_0_f_res_133978 =
            defunc_0_f_res_133978;
        futhark_mc_task_136821.retval_defunc_2_reduce_res_133980 =
            &defunc_2_reduce_res_133980;
        futhark_mc_task_136821.retval_mem_133979 = mem_133979;
        
        struct scheduler_segop futhark_mc_task_136821_task;
        
        futhark_mc_task_136821_task.args = &futhark_mc_task_136821;
        futhark_mc_task_136821_task.top_level_fn =
            futhark_mc_segred_task_136822;
        futhark_mc_task_136821_task.name = "futhark_mc_segred_task_136822";
        futhark_mc_task_136821_task.iterations = t_window_119478;
        futhark_mc_task_136821_task.task_time =
            &ctx->futhark_mc_segred_task_136822_total_time;
        futhark_mc_task_136821_task.task_iter =
            &ctx->futhark_mc_segred_task_136822_total_iter;
        futhark_mc_task_136821_task.sched = STATIC;
        futhark_mc_task_136821_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136822_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136821_task);
        
        if (futhark_mc_segred_task_136822_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_134002 = 1.0F / defunc_2_reduce_res_133980;
        float defunc_2_reduce_res_134003;
        int64_t flat_tid_124768 = (int64_t) 0;
        int32_t num_tasks_134140;
        struct futhark_mc_task_136826 futhark_mc_task_136826;
        
        futhark_mc_task_136826.ctx = ctx;
        futhark_mc_task_136826.free_n_119475 = n_119475;
        futhark_mc_task_136826.free_gtid_124761 = gtid_124761;
        futhark_mc_task_136826.free_x_124817 = x_124817;
        futhark_mc_task_136826.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136826.free_x_133974 = x_133974;
        futhark_mc_task_136826.free_mem_133979 = mem_133979;
        futhark_mc_task_136826.free_a0_134002 = a0_134002;
        futhark_mc_task_136826.retval_defunc_2_reduce_res_134003 =
            &defunc_2_reduce_res_134003;
        
        struct scheduler_segop futhark_mc_task_136826_task;
        
        futhark_mc_task_136826_task.args = &futhark_mc_task_136826;
        futhark_mc_task_136826_task.top_level_fn =
            futhark_mc_segred_task_136827;
        futhark_mc_task_136826_task.name = "futhark_mc_segred_task_136827";
        futhark_mc_task_136826_task.iterations = t_window_119478;
        futhark_mc_task_136826_task.task_time =
            &ctx->futhark_mc_segred_task_136827_total_time;
        futhark_mc_task_136826_task.task_iter =
            &ctx->futhark_mc_segred_task_136827_total_iter;
        futhark_mc_task_136826_task.sched = STATIC;
        futhark_mc_task_136826_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136827_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136826_task);
        
        if (futhark_mc_segred_task_136827_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_128012.mem)[gtid_124765] = defunc_2_reduce_res_134003;
    }
    
  cleanup:
    { }
    free(mem_133979);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136819_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136819_end -
                 futhark_mc_segmap_parloop_136819_start;
        
        ctx->futhark_mc_segmap_parloop_136819_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136819_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136819_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136817(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124764 = tid;
    int num_tasks_134059 = info.nsubtasks;
    struct futhark_mc_task_136812 *futhark_mc_task_136812 =
                                  (struct futhark_mc_task_136812 *) args;
    struct futhark_context *ctx = futhark_mc_task_136812->ctx;
    uint64_t futhark_mc_segmap_nested_task_136817_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136817_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136812->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136812->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136812->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136812->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136812->free_i_119551;
    int64_t gtid_124761 = futhark_mc_task_136812->free_gtid_124761;
    int64_t x_124817 = futhark_mc_task_136812->free_x_124817;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136812->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136812->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136812->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136812->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136812->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 = futhark_mc_task_136812->free_bytes_127992;
    struct memblock mem_128012 = {.desc ="mem_128012", .mem =
                                  futhark_mc_task_136812->free_mem_128012,
                                  .size =0, .references =NULL};
    int64_t iter_134098;
    struct futhark_mc_segmap_parloop_struct_136818
    futhark_mc_segmap_parloop_struct_136818;
    
    futhark_mc_segmap_parloop_struct_136818.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136818.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136818.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136818.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136818.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136818.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136818.free_gtid_124761 = gtid_124761;
    futhark_mc_segmap_parloop_struct_136818.free_x_124817 = x_124817;
    futhark_mc_segmap_parloop_struct_136818.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136818.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136818.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136818.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136818.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136818.free_bytes_127992 = bytes_127992;
    futhark_mc_segmap_parloop_struct_136818.free_mem_128012 = mem_128012.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136819_task;
    
    futhark_mc_segmap_parloop_136819_task.name =
        "futhark_mc_segmap_parloop_136819";
    futhark_mc_segmap_parloop_136819_task.fn = futhark_mc_segmap_parloop_136819;
    futhark_mc_segmap_parloop_136819_task.args =
        &futhark_mc_segmap_parloop_struct_136818;
    futhark_mc_segmap_parloop_136819_task.iterations = iterations;
    futhark_mc_segmap_parloop_136819_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136819_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136819_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136819_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136819_task);
    
    if (futhark_mc_segmap_parloop_136819_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136819_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136819_total_end -
                 futhark_mc_segmap_parloop_136819_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136819_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136819_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136819_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136817_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136817_end -
                 futhark_mc_segmap_nested_task_136817_start;
        
        ctx->futhark_mc_segmap_nested_task_136817_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136817_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136817_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136810(void *args, int64_t start,
                                            int64_t end, int flat_tid_124760,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136809
    *futhark_mc_segmap_parloop_struct_136809 =
    (struct futhark_mc_segmap_parloop_struct_136809 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136809->ctx;
    uint64_t futhark_mc_segmap_parloop_136810_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136810_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136809->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136809->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136809->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136809->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136809->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136809->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136809->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 =
            futhark_mc_segmap_parloop_struct_136809->free_bytes_127992;
    struct memblock mem_128046 = {.desc ="mem_128046", .mem =
                                  futhark_mc_segmap_parloop_struct_136809->free_mem_128046,
                                  .size =0, .references =NULL};
    size_t mem_128012_cached_sizze_136811 = 0;
    char *mem_128012 = NULL;
    int64_t iterations = end - start;
    int64_t iter_133973 = start;
    
    if (mem_128012_cached_sizze_136811 < (size_t) bytes_127056) {
        mem_128012 = realloc(mem_128012, bytes_127056);
        mem_128012_cached_sizze_136811 = bytes_127056;
    }
    for (; iter_133973 < end; iter_133973++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134057 = m_119474;
        int64_t gtid_124761 = iter_133973;
        int64_t remnant_134058 = iter_133973 - gtid_124761;
        int64_t x_124817 = ((int64_t *) mem_126924.mem)[gtid_124761];
        int64_t flat_tid_124762 = (int64_t) 0;
        int32_t num_tasks_134059;
        int64_t flat_tid_124764 = (int64_t) 0;
        struct futhark_mc_task_136812 futhark_mc_task_136812;
        
        futhark_mc_task_136812.ctx = ctx;
        futhark_mc_task_136812.free_n_119475 = n_119475;
        futhark_mc_task_136812.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136812.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136812.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136812.free_i_119551 = i_119551;
        futhark_mc_task_136812.free_gtid_124761 = gtid_124761;
        futhark_mc_task_136812.free_x_124817 = x_124817;
        futhark_mc_task_136812.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136812.free_mem_127110 = mem_127110.mem;
        futhark_mc_task_136812.free_mem_127114 = mem_127114.mem;
        futhark_mc_task_136812.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136812.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136812.free_bytes_127992 = bytes_127992;
        futhark_mc_task_136812.free_mem_128012 = mem_128012;
        
        struct scheduler_segop futhark_mc_task_136812_task;
        
        futhark_mc_task_136812_task.args = &futhark_mc_task_136812;
        futhark_mc_task_136812_task.top_level_fn =
            futhark_mc_segmap_task_136813;
        futhark_mc_task_136812_task.name = "futhark_mc_segmap_task_136813";
        futhark_mc_task_136812_task.iterations = t_n_m_119532;
        futhark_mc_task_136812_task.task_time =
            &ctx->futhark_mc_segmap_task_136813_total_time;
        futhark_mc_task_136812_task.task_iter =
            &ctx->futhark_mc_segmap_task_136813_total_iter;
        futhark_mc_task_136812_task.sched = STATIC;
        futhark_mc_task_136812_task.nested_fn =
            futhark_mc_segmap_nested_task_136817;
        
        int futhark_mc_segmap_task_136813_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136812_task);
        
        if (futhark_mc_segmap_task_136813_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128046.mem + gtid_124761 * t_n_m_119532 * (int64_t) 4,
                mem_128012 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128012);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136810_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136810_end -
                 futhark_mc_segmap_parloop_136810_start;
        
        ctx->futhark_mc_segmap_parloop_136810_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136810_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136810_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136808(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124760 = tid;
    int num_tasks_133920 = info.nsubtasks;
    struct futhark_mc_task_136802 *futhark_mc_task_136802 =
                                  (struct futhark_mc_task_136802 *) args;
    struct futhark_context *ctx = futhark_mc_task_136802->ctx;
    uint64_t futhark_mc_segmap_nested_task_136808_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136808_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136802->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136802->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136802->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136802->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136802->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136802->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136802->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136802->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136802->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136802->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136802->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136802->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136802->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_127992 = futhark_mc_task_136802->free_bytes_127992;
    struct memblock mem_128046 = {.desc ="mem_128046", .mem =
                                  futhark_mc_task_136802->free_mem_128046,
                                  .size =0, .references =NULL};
    int64_t iter_133973;
    struct futhark_mc_segmap_parloop_struct_136809
    futhark_mc_segmap_parloop_struct_136809;
    
    futhark_mc_segmap_parloop_struct_136809.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136809.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136809.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136809.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136809.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136809.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136809.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136809.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136809.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136809.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136809.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136809.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136809.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136809.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136809.free_bytes_127992 = bytes_127992;
    futhark_mc_segmap_parloop_struct_136809.free_mem_128046 = mem_128046.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136810_task;
    
    futhark_mc_segmap_parloop_136810_task.name =
        "futhark_mc_segmap_parloop_136810";
    futhark_mc_segmap_parloop_136810_task.fn = futhark_mc_segmap_parloop_136810;
    futhark_mc_segmap_parloop_136810_task.args =
        &futhark_mc_segmap_parloop_struct_136809;
    futhark_mc_segmap_parloop_136810_task.iterations = iterations;
    futhark_mc_segmap_parloop_136810_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136810_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136810_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136810_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136810_task);
    
    if (futhark_mc_segmap_parloop_136810_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136810_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136810_total_end -
                 futhark_mc_segmap_parloop_136810_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136810_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136810_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136810_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136808_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136808_end -
                 futhark_mc_segmap_nested_task_136808_start;
        
        ctx->futhark_mc_segmap_nested_task_136808_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136808_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136808_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136831 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128047;
    char *free_mem_128152;
    char *free_mem_128156;
};
struct futhark_mc_segmap_parloop_struct_136833 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128047;
    char *free_mem_128152;
    char *free_mem_128156;
};
static int futhark_mc_segmap_parloop_136834(void *args, int64_t start,
                                            int64_t end, int flat_tid_124903,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136833
    *futhark_mc_segmap_parloop_struct_136833 =
    (struct futhark_mc_segmap_parloop_struct_136833 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136833->ctx;
    uint64_t futhark_mc_segmap_parloop_136834_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136834_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136833->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136833->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136833->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136833->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136833->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136833->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136833->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 =
            futhark_mc_segmap_parloop_struct_136833->free_bytes_128047;
    struct memblock mem_128152 = {.desc ="mem_128152", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_128152,
                                  .size =0, .references =NULL};
    struct memblock mem_128156 = {.desc ="mem_128156", .mem =
                                  futhark_mc_segmap_parloop_struct_136833->free_mem_128156,
                                  .size =0, .references =NULL};
    size_t mem_128091_cached_sizze_136835 = 0;
    char *mem_128091 = NULL;
    size_t mem_128094_cached_sizze_136836 = 0;
    char *mem_128094 = NULL;
    size_t mem_128111_cached_sizze_136837 = 0;
    char *mem_128111 = NULL;
    size_t mem_128114_cached_sizze_136838 = 0;
    char *mem_128114 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134150 = start;
    
    if (mem_128091_cached_sizze_136835 < (size_t) bytes_127056) {
        mem_128091 = realloc(mem_128091, bytes_127056);
        mem_128091_cached_sizze_136835 = bytes_127056;
    }
    if (mem_128094_cached_sizze_136836 < (size_t) bytes_127056) {
        mem_128094 = realloc(mem_128094, bytes_127056);
        mem_128094_cached_sizze_136836 = bytes_127056;
    }
    if (mem_128111_cached_sizze_136837 < (size_t) bytes_128047) {
        mem_128111 = realloc(mem_128111, bytes_128047);
        mem_128111_cached_sizze_136837 = bytes_128047;
    }
    if (mem_128114_cached_sizze_136838 < (size_t) bytes_128047) {
        mem_128114 = realloc(mem_128114, bytes_128047);
        mem_128114_cached_sizze_136838 = bytes_128047;
    }
    for (; iter_134150 < end; iter_134150++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134227 = m_119474;
        int64_t gtid_124904 = iter_134150;
        int64_t remnant_134228 = iter_134150 - gtid_124904;
        int64_t x_121140 = ((int64_t *) mem_126924.mem)[gtid_124904];
        
        for (int64_t i_134151 = 0; i_134151 < t_n_m_119532; i_134151++) {
            int64_t x_134154 = ((int64_t *) mem_127110.mem)[gtid_124904 *
                                                            t_n_m_119532 +
                                                            i_134151];
            float x_134155 = ((float *) mem_127114.mem)[gtid_124904 *
                                                        t_n_m_119532 +
                                                        i_134151];
            int64_t min_arg_134156 = mul64(t_jump_119482, i_134151);
            int64_t min_res_134157 = smin64(i_119551, min_arg_134156);
            float defunc_0_f_res_134158 = sitofp_i64_f32(min_res_134157);
            float defunc_2_reduce_res_134161;
            float defunc_2_reduce_res_134162;
            float defunc_2_reduce_res_134163;
            float redout_134167;
            float redout_134168;
            float redout_134169;
            
            redout_134167 = 0.0F;
            redout_134168 = 0.0F;
            redout_134169 = 0.0F;
            for (int64_t i_134166 = 0; i_134166 < t_window_119478; i_134166++) {
                bool cond_134172 = sle64(x_121140, i_134166);
                float defunc_0_f_res_134173;
                
                if (cond_134172) {
                    defunc_0_f_res_134173 = 0.0F;
                } else {
                    int64_t i_134174 = add64(x_134154, i_134166);
                    float x_134175 = ((float *) mem_126946.mem)[gtid_124904 *
                                                                n_119475 +
                                                                i_134174];
                    float defunc_0_f_res_f_res_134176 = 1.0F + x_134175;
                    
                    defunc_0_f_res_134173 = defunc_0_f_res_f_res_134176;
                }
                
                float defunc_0_f_res_134177;
                
                if (cond_134172) {
                    defunc_0_f_res_134177 = 0.0F;
                } else {
                    int64_t i_134178 = add64(x_134154, i_134166);
                    float x_134179 = ((float *) mem_127865.mem)[gtid_124904 *
                                                                n_119475 +
                                                                i_134178];
                    
                    defunc_0_f_res_134177 = x_134179;
                }
                
                float x_j_134180 = defunc_0_f_res_134173 -
                      defunc_0_f_res_134158;
                float abs_res_134181 = (float) fabs(x_j_134180);
                float tmp1_134182 = abs_res_134181 / x_134155;
                float x_134183 = tmp1_134182 * tmp1_134182;
                float y_134184 = tmp1_134182 * x_134183;
                float tmp2_134185 = 1.0F - y_134184;
                float x_134186 = tmp2_134185 * tmp2_134185;
                float tmp3_134187 = tmp2_134185 * x_134186;
                float tmp4_134188 = defunc_0_f_res_134177 * tmp3_134187;
                float defunc_1_f_res_134189 = x_j_134180 * tmp4_134188;
                float defunc_1_f_res_134190 = x_j_134180 *
                      defunc_1_f_res_134189;
                float defunc_1_op_res_134191 = tmp4_134188 + redout_134167;
                float defunc_1_op_res_134192 = defunc_1_f_res_134189 +
                      redout_134168;
                float defunc_1_op_res_134193 = defunc_1_f_res_134190 +
                      redout_134169;
                
                ((float *) mem_128111)[i_134166] = defunc_1_f_res_134189;
                ((float *) mem_128114)[i_134166] = tmp4_134188;
                
                float redout_tmp_134231 = defunc_1_op_res_134191;
                float redout_tmp_134232 = defunc_1_op_res_134192;
                float redout_tmp_134233 = defunc_1_op_res_134193;
                
                redout_134167 = redout_tmp_134231;
                redout_134168 = redout_tmp_134232;
                redout_134169 = redout_tmp_134233;
            }
            defunc_2_reduce_res_134161 = redout_134167;
            defunc_2_reduce_res_134162 = redout_134168;
            defunc_2_reduce_res_134163 = redout_134169;
            
            float x_134196 = defunc_2_reduce_res_134161 *
                  defunc_2_reduce_res_134163;
            float y_134197 = defunc_2_reduce_res_134162 *
                  defunc_2_reduce_res_134162;
            float y_134198 = x_134196 - y_134197;
            float det1_134199 = 1.0F / y_134198;
            float a11_134200 = defunc_2_reduce_res_134163 * det1_134199;
            float negate_arg_134201 = defunc_2_reduce_res_134162 * det1_134199;
            float b11_134202 = 0.0F - negate_arg_134201;
            float c11_134203 = defunc_2_reduce_res_134161 * det1_134199;
            float defunc_2_reduce_res_134204;
            float defunc_2_reduce_res_134205;
            float redout_134207;
            float redout_134208;
            
            redout_134207 = 0.0F;
            redout_134208 = 0.0F;
            for (int64_t i_134206 = 0; i_134206 < t_window_119478; i_134206++) {
                float x_134209 = ((float *) mem_128114)[i_134206];
                float x_134210 = ((float *) mem_128111)[i_134206];
                bool cond_134211 = sle64(x_121140, i_134206);
                float defunc_0_f_res_134212;
                
                if (cond_134211) {
                    defunc_0_f_res_134212 = 0.0F;
                } else {
                    int64_t i_134213 = add64(x_134154, i_134206);
                    float x_134214 = ((float *) mem_127861.mem)[gtid_124904 *
                                                                n_119475 +
                                                                i_134213];
                    
                    defunc_0_f_res_134212 = x_134214;
                }
                
                float x_134215 = a11_134200 * x_134209;
                float y_134216 = b11_134202 * x_134210;
                float x_134217 = x_134215 + y_134216;
                float defunc_9_fit_fun_res_134218 = defunc_0_f_res_134212 *
                      x_134217;
                float x_134219 = b11_134202 * x_134209;
                float y_134220 = c11_134203 * x_134210;
                float x_134221 = x_134219 + y_134220;
                float defunc_9_slope_fun_res_134222 = defunc_0_f_res_134212 *
                      x_134221;
                float defunc_1_op_res_134223 = defunc_9_fit_fun_res_134218 +
                      redout_134207;
                float defunc_1_op_res_134224 = defunc_9_slope_fun_res_134222 +
                      redout_134208;
                float redout_tmp_134236 = defunc_1_op_res_134223;
                float redout_tmp_134237 = defunc_1_op_res_134224;
                
                redout_134207 = redout_tmp_134236;
                redout_134208 = redout_tmp_134237;
            }
            defunc_2_reduce_res_134204 = redout_134207;
            defunc_2_reduce_res_134205 = redout_134208;
            ((float *) mem_128091)[i_134151] = defunc_2_reduce_res_134204;
            ((float *) mem_128094)[i_134151] = defunc_2_reduce_res_134205;
        }
        memmove(mem_128152.mem + gtid_124904 * t_n_m_119532 * (int64_t) 4,
                mem_128091 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_128156.mem + gtid_124904 * t_n_m_119532 * (int64_t) 4,
                mem_128094 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128091);
    free(mem_128094);
    free(mem_128111);
    free(mem_128114);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136834_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136834_end -
                 futhark_mc_segmap_parloop_136834_start;
        
        ctx->futhark_mc_segmap_parloop_136834_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136834_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136834_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136832(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124903 = tid;
    int num_tasks_134149 = info.nsubtasks;
    struct futhark_mc_task_136831 *futhark_mc_task_136831 =
                                  (struct futhark_mc_task_136831 *) args;
    struct futhark_context *ctx = futhark_mc_task_136831->ctx;
    uint64_t futhark_mc_segmap_task_136832_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136832_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136831->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136831->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136831->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136831->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136831->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136831->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136831->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136831->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136831->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136831->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136831->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136831->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136831->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 = futhark_mc_task_136831->free_bytes_128047;
    struct memblock mem_128152 = {.desc ="mem_128152", .mem =
                                  futhark_mc_task_136831->free_mem_128152,
                                  .size =0, .references =NULL};
    struct memblock mem_128156 = {.desc ="mem_128156", .mem =
                                  futhark_mc_task_136831->free_mem_128156,
                                  .size =0, .references =NULL};
    int64_t iter_134150;
    struct futhark_mc_segmap_parloop_struct_136833
    futhark_mc_segmap_parloop_struct_136833;
    
    futhark_mc_segmap_parloop_struct_136833.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136833.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136833.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136833.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136833.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136833.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136833.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136833.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136833.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136833.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136833.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136833.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136833.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136833.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136833.free_bytes_128047 = bytes_128047;
    futhark_mc_segmap_parloop_struct_136833.free_mem_128152 = mem_128152.mem;
    futhark_mc_segmap_parloop_struct_136833.free_mem_128156 = mem_128156.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136834_task;
    
    futhark_mc_segmap_parloop_136834_task.name =
        "futhark_mc_segmap_parloop_136834";
    futhark_mc_segmap_parloop_136834_task.fn = futhark_mc_segmap_parloop_136834;
    futhark_mc_segmap_parloop_136834_task.args =
        &futhark_mc_segmap_parloop_struct_136833;
    futhark_mc_segmap_parloop_136834_task.iterations = iterations;
    futhark_mc_segmap_parloop_136834_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136834_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136834_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136834_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136834_task);
    
    if (futhark_mc_segmap_parloop_136834_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136834_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136834_total_end -
                 futhark_mc_segmap_parloop_136834_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136834_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136834_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136834_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136832_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136832_end -
                 futhark_mc_segmap_task_136832_start;
        
        ctx->futhark_mc_segmap_task_136832_runs[tid]++;
        ctx->futhark_mc_segmap_task_136832_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136832_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136840 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128047;
    char *free_mem_128152;
    char *free_mem_128156;
};
struct futhark_mc_task_136844 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128047;
    char *free_mem_128085;
    char *free_mem_128088;
};
struct futhark_mc_segmap_parloop_struct_136846 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128047;
    char *free_mem_128085;
    char *free_mem_128088;
};
static int futhark_mc_segmap_parloop_136847(void *args, int64_t start,
                                            int64_t end, int flat_tid_124907,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136846
    *futhark_mc_segmap_parloop_struct_136846 =
    (struct futhark_mc_segmap_parloop_struct_136846 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136846->ctx;
    uint64_t futhark_mc_segmap_parloop_136847_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136847_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136846->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136846->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136846->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136846->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136846->free_i_119551;
    int64_t gtid_124906 =
            futhark_mc_segmap_parloop_struct_136846->free_gtid_124906;
    int64_t x_124991 = futhark_mc_segmap_parloop_struct_136846->free_x_124991;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 =
            futhark_mc_segmap_parloop_struct_136846->free_bytes_128047;
    struct memblock mem_128085 = {.desc ="mem_128085", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_128085,
                                  .size =0, .references =NULL};
    struct memblock mem_128088 = {.desc ="mem_128088", .mem =
                                  futhark_mc_segmap_parloop_struct_136846->free_mem_128088,
                                  .size =0, .references =NULL};
    size_t mem_134314_cached_sizze_136848 = 0;
    char *mem_134314 = NULL;
    size_t mem_134316_cached_sizze_136849 = 0;
    char *mem_134316 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134385 = start;
    
    if (mem_134314_cached_sizze_136848 < (size_t) bytes_128047) {
        mem_134314 = realloc(mem_134314, bytes_128047);
        mem_134314_cached_sizze_136848 = bytes_128047;
    }
    if (mem_134316_cached_sizze_136849 < (size_t) bytes_128047) {
        mem_134316 = realloc(mem_134316, bytes_128047);
        mem_134316_cached_sizze_136849 = bytes_128047;
    }
    for (; iter_134385 < end; iter_134385++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134435 = t_n_m_119532;
        int64_t gtid_124908 = iter_134385;
        int64_t remnant_134436 = iter_134385 - gtid_124908;
        int64_t x_134309 = ((int64_t *) mem_127110.mem)[gtid_124906 *
                                                        t_n_m_119532 +
                                                        gtid_124908];
        float x_134310 = ((float *) mem_127114.mem)[gtid_124906 * t_n_m_119532 +
                                                    gtid_124908];
        int64_t min_arg_134311 = mul64(t_jump_119482, gtid_124908);
        int64_t min_res_134312 = smin64(i_119551, min_arg_134311);
        float defunc_0_f_res_134313 = sitofp_i64_f32(min_res_134312);
        float defunc_2_reduce_res_134318;
        float defunc_2_reduce_res_134319;
        float defunc_2_reduce_res_134320;
        float redout_134387;
        float redout_134388;
        float redout_134389;
        
        redout_134387 = 0.0F;
        redout_134388 = 0.0F;
        redout_134389 = 0.0F;
        for (int64_t i_134386 = 0; i_134386 < t_window_119478; i_134386++) {
            bool cond_134392 = sle64(x_124991, i_134386);
            float defunc_0_f_res_134393;
            
            if (cond_134392) {
                defunc_0_f_res_134393 = 0.0F;
            } else {
                int64_t i_134394 = add64(x_134309, i_134386);
                float x_134395 = ((float *) mem_126946.mem)[gtid_124906 *
                                                            n_119475 +
                                                            i_134394];
                float defunc_0_f_res_f_res_134396 = 1.0F + x_134395;
                
                defunc_0_f_res_134393 = defunc_0_f_res_f_res_134396;
            }
            
            float defunc_0_f_res_134397;
            
            if (cond_134392) {
                defunc_0_f_res_134397 = 0.0F;
            } else {
                int64_t i_134398 = add64(x_134309, i_134386);
                float x_134399 = ((float *) mem_127865.mem)[gtid_124906 *
                                                            n_119475 +
                                                            i_134398];
                
                defunc_0_f_res_134397 = x_134399;
            }
            
            float x_j_134400 = defunc_0_f_res_134393 - defunc_0_f_res_134313;
            float abs_res_134401 = (float) fabs(x_j_134400);
            float tmp1_134402 = abs_res_134401 / x_134310;
            float x_134403 = tmp1_134402 * tmp1_134402;
            float y_134404 = tmp1_134402 * x_134403;
            float tmp2_134405 = 1.0F - y_134404;
            float x_134406 = tmp2_134405 * tmp2_134405;
            float tmp3_134407 = tmp2_134405 * x_134406;
            float tmp4_134408 = defunc_0_f_res_134397 * tmp3_134407;
            float defunc_1_f_res_134409 = x_j_134400 * tmp4_134408;
            float defunc_1_f_res_134410 = x_j_134400 * defunc_1_f_res_134409;
            float defunc_1_op_res_134411 = tmp4_134408 + redout_134387;
            float defunc_1_op_res_134412 = defunc_1_f_res_134409 +
                  redout_134388;
            float defunc_1_op_res_134413 = defunc_1_f_res_134410 +
                  redout_134389;
            
            ((float *) mem_134314)[i_134386] = defunc_1_f_res_134409;
            ((float *) mem_134316)[i_134386] = tmp4_134408;
            
            float redout_tmp_134437 = defunc_1_op_res_134411;
            float redout_tmp_134438 = defunc_1_op_res_134412;
            float redout_tmp_134439 = defunc_1_op_res_134413;
            
            redout_134387 = redout_tmp_134437;
            redout_134388 = redout_tmp_134438;
            redout_134389 = redout_tmp_134439;
        }
        defunc_2_reduce_res_134318 = redout_134387;
        defunc_2_reduce_res_134319 = redout_134388;
        defunc_2_reduce_res_134320 = redout_134389;
        
        float x_134353 = defunc_2_reduce_res_134318 *
              defunc_2_reduce_res_134320;
        float y_134354 = defunc_2_reduce_res_134319 *
              defunc_2_reduce_res_134319;
        float y_134355 = x_134353 - y_134354;
        float det1_134356 = 1.0F / y_134355;
        float a11_134357 = defunc_2_reduce_res_134320 * det1_134356;
        float negate_arg_134358 = defunc_2_reduce_res_134319 * det1_134356;
        float b11_134359 = 0.0F - negate_arg_134358;
        float c11_134360 = defunc_2_reduce_res_134318 * det1_134356;
        float defunc_2_reduce_res_134361;
        float defunc_2_reduce_res_134362;
        float redout_134417;
        float redout_134418;
        
        redout_134417 = 0.0F;
        redout_134418 = 0.0F;
        for (int64_t i_134416 = 0; i_134416 < t_window_119478; i_134416++) {
            float x_134419 = ((float *) mem_134316)[i_134416];
            float x_134420 = ((float *) mem_134314)[i_134416];
            bool cond_134421 = sle64(x_124991, i_134416);
            float defunc_0_f_res_134422;
            
            if (cond_134421) {
                defunc_0_f_res_134422 = 0.0F;
            } else {
                int64_t i_134423 = add64(x_134309, i_134416);
                float x_134424 = ((float *) mem_127861.mem)[gtid_124906 *
                                                            n_119475 +
                                                            i_134423];
                
                defunc_0_f_res_134422 = x_134424;
            }
            
            float x_134425 = a11_134357 * x_134419;
            float y_134426 = b11_134359 * x_134420;
            float x_134427 = x_134425 + y_134426;
            float defunc_9_fit_fun_res_134428 = defunc_0_f_res_134422 *
                  x_134427;
            float x_134429 = b11_134359 * x_134419;
            float y_134430 = c11_134360 * x_134420;
            float x_134431 = x_134429 + y_134430;
            float defunc_9_slope_fun_res_134432 = defunc_0_f_res_134422 *
                  x_134431;
            float defunc_1_op_res_134433 = defunc_9_fit_fun_res_134428 +
                  redout_134417;
            float defunc_1_op_res_134434 = defunc_9_slope_fun_res_134432 +
                  redout_134418;
            float redout_tmp_134442 = defunc_1_op_res_134433;
            float redout_tmp_134443 = defunc_1_op_res_134434;
            
            redout_134417 = redout_tmp_134442;
            redout_134418 = redout_tmp_134443;
        }
        defunc_2_reduce_res_134361 = redout_134417;
        defunc_2_reduce_res_134362 = redout_134418;
        ((float *) mem_128085.mem)[gtid_124908] = defunc_2_reduce_res_134361;
        ((float *) mem_128088.mem)[gtid_124908] = defunc_2_reduce_res_134362;
    }
    
  cleanup:
    { }
    free(mem_134314);
    free(mem_134316);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136847_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136847_end -
                 futhark_mc_segmap_parloop_136847_start;
        
        ctx->futhark_mc_segmap_parloop_136847_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136847_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136847_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136845(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124907 = tid;
    int num_tasks_134384 = info.nsubtasks;
    struct futhark_mc_task_136844 *futhark_mc_task_136844 =
                                  (struct futhark_mc_task_136844 *) args;
    struct futhark_context *ctx = futhark_mc_task_136844->ctx;
    uint64_t futhark_mc_segmap_task_136845_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136845_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136844->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136844->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136844->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136844->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136844->free_i_119551;
    int64_t gtid_124906 = futhark_mc_task_136844->free_gtid_124906;
    int64_t x_124991 = futhark_mc_task_136844->free_x_124991;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136844->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136844->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136844->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136844->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136844->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 = futhark_mc_task_136844->free_bytes_128047;
    struct memblock mem_128085 = {.desc ="mem_128085", .mem =
                                  futhark_mc_task_136844->free_mem_128085,
                                  .size =0, .references =NULL};
    struct memblock mem_128088 = {.desc ="mem_128088", .mem =
                                  futhark_mc_task_136844->free_mem_128088,
                                  .size =0, .references =NULL};
    int64_t iter_134385;
    struct futhark_mc_segmap_parloop_struct_136846
    futhark_mc_segmap_parloop_struct_136846;
    
    futhark_mc_segmap_parloop_struct_136846.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136846.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136846.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136846.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136846.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136846.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136846.free_gtid_124906 = gtid_124906;
    futhark_mc_segmap_parloop_struct_136846.free_x_124991 = x_124991;
    futhark_mc_segmap_parloop_struct_136846.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136846.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136846.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136846.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136846.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136846.free_bytes_128047 = bytes_128047;
    futhark_mc_segmap_parloop_struct_136846.free_mem_128085 = mem_128085.mem;
    futhark_mc_segmap_parloop_struct_136846.free_mem_128088 = mem_128088.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136847_task;
    
    futhark_mc_segmap_parloop_136847_task.name =
        "futhark_mc_segmap_parloop_136847";
    futhark_mc_segmap_parloop_136847_task.fn = futhark_mc_segmap_parloop_136847;
    futhark_mc_segmap_parloop_136847_task.args =
        &futhark_mc_segmap_parloop_struct_136846;
    futhark_mc_segmap_parloop_136847_task.iterations = iterations;
    futhark_mc_segmap_parloop_136847_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136847_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136847_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136847_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136847_task);
    
    if (futhark_mc_segmap_parloop_136847_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136847_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136847_total_end -
                 futhark_mc_segmap_parloop_136847_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136847_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136847_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136847_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136845_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136845_end -
                 futhark_mc_segmap_task_136845_start;
        
        ctx->futhark_mc_segmap_task_136845_runs[tid]++;
        ctx->futhark_mc_segmap_task_136845_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136845_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136851 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128047;
    char *free_mem_128085;
    char *free_mem_128088;
};
struct futhark_mc_task_136855 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_134239;
    float free_x_134240;
    float free_defunc_0_f_res_134243;
    float *retval_defunc_2_reduce_res_134246;
    float *retval_defunc_2_reduce_res_134247;
    float *retval_defunc_2_reduce_res_134248;
    char *retval_mem_134244;
    char *retval_mem_134245;
};
struct futhark_mc_segred_stage_1_parloop_struct_136860 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_134239;
    float free_x_134240;
    float free_defunc_0_f_res_134243;
    char *free_mem_134244;
    char *free_mem_134245;
    char *free_reduce_stage_1_tid_res_arr_mem_134496;
    char *free_reduce_stage_1_tid_res_arr_mem_134498;
    char *free_reduce_stage_1_tid_res_arr_mem_134500;
};
static int futhark_mc_segred_stage_1_parloop_136861(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124911,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136860
    *futhark_mc_segred_stage_1_parloop_struct_136860 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136860 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136860->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136861_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136861_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136860->free_n_119475;
    int64_t gtid_124906 =
            futhark_mc_segred_stage_1_parloop_struct_136860->free_gtid_124906;
    int64_t x_124991 =
            futhark_mc_segred_stage_1_parloop_struct_136860->free_x_124991;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136860->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136860->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_134239 =
            futhark_mc_segred_stage_1_parloop_struct_136860->free_x_134239;
    float x_134240 =
          futhark_mc_segred_stage_1_parloop_struct_136860->free_x_134240;
    float defunc_0_f_res_134243 =
          futhark_mc_segred_stage_1_parloop_struct_136860->free_defunc_0_f_res_134243;
    struct memblock mem_134244 = {.desc ="mem_134244", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136860->free_mem_134244,
                                  .size =0, .references =NULL};
    struct memblock mem_134245 = {.desc ="mem_134245", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136860->free_mem_134245,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_134496 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134496",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136860->free_reduce_stage_1_tid_res_arr_mem_134496,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_134498 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134498",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136860->free_reduce_stage_1_tid_res_arr_mem_134498,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_134500 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134500",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136860->free_reduce_stage_1_tid_res_arr_mem_134500,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_134502 = start;
    float x_134445;
    float x_134446;
    float x_134448;
    float x_134449;
    float x_134451;
    float x_134452;
    float local_acc_134503 = 0.0F;
    float local_acc_134504 = 0.0F;
    float local_acc_134505 = 0.0F;
    
    for (; iter_134502 < end; iter_134502++) {
        int64_t gtid_124912 = iter_134502;
        bool cond_134454 = sle64(x_124991, gtid_124912);
        float defunc_0_f_res_134455;
        
        if (cond_134454) {
            defunc_0_f_res_134455 = 0.0F;
        } else {
            int64_t i_134456 = add64(gtid_124912, x_134239);
            float x_134457 = ((float *) mem_126946.mem)[gtid_124906 * n_119475 +
                                                        i_134456];
            float defunc_0_f_res_f_res_134458 = 1.0F + x_134457;
            
            defunc_0_f_res_134455 = defunc_0_f_res_f_res_134458;
        }
        
        float defunc_0_f_res_134459;
        
        if (cond_134454) {
            defunc_0_f_res_134459 = 0.0F;
        } else {
            int64_t i_134460 = add64(gtid_124912, x_134239);
            float x_134461 = ((float *) mem_127865.mem)[gtid_124906 * n_119475 +
                                                        i_134460];
            
            defunc_0_f_res_134459 = x_134461;
        }
        
        float x_j_134462 = defunc_0_f_res_134455 - defunc_0_f_res_134243;
        float abs_res_134463 = (float) fabs(x_j_134462);
        float tmp1_134464 = abs_res_134463 / x_134240;
        float x_134465 = tmp1_134464 * tmp1_134464;
        float y_134466 = tmp1_134464 * x_134465;
        float tmp2_134467 = 1.0F - y_134466;
        float x_134468 = tmp2_134467 * tmp2_134467;
        float tmp3_134469 = tmp2_134467 * x_134468;
        float tmp4_134470 = defunc_0_f_res_134459 * tmp3_134469;
        float defunc_1_f_res_134471 = x_j_134462 * tmp4_134470;
        float defunc_1_f_res_134472 = x_j_134462 * defunc_1_f_res_134471;
        
        // save map-out results
        {
            ((float *) mem_134244.mem)[gtid_124912] = defunc_1_f_res_134471;
            ((float *) mem_134245.mem)[gtid_124912] = tmp4_134470;
        }
        // Load accum params
        {
            x_134445 = local_acc_134503;
        }
        // Load next params
        {
            x_134446 = tmp4_134470;
        }
        // Red body
        {
            float defunc_1_op_res_134447 = x_134445 + x_134446;
            
            local_acc_134503 = defunc_1_op_res_134447;
        }
        // Load accum params
        {
            x_134448 = local_acc_134504;
        }
        // Load next params
        {
            x_134449 = defunc_1_f_res_134471;
        }
        // Red body
        {
            float defunc_1_op_res_134450 = x_134448 + x_134449;
            
            local_acc_134504 = defunc_1_op_res_134450;
        }
        // Load accum params
        {
            x_134451 = local_acc_134505;
        }
        // Load next params
        {
            x_134452 = defunc_1_f_res_134472;
        }
        // Red body
        {
            float defunc_1_op_res_134453 = x_134451 + x_134452;
            
            local_acc_134505 = defunc_1_op_res_134453;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_134496.mem)[flat_tid_124911] =
        local_acc_134503;
    ((float *) reduce_stage_1_tid_res_arr_mem_134498.mem)[flat_tid_124911] =
        local_acc_134504;
    ((float *) reduce_stage_1_tid_res_arr_mem_134500.mem)[flat_tid_124911] =
        local_acc_134505;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136861_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136861_end -
                 futhark_mc_segred_stage_1_parloop_136861_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136861_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136861_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136861_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136856(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124911 = tid;
    int num_tasks_134495 = info.nsubtasks;
    struct futhark_mc_task_136855 *futhark_mc_task_136855 =
                                  (struct futhark_mc_task_136855 *) args;
    struct futhark_context *ctx = futhark_mc_task_136855->ctx;
    uint64_t futhark_mc_segred_task_136856_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136856_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136855->free_n_119475;
    int64_t gtid_124906 = futhark_mc_task_136855->free_gtid_124906;
    int64_t x_124991 = futhark_mc_task_136855->free_x_124991;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136855->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136855->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_134239 = futhark_mc_task_136855->free_x_134239;
    float x_134240 = futhark_mc_task_136855->free_x_134240;
    float defunc_0_f_res_134243 =
          futhark_mc_task_136855->free_defunc_0_f_res_134243;
    float defunc_2_reduce_res_134246 =
          *futhark_mc_task_136855->retval_defunc_2_reduce_res_134246;
    float defunc_2_reduce_res_134247 =
          *futhark_mc_task_136855->retval_defunc_2_reduce_res_134247;
    float defunc_2_reduce_res_134248 =
          *futhark_mc_task_136855->retval_defunc_2_reduce_res_134248;
    struct memblock mem_134244 = {.desc ="mem_134244", .mem =
                                  futhark_mc_task_136855->retval_mem_134244,
                                  .size =0, .references =NULL};
    struct memblock mem_134245 = {.desc ="mem_134245", .mem =
                                  futhark_mc_task_136855->retval_mem_134245,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_134496_cached_sizze_136857 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134496 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_134498_cached_sizze_136858 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134498 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_134500_cached_sizze_136859 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134500 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_134496_cached_sizze_136857 <
        (size_t) ((int64_t) 4 * num_tasks_134495)) {
        reduce_stage_1_tid_res_arr_mem_134496 =
            realloc(reduce_stage_1_tid_res_arr_mem_134496, (int64_t) 4 *
                    num_tasks_134495);
        reduce_stage_1_tid_res_arr_mem_134496_cached_sizze_136857 =
            (int64_t) 4 * num_tasks_134495;
    }
    if (reduce_stage_1_tid_res_arr_mem_134498_cached_sizze_136858 <
        (size_t) ((int64_t) 4 * num_tasks_134495)) {
        reduce_stage_1_tid_res_arr_mem_134498 =
            realloc(reduce_stage_1_tid_res_arr_mem_134498, (int64_t) 4 *
                    num_tasks_134495);
        reduce_stage_1_tid_res_arr_mem_134498_cached_sizze_136858 =
            (int64_t) 4 * num_tasks_134495;
    }
    if (reduce_stage_1_tid_res_arr_mem_134500_cached_sizze_136859 <
        (size_t) ((int64_t) 4 * num_tasks_134495)) {
        reduce_stage_1_tid_res_arr_mem_134500 =
            realloc(reduce_stage_1_tid_res_arr_mem_134500, (int64_t) 4 *
                    num_tasks_134495);
        reduce_stage_1_tid_res_arr_mem_134500_cached_sizze_136859 =
            (int64_t) 4 * num_tasks_134495;
    }
    
    int64_t iter_134502;
    struct futhark_mc_segred_stage_1_parloop_struct_136860
    futhark_mc_segred_stage_1_parloop_struct_136860;
    
    futhark_mc_segred_stage_1_parloop_struct_136860.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_gtid_124906 =
        gtid_124906;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_x_124991 = x_124991;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_mem_126946 =
        mem_126946.mem;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_mem_127865 =
        mem_127865.mem;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_x_134239 = x_134239;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_x_134240 = x_134240;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_defunc_0_f_res_134243 =
        defunc_0_f_res_134243;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_mem_134244 =
        mem_134244.mem;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_mem_134245 =
        mem_134245.mem;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_reduce_stage_1_tid_res_arr_mem_134496 =
        reduce_stage_1_tid_res_arr_mem_134496;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_reduce_stage_1_tid_res_arr_mem_134498 =
        reduce_stage_1_tid_res_arr_mem_134498;
    futhark_mc_segred_stage_1_parloop_struct_136860.free_reduce_stage_1_tid_res_arr_mem_134500 =
        reduce_stage_1_tid_res_arr_mem_134500;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136861_task;
    
    futhark_mc_segred_stage_1_parloop_136861_task.name =
        "futhark_mc_segred_stage_1_parloop_136861";
    futhark_mc_segred_stage_1_parloop_136861_task.fn =
        futhark_mc_segred_stage_1_parloop_136861;
    futhark_mc_segred_stage_1_parloop_136861_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136860;
    futhark_mc_segred_stage_1_parloop_136861_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136861_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136861_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136861_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136861_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136861_task);
    
    if (futhark_mc_segred_stage_1_parloop_136861_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136861_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136861_total_end -
                 futhark_mc_segred_stage_1_parloop_136861_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136861_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136861_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136861_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_134246 = 0.0F;
        defunc_2_reduce_res_134247 = 0.0F;
        defunc_2_reduce_res_134248 = 0.0F;
    }
    
    float x_134506;
    float x_134507;
    float x_134509;
    float x_134510;
    float x_134512;
    float x_134513;
    
    for (int32_t i_134515 = 0; i_134515 < num_tasks_134495; i_134515++) {
        flat_tid_124911 = i_134515;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_134506 = defunc_2_reduce_res_134246;
            }
            // load next params
            {
                x_134507 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134496)[flat_tid_124911];
            }
            // red body
            {
                float defunc_1_op_res_134508 = x_134506 + x_134507;
                
                defunc_2_reduce_res_134246 = defunc_1_op_res_134508;
            }
            // load acc params
            {
                x_134509 = defunc_2_reduce_res_134247;
            }
            // load next params
            {
                x_134510 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134498)[flat_tid_124911];
            }
            // red body
            {
                float defunc_1_op_res_134511 = x_134509 + x_134510;
                
                defunc_2_reduce_res_134247 = defunc_1_op_res_134511;
            }
            // load acc params
            {
                x_134512 = defunc_2_reduce_res_134248;
            }
            // load next params
            {
                x_134513 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134500)[flat_tid_124911];
            }
            // red body
            {
                float defunc_1_op_res_134514 = x_134512 + x_134513;
                
                defunc_2_reduce_res_134248 = defunc_1_op_res_134514;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_134496);
    free(reduce_stage_1_tid_res_arr_mem_134498);
    free(reduce_stage_1_tid_res_arr_mem_134500);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136856_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136856_end -
                 futhark_mc_segred_task_136856_start;
        
        ctx->futhark_mc_segred_task_136856_runs[tid]++;
        ctx->futhark_mc_segred_task_136856_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136856_iter[tid] += iterations;
    }
    *futhark_mc_task_136855->retval_defunc_2_reduce_res_134246 =
        defunc_2_reduce_res_134246;
    *futhark_mc_task_136855->retval_defunc_2_reduce_res_134247 =
        defunc_2_reduce_res_134247;
    *futhark_mc_task_136855->retval_defunc_2_reduce_res_134248 =
        defunc_2_reduce_res_134248;
    futhark_mc_task_136855->retval_mem_134244 = mem_134244.mem;
    futhark_mc_task_136855->retval_mem_134245 = mem_134245.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136862 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_127861;
    int64_t free_x_134239;
    char *free_mem_134244;
    char *free_mem_134245;
    float free_a11_134283;
    float free_b11_134285;
    float free_c11_134286;
    float *retval_defunc_2_reduce_res_134287;
    float *retval_defunc_2_reduce_res_134288;
};
struct futhark_mc_segred_stage_1_parloop_struct_136866 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_124906;
    int64_t free_x_124991;
    char *free_mem_127861;
    int64_t free_x_134239;
    char *free_mem_134244;
    char *free_mem_134245;
    float free_a11_134283;
    float free_b11_134285;
    float free_c11_134286;
    char *free_reduce_stage_1_tid_res_arr_mem_134517;
    char *free_reduce_stage_1_tid_res_arr_mem_134519;
};
static int futhark_mc_segred_stage_1_parloop_136867(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_124913,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136866
    *futhark_mc_segred_stage_1_parloop_struct_136866 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136866 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136866->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136867_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136867_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136866->free_n_119475;
    int64_t gtid_124906 =
            futhark_mc_segred_stage_1_parloop_struct_136866->free_gtid_124906;
    int64_t x_124991 =
            futhark_mc_segred_stage_1_parloop_struct_136866->free_x_124991;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136866->free_mem_127861,
                                  .size =0, .references =NULL};
    int64_t x_134239 =
            futhark_mc_segred_stage_1_parloop_struct_136866->free_x_134239;
    struct memblock mem_134244 = {.desc ="mem_134244", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136866->free_mem_134244,
                                  .size =0, .references =NULL};
    struct memblock mem_134245 = {.desc ="mem_134245", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136866->free_mem_134245,
                                  .size =0, .references =NULL};
    float a11_134283 =
          futhark_mc_segred_stage_1_parloop_struct_136866->free_a11_134283;
    float b11_134285 =
          futhark_mc_segred_stage_1_parloop_struct_136866->free_b11_134285;
    float c11_134286 =
          futhark_mc_segred_stage_1_parloop_struct_136866->free_c11_134286;
    struct memblock reduce_stage_1_tid_res_arr_mem_134517 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134517",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136866->free_reduce_stage_1_tid_res_arr_mem_134517,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_134519 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_134519",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136866->free_reduce_stage_1_tid_res_arr_mem_134519,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_134521 = start;
    float x_134473;
    float x_134474;
    float x_134476;
    float x_134477;
    float local_acc_134522 = 0.0F;
    float local_acc_134523 = 0.0F;
    
    for (; iter_134521 < end; iter_134521++) {
        int64_t gtid_124914 = iter_134521;
        float x_134479 = ((float *) mem_134245.mem)[gtid_124914];
        float x_134480 = ((float *) mem_134244.mem)[gtid_124914];
        bool cond_134481 = sle64(x_124991, gtid_124914);
        float defunc_0_f_res_134482;
        
        if (cond_134481) {
            defunc_0_f_res_134482 = 0.0F;
        } else {
            int64_t i_134483 = add64(gtid_124914, x_134239);
            float x_134484 = ((float *) mem_127861.mem)[gtid_124906 * n_119475 +
                                                        i_134483];
            
            defunc_0_f_res_134482 = x_134484;
        }
        
        float x_134485 = a11_134283 * x_134479;
        float y_134486 = b11_134285 * x_134480;
        float x_134487 = x_134485 + y_134486;
        float defunc_9_fit_fun_res_134488 = defunc_0_f_res_134482 * x_134487;
        float x_134489 = b11_134285 * x_134479;
        float y_134490 = c11_134286 * x_134480;
        float x_134491 = x_134489 + y_134490;
        float defunc_9_slope_fun_res_134492 = defunc_0_f_res_134482 * x_134491;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_134473 = local_acc_134522;
        }
        // Load next params
        {
            x_134474 = defunc_9_fit_fun_res_134488;
        }
        // Red body
        {
            float defunc_1_op_res_134475 = x_134473 + x_134474;
            
            local_acc_134522 = defunc_1_op_res_134475;
        }
        // Load accum params
        {
            x_134476 = local_acc_134523;
        }
        // Load next params
        {
            x_134477 = defunc_9_slope_fun_res_134492;
        }
        // Red body
        {
            float defunc_1_op_res_134478 = x_134476 + x_134477;
            
            local_acc_134523 = defunc_1_op_res_134478;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_134517.mem)[flat_tid_124913] =
        local_acc_134522;
    ((float *) reduce_stage_1_tid_res_arr_mem_134519.mem)[flat_tid_124913] =
        local_acc_134523;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136867_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136867_end -
                 futhark_mc_segred_stage_1_parloop_136867_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136867_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136867_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136867_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136863(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124913 = tid;
    int num_tasks_134516 = info.nsubtasks;
    struct futhark_mc_task_136862 *futhark_mc_task_136862 =
                                  (struct futhark_mc_task_136862 *) args;
    struct futhark_context *ctx = futhark_mc_task_136862->ctx;
    uint64_t futhark_mc_segred_task_136863_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136863_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136862->free_n_119475;
    int64_t gtid_124906 = futhark_mc_task_136862->free_gtid_124906;
    int64_t x_124991 = futhark_mc_task_136862->free_x_124991;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136862->free_mem_127861,
                                  .size =0, .references =NULL};
    int64_t x_134239 = futhark_mc_task_136862->free_x_134239;
    struct memblock mem_134244 = {.desc ="mem_134244", .mem =
                                  futhark_mc_task_136862->free_mem_134244,
                                  .size =0, .references =NULL};
    struct memblock mem_134245 = {.desc ="mem_134245", .mem =
                                  futhark_mc_task_136862->free_mem_134245,
                                  .size =0, .references =NULL};
    float a11_134283 = futhark_mc_task_136862->free_a11_134283;
    float b11_134285 = futhark_mc_task_136862->free_b11_134285;
    float c11_134286 = futhark_mc_task_136862->free_c11_134286;
    float defunc_2_reduce_res_134287 =
          *futhark_mc_task_136862->retval_defunc_2_reduce_res_134287;
    float defunc_2_reduce_res_134288 =
          *futhark_mc_task_136862->retval_defunc_2_reduce_res_134288;
    size_t reduce_stage_1_tid_res_arr_mem_134517_cached_sizze_136864 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134517 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_134519_cached_sizze_136865 = 0;
    char *reduce_stage_1_tid_res_arr_mem_134519 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_134517_cached_sizze_136864 <
        (size_t) ((int64_t) 4 * num_tasks_134516)) {
        reduce_stage_1_tid_res_arr_mem_134517 =
            realloc(reduce_stage_1_tid_res_arr_mem_134517, (int64_t) 4 *
                    num_tasks_134516);
        reduce_stage_1_tid_res_arr_mem_134517_cached_sizze_136864 =
            (int64_t) 4 * num_tasks_134516;
    }
    if (reduce_stage_1_tid_res_arr_mem_134519_cached_sizze_136865 <
        (size_t) ((int64_t) 4 * num_tasks_134516)) {
        reduce_stage_1_tid_res_arr_mem_134519 =
            realloc(reduce_stage_1_tid_res_arr_mem_134519, (int64_t) 4 *
                    num_tasks_134516);
        reduce_stage_1_tid_res_arr_mem_134519_cached_sizze_136865 =
            (int64_t) 4 * num_tasks_134516;
    }
    
    int64_t iter_134521;
    struct futhark_mc_segred_stage_1_parloop_struct_136866
    futhark_mc_segred_stage_1_parloop_struct_136866;
    
    futhark_mc_segred_stage_1_parloop_struct_136866.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_gtid_124906 =
        gtid_124906;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_x_124991 = x_124991;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_mem_127861 =
        mem_127861.mem;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_x_134239 = x_134239;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_mem_134244 =
        mem_134244.mem;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_mem_134245 =
        mem_134245.mem;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_a11_134283 =
        a11_134283;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_b11_134285 =
        b11_134285;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_c11_134286 =
        c11_134286;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_reduce_stage_1_tid_res_arr_mem_134517 =
        reduce_stage_1_tid_res_arr_mem_134517;
    futhark_mc_segred_stage_1_parloop_struct_136866.free_reduce_stage_1_tid_res_arr_mem_134519 =
        reduce_stage_1_tid_res_arr_mem_134519;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136867_task;
    
    futhark_mc_segred_stage_1_parloop_136867_task.name =
        "futhark_mc_segred_stage_1_parloop_136867";
    futhark_mc_segred_stage_1_parloop_136867_task.fn =
        futhark_mc_segred_stage_1_parloop_136867;
    futhark_mc_segred_stage_1_parloop_136867_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136866;
    futhark_mc_segred_stage_1_parloop_136867_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136867_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136867_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136867_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136867_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136867_task);
    
    if (futhark_mc_segred_stage_1_parloop_136867_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136867_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136867_total_end -
                 futhark_mc_segred_stage_1_parloop_136867_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136867_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136867_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136867_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_134287 = 0.0F;
        defunc_2_reduce_res_134288 = 0.0F;
    }
    
    float x_134524;
    float x_134525;
    float x_134527;
    float x_134528;
    
    for (int32_t i_134530 = 0; i_134530 < num_tasks_134516; i_134530++) {
        flat_tid_124913 = i_134530;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_134524 = defunc_2_reduce_res_134287;
            }
            // load next params
            {
                x_134525 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134517)[flat_tid_124913];
            }
            // red body
            {
                float defunc_1_op_res_134526 = x_134524 + x_134525;
                
                defunc_2_reduce_res_134287 = defunc_1_op_res_134526;
            }
            // load acc params
            {
                x_134527 = defunc_2_reduce_res_134288;
            }
            // load next params
            {
                x_134528 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_134519)[flat_tid_124913];
            }
            // red body
            {
                float defunc_1_op_res_134529 = x_134527 + x_134528;
                
                defunc_2_reduce_res_134288 = defunc_1_op_res_134529;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_134517);
    free(reduce_stage_1_tid_res_arr_mem_134519);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136863_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136863_end -
                 futhark_mc_segred_task_136863_start;
        
        ctx->futhark_mc_segred_task_136863_runs[tid]++;
        ctx->futhark_mc_segred_task_136863_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136863_iter[tid] += iterations;
    }
    *futhark_mc_task_136862->retval_defunc_2_reduce_res_134287 =
        defunc_2_reduce_res_134287;
    *futhark_mc_task_136862->retval_defunc_2_reduce_res_134288 =
        defunc_2_reduce_res_134288;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136852(void *args, int64_t start,
                                            int64_t end, int flat_tid_124909,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136851
    *futhark_mc_segmap_parloop_struct_136851 =
    (struct futhark_mc_segmap_parloop_struct_136851 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136851->ctx;
    uint64_t futhark_mc_segmap_parloop_136852_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136852_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136851->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136851->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136851->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136851->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136851->free_i_119551;
    int64_t gtid_124906 =
            futhark_mc_segmap_parloop_struct_136851->free_gtid_124906;
    int64_t x_124991 = futhark_mc_segmap_parloop_struct_136851->free_x_124991;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 =
            futhark_mc_segmap_parloop_struct_136851->free_bytes_128047;
    struct memblock mem_128085 = {.desc ="mem_128085", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_128085,
                                  .size =0, .references =NULL};
    struct memblock mem_128088 = {.desc ="mem_128088", .mem =
                                  futhark_mc_segmap_parloop_struct_136851->free_mem_128088,
                                  .size =0, .references =NULL};
    size_t mem_134244_cached_sizze_136853 = 0;
    char *mem_134244 = NULL;
    size_t mem_134245_cached_sizze_136854 = 0;
    char *mem_134245 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134444 = start;
    
    if (mem_134244_cached_sizze_136853 < (size_t) bytes_128047) {
        mem_134244 = realloc(mem_134244, bytes_128047);
        mem_134244_cached_sizze_136853 = bytes_128047;
    }
    if (mem_134245_cached_sizze_136854 < (size_t) bytes_128047) {
        mem_134245 = realloc(mem_134245, bytes_128047);
        mem_134245_cached_sizze_136854 = bytes_128047;
    }
    for (; iter_134444 < end; iter_134444++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134493 = t_n_m_119532;
        int64_t gtid_124910 = iter_134444;
        int64_t remnant_134494 = iter_134444 - gtid_124910;
        int64_t x_134239 = ((int64_t *) mem_127110.mem)[gtid_124906 *
                                                        t_n_m_119532 +
                                                        gtid_124910];
        float x_134240 = ((float *) mem_127114.mem)[gtid_124906 * t_n_m_119532 +
                                                    gtid_124910];
        int64_t min_arg_134241 = mul64(t_jump_119482, gtid_124910);
        int64_t min_res_134242 = smin64(i_119551, min_arg_134241);
        float defunc_0_f_res_134243 = sitofp_i64_f32(min_res_134242);
        float defunc_2_reduce_res_134246;
        float defunc_2_reduce_res_134247;
        float defunc_2_reduce_res_134248;
        int64_t flat_tid_124911 = (int64_t) 0;
        int32_t num_tasks_134495;
        struct futhark_mc_task_136855 futhark_mc_task_136855;
        
        futhark_mc_task_136855.ctx = ctx;
        futhark_mc_task_136855.free_n_119475 = n_119475;
        futhark_mc_task_136855.free_gtid_124906 = gtid_124906;
        futhark_mc_task_136855.free_x_124991 = x_124991;
        futhark_mc_task_136855.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136855.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136855.free_x_134239 = x_134239;
        futhark_mc_task_136855.free_x_134240 = x_134240;
        futhark_mc_task_136855.free_defunc_0_f_res_134243 =
            defunc_0_f_res_134243;
        futhark_mc_task_136855.retval_defunc_2_reduce_res_134246 =
            &defunc_2_reduce_res_134246;
        futhark_mc_task_136855.retval_defunc_2_reduce_res_134247 =
            &defunc_2_reduce_res_134247;
        futhark_mc_task_136855.retval_defunc_2_reduce_res_134248 =
            &defunc_2_reduce_res_134248;
        futhark_mc_task_136855.retval_mem_134244 = mem_134244;
        futhark_mc_task_136855.retval_mem_134245 = mem_134245;
        
        struct scheduler_segop futhark_mc_task_136855_task;
        
        futhark_mc_task_136855_task.args = &futhark_mc_task_136855;
        futhark_mc_task_136855_task.top_level_fn =
            futhark_mc_segred_task_136856;
        futhark_mc_task_136855_task.name = "futhark_mc_segred_task_136856";
        futhark_mc_task_136855_task.iterations = t_window_119478;
        futhark_mc_task_136855_task.task_time =
            &ctx->futhark_mc_segred_task_136856_total_time;
        futhark_mc_task_136855_task.task_iter =
            &ctx->futhark_mc_segred_task_136856_total_iter;
        futhark_mc_task_136855_task.sched = STATIC;
        futhark_mc_task_136855_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136856_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136855_task);
        
        if (futhark_mc_segred_task_136856_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_134279 = defunc_2_reduce_res_134246 *
              defunc_2_reduce_res_134248;
        float y_134280 = defunc_2_reduce_res_134247 *
              defunc_2_reduce_res_134247;
        float y_134281 = x_134279 - y_134280;
        float det1_134282 = 1.0F / y_134281;
        float a11_134283 = defunc_2_reduce_res_134248 * det1_134282;
        float negate_arg_134284 = defunc_2_reduce_res_134247 * det1_134282;
        float b11_134285 = 0.0F - negate_arg_134284;
        float c11_134286 = defunc_2_reduce_res_134246 * det1_134282;
        float defunc_2_reduce_res_134287;
        float defunc_2_reduce_res_134288;
        int64_t flat_tid_124913 = (int64_t) 0;
        int32_t num_tasks_134516;
        struct futhark_mc_task_136862 futhark_mc_task_136862;
        
        futhark_mc_task_136862.ctx = ctx;
        futhark_mc_task_136862.free_n_119475 = n_119475;
        futhark_mc_task_136862.free_gtid_124906 = gtid_124906;
        futhark_mc_task_136862.free_x_124991 = x_124991;
        futhark_mc_task_136862.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136862.free_x_134239 = x_134239;
        futhark_mc_task_136862.free_mem_134244 = mem_134244;
        futhark_mc_task_136862.free_mem_134245 = mem_134245;
        futhark_mc_task_136862.free_a11_134283 = a11_134283;
        futhark_mc_task_136862.free_b11_134285 = b11_134285;
        futhark_mc_task_136862.free_c11_134286 = c11_134286;
        futhark_mc_task_136862.retval_defunc_2_reduce_res_134287 =
            &defunc_2_reduce_res_134287;
        futhark_mc_task_136862.retval_defunc_2_reduce_res_134288 =
            &defunc_2_reduce_res_134288;
        
        struct scheduler_segop futhark_mc_task_136862_task;
        
        futhark_mc_task_136862_task.args = &futhark_mc_task_136862;
        futhark_mc_task_136862_task.top_level_fn =
            futhark_mc_segred_task_136863;
        futhark_mc_task_136862_task.name = "futhark_mc_segred_task_136863";
        futhark_mc_task_136862_task.iterations = t_window_119478;
        futhark_mc_task_136862_task.task_time =
            &ctx->futhark_mc_segred_task_136863_total_time;
        futhark_mc_task_136862_task.task_iter =
            &ctx->futhark_mc_segred_task_136863_total_iter;
        futhark_mc_task_136862_task.sched = STATIC;
        futhark_mc_task_136862_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136863_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136862_task);
        
        if (futhark_mc_segred_task_136863_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_128085.mem)[gtid_124910] = defunc_2_reduce_res_134287;
        ((float *) mem_128088.mem)[gtid_124910] = defunc_2_reduce_res_134288;
    }
    
  cleanup:
    { }
    free(mem_134244);
    free(mem_134245);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136852_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136852_end -
                 futhark_mc_segmap_parloop_136852_start;
        
        ctx->futhark_mc_segmap_parloop_136852_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136852_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136852_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136850(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124909 = tid;
    int num_tasks_134384 = info.nsubtasks;
    struct futhark_mc_task_136844 *futhark_mc_task_136844 =
                                  (struct futhark_mc_task_136844 *) args;
    struct futhark_context *ctx = futhark_mc_task_136844->ctx;
    uint64_t futhark_mc_segmap_nested_task_136850_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136850_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136844->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136844->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136844->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136844->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136844->free_i_119551;
    int64_t gtid_124906 = futhark_mc_task_136844->free_gtid_124906;
    int64_t x_124991 = futhark_mc_task_136844->free_x_124991;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136844->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136844->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136844->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136844->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136844->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 = futhark_mc_task_136844->free_bytes_128047;
    struct memblock mem_128085 = {.desc ="mem_128085", .mem =
                                  futhark_mc_task_136844->free_mem_128085,
                                  .size =0, .references =NULL};
    struct memblock mem_128088 = {.desc ="mem_128088", .mem =
                                  futhark_mc_task_136844->free_mem_128088,
                                  .size =0, .references =NULL};
    int64_t iter_134444;
    struct futhark_mc_segmap_parloop_struct_136851
    futhark_mc_segmap_parloop_struct_136851;
    
    futhark_mc_segmap_parloop_struct_136851.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136851.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136851.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136851.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136851.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136851.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136851.free_gtid_124906 = gtid_124906;
    futhark_mc_segmap_parloop_struct_136851.free_x_124991 = x_124991;
    futhark_mc_segmap_parloop_struct_136851.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136851.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136851.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136851.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136851.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136851.free_bytes_128047 = bytes_128047;
    futhark_mc_segmap_parloop_struct_136851.free_mem_128085 = mem_128085.mem;
    futhark_mc_segmap_parloop_struct_136851.free_mem_128088 = mem_128088.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136852_task;
    
    futhark_mc_segmap_parloop_136852_task.name =
        "futhark_mc_segmap_parloop_136852";
    futhark_mc_segmap_parloop_136852_task.fn = futhark_mc_segmap_parloop_136852;
    futhark_mc_segmap_parloop_136852_task.args =
        &futhark_mc_segmap_parloop_struct_136851;
    futhark_mc_segmap_parloop_136852_task.iterations = iterations;
    futhark_mc_segmap_parloop_136852_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136852_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136852_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136852_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136852_task);
    
    if (futhark_mc_segmap_parloop_136852_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136852_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136852_total_end -
                 futhark_mc_segmap_parloop_136852_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136852_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136852_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136852_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136850_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136850_end -
                 futhark_mc_segmap_nested_task_136850_start;
        
        ctx->futhark_mc_segmap_nested_task_136850_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136850_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136850_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136841(void *args, int64_t start,
                                            int64_t end, int flat_tid_124905,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136840
    *futhark_mc_segmap_parloop_struct_136840 =
    (struct futhark_mc_segmap_parloop_struct_136840 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136840->ctx;
    uint64_t futhark_mc_segmap_parloop_136841_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136841_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136840->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136840->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136840->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136840->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136840->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136840->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136840->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 =
            futhark_mc_segmap_parloop_struct_136840->free_bytes_128047;
    struct memblock mem_128152 = {.desc ="mem_128152", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_128152,
                                  .size =0, .references =NULL};
    struct memblock mem_128156 = {.desc ="mem_128156", .mem =
                                  futhark_mc_segmap_parloop_struct_136840->free_mem_128156,
                                  .size =0, .references =NULL};
    size_t mem_128085_cached_sizze_136842 = 0;
    char *mem_128085 = NULL;
    size_t mem_128088_cached_sizze_136843 = 0;
    char *mem_128088 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134238 = start;
    
    if (mem_128085_cached_sizze_136842 < (size_t) bytes_127056) {
        mem_128085 = realloc(mem_128085, bytes_127056);
        mem_128085_cached_sizze_136842 = bytes_127056;
    }
    if (mem_128088_cached_sizze_136843 < (size_t) bytes_127056) {
        mem_128088 = realloc(mem_128088, bytes_127056);
        mem_128088_cached_sizze_136843 = bytes_127056;
    }
    for (; iter_134238 < end; iter_134238++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134382 = m_119474;
        int64_t gtid_124906 = iter_134238;
        int64_t remnant_134383 = iter_134238 - gtid_124906;
        int64_t x_124991 = ((int64_t *) mem_126924.mem)[gtid_124906];
        int64_t flat_tid_124907 = (int64_t) 0;
        int32_t num_tasks_134384;
        int64_t flat_tid_124909 = (int64_t) 0;
        struct futhark_mc_task_136844 futhark_mc_task_136844;
        
        futhark_mc_task_136844.ctx = ctx;
        futhark_mc_task_136844.free_n_119475 = n_119475;
        futhark_mc_task_136844.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136844.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136844.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136844.free_i_119551 = i_119551;
        futhark_mc_task_136844.free_gtid_124906 = gtid_124906;
        futhark_mc_task_136844.free_x_124991 = x_124991;
        futhark_mc_task_136844.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136844.free_mem_127110 = mem_127110.mem;
        futhark_mc_task_136844.free_mem_127114 = mem_127114.mem;
        futhark_mc_task_136844.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136844.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136844.free_bytes_128047 = bytes_128047;
        futhark_mc_task_136844.free_mem_128085 = mem_128085;
        futhark_mc_task_136844.free_mem_128088 = mem_128088;
        
        struct scheduler_segop futhark_mc_task_136844_task;
        
        futhark_mc_task_136844_task.args = &futhark_mc_task_136844;
        futhark_mc_task_136844_task.top_level_fn =
            futhark_mc_segmap_task_136845;
        futhark_mc_task_136844_task.name = "futhark_mc_segmap_task_136845";
        futhark_mc_task_136844_task.iterations = t_n_m_119532;
        futhark_mc_task_136844_task.task_time =
            &ctx->futhark_mc_segmap_task_136845_total_time;
        futhark_mc_task_136844_task.task_iter =
            &ctx->futhark_mc_segmap_task_136845_total_iter;
        futhark_mc_task_136844_task.sched = STATIC;
        futhark_mc_task_136844_task.nested_fn =
            futhark_mc_segmap_nested_task_136850;
        
        int futhark_mc_segmap_task_136845_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136844_task);
        
        if (futhark_mc_segmap_task_136845_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128152.mem + gtid_124906 * t_n_m_119532 * (int64_t) 4,
                mem_128085 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_128156.mem + gtid_124906 * t_n_m_119532 * (int64_t) 4,
                mem_128088 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128085);
    free(mem_128088);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136841_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136841_end -
                 futhark_mc_segmap_parloop_136841_start;
        
        ctx->futhark_mc_segmap_parloop_136841_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136841_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136841_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136839(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_124905 = tid;
    int num_tasks_134149 = info.nsubtasks;
    struct futhark_mc_task_136831 *futhark_mc_task_136831 =
                                  (struct futhark_mc_task_136831 *) args;
    struct futhark_context *ctx = futhark_mc_task_136831->ctx;
    uint64_t futhark_mc_segmap_nested_task_136839_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136839_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136831->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136831->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136831->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136831->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136831->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136831->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136831->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136831->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136831->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136831->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136831->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136831->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136831->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128047 = futhark_mc_task_136831->free_bytes_128047;
    struct memblock mem_128152 = {.desc ="mem_128152", .mem =
                                  futhark_mc_task_136831->free_mem_128152,
                                  .size =0, .references =NULL};
    struct memblock mem_128156 = {.desc ="mem_128156", .mem =
                                  futhark_mc_task_136831->free_mem_128156,
                                  .size =0, .references =NULL};
    int64_t iter_134238;
    struct futhark_mc_segmap_parloop_struct_136840
    futhark_mc_segmap_parloop_struct_136840;
    
    futhark_mc_segmap_parloop_struct_136840.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136840.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136840.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136840.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136840.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136840.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136840.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136840.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136840.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136840.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136840.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136840.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136840.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136840.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136840.free_bytes_128047 = bytes_128047;
    futhark_mc_segmap_parloop_struct_136840.free_mem_128152 = mem_128152.mem;
    futhark_mc_segmap_parloop_struct_136840.free_mem_128156 = mem_128156.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136841_task;
    
    futhark_mc_segmap_parloop_136841_task.name =
        "futhark_mc_segmap_parloop_136841";
    futhark_mc_segmap_parloop_136841_task.fn = futhark_mc_segmap_parloop_136841;
    futhark_mc_segmap_parloop_136841_task.args =
        &futhark_mc_segmap_parloop_struct_136840;
    futhark_mc_segmap_parloop_136841_task.iterations = iterations;
    futhark_mc_segmap_parloop_136841_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136841_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136841_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136841_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136841_task);
    
    if (futhark_mc_segmap_parloop_136841_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136841_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136841_total_end -
                 futhark_mc_segmap_parloop_136841_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136841_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136841_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136841_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136839_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136839_end -
                 futhark_mc_segmap_nested_task_136839_start;
        
        ctx->futhark_mc_segmap_nested_task_136839_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136839_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136839_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136868 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128157;
    char *free_mem_128328;
    char *free_mem_128332;
};
struct futhark_mc_segmap_parloop_struct_136870 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128157;
    char *free_mem_128328;
    char *free_mem_128332;
};
static int futhark_mc_segmap_parloop_136871(void *args, int64_t start,
                                            int64_t end, int flat_tid_125136,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136870
    *futhark_mc_segmap_parloop_struct_136870 =
    (struct futhark_mc_segmap_parloop_struct_136870 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136870->ctx;
    uint64_t futhark_mc_segmap_parloop_136871_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136871_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136870->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136870->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136870->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136870->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136870->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136870->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136870->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 =
            futhark_mc_segmap_parloop_struct_136870->free_bytes_128157;
    struct memblock mem_128328 = {.desc ="mem_128328", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_128328,
                                  .size =0, .references =NULL};
    struct memblock mem_128332 = {.desc ="mem_128332", .mem =
                                  futhark_mc_segmap_parloop_struct_136870->free_mem_128332,
                                  .size =0, .references =NULL};
    size_t mem_128237_cached_sizze_136872 = 0;
    char *mem_128237 = NULL;
    size_t mem_128240_cached_sizze_136873 = 0;
    char *mem_128240 = NULL;
    size_t mem_128257_cached_sizze_136874 = 0;
    char *mem_128257 = NULL;
    size_t mem_128260_cached_sizze_136875 = 0;
    char *mem_128260 = NULL;
    size_t mem_128287_cached_sizze_136876 = 0;
    char *mem_128287 = NULL;
    size_t mem_128290_cached_sizze_136877 = 0;
    char *mem_128290 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134532 = start;
    
    if (mem_128237_cached_sizze_136872 < (size_t) bytes_127056) {
        mem_128237 = realloc(mem_128237, bytes_127056);
        mem_128237_cached_sizze_136872 = bytes_127056;
    }
    if (mem_128240_cached_sizze_136873 < (size_t) bytes_127056) {
        mem_128240 = realloc(mem_128240, bytes_127056);
        mem_128240_cached_sizze_136873 = bytes_127056;
    }
    if (mem_128257_cached_sizze_136874 < (size_t) bytes_128157) {
        mem_128257 = realloc(mem_128257, bytes_128157);
        mem_128257_cached_sizze_136874 = bytes_128157;
    }
    if (mem_128260_cached_sizze_136875 < (size_t) bytes_128157) {
        mem_128260 = realloc(mem_128260, bytes_128157);
        mem_128260_cached_sizze_136875 = bytes_128157;
    }
    if (mem_128287_cached_sizze_136876 < (size_t) bytes_128157) {
        mem_128287 = realloc(mem_128287, bytes_128157);
        mem_128287_cached_sizze_136876 = bytes_128157;
    }
    if (mem_128290_cached_sizze_136877 < (size_t) bytes_128157) {
        mem_128290 = realloc(mem_128290, bytes_128157);
        mem_128290_cached_sizze_136877 = bytes_128157;
    }
    for (; iter_134532 < end; iter_134532++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134650 = m_119474;
        int64_t gtid_125137 = iter_134532;
        int64_t remnant_134651 = iter_134532 - gtid_125137;
        int64_t x_121251 = ((int64_t *) mem_126924.mem)[gtid_125137];
        
        for (int64_t i_134533 = 0; i_134533 < t_n_m_119532; i_134533++) {
            int64_t x_134536 = ((int64_t *) mem_127110.mem)[gtid_125137 *
                                                            t_n_m_119532 +
                                                            i_134533];
            float x_134537 = ((float *) mem_127114.mem)[gtid_125137 *
                                                        t_n_m_119532 +
                                                        i_134533];
            int64_t min_arg_134538 = mul64(t_jump_119482, i_134533);
            int64_t min_res_134539 = smin64(i_119551, min_arg_134538);
            float defunc_0_f_res_134540 = sitofp_i64_f32(min_res_134539);
            
            for (int64_t i_134545 = 0; i_134545 < t_window_119478; i_134545++) {
                bool cond_134548 = sle64(x_121251, i_134545);
                float defunc_0_f_res_134549;
                
                if (cond_134548) {
                    defunc_0_f_res_134549 = 0.0F;
                } else {
                    int64_t i_134550 = add64(x_134536, i_134545);
                    float x_134551 = ((float *) mem_126946.mem)[gtid_125137 *
                                                                n_119475 +
                                                                i_134550];
                    float defunc_0_f_res_f_res_134552 = 1.0F + x_134551;
                    
                    defunc_0_f_res_134549 = defunc_0_f_res_f_res_134552;
                }
                
                float defunc_0_f_res_134553;
                
                if (cond_134548) {
                    defunc_0_f_res_134553 = 0.0F;
                } else {
                    int64_t i_134554 = add64(x_134536, i_134545);
                    float x_134555 = ((float *) mem_127865.mem)[gtid_125137 *
                                                                n_119475 +
                                                                i_134554];
                    
                    defunc_0_f_res_134553 = x_134555;
                }
                
                float x_j_134556 = defunc_0_f_res_134549 -
                      defunc_0_f_res_134540;
                float abs_res_134557 = (float) fabs(x_j_134556);
                float tmp1_134558 = abs_res_134557 / x_134537;
                float x_134559 = tmp1_134558 * tmp1_134558;
                float y_134560 = tmp1_134558 * x_134559;
                float tmp2_134561 = 1.0F - y_134560;
                float x_134562 = tmp2_134561 * tmp2_134561;
                float tmp3_134563 = tmp2_134561 * x_134562;
                float tmp4_134564 = defunc_0_f_res_134553 * tmp3_134563;
                
                ((float *) mem_128257)[i_134545] = x_j_134556;
                ((float *) mem_128260)[i_134545] = tmp4_134564;
            }
            
            float defunc_2_reduce_res_134569;
            float defunc_2_reduce_res_134570;
            float defunc_2_reduce_res_134571;
            float defunc_2_reduce_res_134572;
            float defunc_2_reduce_res_134573;
            float redout_134577;
            float redout_134578;
            float redout_134579;
            float redout_134580;
            float redout_134581;
            
            redout_134577 = 0.0F;
            redout_134578 = 0.0F;
            redout_134579 = 0.0F;
            redout_134580 = 0.0F;
            redout_134581 = 0.0F;
            for (int64_t i_134576 = 0; i_134576 < t_window_119478; i_134576++) {
                float x_134584 = ((float *) mem_128257)[i_134576];
                float x_134585 = ((float *) mem_128260)[i_134576];
                float defunc_1_f_res_134586 = x_134584 * x_134585;
                float defunc_1_f_res_134587 = x_134584 * defunc_1_f_res_134586;
                float defunc_1_f_res_134588 = x_134584 * defunc_1_f_res_134587;
                float defunc_1_f_res_134589 = x_134584 * defunc_1_f_res_134588;
                float defunc_1_op_res_134590 = x_134585 + redout_134577;
                float defunc_1_op_res_134591 = defunc_1_f_res_134586 +
                      redout_134578;
                float defunc_1_op_res_134592 = defunc_1_f_res_134587 +
                      redout_134579;
                float defunc_1_op_res_134593 = defunc_1_f_res_134588 +
                      redout_134580;
                float defunc_1_op_res_134594 = defunc_1_f_res_134589 +
                      redout_134581;
                
                ((float *) mem_128287)[i_134576] = defunc_1_f_res_134587;
                ((float *) mem_128290)[i_134576] = defunc_1_f_res_134586;
                
                float redout_tmp_134656 = defunc_1_op_res_134590;
                float redout_tmp_134657 = defunc_1_op_res_134591;
                float redout_tmp_134658 = defunc_1_op_res_134592;
                float redout_tmp_134659 = defunc_1_op_res_134593;
                float redout_tmp_134660 = defunc_1_op_res_134594;
                
                redout_134577 = redout_tmp_134656;
                redout_134578 = redout_tmp_134657;
                redout_134579 = redout_tmp_134658;
                redout_134580 = redout_tmp_134659;
                redout_134581 = redout_tmp_134660;
            }
            defunc_2_reduce_res_134569 = redout_134577;
            defunc_2_reduce_res_134570 = redout_134578;
            defunc_2_reduce_res_134571 = redout_134579;
            defunc_2_reduce_res_134572 = redout_134580;
            defunc_2_reduce_res_134573 = redout_134581;
            
            float x_134597 = defunc_2_reduce_res_134571 *
                  defunc_2_reduce_res_134573;
            float y_134598 = defunc_2_reduce_res_134572 *
                  defunc_2_reduce_res_134572;
            float a12_134599 = x_134597 - y_134598;
            float x_134600 = defunc_2_reduce_res_134571 *
                  defunc_2_reduce_res_134572;
            float y_134601 = defunc_2_reduce_res_134570 *
                  defunc_2_reduce_res_134573;
            float b12_134602 = x_134600 - y_134601;
            float x_134603 = defunc_2_reduce_res_134570 *
                  defunc_2_reduce_res_134572;
            float y_134604 = defunc_2_reduce_res_134571 *
                  defunc_2_reduce_res_134571;
            float c12_134605 = x_134603 - y_134604;
            float x_134606 = defunc_2_reduce_res_134569 *
                  defunc_2_reduce_res_134573;
            float b2_134607 = x_134606 - y_134604;
            float x_134608 = defunc_2_reduce_res_134570 *
                  defunc_2_reduce_res_134571;
            float y_134609 = defunc_2_reduce_res_134569 *
                  defunc_2_reduce_res_134572;
            float c2_134610 = x_134608 - y_134609;
            float x_134611 = defunc_2_reduce_res_134569 * a12_134599;
            float y_134612 = defunc_2_reduce_res_134570 * b12_134602;
            float x_134613 = x_134611 + y_134612;
            float y_134614 = defunc_2_reduce_res_134571 * c12_134605;
            float y_134615 = x_134613 + y_134614;
            float det_134616 = 1.0F / y_134615;
            float a12_134617 = a12_134599 * det_134616;
            float b12_134618 = b12_134602 * det_134616;
            float c12_134619 = c12_134605 * det_134616;
            float b2_134620 = b2_134607 * det_134616;
            float c2_134621 = c2_134610 * det_134616;
            float defunc_2_reduce_res_134622;
            float defunc_2_reduce_res_134623;
            float redout_134625;
            float redout_134626;
            
            redout_134625 = 0.0F;
            redout_134626 = 0.0F;
            for (int64_t i_134624 = 0; i_134624 < t_window_119478; i_134624++) {
                float x_134627 = ((float *) mem_128260)[i_134624];
                float x_134628 = ((float *) mem_128290)[i_134624];
                float x_134629 = ((float *) mem_128287)[i_134624];
                bool cond_134630 = sle64(x_121251, i_134624);
                float defunc_0_f_res_134631;
                
                if (cond_134630) {
                    defunc_0_f_res_134631 = 0.0F;
                } else {
                    int64_t i_134632 = add64(x_134536, i_134624);
                    float x_134633 = ((float *) mem_127861.mem)[gtid_125137 *
                                                                n_119475 +
                                                                i_134632];
                    
                    defunc_0_f_res_134631 = x_134633;
                }
                
                float x_134634 = a12_134617 * x_134627;
                float y_134635 = b12_134618 * x_134628;
                float x_134636 = x_134634 + y_134635;
                float y_134637 = c12_134619 * x_134629;
                float x_134638 = x_134636 + y_134637;
                float defunc_9_fit_fun_res_134639 = defunc_0_f_res_134631 *
                      x_134638;
                float x_134640 = b12_134618 * x_134627;
                float y_134641 = b2_134620 * x_134628;
                float x_134642 = x_134640 + y_134641;
                float y_134643 = c2_134621 * x_134629;
                float x_134644 = x_134642 + y_134643;
                float defunc_9_slope_fun_res_134645 = defunc_0_f_res_134631 *
                      x_134644;
                float defunc_1_op_res_134646 = defunc_9_fit_fun_res_134639 +
                      redout_134625;
                float defunc_1_op_res_134647 = defunc_9_slope_fun_res_134645 +
                      redout_134626;
                float redout_tmp_134663 = defunc_1_op_res_134646;
                float redout_tmp_134664 = defunc_1_op_res_134647;
                
                redout_134625 = redout_tmp_134663;
                redout_134626 = redout_tmp_134664;
            }
            defunc_2_reduce_res_134622 = redout_134625;
            defunc_2_reduce_res_134623 = redout_134626;
            ((float *) mem_128237)[i_134533] = defunc_2_reduce_res_134622;
            ((float *) mem_128240)[i_134533] = defunc_2_reduce_res_134623;
        }
        memmove(mem_128328.mem + gtid_125137 * t_n_m_119532 * (int64_t) 4,
                mem_128237 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_128332.mem + gtid_125137 * t_n_m_119532 * (int64_t) 4,
                mem_128240 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128237);
    free(mem_128240);
    free(mem_128257);
    free(mem_128260);
    free(mem_128287);
    free(mem_128290);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136871_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136871_end -
                 futhark_mc_segmap_parloop_136871_start;
        
        ctx->futhark_mc_segmap_parloop_136871_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136871_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136871_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136869(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125136 = tid;
    int num_tasks_134531 = info.nsubtasks;
    struct futhark_mc_task_136868 *futhark_mc_task_136868 =
                                  (struct futhark_mc_task_136868 *) args;
    struct futhark_context *ctx = futhark_mc_task_136868->ctx;
    uint64_t futhark_mc_segmap_task_136869_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136869_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136868->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136868->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136868->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136868->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136868->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136868->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136868->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136868->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136868->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136868->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136868->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136868->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136868->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 = futhark_mc_task_136868->free_bytes_128157;
    struct memblock mem_128328 = {.desc ="mem_128328", .mem =
                                  futhark_mc_task_136868->free_mem_128328,
                                  .size =0, .references =NULL};
    struct memblock mem_128332 = {.desc ="mem_128332", .mem =
                                  futhark_mc_task_136868->free_mem_128332,
                                  .size =0, .references =NULL};
    int64_t iter_134532;
    struct futhark_mc_segmap_parloop_struct_136870
    futhark_mc_segmap_parloop_struct_136870;
    
    futhark_mc_segmap_parloop_struct_136870.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136870.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136870.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136870.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136870.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136870.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136870.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136870.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136870.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136870.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136870.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136870.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136870.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136870.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136870.free_bytes_128157 = bytes_128157;
    futhark_mc_segmap_parloop_struct_136870.free_mem_128328 = mem_128328.mem;
    futhark_mc_segmap_parloop_struct_136870.free_mem_128332 = mem_128332.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136871_task;
    
    futhark_mc_segmap_parloop_136871_task.name =
        "futhark_mc_segmap_parloop_136871";
    futhark_mc_segmap_parloop_136871_task.fn = futhark_mc_segmap_parloop_136871;
    futhark_mc_segmap_parloop_136871_task.args =
        &futhark_mc_segmap_parloop_struct_136870;
    futhark_mc_segmap_parloop_136871_task.iterations = iterations;
    futhark_mc_segmap_parloop_136871_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136871_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136871_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136871_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136871_task);
    
    if (futhark_mc_segmap_parloop_136871_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136871_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136871_total_end -
                 futhark_mc_segmap_parloop_136871_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136871_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136871_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136871_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136869_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136869_end -
                 futhark_mc_segmap_task_136869_start;
        
        ctx->futhark_mc_segmap_task_136869_runs[tid]++;
        ctx->futhark_mc_segmap_task_136869_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136869_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136879 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    char *free_mem_126924;
    char *free_mem_126946;
    int64_t free_bytes_127056;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128157;
    char *free_mem_128328;
    char *free_mem_128332;
};
struct futhark_mc_task_136883 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128157;
    char *free_mem_128231;
    char *free_mem_128234;
};
struct futhark_mc_segmap_parloop_struct_136885 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128157;
    char *free_mem_128231;
    char *free_mem_128234;
};
static int futhark_mc_segmap_parloop_136886(void *args, int64_t start,
                                            int64_t end, int flat_tid_125140,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136885
    *futhark_mc_segmap_parloop_struct_136885 =
    (struct futhark_mc_segmap_parloop_struct_136885 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136885->ctx;
    uint64_t futhark_mc_segmap_parloop_136886_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136886_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136885->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136885->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136885->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136885->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136885->free_i_119551;
    int64_t gtid_125139 =
            futhark_mc_segmap_parloop_struct_136885->free_gtid_125139;
    int64_t x_125262 = futhark_mc_segmap_parloop_struct_136885->free_x_125262;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 =
            futhark_mc_segmap_parloop_struct_136885->free_bytes_128157;
    struct memblock mem_128231 = {.desc ="mem_128231", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_128231,
                                  .size =0, .references =NULL};
    struct memblock mem_128234 = {.desc ="mem_128234", .mem =
                                  futhark_mc_segmap_parloop_struct_136885->free_mem_128234,
                                  .size =0, .references =NULL};
    size_t mem_134779_cached_sizze_136887 = 0;
    char *mem_134779 = NULL;
    size_t mem_134781_cached_sizze_136888 = 0;
    char *mem_134781 = NULL;
    size_t mem_134807_cached_sizze_136889 = 0;
    char *mem_134807 = NULL;
    size_t mem_134809_cached_sizze_136890 = 0;
    char *mem_134809 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134893 = start;
    
    if (mem_134779_cached_sizze_136887 < (size_t) bytes_128157) {
        mem_134779 = realloc(mem_134779, bytes_128157);
        mem_134779_cached_sizze_136887 = bytes_128157;
    }
    if (mem_134781_cached_sizze_136888 < (size_t) bytes_128157) {
        mem_134781 = realloc(mem_134781, bytes_128157);
        mem_134781_cached_sizze_136888 = bytes_128157;
    }
    if (mem_134807_cached_sizze_136889 < (size_t) bytes_128157) {
        mem_134807 = realloc(mem_134807, bytes_128157);
        mem_134807_cached_sizze_136889 = bytes_128157;
    }
    if (mem_134809_cached_sizze_136890 < (size_t) bytes_128157) {
        mem_134809 = realloc(mem_134809, bytes_128157);
        mem_134809_cached_sizze_136890 = bytes_128157;
    }
    for (; iter_134893 < end; iter_134893++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134961 = t_n_m_119532;
        int64_t gtid_125141 = iter_134893;
        int64_t remnant_134962 = iter_134893 - gtid_125141;
        int64_t x_134774 = ((int64_t *) mem_127110.mem)[gtid_125139 *
                                                        t_n_m_119532 +
                                                        gtid_125141];
        float x_134775 = ((float *) mem_127114.mem)[gtid_125139 * t_n_m_119532 +
                                                    gtid_125141];
        int64_t min_arg_134776 = mul64(t_jump_119482, gtid_125141);
        int64_t min_res_134777 = smin64(i_119551, min_arg_134776);
        float defunc_0_f_res_134778 = sitofp_i64_f32(min_res_134777);
        
        for (int64_t i_134894 = 0; i_134894 < t_window_119478; i_134894++) {
            bool cond_134897 = sle64(x_125262, i_134894);
            float defunc_0_f_res_134898;
            
            if (cond_134897) {
                defunc_0_f_res_134898 = 0.0F;
            } else {
                int64_t i_134899 = add64(x_134774, i_134894);
                float x_134900 = ((float *) mem_126946.mem)[gtid_125139 *
                                                            n_119475 +
                                                            i_134899];
                float defunc_0_f_res_f_res_134901 = 1.0F + x_134900;
                
                defunc_0_f_res_134898 = defunc_0_f_res_f_res_134901;
            }
            
            float defunc_0_f_res_134902;
            
            if (cond_134897) {
                defunc_0_f_res_134902 = 0.0F;
            } else {
                int64_t i_134903 = add64(x_134774, i_134894);
                float x_134904 = ((float *) mem_127865.mem)[gtid_125139 *
                                                            n_119475 +
                                                            i_134903];
                
                defunc_0_f_res_134902 = x_134904;
            }
            
            float x_j_134905 = defunc_0_f_res_134898 - defunc_0_f_res_134778;
            float abs_res_134906 = (float) fabs(x_j_134905);
            float tmp1_134907 = abs_res_134906 / x_134775;
            float x_134908 = tmp1_134907 * tmp1_134907;
            float y_134909 = tmp1_134907 * x_134908;
            float tmp2_134910 = 1.0F - y_134909;
            float x_134911 = tmp2_134910 * tmp2_134910;
            float tmp3_134912 = tmp2_134910 * x_134911;
            float tmp4_134913 = defunc_0_f_res_134902 * tmp3_134912;
            
            ((float *) mem_134779)[i_134894] = x_j_134905;
            ((float *) mem_134781)[i_134894] = tmp4_134913;
        }
        
        float defunc_2_reduce_res_134811;
        float defunc_2_reduce_res_134812;
        float defunc_2_reduce_res_134813;
        float defunc_2_reduce_res_134814;
        float defunc_2_reduce_res_134815;
        float redout_134917;
        float redout_134918;
        float redout_134919;
        float redout_134920;
        float redout_134921;
        
        redout_134917 = 0.0F;
        redout_134918 = 0.0F;
        redout_134919 = 0.0F;
        redout_134920 = 0.0F;
        redout_134921 = 0.0F;
        for (int64_t i_134916 = 0; i_134916 < t_window_119478; i_134916++) {
            float x_134924 = ((float *) mem_134779)[i_134916];
            float x_134925 = ((float *) mem_134781)[i_134916];
            float defunc_1_f_res_134926 = x_134924 * x_134925;
            float defunc_1_f_res_134927 = x_134924 * defunc_1_f_res_134926;
            float defunc_1_f_res_134928 = x_134924 * defunc_1_f_res_134927;
            float defunc_1_f_res_134929 = x_134924 * defunc_1_f_res_134928;
            float defunc_1_op_res_134930 = x_134925 + redout_134917;
            float defunc_1_op_res_134931 = defunc_1_f_res_134926 +
                  redout_134918;
            float defunc_1_op_res_134932 = defunc_1_f_res_134927 +
                  redout_134919;
            float defunc_1_op_res_134933 = defunc_1_f_res_134928 +
                  redout_134920;
            float defunc_1_op_res_134934 = defunc_1_f_res_134929 +
                  redout_134921;
            
            ((float *) mem_134807)[i_134916] = defunc_1_f_res_134927;
            ((float *) mem_134809)[i_134916] = defunc_1_f_res_134926;
            
            float redout_tmp_134965 = defunc_1_op_res_134930;
            float redout_tmp_134966 = defunc_1_op_res_134931;
            float redout_tmp_134967 = defunc_1_op_res_134932;
            float redout_tmp_134968 = defunc_1_op_res_134933;
            float redout_tmp_134969 = defunc_1_op_res_134934;
            
            redout_134917 = redout_tmp_134965;
            redout_134918 = redout_tmp_134966;
            redout_134919 = redout_tmp_134967;
            redout_134920 = redout_tmp_134968;
            redout_134921 = redout_tmp_134969;
        }
        defunc_2_reduce_res_134811 = redout_134917;
        defunc_2_reduce_res_134812 = redout_134918;
        defunc_2_reduce_res_134813 = redout_134919;
        defunc_2_reduce_res_134814 = redout_134920;
        defunc_2_reduce_res_134815 = redout_134921;
        
        float x_134839 = defunc_2_reduce_res_134813 *
              defunc_2_reduce_res_134815;
        float y_134840 = defunc_2_reduce_res_134814 *
              defunc_2_reduce_res_134814;
        float a12_134841 = x_134839 - y_134840;
        float x_134842 = defunc_2_reduce_res_134813 *
              defunc_2_reduce_res_134814;
        float y_134843 = defunc_2_reduce_res_134812 *
              defunc_2_reduce_res_134815;
        float b12_134844 = x_134842 - y_134843;
        float x_134845 = defunc_2_reduce_res_134812 *
              defunc_2_reduce_res_134814;
        float y_134846 = defunc_2_reduce_res_134813 *
              defunc_2_reduce_res_134813;
        float c12_134847 = x_134845 - y_134846;
        float x_134848 = defunc_2_reduce_res_134811 *
              defunc_2_reduce_res_134815;
        float b2_134849 = x_134848 - y_134846;
        float x_134850 = defunc_2_reduce_res_134812 *
              defunc_2_reduce_res_134813;
        float y_134851 = defunc_2_reduce_res_134811 *
              defunc_2_reduce_res_134814;
        float c2_134852 = x_134850 - y_134851;
        float x_134853 = defunc_2_reduce_res_134811 * a12_134841;
        float y_134854 = defunc_2_reduce_res_134812 * b12_134844;
        float x_134855 = x_134853 + y_134854;
        float y_134856 = defunc_2_reduce_res_134813 * c12_134847;
        float y_134857 = x_134855 + y_134856;
        float det_134858 = 1.0F / y_134857;
        float a12_134859 = a12_134841 * det_134858;
        float b12_134860 = b12_134844 * det_134858;
        float c12_134861 = c12_134847 * det_134858;
        float b2_134862 = b2_134849 * det_134858;
        float c2_134863 = c2_134852 * det_134858;
        float defunc_2_reduce_res_134864;
        float defunc_2_reduce_res_134865;
        float redout_134938;
        float redout_134939;
        
        redout_134938 = 0.0F;
        redout_134939 = 0.0F;
        for (int64_t i_134937 = 0; i_134937 < t_window_119478; i_134937++) {
            float x_134940 = ((float *) mem_134781)[i_134937];
            float x_134941 = ((float *) mem_134809)[i_134937];
            float x_134942 = ((float *) mem_134807)[i_134937];
            bool cond_134943 = sle64(x_125262, i_134937);
            float defunc_0_f_res_134944;
            
            if (cond_134943) {
                defunc_0_f_res_134944 = 0.0F;
            } else {
                int64_t i_134945 = add64(x_134774, i_134937);
                float x_134946 = ((float *) mem_127861.mem)[gtid_125139 *
                                                            n_119475 +
                                                            i_134945];
                
                defunc_0_f_res_134944 = x_134946;
            }
            
            float x_134947 = a12_134859 * x_134940;
            float y_134948 = b12_134860 * x_134941;
            float x_134949 = x_134947 + y_134948;
            float y_134950 = c12_134861 * x_134942;
            float x_134951 = x_134949 + y_134950;
            float defunc_9_fit_fun_res_134952 = defunc_0_f_res_134944 *
                  x_134951;
            float x_134953 = b12_134860 * x_134940;
            float y_134954 = b2_134862 * x_134941;
            float x_134955 = x_134953 + y_134954;
            float y_134956 = c2_134863 * x_134942;
            float x_134957 = x_134955 + y_134956;
            float defunc_9_slope_fun_res_134958 = defunc_0_f_res_134944 *
                  x_134957;
            float defunc_1_op_res_134959 = defunc_9_fit_fun_res_134952 +
                  redout_134938;
            float defunc_1_op_res_134960 = defunc_9_slope_fun_res_134958 +
                  redout_134939;
            float redout_tmp_134972 = defunc_1_op_res_134959;
            float redout_tmp_134973 = defunc_1_op_res_134960;
            
            redout_134938 = redout_tmp_134972;
            redout_134939 = redout_tmp_134973;
        }
        defunc_2_reduce_res_134864 = redout_134938;
        defunc_2_reduce_res_134865 = redout_134939;
        ((float *) mem_128231.mem)[gtid_125141] = defunc_2_reduce_res_134864;
        ((float *) mem_128234.mem)[gtid_125141] = defunc_2_reduce_res_134865;
    }
    
  cleanup:
    { }
    free(mem_134779);
    free(mem_134781);
    free(mem_134807);
    free(mem_134809);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136886_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136886_end -
                 futhark_mc_segmap_parloop_136886_start;
        
        ctx->futhark_mc_segmap_parloop_136886_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136886_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136886_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136884(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125140 = tid;
    int num_tasks_134892 = info.nsubtasks;
    struct futhark_mc_task_136883 *futhark_mc_task_136883 =
                                  (struct futhark_mc_task_136883 *) args;
    struct futhark_context *ctx = futhark_mc_task_136883->ctx;
    uint64_t futhark_mc_segmap_task_136884_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136884_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136883->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136883->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136883->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136883->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136883->free_i_119551;
    int64_t gtid_125139 = futhark_mc_task_136883->free_gtid_125139;
    int64_t x_125262 = futhark_mc_task_136883->free_x_125262;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136883->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136883->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136883->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136883->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136883->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 = futhark_mc_task_136883->free_bytes_128157;
    struct memblock mem_128231 = {.desc ="mem_128231", .mem =
                                  futhark_mc_task_136883->free_mem_128231,
                                  .size =0, .references =NULL};
    struct memblock mem_128234 = {.desc ="mem_128234", .mem =
                                  futhark_mc_task_136883->free_mem_128234,
                                  .size =0, .references =NULL};
    int64_t iter_134893;
    struct futhark_mc_segmap_parloop_struct_136885
    futhark_mc_segmap_parloop_struct_136885;
    
    futhark_mc_segmap_parloop_struct_136885.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136885.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136885.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136885.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136885.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136885.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136885.free_gtid_125139 = gtid_125139;
    futhark_mc_segmap_parloop_struct_136885.free_x_125262 = x_125262;
    futhark_mc_segmap_parloop_struct_136885.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136885.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136885.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136885.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136885.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136885.free_bytes_128157 = bytes_128157;
    futhark_mc_segmap_parloop_struct_136885.free_mem_128231 = mem_128231.mem;
    futhark_mc_segmap_parloop_struct_136885.free_mem_128234 = mem_128234.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136886_task;
    
    futhark_mc_segmap_parloop_136886_task.name =
        "futhark_mc_segmap_parloop_136886";
    futhark_mc_segmap_parloop_136886_task.fn = futhark_mc_segmap_parloop_136886;
    futhark_mc_segmap_parloop_136886_task.args =
        &futhark_mc_segmap_parloop_struct_136885;
    futhark_mc_segmap_parloop_136886_task.iterations = iterations;
    futhark_mc_segmap_parloop_136886_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136886_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136886_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136886_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136886_task);
    
    if (futhark_mc_segmap_parloop_136886_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136886_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136886_total_end -
                 futhark_mc_segmap_parloop_136886_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136886_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136886_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136886_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136884_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136884_end -
                 futhark_mc_segmap_task_136884_start;
        
        ctx->futhark_mc_segmap_task_136884_runs[tid]++;
        ctx->futhark_mc_segmap_task_136884_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136884_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136892 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_126946;
    char *free_mem_127110;
    char *free_mem_127114;
    char *free_mem_127861;
    char *free_mem_127865;
    int64_t free_bytes_128157;
    char *free_mem_128231;
    char *free_mem_128234;
};
struct futhark_mc_task_136898 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_134666;
    float free_x_134667;
    float free_defunc_0_f_res_134670;
    char *free_mem_134671;
    char *free_mem_134672;
};
struct futhark_mc_segmap_parloop_struct_136900 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_126946;
    char *free_mem_127865;
    int64_t free_x_134666;
    float free_x_134667;
    float free_defunc_0_f_res_134670;
    char *free_mem_134671;
    char *free_mem_134672;
};
static int futhark_mc_segmap_parloop_136901(void *args, int64_t start,
                                            int64_t end, int flat_tid_125144,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136900
    *futhark_mc_segmap_parloop_struct_136900 =
    (struct futhark_mc_segmap_parloop_struct_136900 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136900->ctx;
    uint64_t futhark_mc_segmap_parloop_136901_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136901_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136900->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136900->free_t_window_119478;
    int64_t gtid_125139 =
            futhark_mc_segmap_parloop_struct_136900->free_gtid_125139;
    int64_t x_125262 = futhark_mc_segmap_parloop_struct_136900->free_x_125262;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136900->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136900->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_134666 = futhark_mc_segmap_parloop_struct_136900->free_x_134666;
    float x_134667 = futhark_mc_segmap_parloop_struct_136900->free_x_134667;
    float defunc_0_f_res_134670 =
          futhark_mc_segmap_parloop_struct_136900->free_defunc_0_f_res_134670;
    struct memblock mem_134671 = {.desc ="mem_134671", .mem =
                                  futhark_mc_segmap_parloop_struct_136900->free_mem_134671,
                                  .size =0, .references =NULL};
    struct memblock mem_134672 = {.desc ="mem_134672", .mem =
                                  futhark_mc_segmap_parloop_struct_136900->free_mem_134672,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135041 = start;
    
    for (; iter_135041 < end; iter_135041++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135047 = t_window_119478;
        int64_t gtid_125145 = iter_135041;
        int64_t remnant_135048 = iter_135041 - gtid_125145;
        bool cond_134975 = sle64(x_125262, gtid_125145);
        float defunc_0_f_res_134976;
        
        if (cond_134975) {
            defunc_0_f_res_134976 = 0.0F;
        } else {
            int64_t i_135042 = add64(gtid_125145, x_134666);
            float x_135043 = ((float *) mem_126946.mem)[gtid_125139 * n_119475 +
                                                        i_135042];
            float defunc_0_f_res_f_res_135044 = 1.0F + x_135043;
            
            defunc_0_f_res_134976 = defunc_0_f_res_f_res_135044;
        }
        
        float defunc_0_f_res_134980;
        
        if (cond_134975) {
            defunc_0_f_res_134980 = 0.0F;
        } else {
            int64_t i_135045 = add64(gtid_125145, x_134666);
            float x_135046 = ((float *) mem_127865.mem)[gtid_125139 * n_119475 +
                                                        i_135045];
            
            defunc_0_f_res_134980 = x_135046;
        }
        
        float x_j_134983 = defunc_0_f_res_134976 - defunc_0_f_res_134670;
        float abs_res_134984 = (float) fabs(x_j_134983);
        float tmp1_134985 = abs_res_134984 / x_134667;
        float x_134986 = tmp1_134985 * tmp1_134985;
        float y_134987 = tmp1_134985 * x_134986;
        float tmp2_134988 = 1.0F - y_134987;
        float x_134989 = tmp2_134988 * tmp2_134988;
        float tmp3_134990 = tmp2_134988 * x_134989;
        float tmp4_134991 = defunc_0_f_res_134980 * tmp3_134990;
        
        ((float *) mem_134671.mem)[gtid_125145] = x_j_134983;
        ((float *) mem_134672.mem)[gtid_125145] = tmp4_134991;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136901_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136901_end -
                 futhark_mc_segmap_parloop_136901_start;
        
        ctx->futhark_mc_segmap_parloop_136901_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136901_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136901_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136899(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125144 = tid;
    int num_tasks_135040 = info.nsubtasks;
    struct futhark_mc_task_136898 *futhark_mc_task_136898 =
                                  (struct futhark_mc_task_136898 *) args;
    struct futhark_context *ctx = futhark_mc_task_136898->ctx;
    uint64_t futhark_mc_segmap_task_136899_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136899_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136898->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136898->free_t_window_119478;
    int64_t gtid_125139 = futhark_mc_task_136898->free_gtid_125139;
    int64_t x_125262 = futhark_mc_task_136898->free_x_125262;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136898->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136898->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t x_134666 = futhark_mc_task_136898->free_x_134666;
    float x_134667 = futhark_mc_task_136898->free_x_134667;
    float defunc_0_f_res_134670 =
          futhark_mc_task_136898->free_defunc_0_f_res_134670;
    struct memblock mem_134671 = {.desc ="mem_134671", .mem =
                                  futhark_mc_task_136898->free_mem_134671,
                                  .size =0, .references =NULL};
    struct memblock mem_134672 = {.desc ="mem_134672", .mem =
                                  futhark_mc_task_136898->free_mem_134672,
                                  .size =0, .references =NULL};
    int64_t iter_135041;
    struct futhark_mc_segmap_parloop_struct_136900
    futhark_mc_segmap_parloop_struct_136900;
    
    futhark_mc_segmap_parloop_struct_136900.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136900.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136900.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136900.free_gtid_125139 = gtid_125139;
    futhark_mc_segmap_parloop_struct_136900.free_x_125262 = x_125262;
    futhark_mc_segmap_parloop_struct_136900.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136900.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136900.free_x_134666 = x_134666;
    futhark_mc_segmap_parloop_struct_136900.free_x_134667 = x_134667;
    futhark_mc_segmap_parloop_struct_136900.free_defunc_0_f_res_134670 =
        defunc_0_f_res_134670;
    futhark_mc_segmap_parloop_struct_136900.free_mem_134671 = mem_134671.mem;
    futhark_mc_segmap_parloop_struct_136900.free_mem_134672 = mem_134672.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136901_task;
    
    futhark_mc_segmap_parloop_136901_task.name =
        "futhark_mc_segmap_parloop_136901";
    futhark_mc_segmap_parloop_136901_task.fn = futhark_mc_segmap_parloop_136901;
    futhark_mc_segmap_parloop_136901_task.args =
        &futhark_mc_segmap_parloop_struct_136900;
    futhark_mc_segmap_parloop_136901_task.iterations = iterations;
    futhark_mc_segmap_parloop_136901_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136901_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136901_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136901_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136901_task);
    
    if (futhark_mc_segmap_parloop_136901_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136901_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136901_total_end -
                 futhark_mc_segmap_parloop_136901_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136901_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136901_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136901_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136899_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136899_end -
                 futhark_mc_segmap_task_136899_start;
        
        ctx->futhark_mc_segmap_task_136899_runs[tid]++;
        ctx->futhark_mc_segmap_task_136899_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136899_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136902 {
    struct futhark_context *ctx;
    char *free_mem_134671;
    char *free_mem_134672;
    float *retval_defunc_2_reduce_res_134694;
    float *retval_defunc_2_reduce_res_134695;
    float *retval_defunc_2_reduce_res_134696;
    float *retval_defunc_2_reduce_res_134697;
    float *retval_defunc_2_reduce_res_134698;
    char *retval_mem_134692;
    char *retval_mem_134693;
};
struct futhark_mc_segred_stage_1_parloop_struct_136909 {
    struct futhark_context *ctx;
    char *free_mem_134671;
    char *free_mem_134672;
    char *free_mem_134692;
    char *free_mem_134693;
    char *free_reduce_stage_1_tid_res_arr_mem_135050;
    char *free_reduce_stage_1_tid_res_arr_mem_135052;
    char *free_reduce_stage_1_tid_res_arr_mem_135054;
    char *free_reduce_stage_1_tid_res_arr_mem_135056;
    char *free_reduce_stage_1_tid_res_arr_mem_135058;
};
static int futhark_mc_segred_stage_1_parloop_136910(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_125146,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136909
    *futhark_mc_segred_stage_1_parloop_struct_136909 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136909 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136909->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136910_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136910_start = get_wall_time();
    
    struct memblock mem_134671 = {.desc ="mem_134671", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136909->free_mem_134671,
                                  .size =0, .references =NULL};
    struct memblock mem_134672 = {.desc ="mem_134672", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136909->free_mem_134672,
                                  .size =0, .references =NULL};
    struct memblock mem_134692 = {.desc ="mem_134692", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136909->free_mem_134692,
                                  .size =0, .references =NULL};
    struct memblock mem_134693 = {.desc ="mem_134693", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136909->free_mem_134693,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135050 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135050",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136909->free_reduce_stage_1_tid_res_arr_mem_135050,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135052 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135052",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136909->free_reduce_stage_1_tid_res_arr_mem_135052,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135054 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135054",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136909->free_reduce_stage_1_tid_res_arr_mem_135054,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135056 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135056",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136909->free_reduce_stage_1_tid_res_arr_mem_135056,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135058 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135058",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136909->free_reduce_stage_1_tid_res_arr_mem_135058,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135060 = start;
    float x_134992;
    float x_134993;
    float x_134995;
    float x_134996;
    float x_134998;
    float x_134999;
    float x_135001;
    float x_135002;
    float x_135004;
    float x_135005;
    float local_acc_135061 = 0.0F;
    float local_acc_135062 = 0.0F;
    float local_acc_135063 = 0.0F;
    float local_acc_135064 = 0.0F;
    float local_acc_135065 = 0.0F;
    
    for (; iter_135060 < end; iter_135060++) {
        int64_t gtid_125147 = iter_135060;
        float x_135007 = ((float *) mem_134671.mem)[gtid_125147];
        float x_135008 = ((float *) mem_134672.mem)[gtid_125147];
        float defunc_1_f_res_135009 = x_135007 * x_135008;
        float defunc_1_f_res_135010 = x_135007 * defunc_1_f_res_135009;
        float defunc_1_f_res_135011 = x_135007 * defunc_1_f_res_135010;
        float defunc_1_f_res_135012 = x_135007 * defunc_1_f_res_135011;
        
        // save map-out results
        {
            ((float *) mem_134692.mem)[gtid_125147] = defunc_1_f_res_135010;
            ((float *) mem_134693.mem)[gtid_125147] = defunc_1_f_res_135009;
        }
        // Load accum params
        {
            x_134992 = local_acc_135061;
        }
        // Load next params
        {
            x_134993 = x_135008;
        }
        // Red body
        {
            float defunc_1_op_res_134994 = x_134992 + x_134993;
            
            local_acc_135061 = defunc_1_op_res_134994;
        }
        // Load accum params
        {
            x_134995 = local_acc_135062;
        }
        // Load next params
        {
            x_134996 = defunc_1_f_res_135009;
        }
        // Red body
        {
            float defunc_1_op_res_134997 = x_134995 + x_134996;
            
            local_acc_135062 = defunc_1_op_res_134997;
        }
        // Load accum params
        {
            x_134998 = local_acc_135063;
        }
        // Load next params
        {
            x_134999 = defunc_1_f_res_135010;
        }
        // Red body
        {
            float defunc_1_op_res_135000 = x_134998 + x_134999;
            
            local_acc_135063 = defunc_1_op_res_135000;
        }
        // Load accum params
        {
            x_135001 = local_acc_135064;
        }
        // Load next params
        {
            x_135002 = defunc_1_f_res_135011;
        }
        // Red body
        {
            float defunc_1_op_res_135003 = x_135001 + x_135002;
            
            local_acc_135064 = defunc_1_op_res_135003;
        }
        // Load accum params
        {
            x_135004 = local_acc_135065;
        }
        // Load next params
        {
            x_135005 = defunc_1_f_res_135012;
        }
        // Red body
        {
            float defunc_1_op_res_135006 = x_135004 + x_135005;
            
            local_acc_135065 = defunc_1_op_res_135006;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_135050.mem)[flat_tid_125146] =
        local_acc_135061;
    ((float *) reduce_stage_1_tid_res_arr_mem_135052.mem)[flat_tid_125146] =
        local_acc_135062;
    ((float *) reduce_stage_1_tid_res_arr_mem_135054.mem)[flat_tid_125146] =
        local_acc_135063;
    ((float *) reduce_stage_1_tid_res_arr_mem_135056.mem)[flat_tid_125146] =
        local_acc_135064;
    ((float *) reduce_stage_1_tid_res_arr_mem_135058.mem)[flat_tid_125146] =
        local_acc_135065;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136910_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136910_end -
                 futhark_mc_segred_stage_1_parloop_136910_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136910_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136910_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136910_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136903(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125146 = tid;
    int num_tasks_135049 = info.nsubtasks;
    struct futhark_mc_task_136902 *futhark_mc_task_136902 =
                                  (struct futhark_mc_task_136902 *) args;
    struct futhark_context *ctx = futhark_mc_task_136902->ctx;
    uint64_t futhark_mc_segred_task_136903_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136903_start = get_wall_time();
    
    struct memblock mem_134671 = {.desc ="mem_134671", .mem =
                                  futhark_mc_task_136902->free_mem_134671,
                                  .size =0, .references =NULL};
    struct memblock mem_134672 = {.desc ="mem_134672", .mem =
                                  futhark_mc_task_136902->free_mem_134672,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_134694 =
          *futhark_mc_task_136902->retval_defunc_2_reduce_res_134694;
    float defunc_2_reduce_res_134695 =
          *futhark_mc_task_136902->retval_defunc_2_reduce_res_134695;
    float defunc_2_reduce_res_134696 =
          *futhark_mc_task_136902->retval_defunc_2_reduce_res_134696;
    float defunc_2_reduce_res_134697 =
          *futhark_mc_task_136902->retval_defunc_2_reduce_res_134697;
    float defunc_2_reduce_res_134698 =
          *futhark_mc_task_136902->retval_defunc_2_reduce_res_134698;
    struct memblock mem_134692 = {.desc ="mem_134692", .mem =
                                  futhark_mc_task_136902->retval_mem_134692,
                                  .size =0, .references =NULL};
    struct memblock mem_134693 = {.desc ="mem_134693", .mem =
                                  futhark_mc_task_136902->retval_mem_134693,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_135050_cached_sizze_136904 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135050 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_135052_cached_sizze_136905 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135052 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_135054_cached_sizze_136906 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135054 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_135056_cached_sizze_136907 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135056 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_135058_cached_sizze_136908 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135058 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_135050_cached_sizze_136904 <
        (size_t) ((int64_t) 4 * num_tasks_135049)) {
        reduce_stage_1_tid_res_arr_mem_135050 =
            realloc(reduce_stage_1_tid_res_arr_mem_135050, (int64_t) 4 *
                    num_tasks_135049);
        reduce_stage_1_tid_res_arr_mem_135050_cached_sizze_136904 =
            (int64_t) 4 * num_tasks_135049;
    }
    if (reduce_stage_1_tid_res_arr_mem_135052_cached_sizze_136905 <
        (size_t) ((int64_t) 4 * num_tasks_135049)) {
        reduce_stage_1_tid_res_arr_mem_135052 =
            realloc(reduce_stage_1_tid_res_arr_mem_135052, (int64_t) 4 *
                    num_tasks_135049);
        reduce_stage_1_tid_res_arr_mem_135052_cached_sizze_136905 =
            (int64_t) 4 * num_tasks_135049;
    }
    if (reduce_stage_1_tid_res_arr_mem_135054_cached_sizze_136906 <
        (size_t) ((int64_t) 4 * num_tasks_135049)) {
        reduce_stage_1_tid_res_arr_mem_135054 =
            realloc(reduce_stage_1_tid_res_arr_mem_135054, (int64_t) 4 *
                    num_tasks_135049);
        reduce_stage_1_tid_res_arr_mem_135054_cached_sizze_136906 =
            (int64_t) 4 * num_tasks_135049;
    }
    if (reduce_stage_1_tid_res_arr_mem_135056_cached_sizze_136907 <
        (size_t) ((int64_t) 4 * num_tasks_135049)) {
        reduce_stage_1_tid_res_arr_mem_135056 =
            realloc(reduce_stage_1_tid_res_arr_mem_135056, (int64_t) 4 *
                    num_tasks_135049);
        reduce_stage_1_tid_res_arr_mem_135056_cached_sizze_136907 =
            (int64_t) 4 * num_tasks_135049;
    }
    if (reduce_stage_1_tid_res_arr_mem_135058_cached_sizze_136908 <
        (size_t) ((int64_t) 4 * num_tasks_135049)) {
        reduce_stage_1_tid_res_arr_mem_135058 =
            realloc(reduce_stage_1_tid_res_arr_mem_135058, (int64_t) 4 *
                    num_tasks_135049);
        reduce_stage_1_tid_res_arr_mem_135058_cached_sizze_136908 =
            (int64_t) 4 * num_tasks_135049;
    }
    
    int64_t iter_135060;
    struct futhark_mc_segred_stage_1_parloop_struct_136909
    futhark_mc_segred_stage_1_parloop_struct_136909;
    
    futhark_mc_segred_stage_1_parloop_struct_136909.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_mem_134671 =
        mem_134671.mem;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_mem_134672 =
        mem_134672.mem;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_mem_134692 =
        mem_134692.mem;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_mem_134693 =
        mem_134693.mem;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_reduce_stage_1_tid_res_arr_mem_135050 =
        reduce_stage_1_tid_res_arr_mem_135050;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_reduce_stage_1_tid_res_arr_mem_135052 =
        reduce_stage_1_tid_res_arr_mem_135052;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_reduce_stage_1_tid_res_arr_mem_135054 =
        reduce_stage_1_tid_res_arr_mem_135054;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_reduce_stage_1_tid_res_arr_mem_135056 =
        reduce_stage_1_tid_res_arr_mem_135056;
    futhark_mc_segred_stage_1_parloop_struct_136909.free_reduce_stage_1_tid_res_arr_mem_135058 =
        reduce_stage_1_tid_res_arr_mem_135058;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136910_task;
    
    futhark_mc_segred_stage_1_parloop_136910_task.name =
        "futhark_mc_segred_stage_1_parloop_136910";
    futhark_mc_segred_stage_1_parloop_136910_task.fn =
        futhark_mc_segred_stage_1_parloop_136910;
    futhark_mc_segred_stage_1_parloop_136910_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136909;
    futhark_mc_segred_stage_1_parloop_136910_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136910_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136910_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136910_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136910_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136910_task);
    
    if (futhark_mc_segred_stage_1_parloop_136910_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136910_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136910_total_end -
                 futhark_mc_segred_stage_1_parloop_136910_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136910_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136910_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136910_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_134694 = 0.0F;
        defunc_2_reduce_res_134695 = 0.0F;
        defunc_2_reduce_res_134696 = 0.0F;
        defunc_2_reduce_res_134697 = 0.0F;
        defunc_2_reduce_res_134698 = 0.0F;
    }
    
    float x_135066;
    float x_135067;
    float x_135069;
    float x_135070;
    float x_135072;
    float x_135073;
    float x_135075;
    float x_135076;
    float x_135078;
    float x_135079;
    
    for (int32_t i_135081 = 0; i_135081 < num_tasks_135049; i_135081++) {
        flat_tid_125146 = i_135081;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_135066 = defunc_2_reduce_res_134694;
            }
            // load next params
            {
                x_135067 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135050)[flat_tid_125146];
            }
            // red body
            {
                float defunc_1_op_res_135068 = x_135066 + x_135067;
                
                defunc_2_reduce_res_134694 = defunc_1_op_res_135068;
            }
            // load acc params
            {
                x_135069 = defunc_2_reduce_res_134695;
            }
            // load next params
            {
                x_135070 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135052)[flat_tid_125146];
            }
            // red body
            {
                float defunc_1_op_res_135071 = x_135069 + x_135070;
                
                defunc_2_reduce_res_134695 = defunc_1_op_res_135071;
            }
            // load acc params
            {
                x_135072 = defunc_2_reduce_res_134696;
            }
            // load next params
            {
                x_135073 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135054)[flat_tid_125146];
            }
            // red body
            {
                float defunc_1_op_res_135074 = x_135072 + x_135073;
                
                defunc_2_reduce_res_134696 = defunc_1_op_res_135074;
            }
            // load acc params
            {
                x_135075 = defunc_2_reduce_res_134697;
            }
            // load next params
            {
                x_135076 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135056)[flat_tid_125146];
            }
            // red body
            {
                float defunc_1_op_res_135077 = x_135075 + x_135076;
                
                defunc_2_reduce_res_134697 = defunc_1_op_res_135077;
            }
            // load acc params
            {
                x_135078 = defunc_2_reduce_res_134698;
            }
            // load next params
            {
                x_135079 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135058)[flat_tid_125146];
            }
            // red body
            {
                float defunc_1_op_res_135080 = x_135078 + x_135079;
                
                defunc_2_reduce_res_134698 = defunc_1_op_res_135080;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_135050);
    free(reduce_stage_1_tid_res_arr_mem_135052);
    free(reduce_stage_1_tid_res_arr_mem_135054);
    free(reduce_stage_1_tid_res_arr_mem_135056);
    free(reduce_stage_1_tid_res_arr_mem_135058);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136903_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136903_end -
                 futhark_mc_segred_task_136903_start;
        
        ctx->futhark_mc_segred_task_136903_runs[tid]++;
        ctx->futhark_mc_segred_task_136903_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136903_iter[tid] += iterations;
    }
    *futhark_mc_task_136902->retval_defunc_2_reduce_res_134694 =
        defunc_2_reduce_res_134694;
    *futhark_mc_task_136902->retval_defunc_2_reduce_res_134695 =
        defunc_2_reduce_res_134695;
    *futhark_mc_task_136902->retval_defunc_2_reduce_res_134696 =
        defunc_2_reduce_res_134696;
    *futhark_mc_task_136902->retval_defunc_2_reduce_res_134697 =
        defunc_2_reduce_res_134697;
    *futhark_mc_task_136902->retval_defunc_2_reduce_res_134698 =
        defunc_2_reduce_res_134698;
    futhark_mc_task_136902->retval_mem_134692 = mem_134692.mem;
    futhark_mc_task_136902->retval_mem_134693 = mem_134693.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136911 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_127861;
    int64_t free_x_134666;
    char *free_mem_134672;
    char *free_mem_134692;
    char *free_mem_134693;
    float free_a12_134742;
    float free_b12_134743;
    float free_c12_134744;
    float free_b2_134745;
    float free_c2_134746;
    float *retval_defunc_2_reduce_res_134747;
    float *retval_defunc_2_reduce_res_134748;
};
struct futhark_mc_segred_stage_1_parloop_struct_136915 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125139;
    int64_t free_x_125262;
    char *free_mem_127861;
    int64_t free_x_134666;
    char *free_mem_134672;
    char *free_mem_134692;
    char *free_mem_134693;
    float free_a12_134742;
    float free_b12_134743;
    float free_c12_134744;
    float free_b2_134745;
    float free_c2_134746;
    char *free_reduce_stage_1_tid_res_arr_mem_135083;
    char *free_reduce_stage_1_tid_res_arr_mem_135085;
};
static int futhark_mc_segred_stage_1_parloop_136916(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_125148,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_136915
    *futhark_mc_segred_stage_1_parloop_struct_136915 =
    (struct futhark_mc_segred_stage_1_parloop_struct_136915 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_136915->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_136916_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136916_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_136915->free_n_119475;
    int64_t gtid_125139 =
            futhark_mc_segred_stage_1_parloop_struct_136915->free_gtid_125139;
    int64_t x_125262 =
            futhark_mc_segred_stage_1_parloop_struct_136915->free_x_125262;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136915->free_mem_127861,
                                  .size =0, .references =NULL};
    int64_t x_134666 =
            futhark_mc_segred_stage_1_parloop_struct_136915->free_x_134666;
    struct memblock mem_134672 = {.desc ="mem_134672", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136915->free_mem_134672,
                                  .size =0, .references =NULL};
    struct memblock mem_134692 = {.desc ="mem_134692", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136915->free_mem_134692,
                                  .size =0, .references =NULL};
    struct memblock mem_134693 = {.desc ="mem_134693", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_136915->free_mem_134693,
                                  .size =0, .references =NULL};
    float a12_134742 =
          futhark_mc_segred_stage_1_parloop_struct_136915->free_a12_134742;
    float b12_134743 =
          futhark_mc_segred_stage_1_parloop_struct_136915->free_b12_134743;
    float c12_134744 =
          futhark_mc_segred_stage_1_parloop_struct_136915->free_c12_134744;
    float b2_134745 =
          futhark_mc_segred_stage_1_parloop_struct_136915->free_b2_134745;
    float c2_134746 =
          futhark_mc_segred_stage_1_parloop_struct_136915->free_c2_134746;
    struct memblock reduce_stage_1_tid_res_arr_mem_135083 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135083",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136915->free_reduce_stage_1_tid_res_arr_mem_135083,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135085 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135085",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_136915->free_reduce_stage_1_tid_res_arr_mem_135085,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135087 = start;
    float x_135013;
    float x_135014;
    float x_135016;
    float x_135017;
    float local_acc_135088 = 0.0F;
    float local_acc_135089 = 0.0F;
    
    for (; iter_135087 < end; iter_135087++) {
        int64_t gtid_125149 = iter_135087;
        float x_135019 = ((float *) mem_134672.mem)[gtid_125149];
        float x_135020 = ((float *) mem_134693.mem)[gtid_125149];
        float x_135021 = ((float *) mem_134692.mem)[gtid_125149];
        bool cond_135022 = sle64(x_125262, gtid_125149);
        float defunc_0_f_res_135023;
        
        if (cond_135022) {
            defunc_0_f_res_135023 = 0.0F;
        } else {
            int64_t i_135024 = add64(gtid_125149, x_134666);
            float x_135025 = ((float *) mem_127861.mem)[gtid_125139 * n_119475 +
                                                        i_135024];
            
            defunc_0_f_res_135023 = x_135025;
        }
        
        float x_135026 = a12_134742 * x_135019;
        float y_135027 = b12_134743 * x_135020;
        float x_135028 = x_135026 + y_135027;
        float y_135029 = c12_134744 * x_135021;
        float x_135030 = x_135028 + y_135029;
        float defunc_9_fit_fun_res_135031 = defunc_0_f_res_135023 * x_135030;
        float x_135032 = b12_134743 * x_135019;
        float y_135033 = b2_134745 * x_135020;
        float x_135034 = x_135032 + y_135033;
        float y_135035 = c2_134746 * x_135021;
        float x_135036 = x_135034 + y_135035;
        float defunc_9_slope_fun_res_135037 = defunc_0_f_res_135023 * x_135036;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_135013 = local_acc_135088;
        }
        // Load next params
        {
            x_135014 = defunc_9_fit_fun_res_135031;
        }
        // Red body
        {
            float defunc_1_op_res_135015 = x_135013 + x_135014;
            
            local_acc_135088 = defunc_1_op_res_135015;
        }
        // Load accum params
        {
            x_135016 = local_acc_135089;
        }
        // Load next params
        {
            x_135017 = defunc_9_slope_fun_res_135037;
        }
        // Red body
        {
            float defunc_1_op_res_135018 = x_135016 + x_135017;
            
            local_acc_135089 = defunc_1_op_res_135018;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_135083.mem)[flat_tid_125148] =
        local_acc_135088;
    ((float *) reduce_stage_1_tid_res_arr_mem_135085.mem)[flat_tid_125148] =
        local_acc_135089;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136916_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136916_end -
                 futhark_mc_segred_stage_1_parloop_136916_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_136916_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_136916_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_136916_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136912(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125148 = tid;
    int num_tasks_135082 = info.nsubtasks;
    struct futhark_mc_task_136911 *futhark_mc_task_136911 =
                                  (struct futhark_mc_task_136911 *) args;
    struct futhark_context *ctx = futhark_mc_task_136911->ctx;
    uint64_t futhark_mc_segred_task_136912_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136912_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136911->free_n_119475;
    int64_t gtid_125139 = futhark_mc_task_136911->free_gtid_125139;
    int64_t x_125262 = futhark_mc_task_136911->free_x_125262;
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136911->free_mem_127861,
                                  .size =0, .references =NULL};
    int64_t x_134666 = futhark_mc_task_136911->free_x_134666;
    struct memblock mem_134672 = {.desc ="mem_134672", .mem =
                                  futhark_mc_task_136911->free_mem_134672,
                                  .size =0, .references =NULL};
    struct memblock mem_134692 = {.desc ="mem_134692", .mem =
                                  futhark_mc_task_136911->free_mem_134692,
                                  .size =0, .references =NULL};
    struct memblock mem_134693 = {.desc ="mem_134693", .mem =
                                  futhark_mc_task_136911->free_mem_134693,
                                  .size =0, .references =NULL};
    float a12_134742 = futhark_mc_task_136911->free_a12_134742;
    float b12_134743 = futhark_mc_task_136911->free_b12_134743;
    float c12_134744 = futhark_mc_task_136911->free_c12_134744;
    float b2_134745 = futhark_mc_task_136911->free_b2_134745;
    float c2_134746 = futhark_mc_task_136911->free_c2_134746;
    float defunc_2_reduce_res_134747 =
          *futhark_mc_task_136911->retval_defunc_2_reduce_res_134747;
    float defunc_2_reduce_res_134748 =
          *futhark_mc_task_136911->retval_defunc_2_reduce_res_134748;
    size_t reduce_stage_1_tid_res_arr_mem_135083_cached_sizze_136913 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135083 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_135085_cached_sizze_136914 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135085 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_135083_cached_sizze_136913 <
        (size_t) ((int64_t) 4 * num_tasks_135082)) {
        reduce_stage_1_tid_res_arr_mem_135083 =
            realloc(reduce_stage_1_tid_res_arr_mem_135083, (int64_t) 4 *
                    num_tasks_135082);
        reduce_stage_1_tid_res_arr_mem_135083_cached_sizze_136913 =
            (int64_t) 4 * num_tasks_135082;
    }
    if (reduce_stage_1_tid_res_arr_mem_135085_cached_sizze_136914 <
        (size_t) ((int64_t) 4 * num_tasks_135082)) {
        reduce_stage_1_tid_res_arr_mem_135085 =
            realloc(reduce_stage_1_tid_res_arr_mem_135085, (int64_t) 4 *
                    num_tasks_135082);
        reduce_stage_1_tid_res_arr_mem_135085_cached_sizze_136914 =
            (int64_t) 4 * num_tasks_135082;
    }
    
    int64_t iter_135087;
    struct futhark_mc_segred_stage_1_parloop_struct_136915
    futhark_mc_segred_stage_1_parloop_struct_136915;
    
    futhark_mc_segred_stage_1_parloop_struct_136915.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_gtid_125139 =
        gtid_125139;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_x_125262 = x_125262;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_mem_127861 =
        mem_127861.mem;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_x_134666 = x_134666;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_mem_134672 =
        mem_134672.mem;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_mem_134692 =
        mem_134692.mem;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_mem_134693 =
        mem_134693.mem;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_a12_134742 =
        a12_134742;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_b12_134743 =
        b12_134743;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_c12_134744 =
        c12_134744;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_b2_134745 = b2_134745;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_c2_134746 = c2_134746;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_reduce_stage_1_tid_res_arr_mem_135083 =
        reduce_stage_1_tid_res_arr_mem_135083;
    futhark_mc_segred_stage_1_parloop_struct_136915.free_reduce_stage_1_tid_res_arr_mem_135085 =
        reduce_stage_1_tid_res_arr_mem_135085;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_136916_task;
    
    futhark_mc_segred_stage_1_parloop_136916_task.name =
        "futhark_mc_segred_stage_1_parloop_136916";
    futhark_mc_segred_stage_1_parloop_136916_task.fn =
        futhark_mc_segred_stage_1_parloop_136916;
    futhark_mc_segred_stage_1_parloop_136916_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_136915;
    futhark_mc_segred_stage_1_parloop_136916_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_136916_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_136916_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_136916_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_136916_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_136916_task);
    
    if (futhark_mc_segred_stage_1_parloop_136916_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_136916_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_136916_total_end -
                 futhark_mc_segred_stage_1_parloop_136916_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136916_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136916_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_136916_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_134747 = 0.0F;
        defunc_2_reduce_res_134748 = 0.0F;
    }
    
    float x_135090;
    float x_135091;
    float x_135093;
    float x_135094;
    
    for (int32_t i_135096 = 0; i_135096 < num_tasks_135082; i_135096++) {
        flat_tid_125148 = i_135096;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_135090 = defunc_2_reduce_res_134747;
            }
            // load next params
            {
                x_135091 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135083)[flat_tid_125148];
            }
            // red body
            {
                float defunc_1_op_res_135092 = x_135090 + x_135091;
                
                defunc_2_reduce_res_134747 = defunc_1_op_res_135092;
            }
            // load acc params
            {
                x_135093 = defunc_2_reduce_res_134748;
            }
            // load next params
            {
                x_135094 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135085)[flat_tid_125148];
            }
            // red body
            {
                float defunc_1_op_res_135095 = x_135093 + x_135094;
                
                defunc_2_reduce_res_134748 = defunc_1_op_res_135095;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_135083);
    free(reduce_stage_1_tid_res_arr_mem_135085);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136912_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136912_end -
                 futhark_mc_segred_task_136912_start;
        
        ctx->futhark_mc_segred_task_136912_runs[tid]++;
        ctx->futhark_mc_segred_task_136912_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136912_iter[tid] += iterations;
    }
    *futhark_mc_task_136911->retval_defunc_2_reduce_res_134747 =
        defunc_2_reduce_res_134747;
    *futhark_mc_task_136911->retval_defunc_2_reduce_res_134748 =
        defunc_2_reduce_res_134748;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136893(void *args, int64_t start,
                                            int64_t end, int flat_tid_125142,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136892
    *futhark_mc_segmap_parloop_struct_136892 =
    (struct futhark_mc_segmap_parloop_struct_136892 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136892->ctx;
    uint64_t futhark_mc_segmap_parloop_136893_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136893_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136892->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136892->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136892->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136892->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136892->free_i_119551;
    int64_t gtid_125139 =
            futhark_mc_segmap_parloop_struct_136892->free_gtid_125139;
    int64_t x_125262 = futhark_mc_segmap_parloop_struct_136892->free_x_125262;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 =
            futhark_mc_segmap_parloop_struct_136892->free_bytes_128157;
    struct memblock mem_128231 = {.desc ="mem_128231", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_128231,
                                  .size =0, .references =NULL};
    struct memblock mem_128234 = {.desc ="mem_128234", .mem =
                                  futhark_mc_segmap_parloop_struct_136892->free_mem_128234,
                                  .size =0, .references =NULL};
    size_t mem_134671_cached_sizze_136894 = 0;
    char *mem_134671 = NULL;
    size_t mem_134672_cached_sizze_136895 = 0;
    char *mem_134672 = NULL;
    size_t mem_134692_cached_sizze_136896 = 0;
    char *mem_134692 = NULL;
    size_t mem_134693_cached_sizze_136897 = 0;
    char *mem_134693 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134974 = start;
    
    if (mem_134671_cached_sizze_136894 < (size_t) bytes_128157) {
        mem_134671 = realloc(mem_134671, bytes_128157);
        mem_134671_cached_sizze_136894 = bytes_128157;
    }
    if (mem_134672_cached_sizze_136895 < (size_t) bytes_128157) {
        mem_134672 = realloc(mem_134672, bytes_128157);
        mem_134672_cached_sizze_136895 = bytes_128157;
    }
    if (mem_134692_cached_sizze_136896 < (size_t) bytes_128157) {
        mem_134692 = realloc(mem_134692, bytes_128157);
        mem_134692_cached_sizze_136896 = bytes_128157;
    }
    if (mem_134693_cached_sizze_136897 < (size_t) bytes_128157) {
        mem_134693 = realloc(mem_134693, bytes_128157);
        mem_134693_cached_sizze_136897 = bytes_128157;
    }
    for (; iter_134974 < end; iter_134974++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135038 = t_n_m_119532;
        int64_t gtid_125143 = iter_134974;
        int64_t remnant_135039 = iter_134974 - gtid_125143;
        int64_t x_134666 = ((int64_t *) mem_127110.mem)[gtid_125139 *
                                                        t_n_m_119532 +
                                                        gtid_125143];
        float x_134667 = ((float *) mem_127114.mem)[gtid_125139 * t_n_m_119532 +
                                                    gtid_125143];
        int64_t min_arg_134668 = mul64(t_jump_119482, gtid_125143);
        int64_t min_res_134669 = smin64(i_119551, min_arg_134668);
        float defunc_0_f_res_134670 = sitofp_i64_f32(min_res_134669);
        int64_t flat_tid_125144 = (int64_t) 0;
        int32_t num_tasks_135040;
        struct futhark_mc_task_136898 futhark_mc_task_136898;
        
        futhark_mc_task_136898.ctx = ctx;
        futhark_mc_task_136898.free_n_119475 = n_119475;
        futhark_mc_task_136898.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136898.free_gtid_125139 = gtid_125139;
        futhark_mc_task_136898.free_x_125262 = x_125262;
        futhark_mc_task_136898.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136898.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136898.free_x_134666 = x_134666;
        futhark_mc_task_136898.free_x_134667 = x_134667;
        futhark_mc_task_136898.free_defunc_0_f_res_134670 =
            defunc_0_f_res_134670;
        futhark_mc_task_136898.free_mem_134671 = mem_134671;
        futhark_mc_task_136898.free_mem_134672 = mem_134672;
        
        struct scheduler_segop futhark_mc_task_136898_task;
        
        futhark_mc_task_136898_task.args = &futhark_mc_task_136898;
        futhark_mc_task_136898_task.top_level_fn =
            futhark_mc_segmap_task_136899;
        futhark_mc_task_136898_task.name = "futhark_mc_segmap_task_136899";
        futhark_mc_task_136898_task.iterations = t_window_119478;
        futhark_mc_task_136898_task.task_time =
            &ctx->futhark_mc_segmap_task_136899_total_time;
        futhark_mc_task_136898_task.task_iter =
            &ctx->futhark_mc_segmap_task_136899_total_iter;
        futhark_mc_task_136898_task.sched = STATIC;
        futhark_mc_task_136898_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136899_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136898_task);
        
        if (futhark_mc_segmap_task_136899_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_2_reduce_res_134694;
        float defunc_2_reduce_res_134695;
        float defunc_2_reduce_res_134696;
        float defunc_2_reduce_res_134697;
        float defunc_2_reduce_res_134698;
        int64_t flat_tid_125146 = (int64_t) 0;
        int32_t num_tasks_135049;
        struct futhark_mc_task_136902 futhark_mc_task_136902;
        
        futhark_mc_task_136902.ctx = ctx;
        futhark_mc_task_136902.free_mem_134671 = mem_134671;
        futhark_mc_task_136902.free_mem_134672 = mem_134672;
        futhark_mc_task_136902.retval_defunc_2_reduce_res_134694 =
            &defunc_2_reduce_res_134694;
        futhark_mc_task_136902.retval_defunc_2_reduce_res_134695 =
            &defunc_2_reduce_res_134695;
        futhark_mc_task_136902.retval_defunc_2_reduce_res_134696 =
            &defunc_2_reduce_res_134696;
        futhark_mc_task_136902.retval_defunc_2_reduce_res_134697 =
            &defunc_2_reduce_res_134697;
        futhark_mc_task_136902.retval_defunc_2_reduce_res_134698 =
            &defunc_2_reduce_res_134698;
        futhark_mc_task_136902.retval_mem_134692 = mem_134692;
        futhark_mc_task_136902.retval_mem_134693 = mem_134693;
        
        struct scheduler_segop futhark_mc_task_136902_task;
        
        futhark_mc_task_136902_task.args = &futhark_mc_task_136902;
        futhark_mc_task_136902_task.top_level_fn =
            futhark_mc_segred_task_136903;
        futhark_mc_task_136902_task.name = "futhark_mc_segred_task_136903";
        futhark_mc_task_136902_task.iterations = t_window_119478;
        futhark_mc_task_136902_task.task_time =
            &ctx->futhark_mc_segred_task_136903_total_time;
        futhark_mc_task_136902_task.task_iter =
            &ctx->futhark_mc_segred_task_136903_total_iter;
        futhark_mc_task_136902_task.sched = STATIC;
        futhark_mc_task_136902_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136903_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136902_task);
        
        if (futhark_mc_segred_task_136903_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_134722 = defunc_2_reduce_res_134696 *
              defunc_2_reduce_res_134698;
        float y_134723 = defunc_2_reduce_res_134697 *
              defunc_2_reduce_res_134697;
        float a12_134724 = x_134722 - y_134723;
        float x_134725 = defunc_2_reduce_res_134696 *
              defunc_2_reduce_res_134697;
        float y_134726 = defunc_2_reduce_res_134695 *
              defunc_2_reduce_res_134698;
        float b12_134727 = x_134725 - y_134726;
        float x_134728 = defunc_2_reduce_res_134695 *
              defunc_2_reduce_res_134697;
        float y_134729 = defunc_2_reduce_res_134696 *
              defunc_2_reduce_res_134696;
        float c12_134730 = x_134728 - y_134729;
        float x_134731 = defunc_2_reduce_res_134694 *
              defunc_2_reduce_res_134698;
        float b2_134732 = x_134731 - y_134729;
        float x_134733 = defunc_2_reduce_res_134695 *
              defunc_2_reduce_res_134696;
        float y_134734 = defunc_2_reduce_res_134694 *
              defunc_2_reduce_res_134697;
        float c2_134735 = x_134733 - y_134734;
        float x_134736 = defunc_2_reduce_res_134694 * a12_134724;
        float y_134737 = defunc_2_reduce_res_134695 * b12_134727;
        float x_134738 = x_134736 + y_134737;
        float y_134739 = defunc_2_reduce_res_134696 * c12_134730;
        float y_134740 = x_134738 + y_134739;
        float det_134741 = 1.0F / y_134740;
        float a12_134742 = a12_134724 * det_134741;
        float b12_134743 = b12_134727 * det_134741;
        float c12_134744 = c12_134730 * det_134741;
        float b2_134745 = b2_134732 * det_134741;
        float c2_134746 = c2_134735 * det_134741;
        float defunc_2_reduce_res_134747;
        float defunc_2_reduce_res_134748;
        int64_t flat_tid_125148 = (int64_t) 0;
        int32_t num_tasks_135082;
        struct futhark_mc_task_136911 futhark_mc_task_136911;
        
        futhark_mc_task_136911.ctx = ctx;
        futhark_mc_task_136911.free_n_119475 = n_119475;
        futhark_mc_task_136911.free_gtid_125139 = gtid_125139;
        futhark_mc_task_136911.free_x_125262 = x_125262;
        futhark_mc_task_136911.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136911.free_x_134666 = x_134666;
        futhark_mc_task_136911.free_mem_134672 = mem_134672;
        futhark_mc_task_136911.free_mem_134692 = mem_134692;
        futhark_mc_task_136911.free_mem_134693 = mem_134693;
        futhark_mc_task_136911.free_a12_134742 = a12_134742;
        futhark_mc_task_136911.free_b12_134743 = b12_134743;
        futhark_mc_task_136911.free_c12_134744 = c12_134744;
        futhark_mc_task_136911.free_b2_134745 = b2_134745;
        futhark_mc_task_136911.free_c2_134746 = c2_134746;
        futhark_mc_task_136911.retval_defunc_2_reduce_res_134747 =
            &defunc_2_reduce_res_134747;
        futhark_mc_task_136911.retval_defunc_2_reduce_res_134748 =
            &defunc_2_reduce_res_134748;
        
        struct scheduler_segop futhark_mc_task_136911_task;
        
        futhark_mc_task_136911_task.args = &futhark_mc_task_136911;
        futhark_mc_task_136911_task.top_level_fn =
            futhark_mc_segred_task_136912;
        futhark_mc_task_136911_task.name = "futhark_mc_segred_task_136912";
        futhark_mc_task_136911_task.iterations = t_window_119478;
        futhark_mc_task_136911_task.task_time =
            &ctx->futhark_mc_segred_task_136912_total_time;
        futhark_mc_task_136911_task.task_iter =
            &ctx->futhark_mc_segred_task_136912_total_iter;
        futhark_mc_task_136911_task.sched = STATIC;
        futhark_mc_task_136911_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136912_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136911_task);
        
        if (futhark_mc_segred_task_136912_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_128231.mem)[gtid_125143] = defunc_2_reduce_res_134747;
        ((float *) mem_128234.mem)[gtid_125143] = defunc_2_reduce_res_134748;
    }
    
  cleanup:
    { }
    free(mem_134671);
    free(mem_134672);
    free(mem_134692);
    free(mem_134693);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136893_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136893_end -
                 futhark_mc_segmap_parloop_136893_start;
        
        ctx->futhark_mc_segmap_parloop_136893_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136893_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136893_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136891(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125142 = tid;
    int num_tasks_134892 = info.nsubtasks;
    struct futhark_mc_task_136883 *futhark_mc_task_136883 =
                                  (struct futhark_mc_task_136883 *) args;
    struct futhark_context *ctx = futhark_mc_task_136883->ctx;
    uint64_t futhark_mc_segmap_nested_task_136891_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136891_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136883->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136883->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136883->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136883->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136883->free_i_119551;
    int64_t gtid_125139 = futhark_mc_task_136883->free_gtid_125139;
    int64_t x_125262 = futhark_mc_task_136883->free_x_125262;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136883->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136883->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136883->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136883->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136883->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 = futhark_mc_task_136883->free_bytes_128157;
    struct memblock mem_128231 = {.desc ="mem_128231", .mem =
                                  futhark_mc_task_136883->free_mem_128231,
                                  .size =0, .references =NULL};
    struct memblock mem_128234 = {.desc ="mem_128234", .mem =
                                  futhark_mc_task_136883->free_mem_128234,
                                  .size =0, .references =NULL};
    int64_t iter_134974;
    struct futhark_mc_segmap_parloop_struct_136892
    futhark_mc_segmap_parloop_struct_136892;
    
    futhark_mc_segmap_parloop_struct_136892.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136892.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136892.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136892.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136892.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136892.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136892.free_gtid_125139 = gtid_125139;
    futhark_mc_segmap_parloop_struct_136892.free_x_125262 = x_125262;
    futhark_mc_segmap_parloop_struct_136892.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136892.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136892.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136892.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136892.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136892.free_bytes_128157 = bytes_128157;
    futhark_mc_segmap_parloop_struct_136892.free_mem_128231 = mem_128231.mem;
    futhark_mc_segmap_parloop_struct_136892.free_mem_128234 = mem_128234.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136893_task;
    
    futhark_mc_segmap_parloop_136893_task.name =
        "futhark_mc_segmap_parloop_136893";
    futhark_mc_segmap_parloop_136893_task.fn = futhark_mc_segmap_parloop_136893;
    futhark_mc_segmap_parloop_136893_task.args =
        &futhark_mc_segmap_parloop_struct_136892;
    futhark_mc_segmap_parloop_136893_task.iterations = iterations;
    futhark_mc_segmap_parloop_136893_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136893_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136893_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136893_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136893_task);
    
    if (futhark_mc_segmap_parloop_136893_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136893_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136893_total_end -
                 futhark_mc_segmap_parloop_136893_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136893_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136893_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136893_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136891_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136891_end -
                 futhark_mc_segmap_nested_task_136891_start;
        
        ctx->futhark_mc_segmap_nested_task_136891_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136891_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136891_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136880(void *args, int64_t start,
                                            int64_t end, int flat_tid_125138,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136879
    *futhark_mc_segmap_parloop_struct_136879 =
    (struct futhark_mc_segmap_parloop_struct_136879 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136879->ctx;
    uint64_t futhark_mc_segmap_parloop_136880_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136880_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136879->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136879->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_136879->free_t_window_119478;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136879->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136879->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136879->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 =
            futhark_mc_segmap_parloop_struct_136879->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 =
            futhark_mc_segmap_parloop_struct_136879->free_bytes_128157;
    struct memblock mem_128328 = {.desc ="mem_128328", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_128328,
                                  .size =0, .references =NULL};
    struct memblock mem_128332 = {.desc ="mem_128332", .mem =
                                  futhark_mc_segmap_parloop_struct_136879->free_mem_128332,
                                  .size =0, .references =NULL};
    size_t mem_128231_cached_sizze_136881 = 0;
    char *mem_128231 = NULL;
    size_t mem_128234_cached_sizze_136882 = 0;
    char *mem_128234 = NULL;
    int64_t iterations = end - start;
    int64_t iter_134665 = start;
    
    if (mem_128231_cached_sizze_136881 < (size_t) bytes_127056) {
        mem_128231 = realloc(mem_128231, bytes_127056);
        mem_128231_cached_sizze_136881 = bytes_127056;
    }
    if (mem_128234_cached_sizze_136882 < (size_t) bytes_127056) {
        mem_128234 = realloc(mem_128234, bytes_127056);
        mem_128234_cached_sizze_136882 = bytes_127056;
    }
    for (; iter_134665 < end; iter_134665++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_134890 = m_119474;
        int64_t gtid_125139 = iter_134665;
        int64_t remnant_134891 = iter_134665 - gtid_125139;
        int64_t x_125262 = ((int64_t *) mem_126924.mem)[gtid_125139];
        int64_t flat_tid_125140 = (int64_t) 0;
        int32_t num_tasks_134892;
        int64_t flat_tid_125142 = (int64_t) 0;
        struct futhark_mc_task_136883 futhark_mc_task_136883;
        
        futhark_mc_task_136883.ctx = ctx;
        futhark_mc_task_136883.free_n_119475 = n_119475;
        futhark_mc_task_136883.free_t_window_119478 = t_window_119478;
        futhark_mc_task_136883.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136883.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136883.free_i_119551 = i_119551;
        futhark_mc_task_136883.free_gtid_125139 = gtid_125139;
        futhark_mc_task_136883.free_x_125262 = x_125262;
        futhark_mc_task_136883.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_136883.free_mem_127110 = mem_127110.mem;
        futhark_mc_task_136883.free_mem_127114 = mem_127114.mem;
        futhark_mc_task_136883.free_mem_127861 = mem_127861.mem;
        futhark_mc_task_136883.free_mem_127865 = mem_127865.mem;
        futhark_mc_task_136883.free_bytes_128157 = bytes_128157;
        futhark_mc_task_136883.free_mem_128231 = mem_128231;
        futhark_mc_task_136883.free_mem_128234 = mem_128234;
        
        struct scheduler_segop futhark_mc_task_136883_task;
        
        futhark_mc_task_136883_task.args = &futhark_mc_task_136883;
        futhark_mc_task_136883_task.top_level_fn =
            futhark_mc_segmap_task_136884;
        futhark_mc_task_136883_task.name = "futhark_mc_segmap_task_136884";
        futhark_mc_task_136883_task.iterations = t_n_m_119532;
        futhark_mc_task_136883_task.task_time =
            &ctx->futhark_mc_segmap_task_136884_total_time;
        futhark_mc_task_136883_task.task_iter =
            &ctx->futhark_mc_segmap_task_136884_total_iter;
        futhark_mc_task_136883_task.sched = STATIC;
        futhark_mc_task_136883_task.nested_fn =
            futhark_mc_segmap_nested_task_136891;
        
        int futhark_mc_segmap_task_136884_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136883_task);
        
        if (futhark_mc_segmap_task_136884_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128328.mem + gtid_125139 * t_n_m_119532 * (int64_t) 4,
                mem_128231 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
        memmove(mem_128332.mem + gtid_125139 * t_n_m_119532 * (int64_t) 4,
                mem_128234 + (int64_t) 0, t_n_m_119532 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128231);
    free(mem_128234);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136880_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136880_end -
                 futhark_mc_segmap_parloop_136880_start;
        
        ctx->futhark_mc_segmap_parloop_136880_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136880_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136880_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136878(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125138 = tid;
    int num_tasks_134531 = info.nsubtasks;
    struct futhark_mc_task_136868 *futhark_mc_task_136868 =
                                  (struct futhark_mc_task_136868 *) args;
    struct futhark_context *ctx = futhark_mc_task_136868->ctx;
    uint64_t futhark_mc_segmap_nested_task_136878_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136878_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136868->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136868->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_136868->free_t_window_119478;
    int64_t t_jump_119482 = futhark_mc_task_136868->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136868->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136868->free_i_119551;
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_136868->free_mem_126924,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_136868->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_127056 = futhark_mc_task_136868->free_bytes_127056;
    struct memblock mem_127110 = {.desc ="mem_127110", .mem =
                                  futhark_mc_task_136868->free_mem_127110,
                                  .size =0, .references =NULL};
    struct memblock mem_127114 = {.desc ="mem_127114", .mem =
                                  futhark_mc_task_136868->free_mem_127114,
                                  .size =0, .references =NULL};
    struct memblock mem_127861 = {.desc ="mem_127861", .mem =
                                  futhark_mc_task_136868->free_mem_127861,
                                  .size =0, .references =NULL};
    struct memblock mem_127865 = {.desc ="mem_127865", .mem =
                                  futhark_mc_task_136868->free_mem_127865,
                                  .size =0, .references =NULL};
    int64_t bytes_128157 = futhark_mc_task_136868->free_bytes_128157;
    struct memblock mem_128328 = {.desc ="mem_128328", .mem =
                                  futhark_mc_task_136868->free_mem_128328,
                                  .size =0, .references =NULL};
    struct memblock mem_128332 = {.desc ="mem_128332", .mem =
                                  futhark_mc_task_136868->free_mem_128332,
                                  .size =0, .references =NULL};
    int64_t iter_134665;
    struct futhark_mc_segmap_parloop_struct_136879
    futhark_mc_segmap_parloop_struct_136879;
    
    futhark_mc_segmap_parloop_struct_136879.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136879.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136879.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136879.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_136879.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136879.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136879.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136879.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_136879.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_136879.free_bytes_127056 = bytes_127056;
    futhark_mc_segmap_parloop_struct_136879.free_mem_127110 = mem_127110.mem;
    futhark_mc_segmap_parloop_struct_136879.free_mem_127114 = mem_127114.mem;
    futhark_mc_segmap_parloop_struct_136879.free_mem_127861 = mem_127861.mem;
    futhark_mc_segmap_parloop_struct_136879.free_mem_127865 = mem_127865.mem;
    futhark_mc_segmap_parloop_struct_136879.free_bytes_128157 = bytes_128157;
    futhark_mc_segmap_parloop_struct_136879.free_mem_128328 = mem_128328.mem;
    futhark_mc_segmap_parloop_struct_136879.free_mem_128332 = mem_128332.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136880_task;
    
    futhark_mc_segmap_parloop_136880_task.name =
        "futhark_mc_segmap_parloop_136880";
    futhark_mc_segmap_parloop_136880_task.fn = futhark_mc_segmap_parloop_136880;
    futhark_mc_segmap_parloop_136880_task.args =
        &futhark_mc_segmap_parloop_struct_136879;
    futhark_mc_segmap_parloop_136880_task.iterations = iterations;
    futhark_mc_segmap_parloop_136880_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136880_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136880_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136880_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136880_task);
    
    if (futhark_mc_segmap_parloop_136880_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136880_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136880_total_end -
                 futhark_mc_segmap_parloop_136880_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136880_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136880_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136880_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136878_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136878_end -
                 futhark_mc_segmap_nested_task_136878_start;
        
        ctx->futhark_mc_segmap_nested_task_136878_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136878_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136878_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136917 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_y_121380;
    int64_t free_bytes_126925;
    char *free_ext_mem_128337;
    char *free_ext_mem_128338;
    char *free_mem_128360;
};
struct futhark_mc_segmap_parloop_struct_136919 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_y_121380;
    int64_t free_bytes_126925;
    char *free_ext_mem_128337;
    char *free_ext_mem_128338;
    char *free_mem_128360;
};
static int futhark_mc_segmap_parloop_136920(void *args, int64_t start,
                                            int64_t end, int flat_tid_125479,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136919
    *futhark_mc_segmap_parloop_struct_136919 =
    (struct futhark_mc_segmap_parloop_struct_136919 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136919->ctx;
    uint64_t futhark_mc_segmap_parloop_136920_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136920_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136919->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136919->free_n_119475;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136919->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136919->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136919->free_i_119551;
    int64_t y_121380 = futhark_mc_segmap_parloop_struct_136919->free_y_121380;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136919->free_bytes_126925;
    struct memblock ext_mem_128337 = {.desc ="ext_mem_128337", .mem =
                                      futhark_mc_segmap_parloop_struct_136919->free_ext_mem_128337,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128338 = {.desc ="ext_mem_128338", .mem =
                                      futhark_mc_segmap_parloop_struct_136919->free_ext_mem_128338,
                                      .size =0, .references =NULL};
    struct memblock mem_128360 = {.desc ="mem_128360", .mem =
                                  futhark_mc_segmap_parloop_struct_136919->free_mem_128360,
                                  .size =0, .references =NULL};
    size_t mem_128344_cached_sizze_136921 = 0;
    char *mem_128344 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135098 = start;
    
    if (mem_128344_cached_sizze_136921 < (size_t) bytes_126925) {
        mem_128344 = realloc(mem_128344, bytes_126925);
        mem_128344_cached_sizze_136921 = bytes_126925;
    }
    for (; iter_135098 < end; iter_135098++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135148 = m_119474;
        int64_t gtid_125480 = iter_135098;
        int64_t remnant_135149 = iter_135098 - gtid_125480;
        
        for (int64_t i_135099 = 0; i_135099 < n_119475; i_135099++) {
            int64_t m_v_135101 = sdiv64(i_135099, t_jump_119482);
            bool cond_135102 = m_v_135101 == y_121380;
            int64_t j_135103;
            
            if (cond_135102) {
                int64_t j_t_res_135104 = sub64(m_v_135101, (int64_t) 1);
                
                j_135103 = j_t_res_135104;
            } else {
                j_135103 = m_v_135101;
            }
            
            int64_t min_arg_135105 = mul64(t_jump_119482, j_135103);
            int64_t min_res_135106 = smin64(i_119551, min_arg_135105);
            int64_t defunc_0_m_fun_arg_135107 = add64((int64_t) 1, j_135103);
            int64_t min_arg_135108 = mul64(t_jump_119482,
                                           defunc_0_m_fun_arg_135107);
            int64_t min_res_135109 = smin64(i_119551, min_arg_135108);
            int64_t i64_arg_135110 = sub64(min_res_135109, min_res_135106);
            float i64_res_135111 = sitofp_i64_f32(i64_arg_135110);
            int64_t i64_arg_135112 = sub64(i_135099, min_res_135106);
            float i64_res_135113 = sitofp_i64_f32(i64_arg_135112);
            float u_135114 = i64_res_135113 / i64_res_135111;
            float u2_135115 = u_135114 * u_135114;
            float u3_135116 = u_135114 * u2_135115;
            float x_135117 = 2.0F * u3_135116;
            float y_135118 = 3.0F * u2_135115;
            float x_135119 = x_135117 - y_135118;
            float x_135120 = 1.0F + x_135119;
            bool x_135121 = sle64((int64_t) 0, j_135103);
            bool y_135122 = slt64(j_135103, t_n_m_119532);
            bool bounds_check_135123 = x_135121 && y_135122;
            bool index_certs_135124;
            
            if (!bounds_check_135123) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) j_135103,
                              "] out of bounds for array of shape [",
                              (long long) t_n_m_119532, "].",
                              "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float y_135125 = ((float *) ext_mem_128338.mem)[gtid_125480 *
                                                            t_n_m_119532 +
                                                            j_135103];
            float x_135126 = x_135120 * y_135125;
            float x_135127 = y_135118 - x_135117;
            bool x_135128 = sle64((int64_t) 0, defunc_0_m_fun_arg_135107);
            bool y_135129 = slt64(defunc_0_m_fun_arg_135107, t_n_m_119532);
            bool bounds_check_135130 = x_135128 && y_135129;
            bool index_certs_135131;
            
            if (!bounds_check_135130) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) defunc_0_m_fun_arg_135107,
                              "] out of bounds for array of shape [",
                              (long long) t_n_m_119532, "].",
                              "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float y_135132 = ((float *) ext_mem_128338.mem)[gtid_125480 *
                                                            t_n_m_119532 +
                                                            defunc_0_m_fun_arg_135107];
            float y_135133 = x_135127 * y_135132;
            float x_135134 = x_135126 + y_135133;
            float y_135135 = 2.0F * u2_135115;
            float x_135136 = u3_135116 - y_135135;
            float x_135137 = u_135114 + x_135136;
            float y_135138 = ((float *) ext_mem_128337.mem)[gtid_125480 *
                                                            t_n_m_119532 +
                                                            j_135103];
            float x_135139 = x_135137 * y_135138;
            float y_135140 = i64_res_135111 * x_135139;
            float x_135141 = x_135134 + y_135140;
            float x_135142 = u3_135116 - u2_135115;
            float y_135143 = ((float *) ext_mem_128337.mem)[gtid_125480 *
                                                            t_n_m_119532 +
                                                            defunc_0_m_fun_arg_135107];
            float x_135144 = x_135142 * y_135143;
            float y_135145 = i64_res_135111 * x_135144;
            float defunc_0_f_res_135146 = x_135141 + y_135145;
            
            ((float *) mem_128344)[i_135099] = defunc_0_f_res_135146;
        }
        memmove(mem_128360.mem + gtid_125480 * n_119475 * (int64_t) 4,
                mem_128344 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128344);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136920_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136920_end -
                 futhark_mc_segmap_parloop_136920_start;
        
        ctx->futhark_mc_segmap_parloop_136920_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136920_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136920_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136918(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125479 = tid;
    int num_tasks_135097 = info.nsubtasks;
    struct futhark_mc_task_136917 *futhark_mc_task_136917 =
                                  (struct futhark_mc_task_136917 *) args;
    struct futhark_context *ctx = futhark_mc_task_136917->ctx;
    uint64_t futhark_mc_segmap_task_136918_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136918_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136917->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136917->free_n_119475;
    int64_t t_jump_119482 = futhark_mc_task_136917->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136917->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136917->free_i_119551;
    int64_t y_121380 = futhark_mc_task_136917->free_y_121380;
    int64_t bytes_126925 = futhark_mc_task_136917->free_bytes_126925;
    struct memblock ext_mem_128337 = {.desc ="ext_mem_128337", .mem =
                                      futhark_mc_task_136917->free_ext_mem_128337,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128338 = {.desc ="ext_mem_128338", .mem =
                                      futhark_mc_task_136917->free_ext_mem_128338,
                                      .size =0, .references =NULL};
    struct memblock mem_128360 = {.desc ="mem_128360", .mem =
                                  futhark_mc_task_136917->free_mem_128360,
                                  .size =0, .references =NULL};
    int64_t iter_135098;
    struct futhark_mc_segmap_parloop_struct_136919
    futhark_mc_segmap_parloop_struct_136919;
    
    futhark_mc_segmap_parloop_struct_136919.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136919.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136919.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136919.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136919.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136919.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136919.free_y_121380 = y_121380;
    futhark_mc_segmap_parloop_struct_136919.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136919.free_ext_mem_128337 =
        ext_mem_128337.mem;
    futhark_mc_segmap_parloop_struct_136919.free_ext_mem_128338 =
        ext_mem_128338.mem;
    futhark_mc_segmap_parloop_struct_136919.free_mem_128360 = mem_128360.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136920_task;
    
    futhark_mc_segmap_parloop_136920_task.name =
        "futhark_mc_segmap_parloop_136920";
    futhark_mc_segmap_parloop_136920_task.fn = futhark_mc_segmap_parloop_136920;
    futhark_mc_segmap_parloop_136920_task.args =
        &futhark_mc_segmap_parloop_struct_136919;
    futhark_mc_segmap_parloop_136920_task.iterations = iterations;
    futhark_mc_segmap_parloop_136920_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136920_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136920_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136920_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136920_task);
    
    if (futhark_mc_segmap_parloop_136920_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136920_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136920_total_end -
                 futhark_mc_segmap_parloop_136920_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136920_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136920_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136920_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136918_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136918_end -
                 futhark_mc_segmap_task_136918_start;
        
        ctx->futhark_mc_segmap_task_136918_runs[tid]++;
        ctx->futhark_mc_segmap_task_136918_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136918_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136923 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_y_121380;
    int64_t free_bytes_126925;
    char *free_ext_mem_128337;
    char *free_ext_mem_128338;
    char *free_mem_128360;
};
struct futhark_mc_task_136926 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_y_121380;
    int64_t free_gtid_125482;
    char *free_ext_mem_128337;
    char *free_ext_mem_128338;
    char *free_mem_128341;
};
struct futhark_mc_segmap_parloop_struct_136928 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_jump_119482;
    int64_t free_t_n_m_119532;
    int64_t free_i_119551;
    int64_t free_y_121380;
    int64_t free_gtid_125482;
    char *free_ext_mem_128337;
    char *free_ext_mem_128338;
    char *free_mem_128341;
};
static int futhark_mc_segmap_parloop_136929(void *args, int64_t start,
                                            int64_t end, int flat_tid_125483,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136928
    *futhark_mc_segmap_parloop_struct_136928 =
    (struct futhark_mc_segmap_parloop_struct_136928 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136928->ctx;
    uint64_t futhark_mc_segmap_parloop_136929_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136929_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136928->free_n_119475;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136928->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136928->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136928->free_i_119551;
    int64_t y_121380 = futhark_mc_segmap_parloop_struct_136928->free_y_121380;
    int64_t gtid_125482 =
            futhark_mc_segmap_parloop_struct_136928->free_gtid_125482;
    struct memblock ext_mem_128337 = {.desc ="ext_mem_128337", .mem =
                                      futhark_mc_segmap_parloop_struct_136928->free_ext_mem_128337,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128338 = {.desc ="ext_mem_128338", .mem =
                                      futhark_mc_segmap_parloop_struct_136928->free_ext_mem_128338,
                                      .size =0, .references =NULL};
    struct memblock mem_128341 = {.desc ="mem_128341", .mem =
                                  futhark_mc_segmap_parloop_struct_136928->free_mem_128341,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135201 = start;
    
    for (; iter_135201 < end; iter_135201++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135203 = n_119475;
        int64_t gtid_125484 = iter_135201;
        int64_t remnant_135204 = iter_135201 - gtid_125484;
        int64_t m_v_135152 = sdiv64(gtid_125484, t_jump_119482);
        bool cond_135153 = m_v_135152 == y_121380;
        int64_t j_135154;
        
        if (cond_135153) {
            int64_t j_t_res_135202 = sub64(m_v_135152, (int64_t) 1);
            
            j_135154 = j_t_res_135202;
        } else {
            j_135154 = m_v_135152;
        }
        
        int64_t min_arg_135156 = mul64(t_jump_119482, j_135154);
        int64_t min_res_135157 = smin64(i_119551, min_arg_135156);
        int64_t defunc_0_m_fun_arg_135158 = add64((int64_t) 1, j_135154);
        int64_t min_arg_135159 = mul64(t_jump_119482,
                                       defunc_0_m_fun_arg_135158);
        int64_t min_res_135160 = smin64(i_119551, min_arg_135159);
        int64_t i64_arg_135161 = sub64(min_res_135160, min_res_135157);
        float i64_res_135162 = sitofp_i64_f32(i64_arg_135161);
        int64_t i64_arg_135163 = sub64(gtid_125484, min_res_135157);
        float i64_res_135164 = sitofp_i64_f32(i64_arg_135163);
        float u_135165 = i64_res_135164 / i64_res_135162;
        float u2_135166 = u_135165 * u_135165;
        float u3_135167 = u_135165 * u2_135166;
        float x_135168 = 2.0F * u3_135167;
        float y_135169 = 3.0F * u2_135166;
        float x_135170 = x_135168 - y_135169;
        float x_135171 = 1.0F + x_135170;
        bool x_135172 = sle64((int64_t) 0, j_135154);
        bool y_135173 = slt64(j_135154, t_n_m_119532);
        bool bounds_check_135174 = x_135172 && y_135173;
        bool index_certs_135175;
        
        if (!bounds_check_135174) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) j_135154,
                                   "] out of bounds for array of shape [",
                                   (long long) t_n_m_119532, "].",
                                   "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
            return 1;
        }
        
        float y_135176 = ((float *) ext_mem_128338.mem)[gtid_125482 *
                                                        t_n_m_119532 +
                                                        j_135154];
        float x_135177 = x_135171 * y_135176;
        float x_135178 = y_135169 - x_135168;
        bool x_135179 = sle64((int64_t) 0, defunc_0_m_fun_arg_135158);
        bool y_135180 = slt64(defunc_0_m_fun_arg_135158, t_n_m_119532);
        bool bounds_check_135181 = x_135179 && y_135180;
        bool index_certs_135182;
        
        if (!bounds_check_135181) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [",
                                   (long long) defunc_0_m_fun_arg_135158,
                                   "] out of bounds for array of shape [",
                                   (long long) t_n_m_119532, "].",
                                   "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
            return 1;
        }
        
        float y_135183 = ((float *) ext_mem_128338.mem)[gtid_125482 *
                                                        t_n_m_119532 +
                                                        defunc_0_m_fun_arg_135158];
        float y_135184 = x_135178 * y_135183;
        float x_135185 = x_135177 + y_135184;
        float y_135186 = 2.0F * u2_135166;
        float x_135187 = u3_135167 - y_135186;
        float x_135188 = u_135165 + x_135187;
        float y_135189 = ((float *) ext_mem_128337.mem)[gtid_125482 *
                                                        t_n_m_119532 +
                                                        j_135154];
        float x_135190 = x_135188 * y_135189;
        float y_135191 = i64_res_135162 * x_135190;
        float x_135192 = x_135185 + y_135191;
        float x_135193 = u3_135167 - u2_135166;
        float y_135194 = ((float *) ext_mem_128337.mem)[gtid_125482 *
                                                        t_n_m_119532 +
                                                        defunc_0_m_fun_arg_135158];
        float x_135195 = x_135193 * y_135194;
        float y_135196 = i64_res_135162 * x_135195;
        float defunc_0_f_res_135197 = x_135192 + y_135196;
        
        ((float *) mem_128341.mem)[gtid_125484] = defunc_0_f_res_135197;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136929_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136929_end -
                 futhark_mc_segmap_parloop_136929_start;
        
        ctx->futhark_mc_segmap_parloop_136929_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136929_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136929_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136927(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125483 = tid;
    int num_tasks_135200 = info.nsubtasks;
    struct futhark_mc_task_136926 *futhark_mc_task_136926 =
                                  (struct futhark_mc_task_136926 *) args;
    struct futhark_context *ctx = futhark_mc_task_136926->ctx;
    uint64_t futhark_mc_segmap_task_136927_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136927_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136926->free_n_119475;
    int64_t t_jump_119482 = futhark_mc_task_136926->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136926->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136926->free_i_119551;
    int64_t y_121380 = futhark_mc_task_136926->free_y_121380;
    int64_t gtid_125482 = futhark_mc_task_136926->free_gtid_125482;
    struct memblock ext_mem_128337 = {.desc ="ext_mem_128337", .mem =
                                      futhark_mc_task_136926->free_ext_mem_128337,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128338 = {.desc ="ext_mem_128338", .mem =
                                      futhark_mc_task_136926->free_ext_mem_128338,
                                      .size =0, .references =NULL};
    struct memblock mem_128341 = {.desc ="mem_128341", .mem =
                                  futhark_mc_task_136926->free_mem_128341,
                                  .size =0, .references =NULL};
    int64_t iter_135201;
    struct futhark_mc_segmap_parloop_struct_136928
    futhark_mc_segmap_parloop_struct_136928;
    
    futhark_mc_segmap_parloop_struct_136928.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136928.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136928.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136928.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136928.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136928.free_y_121380 = y_121380;
    futhark_mc_segmap_parloop_struct_136928.free_gtid_125482 = gtid_125482;
    futhark_mc_segmap_parloop_struct_136928.free_ext_mem_128337 =
        ext_mem_128337.mem;
    futhark_mc_segmap_parloop_struct_136928.free_ext_mem_128338 =
        ext_mem_128338.mem;
    futhark_mc_segmap_parloop_struct_136928.free_mem_128341 = mem_128341.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136929_task;
    
    futhark_mc_segmap_parloop_136929_task.name =
        "futhark_mc_segmap_parloop_136929";
    futhark_mc_segmap_parloop_136929_task.fn = futhark_mc_segmap_parloop_136929;
    futhark_mc_segmap_parloop_136929_task.args =
        &futhark_mc_segmap_parloop_struct_136928;
    futhark_mc_segmap_parloop_136929_task.iterations = iterations;
    futhark_mc_segmap_parloop_136929_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136929_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136929_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136929_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136929_task);
    
    if (futhark_mc_segmap_parloop_136929_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136929_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136929_total_end -
                 futhark_mc_segmap_parloop_136929_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136929_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136929_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136929_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136927_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136927_end -
                 futhark_mc_segmap_task_136927_start;
        
        ctx->futhark_mc_segmap_task_136927_runs[tid]++;
        ctx->futhark_mc_segmap_task_136927_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136927_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136924(void *args, int64_t start,
                                            int64_t end, int flat_tid_125481,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136923
    *futhark_mc_segmap_parloop_struct_136923 =
    (struct futhark_mc_segmap_parloop_struct_136923 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136923->ctx;
    uint64_t futhark_mc_segmap_parloop_136924_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136924_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136923->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136923->free_n_119475;
    int64_t t_jump_119482 =
            futhark_mc_segmap_parloop_struct_136923->free_t_jump_119482;
    int64_t t_n_m_119532 =
            futhark_mc_segmap_parloop_struct_136923->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136923->free_i_119551;
    int64_t y_121380 = futhark_mc_segmap_parloop_struct_136923->free_y_121380;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136923->free_bytes_126925;
    struct memblock ext_mem_128337 = {.desc ="ext_mem_128337", .mem =
                                      futhark_mc_segmap_parloop_struct_136923->free_ext_mem_128337,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128338 = {.desc ="ext_mem_128338", .mem =
                                      futhark_mc_segmap_parloop_struct_136923->free_ext_mem_128338,
                                      .size =0, .references =NULL};
    struct memblock mem_128360 = {.desc ="mem_128360", .mem =
                                  futhark_mc_segmap_parloop_struct_136923->free_mem_128360,
                                  .size =0, .references =NULL};
    size_t mem_128341_cached_sizze_136925 = 0;
    char *mem_128341 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135151 = start;
    
    if (mem_128341_cached_sizze_136925 < (size_t) bytes_126925) {
        mem_128341 = realloc(mem_128341, bytes_126925);
        mem_128341_cached_sizze_136925 = bytes_126925;
    }
    for (; iter_135151 < end; iter_135151++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135198 = m_119474;
        int64_t gtid_125482 = iter_135151;
        int64_t remnant_135199 = iter_135151 - gtid_125482;
        int64_t flat_tid_125483 = (int64_t) 0;
        int32_t num_tasks_135200;
        struct futhark_mc_task_136926 futhark_mc_task_136926;
        
        futhark_mc_task_136926.ctx = ctx;
        futhark_mc_task_136926.free_n_119475 = n_119475;
        futhark_mc_task_136926.free_t_jump_119482 = t_jump_119482;
        futhark_mc_task_136926.free_t_n_m_119532 = t_n_m_119532;
        futhark_mc_task_136926.free_i_119551 = i_119551;
        futhark_mc_task_136926.free_y_121380 = y_121380;
        futhark_mc_task_136926.free_gtid_125482 = gtid_125482;
        futhark_mc_task_136926.free_ext_mem_128337 = ext_mem_128337.mem;
        futhark_mc_task_136926.free_ext_mem_128338 = ext_mem_128338.mem;
        futhark_mc_task_136926.free_mem_128341 = mem_128341;
        
        struct scheduler_segop futhark_mc_task_136926_task;
        
        futhark_mc_task_136926_task.args = &futhark_mc_task_136926;
        futhark_mc_task_136926_task.top_level_fn =
            futhark_mc_segmap_task_136927;
        futhark_mc_task_136926_task.name = "futhark_mc_segmap_task_136927";
        futhark_mc_task_136926_task.iterations = n_119475;
        futhark_mc_task_136926_task.task_time =
            &ctx->futhark_mc_segmap_task_136927_total_time;
        futhark_mc_task_136926_task.task_iter =
            &ctx->futhark_mc_segmap_task_136927_total_iter;
        futhark_mc_task_136926_task.sched = STATIC;
        futhark_mc_task_136926_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136927_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136926_task);
        
        if (futhark_mc_segmap_task_136927_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128360.mem + gtid_125482 * n_119475 * (int64_t) 4,
                mem_128341 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128341);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136924_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136924_end -
                 futhark_mc_segmap_parloop_136924_start;
        
        ctx->futhark_mc_segmap_parloop_136924_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136924_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136924_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136922(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125481 = tid;
    int num_tasks_135097 = info.nsubtasks;
    struct futhark_mc_task_136917 *futhark_mc_task_136917 =
                                  (struct futhark_mc_task_136917 *) args;
    struct futhark_context *ctx = futhark_mc_task_136917->ctx;
    uint64_t futhark_mc_segmap_nested_task_136922_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136922_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136917->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136917->free_n_119475;
    int64_t t_jump_119482 = futhark_mc_task_136917->free_t_jump_119482;
    int64_t t_n_m_119532 = futhark_mc_task_136917->free_t_n_m_119532;
    int64_t i_119551 = futhark_mc_task_136917->free_i_119551;
    int64_t y_121380 = futhark_mc_task_136917->free_y_121380;
    int64_t bytes_126925 = futhark_mc_task_136917->free_bytes_126925;
    struct memblock ext_mem_128337 = {.desc ="ext_mem_128337", .mem =
                                      futhark_mc_task_136917->free_ext_mem_128337,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128338 = {.desc ="ext_mem_128338", .mem =
                                      futhark_mc_task_136917->free_ext_mem_128338,
                                      .size =0, .references =NULL};
    struct memblock mem_128360 = {.desc ="mem_128360", .mem =
                                  futhark_mc_task_136917->free_mem_128360,
                                  .size =0, .references =NULL};
    int64_t iter_135151;
    struct futhark_mc_segmap_parloop_struct_136923
    futhark_mc_segmap_parloop_struct_136923;
    
    futhark_mc_segmap_parloop_struct_136923.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136923.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136923.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136923.free_t_jump_119482 = t_jump_119482;
    futhark_mc_segmap_parloop_struct_136923.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_segmap_parloop_struct_136923.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136923.free_y_121380 = y_121380;
    futhark_mc_segmap_parloop_struct_136923.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136923.free_ext_mem_128337 =
        ext_mem_128337.mem;
    futhark_mc_segmap_parloop_struct_136923.free_ext_mem_128338 =
        ext_mem_128338.mem;
    futhark_mc_segmap_parloop_struct_136923.free_mem_128360 = mem_128360.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136924_task;
    
    futhark_mc_segmap_parloop_136924_task.name =
        "futhark_mc_segmap_parloop_136924";
    futhark_mc_segmap_parloop_136924_task.fn = futhark_mc_segmap_parloop_136924;
    futhark_mc_segmap_parloop_136924_task.args =
        &futhark_mc_segmap_parloop_struct_136923;
    futhark_mc_segmap_parloop_136924_task.iterations = iterations;
    futhark_mc_segmap_parloop_136924_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136924_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136924_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136924_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136924_task);
    
    if (futhark_mc_segmap_parloop_136924_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136924_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136924_total_end -
                 futhark_mc_segmap_parloop_136924_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136924_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136924_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136924_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136922_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136922_end -
                 futhark_mc_segmap_nested_task_136922_start;
        
        ctx->futhark_mc_segmap_nested_task_136922_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136922_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136922_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136930 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    char *free_ext_mem_128367;
    char *free_ext_mem_128368;
    int64_t free_ext_128372;
    char *free_mem_128404;
};
struct futhark_mc_segmap_parloop_struct_136932 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    char *free_ext_mem_128367;
    char *free_ext_mem_128368;
    int64_t free_ext_128372;
    char *free_mem_128404;
};
static int futhark_mc_segmap_parloop_136933(void *args, int64_t start,
                                            int64_t end, int flat_tid_125535,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136932
    *futhark_mc_segmap_parloop_struct_136932 =
    (struct futhark_mc_segmap_parloop_struct_136932 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136932->ctx;
    uint64_t futhark_mc_segmap_parloop_136933_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136933_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136932->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136932->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136932->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136932->free_bytes_126925;
    struct memblock ext_mem_128367 = {.desc ="ext_mem_128367", .mem =
                                      futhark_mc_segmap_parloop_struct_136932->free_ext_mem_128367,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128368 = {.desc ="ext_mem_128368", .mem =
                                      futhark_mc_segmap_parloop_struct_136932->free_ext_mem_128368,
                                      .size =0, .references =NULL};
    int64_t ext_128372 =
            futhark_mc_segmap_parloop_struct_136932->free_ext_128372;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_136932->free_mem_128404,
                                  .size =0, .references =NULL};
    size_t mem_128388_cached_sizze_136934 = 0;
    char *mem_128388 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135206 = start;
    
    if (mem_128388_cached_sizze_136934 < (size_t) bytes_126925) {
        mem_128388 = realloc(mem_128388, bytes_126925);
        mem_128388_cached_sizze_136934 = bytes_126925;
    }
    for (; iter_135206 < end; iter_135206++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135218 = m_119474;
        int64_t gtid_125536 = iter_135206;
        int64_t remnant_135219 = iter_135206 - gtid_125536;
        
        for (int64_t i_135207 = 0; i_135207 < n_119475; i_135207++) {
            float x_135209 = ((float *) Y_mem_126881.mem)[gtid_125536 *
                                                          n_119475 + i_135207];
            float x_135210 = ((float *) ext_mem_128368.mem)[gtid_125536 *
                                                            n_119475 +
                                                            i_135207];
            float x_135211 = ((float *) ext_mem_128367.mem)[gtid_125536 *
                                                            ext_128372 +
                                                            i_135207];
            float x_135212 = x_135209 - x_135210;
            float defunc_2_f_res_135213 = x_135212 - x_135211;
            bool isnan_res_135214;
            
            isnan_res_135214 = futrts_isnan32(defunc_2_f_res_135213);
            
            float defunc_0_f_res_135215;
            
            if (isnan_res_135214) {
                defunc_0_f_res_135215 = NAN;
            } else {
                float abs_res_135216 = (float) fabs(defunc_2_f_res_135213);
                
                defunc_0_f_res_135215 = abs_res_135216;
            }
            ((float *) mem_128388)[i_135207] = defunc_0_f_res_135215;
        }
        memmove(mem_128404.mem + gtid_125536 * n_119475 * (int64_t) 4,
                mem_128388 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128388);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136933_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136933_end -
                 futhark_mc_segmap_parloop_136933_start;
        
        ctx->futhark_mc_segmap_parloop_136933_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136933_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136933_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136931(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125535 = tid;
    int num_tasks_135205 = info.nsubtasks;
    struct futhark_mc_task_136930 *futhark_mc_task_136930 =
                                  (struct futhark_mc_task_136930 *) args;
    struct futhark_context *ctx = futhark_mc_task_136930->ctx;
    uint64_t futhark_mc_segmap_task_136931_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136931_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136930->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136930->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136930->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136930->free_bytes_126925;
    struct memblock ext_mem_128367 = {.desc ="ext_mem_128367", .mem =
                                      futhark_mc_task_136930->free_ext_mem_128367,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128368 = {.desc ="ext_mem_128368", .mem =
                                      futhark_mc_task_136930->free_ext_mem_128368,
                                      .size =0, .references =NULL};
    int64_t ext_128372 = futhark_mc_task_136930->free_ext_128372;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_136930->free_mem_128404,
                                  .size =0, .references =NULL};
    int64_t iter_135206;
    struct futhark_mc_segmap_parloop_struct_136932
    futhark_mc_segmap_parloop_struct_136932;
    
    futhark_mc_segmap_parloop_struct_136932.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136932.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136932.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136932.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136932.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136932.free_ext_mem_128367 =
        ext_mem_128367.mem;
    futhark_mc_segmap_parloop_struct_136932.free_ext_mem_128368 =
        ext_mem_128368.mem;
    futhark_mc_segmap_parloop_struct_136932.free_ext_128372 = ext_128372;
    futhark_mc_segmap_parloop_struct_136932.free_mem_128404 = mem_128404.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136933_task;
    
    futhark_mc_segmap_parloop_136933_task.name =
        "futhark_mc_segmap_parloop_136933";
    futhark_mc_segmap_parloop_136933_task.fn = futhark_mc_segmap_parloop_136933;
    futhark_mc_segmap_parloop_136933_task.args =
        &futhark_mc_segmap_parloop_struct_136932;
    futhark_mc_segmap_parloop_136933_task.iterations = iterations;
    futhark_mc_segmap_parloop_136933_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136933_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136933_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136933_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136933_task);
    
    if (futhark_mc_segmap_parloop_136933_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136933_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136933_total_end -
                 futhark_mc_segmap_parloop_136933_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136933_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136933_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136933_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136931_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136931_end -
                 futhark_mc_segmap_task_136931_start;
        
        ctx->futhark_mc_segmap_task_136931_runs[tid]++;
        ctx->futhark_mc_segmap_task_136931_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136931_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136936 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    char *free_ext_mem_128367;
    char *free_ext_mem_128368;
    int64_t free_ext_128372;
    char *free_mem_128404;
};
struct futhark_mc_task_136939 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125538;
    char *free_Y_mem_126881;
    char *free_ext_mem_128367;
    char *free_ext_mem_128368;
    int64_t free_ext_128372;
    char *free_mem_128385;
};
struct futhark_mc_segmap_parloop_struct_136941 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125538;
    char *free_Y_mem_126881;
    char *free_ext_mem_128367;
    char *free_ext_mem_128368;
    int64_t free_ext_128372;
    char *free_mem_128385;
};
static int futhark_mc_segmap_parloop_136942(void *args, int64_t start,
                                            int64_t end, int flat_tid_125539,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136941
    *futhark_mc_segmap_parloop_struct_136941 =
    (struct futhark_mc_segmap_parloop_struct_136941 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136941->ctx;
    uint64_t futhark_mc_segmap_parloop_136942_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136942_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136941->free_n_119475;
    int64_t gtid_125538 =
            futhark_mc_segmap_parloop_struct_136941->free_gtid_125538;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136941->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_128367 = {.desc ="ext_mem_128367", .mem =
                                      futhark_mc_segmap_parloop_struct_136941->free_ext_mem_128367,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128368 = {.desc ="ext_mem_128368", .mem =
                                      futhark_mc_segmap_parloop_struct_136941->free_ext_mem_128368,
                                      .size =0, .references =NULL};
    int64_t ext_128372 =
            futhark_mc_segmap_parloop_struct_136941->free_ext_128372;
    struct memblock mem_128385 = {.desc ="mem_128385", .mem =
                                  futhark_mc_segmap_parloop_struct_136941->free_mem_128385,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135233 = start;
    
    for (; iter_135233 < end; iter_135233++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135235 = n_119475;
        int64_t gtid_125540 = iter_135233;
        int64_t remnant_135236 = iter_135233 - gtid_125540;
        float x_135222 = ((float *) Y_mem_126881.mem)[gtid_125538 * n_119475 +
                                                      gtid_125540];
        float x_135223 = ((float *) ext_mem_128368.mem)[gtid_125538 * n_119475 +
                                                        gtid_125540];
        float x_135224 = ((float *) ext_mem_128367.mem)[gtid_125538 *
                                                        ext_128372 +
                                                        gtid_125540];
        float x_135225 = x_135222 - x_135223;
        float defunc_2_f_res_135226 = x_135225 - x_135224;
        bool isnan_res_135227;
        
        isnan_res_135227 = futrts_isnan32(defunc_2_f_res_135226);
        
        float defunc_0_f_res_135228;
        
        if (isnan_res_135227) {
            defunc_0_f_res_135228 = NAN;
        } else {
            float abs_res_135234 = (float) fabs(defunc_2_f_res_135226);
            
            defunc_0_f_res_135228 = abs_res_135234;
        }
        ((float *) mem_128385.mem)[gtid_125540] = defunc_0_f_res_135228;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136942_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136942_end -
                 futhark_mc_segmap_parloop_136942_start;
        
        ctx->futhark_mc_segmap_parloop_136942_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136942_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136942_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136940(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125539 = tid;
    int num_tasks_135232 = info.nsubtasks;
    struct futhark_mc_task_136939 *futhark_mc_task_136939 =
                                  (struct futhark_mc_task_136939 *) args;
    struct futhark_context *ctx = futhark_mc_task_136939->ctx;
    uint64_t futhark_mc_segmap_task_136940_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136940_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136939->free_n_119475;
    int64_t gtid_125538 = futhark_mc_task_136939->free_gtid_125538;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136939->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_128367 = {.desc ="ext_mem_128367", .mem =
                                      futhark_mc_task_136939->free_ext_mem_128367,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128368 = {.desc ="ext_mem_128368", .mem =
                                      futhark_mc_task_136939->free_ext_mem_128368,
                                      .size =0, .references =NULL};
    int64_t ext_128372 = futhark_mc_task_136939->free_ext_128372;
    struct memblock mem_128385 = {.desc ="mem_128385", .mem =
                                  futhark_mc_task_136939->free_mem_128385,
                                  .size =0, .references =NULL};
    int64_t iter_135233;
    struct futhark_mc_segmap_parloop_struct_136941
    futhark_mc_segmap_parloop_struct_136941;
    
    futhark_mc_segmap_parloop_struct_136941.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136941.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136941.free_gtid_125538 = gtid_125538;
    futhark_mc_segmap_parloop_struct_136941.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136941.free_ext_mem_128367 =
        ext_mem_128367.mem;
    futhark_mc_segmap_parloop_struct_136941.free_ext_mem_128368 =
        ext_mem_128368.mem;
    futhark_mc_segmap_parloop_struct_136941.free_ext_128372 = ext_128372;
    futhark_mc_segmap_parloop_struct_136941.free_mem_128385 = mem_128385.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136942_task;
    
    futhark_mc_segmap_parloop_136942_task.name =
        "futhark_mc_segmap_parloop_136942";
    futhark_mc_segmap_parloop_136942_task.fn = futhark_mc_segmap_parloop_136942;
    futhark_mc_segmap_parloop_136942_task.args =
        &futhark_mc_segmap_parloop_struct_136941;
    futhark_mc_segmap_parloop_136942_task.iterations = iterations;
    futhark_mc_segmap_parloop_136942_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136942_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136942_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136942_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136942_task);
    
    if (futhark_mc_segmap_parloop_136942_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136942_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136942_total_end -
                 futhark_mc_segmap_parloop_136942_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136942_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136942_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136942_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136940_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136940_end -
                 futhark_mc_segmap_task_136940_start;
        
        ctx->futhark_mc_segmap_task_136940_runs[tid]++;
        ctx->futhark_mc_segmap_task_136940_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136940_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136937(void *args, int64_t start,
                                            int64_t end, int flat_tid_125537,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136936
    *futhark_mc_segmap_parloop_struct_136936 =
    (struct futhark_mc_segmap_parloop_struct_136936 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136936->ctx;
    uint64_t futhark_mc_segmap_parloop_136937_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136937_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136936->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136936->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_136936->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136936->free_bytes_126925;
    struct memblock ext_mem_128367 = {.desc ="ext_mem_128367", .mem =
                                      futhark_mc_segmap_parloop_struct_136936->free_ext_mem_128367,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128368 = {.desc ="ext_mem_128368", .mem =
                                      futhark_mc_segmap_parloop_struct_136936->free_ext_mem_128368,
                                      .size =0, .references =NULL};
    int64_t ext_128372 =
            futhark_mc_segmap_parloop_struct_136936->free_ext_128372;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_136936->free_mem_128404,
                                  .size =0, .references =NULL};
    size_t mem_128385_cached_sizze_136938 = 0;
    char *mem_128385 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135221 = start;
    
    if (mem_128385_cached_sizze_136938 < (size_t) bytes_126925) {
        mem_128385 = realloc(mem_128385, bytes_126925);
        mem_128385_cached_sizze_136938 = bytes_126925;
    }
    for (; iter_135221 < end; iter_135221++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135230 = m_119474;
        int64_t gtid_125538 = iter_135221;
        int64_t remnant_135231 = iter_135221 - gtid_125538;
        int64_t flat_tid_125539 = (int64_t) 0;
        int32_t num_tasks_135232;
        struct futhark_mc_task_136939 futhark_mc_task_136939;
        
        futhark_mc_task_136939.ctx = ctx;
        futhark_mc_task_136939.free_n_119475 = n_119475;
        futhark_mc_task_136939.free_gtid_125538 = gtid_125538;
        futhark_mc_task_136939.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_136939.free_ext_mem_128367 = ext_mem_128367.mem;
        futhark_mc_task_136939.free_ext_mem_128368 = ext_mem_128368.mem;
        futhark_mc_task_136939.free_ext_128372 = ext_128372;
        futhark_mc_task_136939.free_mem_128385 = mem_128385;
        
        struct scheduler_segop futhark_mc_task_136939_task;
        
        futhark_mc_task_136939_task.args = &futhark_mc_task_136939;
        futhark_mc_task_136939_task.top_level_fn =
            futhark_mc_segmap_task_136940;
        futhark_mc_task_136939_task.name = "futhark_mc_segmap_task_136940";
        futhark_mc_task_136939_task.iterations = n_119475;
        futhark_mc_task_136939_task.task_time =
            &ctx->futhark_mc_segmap_task_136940_total_time;
        futhark_mc_task_136939_task.task_iter =
            &ctx->futhark_mc_segmap_task_136940_total_iter;
        futhark_mc_task_136939_task.sched = STATIC;
        futhark_mc_task_136939_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136940_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136939_task);
        
        if (futhark_mc_segmap_task_136940_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128404.mem + gtid_125538 * n_119475 * (int64_t) 4,
                mem_128385 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128385);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136937_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136937_end -
                 futhark_mc_segmap_parloop_136937_start;
        
        ctx->futhark_mc_segmap_parloop_136937_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136937_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136937_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136935(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125537 = tid;
    int num_tasks_135205 = info.nsubtasks;
    struct futhark_mc_task_136930 *futhark_mc_task_136930 =
                                  (struct futhark_mc_task_136930 *) args;
    struct futhark_context *ctx = futhark_mc_task_136930->ctx;
    uint64_t futhark_mc_segmap_nested_task_136935_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136935_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136930->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136930->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_136930->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136930->free_bytes_126925;
    struct memblock ext_mem_128367 = {.desc ="ext_mem_128367", .mem =
                                      futhark_mc_task_136930->free_ext_mem_128367,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128368 = {.desc ="ext_mem_128368", .mem =
                                      futhark_mc_task_136930->free_ext_mem_128368,
                                      .size =0, .references =NULL};
    int64_t ext_128372 = futhark_mc_task_136930->free_ext_128372;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_136930->free_mem_128404,
                                  .size =0, .references =NULL};
    int64_t iter_135221;
    struct futhark_mc_segmap_parloop_struct_136936
    futhark_mc_segmap_parloop_struct_136936;
    
    futhark_mc_segmap_parloop_struct_136936.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136936.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136936.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136936.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_136936.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136936.free_ext_mem_128367 =
        ext_mem_128367.mem;
    futhark_mc_segmap_parloop_struct_136936.free_ext_mem_128368 =
        ext_mem_128368.mem;
    futhark_mc_segmap_parloop_struct_136936.free_ext_128372 = ext_128372;
    futhark_mc_segmap_parloop_struct_136936.free_mem_128404 = mem_128404.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136937_task;
    
    futhark_mc_segmap_parloop_136937_task.name =
        "futhark_mc_segmap_parloop_136937";
    futhark_mc_segmap_parloop_136937_task.fn = futhark_mc_segmap_parloop_136937;
    futhark_mc_segmap_parloop_136937_task.args =
        &futhark_mc_segmap_parloop_struct_136936;
    futhark_mc_segmap_parloop_136937_task.iterations = iterations;
    futhark_mc_segmap_parloop_136937_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136937_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136937_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136937_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136937_task);
    
    if (futhark_mc_segmap_parloop_136937_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136937_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136937_total_end -
                 futhark_mc_segmap_parloop_136937_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136937_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136937_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136937_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136935_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136935_end -
                 futhark_mc_segmap_nested_task_136935_start;
        
        ctx->futhark_mc_segmap_nested_task_136935_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136935_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136935_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136943 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    char *free_mem_128404;
    char *free_mem_128426;
};
struct futhark_mc_segmap_parloop_struct_136945 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    char *free_mem_128404;
    char *free_mem_128426;
};
static int futhark_mc_segmap_parloop_136946(void *args, int64_t start,
                                            int64_t end, int flat_tid_125553,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136945
    *futhark_mc_segmap_parloop_struct_136945 =
    (struct futhark_mc_segmap_parloop_struct_136945 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136945->ctx;
    uint64_t futhark_mc_segmap_parloop_136946_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136946_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136945->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136945->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136945->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136945->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_136945->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_segmap_parloop_struct_136945->free_mem_128426,
                                  .size =0, .references =NULL};
    size_t mem_128410_cached_sizze_136947 = 0;
    char *mem_128410 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135238 = start;
    
    if (mem_128410_cached_sizze_136947 < (size_t) bytes_126925) {
        mem_128410 = realloc(mem_128410, bytes_126925);
        mem_128410_cached_sizze_136947 = bytes_126925;
    }
    for (; iter_135238 < end; iter_135238++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135249 = m_119474;
        int64_t gtid_125554 = iter_135238;
        int64_t remnant_135250 = iter_135238 - gtid_125554;
        
        for (int64_t i_135239 = 0; i_135239 < n_119475; i_135239++) {
            int64_t x_135241 = ((int64_t *) mem_126921.mem)[gtid_125554 *
                                                            n_119475 +
                                                            i_135239];
            bool cond_135242 = sle64((int64_t) 0, x_135241);
            float defunc_0_f_res_135243;
            
            if (cond_135242) {
                bool y_135244 = slt64(x_135241, n_119475);
                bool bounds_check_135245 = cond_135242 && y_135244;
                bool index_certs_135246;
                
                if (!bounds_check_135245) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_135241,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:301:21-49\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:299:13-302:35\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_135247 =
                      ((float *) mem_128404.mem)[gtid_125554 * n_119475 +
                                                 x_135241];
                
                defunc_0_f_res_135243 = defunc_0_f_res_t_res_135247;
            } else {
                defunc_0_f_res_135243 = INFINITY;
            }
            ((float *) mem_128410)[i_135239] = defunc_0_f_res_135243;
        }
        memmove(mem_128426.mem + gtid_125554 * n_119475 * (int64_t) 4,
                mem_128410 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128410);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136946_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136946_end -
                 futhark_mc_segmap_parloop_136946_start;
        
        ctx->futhark_mc_segmap_parloop_136946_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136946_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136946_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136944(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125553 = tid;
    int num_tasks_135237 = info.nsubtasks;
    struct futhark_mc_task_136943 *futhark_mc_task_136943 =
                                  (struct futhark_mc_task_136943 *) args;
    struct futhark_context *ctx = futhark_mc_task_136943->ctx;
    uint64_t futhark_mc_segmap_task_136944_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136944_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136943->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136943->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136943->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136943->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_136943->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_task_136943->free_mem_128426,
                                  .size =0, .references =NULL};
    int64_t iter_135238;
    struct futhark_mc_segmap_parloop_struct_136945
    futhark_mc_segmap_parloop_struct_136945;
    
    futhark_mc_segmap_parloop_struct_136945.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136945.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136945.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136945.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136945.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136945.free_mem_128404 = mem_128404.mem;
    futhark_mc_segmap_parloop_struct_136945.free_mem_128426 = mem_128426.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136946_task;
    
    futhark_mc_segmap_parloop_136946_task.name =
        "futhark_mc_segmap_parloop_136946";
    futhark_mc_segmap_parloop_136946_task.fn = futhark_mc_segmap_parloop_136946;
    futhark_mc_segmap_parloop_136946_task.args =
        &futhark_mc_segmap_parloop_struct_136945;
    futhark_mc_segmap_parloop_136946_task.iterations = iterations;
    futhark_mc_segmap_parloop_136946_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136946_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136946_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136946_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136946_task);
    
    if (futhark_mc_segmap_parloop_136946_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136946_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136946_total_end -
                 futhark_mc_segmap_parloop_136946_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136946_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136946_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136946_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136944_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136944_end -
                 futhark_mc_segmap_task_136944_start;
        
        ctx->futhark_mc_segmap_task_136944_runs[tid]++;
        ctx->futhark_mc_segmap_task_136944_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136944_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136949 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_mem_126921;
    int64_t free_bytes_126925;
    char *free_mem_128404;
    char *free_mem_128426;
};
struct futhark_mc_task_136952 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125556;
    char *free_mem_126921;
    char *free_mem_128404;
    char *free_mem_128407;
};
struct futhark_mc_segmap_parloop_struct_136954 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125556;
    char *free_mem_126921;
    char *free_mem_128404;
    char *free_mem_128407;
};
static int futhark_mc_segmap_parloop_136955(void *args, int64_t start,
                                            int64_t end, int flat_tid_125557,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136954
    *futhark_mc_segmap_parloop_struct_136954 =
    (struct futhark_mc_segmap_parloop_struct_136954 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136954->ctx;
    uint64_t futhark_mc_segmap_parloop_136955_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136955_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136954->free_n_119475;
    int64_t gtid_125556 =
            futhark_mc_segmap_parloop_struct_136954->free_gtid_125556;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136954->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_136954->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128407 = {.desc ="mem_128407", .mem =
                                  futhark_mc_segmap_parloop_struct_136954->free_mem_128407,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135263 = start;
    
    for (; iter_135263 < end; iter_135263++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135268 = n_119475;
        int64_t gtid_125558 = iter_135263;
        int64_t remnant_135269 = iter_135263 - gtid_125558;
        int64_t x_135253 = ((int64_t *) mem_126921.mem)[gtid_125556 * n_119475 +
                                                        gtid_125558];
        bool cond_135254 = sle64((int64_t) 0, x_135253);
        float defunc_0_f_res_135255;
        
        if (cond_135254) {
            bool y_135264 = slt64(x_135253, n_119475);
            bool bounds_check_135265 = cond_135254 && y_135264;
            bool index_certs_135266;
            
            if (!bounds_check_135265) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_135253,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:301:21-49\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:299:13-302:35\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_135267 =
                  ((float *) mem_128404.mem)[gtid_125556 * n_119475 + x_135253];
            
            defunc_0_f_res_135255 = defunc_0_f_res_t_res_135267;
        } else {
            defunc_0_f_res_135255 = INFINITY;
        }
        ((float *) mem_128407.mem)[gtid_125558] = defunc_0_f_res_135255;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136955_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136955_end -
                 futhark_mc_segmap_parloop_136955_start;
        
        ctx->futhark_mc_segmap_parloop_136955_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136955_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136955_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136953(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125557 = tid;
    int num_tasks_135262 = info.nsubtasks;
    struct futhark_mc_task_136952 *futhark_mc_task_136952 =
                                  (struct futhark_mc_task_136952 *) args;
    struct futhark_context *ctx = futhark_mc_task_136952->ctx;
    uint64_t futhark_mc_segmap_task_136953_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136953_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136952->free_n_119475;
    int64_t gtid_125556 = futhark_mc_task_136952->free_gtid_125556;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136952->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_136952->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128407 = {.desc ="mem_128407", .mem =
                                  futhark_mc_task_136952->free_mem_128407,
                                  .size =0, .references =NULL};
    int64_t iter_135263;
    struct futhark_mc_segmap_parloop_struct_136954
    futhark_mc_segmap_parloop_struct_136954;
    
    futhark_mc_segmap_parloop_struct_136954.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136954.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136954.free_gtid_125556 = gtid_125556;
    futhark_mc_segmap_parloop_struct_136954.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136954.free_mem_128404 = mem_128404.mem;
    futhark_mc_segmap_parloop_struct_136954.free_mem_128407 = mem_128407.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136955_task;
    
    futhark_mc_segmap_parloop_136955_task.name =
        "futhark_mc_segmap_parloop_136955";
    futhark_mc_segmap_parloop_136955_task.fn = futhark_mc_segmap_parloop_136955;
    futhark_mc_segmap_parloop_136955_task.args =
        &futhark_mc_segmap_parloop_struct_136954;
    futhark_mc_segmap_parloop_136955_task.iterations = iterations;
    futhark_mc_segmap_parloop_136955_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136955_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136955_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136955_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136955_task);
    
    if (futhark_mc_segmap_parloop_136955_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136955_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136955_total_end -
                 futhark_mc_segmap_parloop_136955_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136955_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136955_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136955_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136953_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136953_end -
                 futhark_mc_segmap_task_136953_start;
        
        ctx->futhark_mc_segmap_task_136953_runs[tid]++;
        ctx->futhark_mc_segmap_task_136953_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136953_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136950(void *args, int64_t start,
                                            int64_t end, int flat_tid_125555,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136949
    *futhark_mc_segmap_parloop_struct_136949 =
    (struct futhark_mc_segmap_parloop_struct_136949 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136949->ctx;
    uint64_t futhark_mc_segmap_parloop_136950_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136950_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136949->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136949->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_136949->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136949->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_136949->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_segmap_parloop_struct_136949->free_mem_128426,
                                  .size =0, .references =NULL};
    size_t mem_128407_cached_sizze_136951 = 0;
    char *mem_128407 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135252 = start;
    
    if (mem_128407_cached_sizze_136951 < (size_t) bytes_126925) {
        mem_128407 = realloc(mem_128407, bytes_126925);
        mem_128407_cached_sizze_136951 = bytes_126925;
    }
    for (; iter_135252 < end; iter_135252++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135260 = m_119474;
        int64_t gtid_125556 = iter_135252;
        int64_t remnant_135261 = iter_135252 - gtid_125556;
        int64_t flat_tid_125557 = (int64_t) 0;
        int32_t num_tasks_135262;
        struct futhark_mc_task_136952 futhark_mc_task_136952;
        
        futhark_mc_task_136952.ctx = ctx;
        futhark_mc_task_136952.free_n_119475 = n_119475;
        futhark_mc_task_136952.free_gtid_125556 = gtid_125556;
        futhark_mc_task_136952.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_136952.free_mem_128404 = mem_128404.mem;
        futhark_mc_task_136952.free_mem_128407 = mem_128407;
        
        struct scheduler_segop futhark_mc_task_136952_task;
        
        futhark_mc_task_136952_task.args = &futhark_mc_task_136952;
        futhark_mc_task_136952_task.top_level_fn =
            futhark_mc_segmap_task_136953;
        futhark_mc_task_136952_task.name = "futhark_mc_segmap_task_136953";
        futhark_mc_task_136952_task.iterations = n_119475;
        futhark_mc_task_136952_task.task_time =
            &ctx->futhark_mc_segmap_task_136953_total_time;
        futhark_mc_task_136952_task.task_iter =
            &ctx->futhark_mc_segmap_task_136953_total_iter;
        futhark_mc_task_136952_task.sched = STATIC;
        futhark_mc_task_136952_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_136953_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136952_task);
        
        if (futhark_mc_segmap_task_136953_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128426.mem + gtid_125556 * n_119475 * (int64_t) 4,
                mem_128407 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128407);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136950_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136950_end -
                 futhark_mc_segmap_parloop_136950_start;
        
        ctx->futhark_mc_segmap_parloop_136950_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136950_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136950_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136948(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125555 = tid;
    int num_tasks_135237 = info.nsubtasks;
    struct futhark_mc_task_136943 *futhark_mc_task_136943 =
                                  (struct futhark_mc_task_136943 *) args;
    struct futhark_context *ctx = futhark_mc_task_136943->ctx;
    uint64_t futhark_mc_segmap_nested_task_136948_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136948_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136943->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136943->free_n_119475;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_136943->free_mem_126921,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_136943->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_136943->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_task_136943->free_mem_128426,
                                  .size =0, .references =NULL};
    int64_t iter_135252;
    struct futhark_mc_segmap_parloop_struct_136949
    futhark_mc_segmap_parloop_struct_136949;
    
    futhark_mc_segmap_parloop_struct_136949.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136949.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136949.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136949.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_136949.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136949.free_mem_128404 = mem_128404.mem;
    futhark_mc_segmap_parloop_struct_136949.free_mem_128426 = mem_128426.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136950_task;
    
    futhark_mc_segmap_parloop_136950_task.name =
        "futhark_mc_segmap_parloop_136950";
    futhark_mc_segmap_parloop_136950_task.fn = futhark_mc_segmap_parloop_136950;
    futhark_mc_segmap_parloop_136950_task.args =
        &futhark_mc_segmap_parloop_struct_136949;
    futhark_mc_segmap_parloop_136950_task.iterations = iterations;
    futhark_mc_segmap_parloop_136950_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136950_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136950_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136950_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136950_task);
    
    if (futhark_mc_segmap_parloop_136950_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136950_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136950_total_end -
                 futhark_mc_segmap_parloop_136950_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136950_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136950_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136950_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136948_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136948_end -
                 futhark_mc_segmap_nested_task_136948_start;
        
        ctx->futhark_mc_segmap_nested_task_136948_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136948_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136948_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136956 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_i_119551;
    int32_t free_iters_121464;
    int64_t free_bytes_126882;
    int64_t free_bytes_126925;
    char *free_mem_128426;
    char *free_mem_128580;
    int64_t free_double_buffer_sizze_128831;
    int64_t free_double_buffer_sizze_128835;
};
struct futhark_mc_segmap_parloop_struct_136958 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_i_119551;
    int32_t free_iters_121464;
    int64_t free_bytes_126882;
    int64_t free_bytes_126925;
    char *free_mem_128426;
    char *free_mem_128580;
    int64_t free_double_buffer_sizze_128835;
};
static int futhark_mc_segmap_parloop_136959(void *args, int64_t start,
                                            int64_t end, int flat_tid_125569,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136958
    *futhark_mc_segmap_parloop_struct_136958 =
    (struct futhark_mc_segmap_parloop_struct_136958 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136958->ctx;
    uint64_t futhark_mc_segmap_parloop_136959_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136959_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136958->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136958->free_n_119475;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136958->free_i_119551;
    int32_t iters_121464 =
            futhark_mc_segmap_parloop_struct_136958->free_iters_121464;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136958->free_bytes_126882;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136958->free_bytes_126925;
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_segmap_parloop_struct_136958->free_mem_128426,
                                  .size =0, .references =NULL};
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_segmap_parloop_struct_136958->free_mem_128580,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_128835 =
            futhark_mc_segmap_parloop_struct_136958->free_double_buffer_sizze_128835;
    size_t mem_128484_cached_sizze_136960 = 0;
    char *mem_128484 = NULL;
    size_t mem_128487_cached_sizze_136961 = 0;
    char *mem_128487 = NULL;
    size_t mem_128490_cached_sizze_136962 = 0;
    char *mem_128490 = NULL;
    size_t mem_128493_cached_sizze_136963 = 0;
    char *mem_128493 = NULL;
    size_t mem_128496_cached_sizze_136964 = 0;
    char *mem_128496 = NULL;
    size_t mem_128559_cached_sizze_136965 = 0;
    char *mem_128559 = NULL;
    size_t double_buffer_mem_128833_cached_sizze_136966 = 0;
    char *double_buffer_mem_128833 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135271 = start;
    
    if (mem_128484_cached_sizze_136960 < (size_t) bytes_126882) {
        mem_128484 = realloc(mem_128484, bytes_126882);
        mem_128484_cached_sizze_136960 = bytes_126882;
    }
    if (mem_128487_cached_sizze_136961 < (size_t) bytes_126882) {
        mem_128487 = realloc(mem_128487, bytes_126882);
        mem_128487_cached_sizze_136961 = bytes_126882;
    }
    if (mem_128490_cached_sizze_136962 < (size_t) bytes_126882) {
        mem_128490 = realloc(mem_128490, bytes_126882);
        mem_128490_cached_sizze_136962 = bytes_126882;
    }
    if (mem_128493_cached_sizze_136963 < (size_t) bytes_126882) {
        mem_128493 = realloc(mem_128493, bytes_126882);
        mem_128493_cached_sizze_136963 = bytes_126882;
    }
    if (mem_128496_cached_sizze_136964 < (size_t) bytes_126925) {
        mem_128496 = realloc(mem_128496, bytes_126925);
        mem_128496_cached_sizze_136964 = bytes_126925;
    }
    if (double_buffer_mem_128833_cached_sizze_136966 <
        (size_t) double_buffer_sizze_128835) {
        double_buffer_mem_128833 = realloc(double_buffer_mem_128833,
                                           double_buffer_sizze_128835);
        double_buffer_mem_128833_cached_sizze_136966 =
            double_buffer_sizze_128835;
    }
    if (mem_128559_cached_sizze_136965 < (size_t) bytes_126925) {
        mem_128559 = realloc(mem_128559, bytes_126925);
        mem_128559_cached_sizze_136965 = bytes_126925;
    }
    for (; iter_135271 < end; iter_135271++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135375 = m_119474;
        int64_t gtid_125570 = iter_135271;
        int64_t remnant_135376 = iter_135271 - gtid_125570;
        
        memmove(double_buffer_mem_128833 + (int64_t) 0, mem_128426.mem +
                gtid_125570 * n_119475 * (int64_t) 4, n_119475 * (int64_t) 4);
        for (int32_t i_135272 = 0; i_135272 < iters_121464; i_135272++) {
            int32_t defunc_2_radix_sort_step_arg_135274 = mul32(2, i_135272);
            int32_t defunc_0_get_bit_arg_135275 = add32(1,
                                                        defunc_2_radix_sort_step_arg_135274);
            bool cond_f_res_135276 = defunc_0_get_bit_arg_135275 == 31;
            bool cond_f_res_135277 = defunc_2_radix_sort_step_arg_135274 == 31;
            int64_t discard_135283;
            int64_t discard_135284;
            int64_t discard_135285;
            int64_t discard_135286;
            int64_t scanacc_135293;
            int64_t scanacc_135294;
            int64_t scanacc_135295;
            int64_t scanacc_135296;
            
            scanacc_135293 = (int64_t) 0;
            scanacc_135294 = (int64_t) 0;
            scanacc_135295 = (int64_t) 0;
            scanacc_135296 = (int64_t) 0;
            for (int64_t i_135292 = 0; i_135292 < n_119475; i_135292++) {
                float x_135302 = ((float *) double_buffer_mem_128833)[i_135292];
                int32_t i32_arg_135303;
                
                i32_arg_135303 = futrts_to_bits32(x_135302);
                
                int32_t unsign_arg_135304 = ashr32(i32_arg_135303,
                                                   defunc_0_get_bit_arg_135275);
                int32_t unsign_arg_135305 = 1 & unsign_arg_135304;
                int32_t unsign_arg_135306 = ashr32(i32_arg_135303, 31);
                int32_t unsign_arg_135307 = 1 & unsign_arg_135306;
                bool cond_135308 = unsign_arg_135307 == 1;
                bool x_135309 = !cond_135308;
                bool y_135310 = cond_f_res_135276 && x_135309;
                bool cond_135311 = cond_135308 || y_135310;
                int32_t defunc_1_get_bit_res_135312;
                
                if (cond_135311) {
                    int32_t defunc_1_get_bit_res_t_res_135313 = 1 ^
                            unsign_arg_135305;
                    
                    defunc_1_get_bit_res_135312 =
                        defunc_1_get_bit_res_t_res_135313;
                } else {
                    defunc_1_get_bit_res_135312 = unsign_arg_135305;
                }
                
                int32_t x_135314 = mul32(2, defunc_1_get_bit_res_135312);
                int32_t unsign_arg_135315 = ashr32(i32_arg_135303,
                                                   defunc_2_radix_sort_step_arg_135274);
                int32_t unsign_arg_135316 = 1 & unsign_arg_135315;
                bool y_135317 = cond_f_res_135277 && x_135309;
                bool cond_135318 = cond_135308 || y_135317;
                int32_t defunc_1_get_bit_res_135319;
                
                if (cond_135318) {
                    int32_t defunc_1_get_bit_res_t_res_135320 = 1 ^
                            unsign_arg_135316;
                    
                    defunc_1_get_bit_res_135319 =
                        defunc_1_get_bit_res_t_res_135320;
                } else {
                    defunc_1_get_bit_res_135319 = unsign_arg_135316;
                }
                
                int32_t defunc_0_f_res_135321 = add32(x_135314,
                                                      defunc_1_get_bit_res_135319);
                bool cond_135322 = defunc_0_f_res_135321 == 0;
                int64_t defunc_0_f_res_135323 = btoi_bool_i64(cond_135322);
                int64_t defunc_0_f_res_135324;
                int64_t defunc_0_f_res_135325;
                int64_t defunc_0_f_res_135326;
                
                if (cond_135322) {
                    defunc_0_f_res_135324 = (int64_t) 0;
                    defunc_0_f_res_135325 = (int64_t) 0;
                    defunc_0_f_res_135326 = (int64_t) 0;
                } else {
                    bool cond_135327 = defunc_0_f_res_135321 == 1;
                    int64_t defunc_0_f_res_f_res_135328 =
                            btoi_bool_i64(cond_135327);
                    int64_t defunc_0_f_res_f_res_135329;
                    int64_t defunc_0_f_res_f_res_135330;
                    
                    if (cond_135327) {
                        defunc_0_f_res_f_res_135329 = (int64_t) 0;
                        defunc_0_f_res_f_res_135330 = (int64_t) 0;
                    } else {
                        bool cond_135331 = defunc_0_f_res_135321 == 2;
                        int64_t defunc_0_f_res_f_res_f_res_135332 =
                                btoi_bool_i64(cond_135331);
                        bool cond_neg_135333 = !cond_135331;
                        int64_t defunc_0_f_res_f_res_f_res_135334 =
                                btoi_bool_i64(cond_neg_135333);
                        
                        defunc_0_f_res_f_res_135329 =
                            defunc_0_f_res_f_res_f_res_135332;
                        defunc_0_f_res_f_res_135330 =
                            defunc_0_f_res_f_res_f_res_135334;
                    }
                    defunc_0_f_res_135324 = defunc_0_f_res_f_res_135328;
                    defunc_0_f_res_135325 = defunc_0_f_res_f_res_135329;
                    defunc_0_f_res_135326 = defunc_0_f_res_f_res_135330;
                }
                
                int64_t defunc_1_op_res_135335 = add64(defunc_0_f_res_135323,
                                                       scanacc_135293);
                int64_t defunc_1_op_res_135336 = add64(defunc_0_f_res_135324,
                                                       scanacc_135294);
                int64_t defunc_1_op_res_135337 = add64(defunc_0_f_res_135325,
                                                       scanacc_135295);
                int64_t defunc_1_op_res_135338 = add64(defunc_0_f_res_135326,
                                                       scanacc_135296);
                
                ((int64_t *) mem_128484)[i_135292] = defunc_1_op_res_135335;
                ((int64_t *) mem_128487)[i_135292] = defunc_1_op_res_135336;
                ((int64_t *) mem_128490)[i_135292] = defunc_1_op_res_135337;
                ((int64_t *) mem_128493)[i_135292] = defunc_1_op_res_135338;
                ((int32_t *) mem_128496)[i_135292] = defunc_0_f_res_135321;
                
                int64_t scanacc_tmp_135378 = defunc_1_op_res_135335;
                int64_t scanacc_tmp_135379 = defunc_1_op_res_135336;
                int64_t scanacc_tmp_135380 = defunc_1_op_res_135337;
                int64_t scanacc_tmp_135381 = defunc_1_op_res_135338;
                
                scanacc_135293 = scanacc_tmp_135378;
                scanacc_135294 = scanacc_tmp_135379;
                scanacc_135295 = scanacc_tmp_135380;
                scanacc_135296 = scanacc_tmp_135381;
            }
            discard_135283 = scanacc_135293;
            discard_135284 = scanacc_135294;
            discard_135285 = scanacc_135295;
            discard_135286 = scanacc_135296;
            
            int64_t last_res_135344 = ((int64_t *) mem_128484)[i_119551];
            int64_t last_res_135345 = ((int64_t *) mem_128487)[i_119551];
            int64_t last_res_135346 = ((int64_t *) mem_128490)[i_119551];
            
            memmove(mem_128559 + (int64_t) 0, double_buffer_mem_128833 +
                    (int64_t) 0, n_119475 * (int64_t) 4);
            for (int64_t write_iter_135349 = 0; write_iter_135349 < n_119475;
                 write_iter_135349++) {
                int32_t write_iv_135351 =
                        ((int32_t *) mem_128496)[write_iter_135349];
                bool match_lit_135352 = 0 == write_iv_135351;
                int64_t defunc_1_f_res_135353;
                
                if (match_lit_135352) {
                    int64_t write_iv_135354 =
                            ((int64_t *) mem_128484)[write_iter_135349];
                    int64_t case_res_135355 = sub64(write_iv_135354,
                                                    (int64_t) 1);
                    
                    defunc_1_f_res_135353 = case_res_135355;
                } else {
                    bool match_lit_135356 = 1 == write_iv_135351;
                    int64_t x_135357;
                    
                    if (match_lit_135356) {
                        int64_t write_iv_135358 =
                                ((int64_t *) mem_128487)[write_iter_135349];
                        int64_t x_135359 = add64(last_res_135344,
                                                 write_iv_135358);
                        int64_t case_res_135360 = sub64(x_135359, (int64_t) 1);
                        
                        x_135357 = case_res_135360;
                    } else {
                        bool match_lit_135361 = 2 == write_iv_135351;
                        int64_t x_135362;
                        
                        if (match_lit_135361) {
                            int64_t write_iv_135363 =
                                    ((int64_t *) mem_128490)[write_iter_135349];
                            int64_t x_135364 = add64(last_res_135344,
                                                     last_res_135345);
                            int64_t x_135365 = add64(x_135364, write_iv_135363);
                            int64_t case_res_135366 = sub64(x_135365,
                                                            (int64_t) 1);
                            
                            x_135362 = case_res_135366;
                        } else {
                            int64_t write_iv_135367 =
                                    ((int64_t *) mem_128493)[write_iter_135349];
                            int64_t x_135368 = add64(last_res_135344,
                                                     last_res_135345);
                            int64_t x_135369 = add64(last_res_135346, x_135368);
                            int64_t x_135370 = add64(x_135369, write_iv_135367);
                            int64_t defunc_1_f_res_res_135371 = sub64(x_135370,
                                                                      (int64_t) 1);
                            
                            x_135362 = defunc_1_f_res_res_135371;
                        }
                        x_135357 = x_135362;
                    }
                    defunc_1_f_res_135353 = x_135357;
                }
                if (sle64((int64_t) 0, defunc_1_f_res_135353) &&
                    slt64(defunc_1_f_res_135353, n_119475)) {
                    memmove(mem_128559 + defunc_1_f_res_135353 * (int64_t) 4,
                            double_buffer_mem_128833 + write_iter_135349 *
                            (int64_t) 4, (int64_t) 4);
                }
            }
            memmove(double_buffer_mem_128833 + (int64_t) 0, mem_128559 +
                    (int64_t) 0, n_119475 * (int64_t) 4);
        }
        memmove(mem_128580.mem + gtid_125570 * n_119475 * (int64_t) 4,
                double_buffer_mem_128833 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128484);
    free(mem_128487);
    free(mem_128490);
    free(mem_128493);
    free(mem_128496);
    free(mem_128559);
    free(double_buffer_mem_128833);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136959_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136959_end -
                 futhark_mc_segmap_parloop_136959_start;
        
        ctx->futhark_mc_segmap_parloop_136959_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136959_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136959_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136957(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125569 = tid;
    int num_tasks_135270 = info.nsubtasks;
    struct futhark_mc_task_136956 *futhark_mc_task_136956 =
                                  (struct futhark_mc_task_136956 *) args;
    struct futhark_context *ctx = futhark_mc_task_136956->ctx;
    uint64_t futhark_mc_segmap_task_136957_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136957_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136956->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136956->free_n_119475;
    int64_t i_119551 = futhark_mc_task_136956->free_i_119551;
    int32_t iters_121464 = futhark_mc_task_136956->free_iters_121464;
    int64_t bytes_126882 = futhark_mc_task_136956->free_bytes_126882;
    int64_t bytes_126925 = futhark_mc_task_136956->free_bytes_126925;
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_task_136956->free_mem_128426,
                                  .size =0, .references =NULL};
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_task_136956->free_mem_128580,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_128831 =
            futhark_mc_task_136956->free_double_buffer_sizze_128831;
    int64_t double_buffer_sizze_128835 =
            futhark_mc_task_136956->free_double_buffer_sizze_128835;
    int64_t iter_135271;
    struct futhark_mc_segmap_parloop_struct_136958
    futhark_mc_segmap_parloop_struct_136958;
    
    futhark_mc_segmap_parloop_struct_136958.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136958.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136958.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136958.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136958.free_iters_121464 = iters_121464;
    futhark_mc_segmap_parloop_struct_136958.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136958.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136958.free_mem_128426 = mem_128426.mem;
    futhark_mc_segmap_parloop_struct_136958.free_mem_128580 = mem_128580.mem;
    futhark_mc_segmap_parloop_struct_136958.free_double_buffer_sizze_128835 =
        double_buffer_sizze_128835;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136959_task;
    
    futhark_mc_segmap_parloop_136959_task.name =
        "futhark_mc_segmap_parloop_136959";
    futhark_mc_segmap_parloop_136959_task.fn = futhark_mc_segmap_parloop_136959;
    futhark_mc_segmap_parloop_136959_task.args =
        &futhark_mc_segmap_parloop_struct_136958;
    futhark_mc_segmap_parloop_136959_task.iterations = iterations;
    futhark_mc_segmap_parloop_136959_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136959_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136959_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136959_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136959_task);
    
    if (futhark_mc_segmap_parloop_136959_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136959_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136959_total_end -
                 futhark_mc_segmap_parloop_136959_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136959_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136959_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136959_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136957_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136957_end -
                 futhark_mc_segmap_task_136957_start;
        
        ctx->futhark_mc_segmap_task_136957_runs[tid]++;
        ctx->futhark_mc_segmap_task_136957_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136957_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136968 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_i_119551;
    int32_t free_iters_121464;
    int64_t free_bytes_126882;
    int64_t free_bytes_126925;
    char *free_mem_128426;
    char *free_mem_128580;
    int64_t free_double_buffer_sizze_128831;
};
struct futhark_mc_task_136977 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    char *free_mem_128444;
    char *free_mem_128447;
    char *free_mem_128450;
    char *free_mem_128453;
    char *free_mem_128456;
    char *free_double_buffer_mem_128829;
    int32_t free_defunc_2_radix_sort_step_arg_135391;
    int32_t free_defunc_0_get_bit_arg_135392;
    bool free_cond_f_res_135393;
    bool free_cond_f_res_135394;
};
struct futhark_mc_scan_stage_1_parloop_struct_136983 {
    struct futhark_context *ctx;
    char *free_mem_128444;
    char *free_mem_128447;
    char *free_mem_128450;
    char *free_mem_128453;
    char *free_mem_128456;
    char *free_double_buffer_mem_128829;
    int32_t free_defunc_2_radix_sort_step_arg_135391;
    int32_t free_defunc_0_get_bit_arg_135392;
    bool free_cond_f_res_135393;
    bool free_cond_f_res_135394;
};
static int futhark_mc_scan_stage_1_parloop_136984(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_125573, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_136983
    *futhark_mc_scan_stage_1_parloop_struct_136983 =
    (struct futhark_mc_scan_stage_1_parloop_struct_136983 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_136983->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_136984_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136984_start = get_wall_time();
    
    struct memblock mem_128444 = {.desc ="mem_128444", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136983->free_mem_128444,
                                  .size =0, .references =NULL};
    struct memblock mem_128447 = {.desc ="mem_128447", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136983->free_mem_128447,
                                  .size =0, .references =NULL};
    struct memblock mem_128450 = {.desc ="mem_128450", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136983->free_mem_128450,
                                  .size =0, .references =NULL};
    struct memblock mem_128453 = {.desc ="mem_128453", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136983->free_mem_128453,
                                  .size =0, .references =NULL};
    struct memblock mem_128456 = {.desc ="mem_128456", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_136983->free_mem_128456,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_128829 = {.desc =
                                                "double_buffer_mem_128829",
                                                .mem =
                                                futhark_mc_scan_stage_1_parloop_struct_136983->free_double_buffer_mem_128829,
                                                .size =0, .references =NULL};
    int32_t defunc_2_radix_sort_step_arg_135391 =
            futhark_mc_scan_stage_1_parloop_struct_136983->free_defunc_2_radix_sort_step_arg_135391;
    int32_t defunc_0_get_bit_arg_135392 =
            futhark_mc_scan_stage_1_parloop_struct_136983->free_defunc_0_get_bit_arg_135392;
    bool cond_f_res_135393 =
         futhark_mc_scan_stage_1_parloop_struct_136983->free_cond_f_res_135393;
    bool cond_f_res_135394 =
         futhark_mc_scan_stage_1_parloop_struct_136983->free_cond_f_res_135394;
    int64_t iterations = end - start;
    int64_t iter_135477 = start;
    int64_t x_135400;
    int64_t x_135401;
    int64_t x_135402;
    int64_t x_135403;
    int64_t x_135404;
    int64_t x_135405;
    int64_t x_135406;
    int64_t x_135407;
    
    x_135400 = (int64_t) 0;
    x_135401 = (int64_t) 0;
    x_135402 = (int64_t) 0;
    x_135403 = (int64_t) 0;
    for (; iter_135477 < end; iter_135477++) {
        int64_t gtid_125574 = iter_135477;
        
        // stage 1 scan body
        {
            float x_135412 =
                  ((float *) double_buffer_mem_128829.mem)[gtid_125574];
            int32_t i32_arg_135413;
            
            i32_arg_135413 = futrts_to_bits32(x_135412);
            
            int32_t unsign_arg_135414 = ashr32(i32_arg_135413,
                                               defunc_0_get_bit_arg_135392);
            int32_t unsign_arg_135415 = 1 & unsign_arg_135414;
            int32_t unsign_arg_135416 = ashr32(i32_arg_135413, 31);
            int32_t unsign_arg_135417 = 1 & unsign_arg_135416;
            bool cond_135418 = unsign_arg_135417 == 1;
            bool x_135419 = !cond_135418;
            bool y_135420 = cond_f_res_135393 && x_135419;
            bool cond_135421 = cond_135418 || y_135420;
            int32_t defunc_1_get_bit_res_135422;
            
            if (cond_135421) {
                int32_t defunc_1_get_bit_res_t_res_135423 = 1 ^
                        unsign_arg_135415;
                
                defunc_1_get_bit_res_135422 = defunc_1_get_bit_res_t_res_135423;
            } else {
                defunc_1_get_bit_res_135422 = unsign_arg_135415;
            }
            
            int32_t x_135424 = mul32(2, defunc_1_get_bit_res_135422);
            int32_t unsign_arg_135425 = ashr32(i32_arg_135413,
                                               defunc_2_radix_sort_step_arg_135391);
            int32_t unsign_arg_135426 = 1 & unsign_arg_135425;
            bool y_135427 = cond_f_res_135394 && x_135419;
            bool cond_135428 = cond_135418 || y_135427;
            int32_t defunc_1_get_bit_res_135429;
            
            if (cond_135428) {
                int32_t defunc_1_get_bit_res_t_res_135430 = 1 ^
                        unsign_arg_135426;
                
                defunc_1_get_bit_res_135429 = defunc_1_get_bit_res_t_res_135430;
            } else {
                defunc_1_get_bit_res_135429 = unsign_arg_135426;
            }
            
            int32_t defunc_0_f_res_135431 = add32(x_135424,
                                                  defunc_1_get_bit_res_135429);
            bool cond_135432 = defunc_0_f_res_135431 == 0;
            int64_t defunc_0_f_res_135433 = btoi_bool_i64(cond_135432);
            int64_t defunc_0_f_res_135434;
            int64_t defunc_0_f_res_135435;
            int64_t defunc_0_f_res_135436;
            
            if (cond_135432) {
                defunc_0_f_res_135434 = (int64_t) 0;
                defunc_0_f_res_135435 = (int64_t) 0;
                defunc_0_f_res_135436 = (int64_t) 0;
            } else {
                bool cond_135437 = defunc_0_f_res_135431 == 1;
                int64_t defunc_0_f_res_f_res_135438 =
                        btoi_bool_i64(cond_135437);
                int64_t defunc_0_f_res_f_res_135439;
                int64_t defunc_0_f_res_f_res_135440;
                
                if (cond_135437) {
                    defunc_0_f_res_f_res_135439 = (int64_t) 0;
                    defunc_0_f_res_f_res_135440 = (int64_t) 0;
                } else {
                    bool cond_135441 = defunc_0_f_res_135431 == 2;
                    int64_t defunc_0_f_res_f_res_f_res_135442 =
                            btoi_bool_i64(cond_135441);
                    bool cond_neg_135443 = !cond_135441;
                    int64_t defunc_0_f_res_f_res_f_res_135444 =
                            btoi_bool_i64(cond_neg_135443);
                    
                    defunc_0_f_res_f_res_135439 =
                        defunc_0_f_res_f_res_f_res_135442;
                    defunc_0_f_res_f_res_135440 =
                        defunc_0_f_res_f_res_f_res_135444;
                }
                defunc_0_f_res_135434 = defunc_0_f_res_f_res_135438;
                defunc_0_f_res_135435 = defunc_0_f_res_f_res_135439;
                defunc_0_f_res_135436 = defunc_0_f_res_f_res_135440;
            }
            // write mapped values results to memory
            {
                ((int32_t *) mem_128456.mem)[gtid_125574] =
                    defunc_0_f_res_135431;
            }
            x_135400 = x_135400;
            x_135401 = x_135401;
            x_135402 = x_135402;
            x_135403 = x_135403;
            // Read next values
            {
                x_135404 = defunc_0_f_res_135433;
                x_135405 = defunc_0_f_res_135434;
                x_135406 = defunc_0_f_res_135435;
                x_135407 = defunc_0_f_res_135436;
            }
            
            int64_t defunc_1_op_res_135408 = add64(x_135400, x_135404);
            int64_t defunc_1_op_res_135409 = add64(x_135401, x_135405);
            int64_t defunc_1_op_res_135410 = add64(x_135402, x_135406);
            int64_t defunc_1_op_res_135411 = add64(x_135403, x_135407);
            
            ((int64_t *) mem_128444.mem)[gtid_125574] = defunc_1_op_res_135408;
            x_135400 = defunc_1_op_res_135408;
            ((int64_t *) mem_128447.mem)[gtid_125574] = defunc_1_op_res_135409;
            x_135401 = defunc_1_op_res_135409;
            ((int64_t *) mem_128450.mem)[gtid_125574] = defunc_1_op_res_135410;
            x_135402 = defunc_1_op_res_135410;
            ((int64_t *) mem_128453.mem)[gtid_125574] = defunc_1_op_res_135411;
            x_135403 = defunc_1_op_res_135411;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136984_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136984_end -
                 futhark_mc_scan_stage_1_parloop_136984_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_136984_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_136984_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_136984_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_136985 {
    struct futhark_context *ctx;
    char *free_mem_128444;
    char *free_mem_128447;
    char *free_mem_128450;
    char *free_mem_128453;
    char *free_double_buffer_mem_128829;
    int32_t free_defunc_2_radix_sort_step_arg_135391;
    int32_t free_defunc_0_get_bit_arg_135392;
    bool free_cond_f_res_135393;
    bool free_cond_f_res_135394;
};
static int futhark_mc_scan_stage_3_parloop_136986(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_125573, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_136985
    *futhark_mc_scan_stage_3_parloop_struct_136985 =
    (struct futhark_mc_scan_stage_3_parloop_struct_136985 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_136985->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_136986_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_136986_start = get_wall_time();
    
    struct memblock mem_128444 = {.desc ="mem_128444", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136985->free_mem_128444,
                                  .size =0, .references =NULL};
    struct memblock mem_128447 = {.desc ="mem_128447", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136985->free_mem_128447,
                                  .size =0, .references =NULL};
    struct memblock mem_128450 = {.desc ="mem_128450", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136985->free_mem_128450,
                                  .size =0, .references =NULL};
    struct memblock mem_128453 = {.desc ="mem_128453", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_136985->free_mem_128453,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_128829 = {.desc =
                                                "double_buffer_mem_128829",
                                                .mem =
                                                futhark_mc_scan_stage_3_parloop_struct_136985->free_double_buffer_mem_128829,
                                                .size =0, .references =NULL};
    int32_t defunc_2_radix_sort_step_arg_135391 =
            futhark_mc_scan_stage_3_parloop_struct_136985->free_defunc_2_radix_sort_step_arg_135391;
    int32_t defunc_0_get_bit_arg_135392 =
            futhark_mc_scan_stage_3_parloop_struct_136985->free_defunc_0_get_bit_arg_135392;
    bool cond_f_res_135393 =
         futhark_mc_scan_stage_3_parloop_struct_136985->free_cond_f_res_135393;
    bool cond_f_res_135394 =
         futhark_mc_scan_stage_3_parloop_struct_136985->free_cond_f_res_135394;
    int64_t iterations = end - start;
    int64_t iter_135513 = start;
    int64_t x_135501;
    int64_t x_135502;
    int64_t x_135503;
    int64_t x_135504;
    int64_t x_135505;
    int64_t x_135506;
    int64_t x_135507;
    int64_t x_135508;
    
    if (iter_135513 == (int64_t) 0) {
        x_135501 = (int64_t) 0;
    } else {
        x_135501 = ((int64_t *) mem_128444.mem)[iter_135513 - (int64_t) 1];
    }
    if (iter_135513 == (int64_t) 0) {
        x_135502 = (int64_t) 0;
    } else {
        x_135502 = ((int64_t *) mem_128447.mem)[iter_135513 - (int64_t) 1];
    }
    if (iter_135513 == (int64_t) 0) {
        x_135503 = (int64_t) 0;
    } else {
        x_135503 = ((int64_t *) mem_128450.mem)[iter_135513 - (int64_t) 1];
    }
    if (iter_135513 == (int64_t) 0) {
        x_135504 = (int64_t) 0;
    } else {
        x_135504 = ((int64_t *) mem_128453.mem)[iter_135513 - (int64_t) 1];
    }
    for (; iter_135513 < end; iter_135513++) {
        int64_t gtid_125574 = iter_135513;
        
        // stage 3 scan body
        {
            float x_135412 =
                  ((float *) double_buffer_mem_128829.mem)[gtid_125574];
            int32_t i32_arg_135413;
            
            i32_arg_135413 = futrts_to_bits32(x_135412);
            
            int32_t unsign_arg_135414 = ashr32(i32_arg_135413,
                                               defunc_0_get_bit_arg_135392);
            int32_t unsign_arg_135415 = 1 & unsign_arg_135414;
            int32_t unsign_arg_135416 = ashr32(i32_arg_135413, 31);
            int32_t unsign_arg_135417 = 1 & unsign_arg_135416;
            bool cond_135418 = unsign_arg_135417 == 1;
            bool x_135419 = !cond_135418;
            bool y_135420 = cond_f_res_135393 && x_135419;
            bool cond_135421 = cond_135418 || y_135420;
            int32_t defunc_1_get_bit_res_135422;
            
            if (cond_135421) {
                int32_t defunc_1_get_bit_res_t_res_135423 = 1 ^
                        unsign_arg_135415;
                
                defunc_1_get_bit_res_135422 = defunc_1_get_bit_res_t_res_135423;
            } else {
                defunc_1_get_bit_res_135422 = unsign_arg_135415;
            }
            
            int32_t x_135424 = mul32(2, defunc_1_get_bit_res_135422);
            int32_t unsign_arg_135425 = ashr32(i32_arg_135413,
                                               defunc_2_radix_sort_step_arg_135391);
            int32_t unsign_arg_135426 = 1 & unsign_arg_135425;
            bool y_135427 = cond_f_res_135394 && x_135419;
            bool cond_135428 = cond_135418 || y_135427;
            int32_t defunc_1_get_bit_res_135429;
            
            if (cond_135428) {
                int32_t defunc_1_get_bit_res_t_res_135430 = 1 ^
                        unsign_arg_135426;
                
                defunc_1_get_bit_res_135429 = defunc_1_get_bit_res_t_res_135430;
            } else {
                defunc_1_get_bit_res_135429 = unsign_arg_135426;
            }
            
            int32_t defunc_0_f_res_135431 = add32(x_135424,
                                                  defunc_1_get_bit_res_135429);
            bool cond_135432 = defunc_0_f_res_135431 == 0;
            int64_t defunc_0_f_res_135433 = btoi_bool_i64(cond_135432);
            int64_t defunc_0_f_res_135434;
            int64_t defunc_0_f_res_135435;
            int64_t defunc_0_f_res_135436;
            
            if (cond_135432) {
                defunc_0_f_res_135434 = (int64_t) 0;
                defunc_0_f_res_135435 = (int64_t) 0;
                defunc_0_f_res_135436 = (int64_t) 0;
            } else {
                bool cond_135437 = defunc_0_f_res_135431 == 1;
                int64_t defunc_0_f_res_f_res_135438 =
                        btoi_bool_i64(cond_135437);
                int64_t defunc_0_f_res_f_res_135439;
                int64_t defunc_0_f_res_f_res_135440;
                
                if (cond_135437) {
                    defunc_0_f_res_f_res_135439 = (int64_t) 0;
                    defunc_0_f_res_f_res_135440 = (int64_t) 0;
                } else {
                    bool cond_135441 = defunc_0_f_res_135431 == 2;
                    int64_t defunc_0_f_res_f_res_f_res_135442 =
                            btoi_bool_i64(cond_135441);
                    bool cond_neg_135443 = !cond_135441;
                    int64_t defunc_0_f_res_f_res_f_res_135444 =
                            btoi_bool_i64(cond_neg_135443);
                    
                    defunc_0_f_res_f_res_135439 =
                        defunc_0_f_res_f_res_f_res_135442;
                    defunc_0_f_res_f_res_135440 =
                        defunc_0_f_res_f_res_f_res_135444;
                }
                defunc_0_f_res_135434 = defunc_0_f_res_f_res_135438;
                defunc_0_f_res_135435 = defunc_0_f_res_f_res_135439;
                defunc_0_f_res_135436 = defunc_0_f_res_f_res_135440;
            }
            x_135501 = x_135501;
            x_135502 = x_135502;
            x_135503 = x_135503;
            x_135504 = x_135504;
            x_135505 = defunc_0_f_res_135433;
            x_135506 = defunc_0_f_res_135434;
            x_135507 = defunc_0_f_res_135435;
            x_135508 = defunc_0_f_res_135436;
            
            int64_t defunc_1_op_res_135509 = add64(x_135501, x_135505);
            int64_t defunc_1_op_res_135510 = add64(x_135502, x_135506);
            int64_t defunc_1_op_res_135511 = add64(x_135503, x_135507);
            int64_t defunc_1_op_res_135512 = add64(x_135504, x_135508);
            
            ((int64_t *) mem_128444.mem)[gtid_125574] = defunc_1_op_res_135509;
            x_135501 = defunc_1_op_res_135509;
            ((int64_t *) mem_128447.mem)[gtid_125574] = defunc_1_op_res_135510;
            x_135502 = defunc_1_op_res_135510;
            ((int64_t *) mem_128450.mem)[gtid_125574] = defunc_1_op_res_135511;
            x_135503 = defunc_1_op_res_135511;
            ((int64_t *) mem_128453.mem)[gtid_125574] = defunc_1_op_res_135512;
            x_135504 = defunc_1_op_res_135512;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_136986_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_136986_end -
                 futhark_mc_scan_stage_3_parloop_136986_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_136986_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_136986_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_136986_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_136978(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125573 = tid;
    int num_tasks_135476 = info.nsubtasks;
    struct futhark_mc_task_136977 *futhark_mc_task_136977 =
                                  (struct futhark_mc_task_136977 *) args;
    struct futhark_context *ctx = futhark_mc_task_136977->ctx;
    uint64_t futhark_mc_segscan_task_136978_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_136978_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136977->free_n_119475;
    struct memblock mem_128444 = {.desc ="mem_128444", .mem =
                                  futhark_mc_task_136977->free_mem_128444,
                                  .size =0, .references =NULL};
    struct memblock mem_128447 = {.desc ="mem_128447", .mem =
                                  futhark_mc_task_136977->free_mem_128447,
                                  .size =0, .references =NULL};
    struct memblock mem_128450 = {.desc ="mem_128450", .mem =
                                  futhark_mc_task_136977->free_mem_128450,
                                  .size =0, .references =NULL};
    struct memblock mem_128453 = {.desc ="mem_128453", .mem =
                                  futhark_mc_task_136977->free_mem_128453,
                                  .size =0, .references =NULL};
    struct memblock mem_128456 = {.desc ="mem_128456", .mem =
                                  futhark_mc_task_136977->free_mem_128456,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_128829 = {.desc =
                                                "double_buffer_mem_128829",
                                                .mem =
                                                futhark_mc_task_136977->free_double_buffer_mem_128829,
                                                .size =0, .references =NULL};
    int32_t defunc_2_radix_sort_step_arg_135391 =
            futhark_mc_task_136977->free_defunc_2_radix_sort_step_arg_135391;
    int32_t defunc_0_get_bit_arg_135392 =
            futhark_mc_task_136977->free_defunc_0_get_bit_arg_135392;
    bool cond_f_res_135393 = futhark_mc_task_136977->free_cond_f_res_135393;
    bool cond_f_res_135394 = futhark_mc_task_136977->free_cond_f_res_135394;
    size_t scan_stage_2_accum_mem_135492_cached_sizze_136979 = 0;
    char *scan_stage_2_accum_mem_135492 = NULL;
    size_t scan_stage_2_accum_mem_135494_cached_sizze_136980 = 0;
    char *scan_stage_2_accum_mem_135494 = NULL;
    size_t scan_stage_2_accum_mem_135496_cached_sizze_136981 = 0;
    char *scan_stage_2_accum_mem_135496 = NULL;
    size_t scan_stage_2_accum_mem_135498_cached_sizze_136982 = 0;
    char *scan_stage_2_accum_mem_135498 = NULL;
    int64_t iter_135477;
    struct futhark_mc_scan_stage_1_parloop_struct_136983
    futhark_mc_scan_stage_1_parloop_struct_136983;
    
    futhark_mc_scan_stage_1_parloop_struct_136983.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_mem_128444 =
        mem_128444.mem;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_mem_128447 =
        mem_128447.mem;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_mem_128450 =
        mem_128450.mem;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_mem_128453 =
        mem_128453.mem;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_mem_128456 =
        mem_128456.mem;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_double_buffer_mem_128829 =
        double_buffer_mem_128829.mem;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_defunc_2_radix_sort_step_arg_135391 =
        defunc_2_radix_sort_step_arg_135391;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_defunc_0_get_bit_arg_135392 =
        defunc_0_get_bit_arg_135392;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_cond_f_res_135393 =
        cond_f_res_135393;
    futhark_mc_scan_stage_1_parloop_struct_136983.free_cond_f_res_135394 =
        cond_f_res_135394;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_136984_task;
    
    futhark_mc_scan_stage_1_parloop_136984_task.name =
        "futhark_mc_scan_stage_1_parloop_136984";
    futhark_mc_scan_stage_1_parloop_136984_task.fn =
        futhark_mc_scan_stage_1_parloop_136984;
    futhark_mc_scan_stage_1_parloop_136984_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_136983;
    futhark_mc_scan_stage_1_parloop_136984_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_136984_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_136984_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_136984_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_136984_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_136984_task);
    
    if (futhark_mc_scan_stage_1_parloop_136984_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_136984_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_136984_total_end -
                 futhark_mc_scan_stage_1_parloop_136984_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136984_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136984_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_136984_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_135476)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        int64_t x_135478;
        int64_t x_135479;
        int64_t x_135480;
        int64_t x_135481;
        int64_t x_135482;
        int64_t x_135483;
        int64_t x_135484;
        int64_t x_135485;
        int64_t offset_135490 = (int64_t) 0;
        int64_t offset_index_135491 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_135492_cached_sizze_136979 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_135492 =
                realloc(scan_stage_2_accum_mem_135492, (int64_t) 8);
            scan_stage_2_accum_mem_135492_cached_sizze_136979 = (int64_t) 8;
        }
        if (scan_stage_2_accum_mem_135494_cached_sizze_136980 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_135494 =
                realloc(scan_stage_2_accum_mem_135494, (int64_t) 8);
            scan_stage_2_accum_mem_135494_cached_sizze_136980 = (int64_t) 8;
        }
        if (scan_stage_2_accum_mem_135496_cached_sizze_136981 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_135496 =
                realloc(scan_stage_2_accum_mem_135496, (int64_t) 8);
            scan_stage_2_accum_mem_135496_cached_sizze_136981 = (int64_t) 8;
        }
        if (scan_stage_2_accum_mem_135498_cached_sizze_136982 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_135498 =
                realloc(scan_stage_2_accum_mem_135498, (int64_t) 8);
            scan_stage_2_accum_mem_135498_cached_sizze_136982 = (int64_t) 8;
        }
        ((int64_t *) scan_stage_2_accum_mem_135492)[(int64_t) 0] = (int64_t) 0;
        ((int64_t *) scan_stage_2_accum_mem_135494)[(int64_t) 0] = (int64_t) 0;
        ((int64_t *) scan_stage_2_accum_mem_135496)[(int64_t) 0] = (int64_t) 0;
        ((int64_t *) scan_stage_2_accum_mem_135498)[(int64_t) 0] = (int64_t) 0;
        for (int32_t i_135500 = 0; i_135500 < num_tasks_135476 - 1;
             i_135500++) {
            offset_135490 = squot64(n_119475, sext_i32_i64(num_tasks_135476));
            if (slt64(sext_i32_i64(i_135500), srem64(n_119475,
                                                     sext_i32_i64(num_tasks_135476)))) {
                offset_135490 += (int64_t) 1;
            }
            offset_index_135491 += offset_135490;
            
            int64_t gtid_125574 = offset_index_135491;
            float x_135412 =
                  ((float *) double_buffer_mem_128829.mem)[gtid_125574];
            int32_t i32_arg_135413;
            
            i32_arg_135413 = futrts_to_bits32(x_135412);
            
            int32_t unsign_arg_135414 = ashr32(i32_arg_135413,
                                               defunc_0_get_bit_arg_135392);
            int32_t unsign_arg_135415 = 1 & unsign_arg_135414;
            int32_t unsign_arg_135416 = ashr32(i32_arg_135413, 31);
            int32_t unsign_arg_135417 = 1 & unsign_arg_135416;
            bool cond_135418 = unsign_arg_135417 == 1;
            bool x_135419 = !cond_135418;
            bool y_135420 = cond_f_res_135393 && x_135419;
            bool cond_135421 = cond_135418 || y_135420;
            int32_t defunc_1_get_bit_res_135422;
            
            if (cond_135421) {
                int32_t defunc_1_get_bit_res_t_res_135423 = 1 ^
                        unsign_arg_135415;
                
                defunc_1_get_bit_res_135422 = defunc_1_get_bit_res_t_res_135423;
            } else {
                defunc_1_get_bit_res_135422 = unsign_arg_135415;
            }
            
            int32_t x_135424 = mul32(2, defunc_1_get_bit_res_135422);
            int32_t unsign_arg_135425 = ashr32(i32_arg_135413,
                                               defunc_2_radix_sort_step_arg_135391);
            int32_t unsign_arg_135426 = 1 & unsign_arg_135425;
            bool y_135427 = cond_f_res_135394 && x_135419;
            bool cond_135428 = cond_135418 || y_135427;
            int32_t defunc_1_get_bit_res_135429;
            
            if (cond_135428) {
                int32_t defunc_1_get_bit_res_t_res_135430 = 1 ^
                        unsign_arg_135426;
                
                defunc_1_get_bit_res_135429 = defunc_1_get_bit_res_t_res_135430;
            } else {
                defunc_1_get_bit_res_135429 = unsign_arg_135426;
            }
            
            int32_t defunc_0_f_res_135431 = add32(x_135424,
                                                  defunc_1_get_bit_res_135429);
            bool cond_135432 = defunc_0_f_res_135431 == 0;
            int64_t defunc_0_f_res_135433 = btoi_bool_i64(cond_135432);
            int64_t defunc_0_f_res_135434;
            int64_t defunc_0_f_res_135435;
            int64_t defunc_0_f_res_135436;
            
            if (cond_135432) {
                defunc_0_f_res_135434 = (int64_t) 0;
                defunc_0_f_res_135435 = (int64_t) 0;
                defunc_0_f_res_135436 = (int64_t) 0;
            } else {
                bool cond_135437 = defunc_0_f_res_135431 == 1;
                int64_t defunc_0_f_res_f_res_135438 =
                        btoi_bool_i64(cond_135437);
                int64_t defunc_0_f_res_f_res_135439;
                int64_t defunc_0_f_res_f_res_135440;
                
                if (cond_135437) {
                    defunc_0_f_res_f_res_135439 = (int64_t) 0;
                    defunc_0_f_res_f_res_135440 = (int64_t) 0;
                } else {
                    bool cond_135441 = defunc_0_f_res_135431 == 2;
                    int64_t defunc_0_f_res_f_res_f_res_135442 =
                            btoi_bool_i64(cond_135441);
                    bool cond_neg_135443 = !cond_135441;
                    int64_t defunc_0_f_res_f_res_f_res_135444 =
                            btoi_bool_i64(cond_neg_135443);
                    
                    defunc_0_f_res_f_res_135439 =
                        defunc_0_f_res_f_res_f_res_135442;
                    defunc_0_f_res_f_res_135440 =
                        defunc_0_f_res_f_res_f_res_135444;
                }
                defunc_0_f_res_135434 = defunc_0_f_res_f_res_135438;
                defunc_0_f_res_135435 = defunc_0_f_res_f_res_135439;
                defunc_0_f_res_135436 = defunc_0_f_res_f_res_135440;
            }
            // Read carry in
            {
                x_135478 =
                    ((int64_t *) scan_stage_2_accum_mem_135492)[(int64_t) 0];
                x_135479 =
                    ((int64_t *) scan_stage_2_accum_mem_135494)[(int64_t) 0];
                x_135480 =
                    ((int64_t *) scan_stage_2_accum_mem_135496)[(int64_t) 0];
                x_135481 =
                    ((int64_t *) scan_stage_2_accum_mem_135498)[(int64_t) 0];
            }
            // Read next values
            {
                x_135482 = ((int64_t *) mem_128444.mem)[offset_index_135491 -
                                                        (int64_t) 1];
                x_135483 = ((int64_t *) mem_128447.mem)[offset_index_135491 -
                                                        (int64_t) 1];
                x_135484 = ((int64_t *) mem_128450.mem)[offset_index_135491 -
                                                        (int64_t) 1];
                x_135485 = ((int64_t *) mem_128453.mem)[offset_index_135491 -
                                                        (int64_t) 1];
            }
            
            int64_t defunc_1_op_res_135486 = add64(x_135478, x_135482);
            int64_t defunc_1_op_res_135487 = add64(x_135479, x_135483);
            int64_t defunc_1_op_res_135488 = add64(x_135480, x_135484);
            int64_t defunc_1_op_res_135489 = add64(x_135481, x_135485);
            
            ((int64_t *) mem_128444.mem)[offset_index_135491 - (int64_t) 1] =
                defunc_1_op_res_135486;
            ((int64_t *) scan_stage_2_accum_mem_135492)[(int64_t) 0] =
                defunc_1_op_res_135486;
            ((int64_t *) mem_128447.mem)[offset_index_135491 - (int64_t) 1] =
                defunc_1_op_res_135487;
            ((int64_t *) scan_stage_2_accum_mem_135494)[(int64_t) 0] =
                defunc_1_op_res_135487;
            ((int64_t *) mem_128450.mem)[offset_index_135491 - (int64_t) 1] =
                defunc_1_op_res_135488;
            ((int64_t *) scan_stage_2_accum_mem_135496)[(int64_t) 0] =
                defunc_1_op_res_135488;
            ((int64_t *) mem_128453.mem)[offset_index_135491 - (int64_t) 1] =
                defunc_1_op_res_135489;
            ((int64_t *) scan_stage_2_accum_mem_135498)[(int64_t) 0] =
                defunc_1_op_res_135489;
        }
        
        int64_t iter_135513 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_136985
        futhark_mc_scan_stage_3_parloop_struct_136985;
        
        futhark_mc_scan_stage_3_parloop_struct_136985.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_mem_128444 =
            mem_128444.mem;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_mem_128447 =
            mem_128447.mem;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_mem_128450 =
            mem_128450.mem;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_mem_128453 =
            mem_128453.mem;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_double_buffer_mem_128829 =
            double_buffer_mem_128829.mem;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_defunc_2_radix_sort_step_arg_135391 =
            defunc_2_radix_sort_step_arg_135391;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_defunc_0_get_bit_arg_135392 =
            defunc_0_get_bit_arg_135392;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_cond_f_res_135393 =
            cond_f_res_135393;
        futhark_mc_scan_stage_3_parloop_struct_136985.free_cond_f_res_135394 =
            cond_f_res_135394;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_136986_task;
        
        futhark_mc_scan_stage_3_parloop_136986_task.name =
            "futhark_mc_scan_stage_3_parloop_136986";
        futhark_mc_scan_stage_3_parloop_136986_task.fn =
            futhark_mc_scan_stage_3_parloop_136986;
        futhark_mc_scan_stage_3_parloop_136986_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_136985;
        futhark_mc_scan_stage_3_parloop_136986_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_136986_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_136986_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_136986_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_136986_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_136986_task);
        
        if (futhark_mc_scan_stage_3_parloop_136986_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_136986_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_136986_total_end -
                     futhark_mc_scan_stage_3_parloop_136986_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136986_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136986_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_136986_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_135492);
    free(scan_stage_2_accum_mem_135494);
    free(scan_stage_2_accum_mem_135496);
    free(scan_stage_2_accum_mem_135498);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_136978_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_136978_end -
                 futhark_mc_segscan_task_136978_start;
        
        ctx->futhark_mc_segscan_task_136978_runs[tid]++;
        ctx->futhark_mc_segscan_task_136978_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_136978_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136987 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    char *free_mem_128444;
    char *free_mem_128447;
    char *free_mem_128450;
    char *free_mem_128453;
    char *free_mem_128456;
    char *free_mem_128459;
    char *free_double_buffer_mem_128829;
    int64_t free_last_res_135445;
    int64_t free_last_res_135446;
    int64_t free_last_res_135447;
};
struct futhark_mc_segmap_parloop_struct_136989 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    char *free_mem_128444;
    char *free_mem_128447;
    char *free_mem_128450;
    char *free_mem_128453;
    char *free_mem_128456;
    char *free_mem_128459;
    char *free_double_buffer_mem_128829;
    int64_t free_last_res_135445;
    int64_t free_last_res_135446;
    int64_t free_last_res_135447;
};
static int futhark_mc_segmap_parloop_136990(void *args, int64_t start,
                                            int64_t end, int flat_tid_125575,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136989
    *futhark_mc_segmap_parloop_struct_136989 =
    (struct futhark_mc_segmap_parloop_struct_136989 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136989->ctx;
    uint64_t futhark_mc_segmap_parloop_136990_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136990_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136989->free_n_119475;
    struct memblock mem_128444 = {.desc ="mem_128444", .mem =
                                  futhark_mc_segmap_parloop_struct_136989->free_mem_128444,
                                  .size =0, .references =NULL};
    struct memblock mem_128447 = {.desc ="mem_128447", .mem =
                                  futhark_mc_segmap_parloop_struct_136989->free_mem_128447,
                                  .size =0, .references =NULL};
    struct memblock mem_128450 = {.desc ="mem_128450", .mem =
                                  futhark_mc_segmap_parloop_struct_136989->free_mem_128450,
                                  .size =0, .references =NULL};
    struct memblock mem_128453 = {.desc ="mem_128453", .mem =
                                  futhark_mc_segmap_parloop_struct_136989->free_mem_128453,
                                  .size =0, .references =NULL};
    struct memblock mem_128456 = {.desc ="mem_128456", .mem =
                                  futhark_mc_segmap_parloop_struct_136989->free_mem_128456,
                                  .size =0, .references =NULL};
    struct memblock mem_128459 = {.desc ="mem_128459", .mem =
                                  futhark_mc_segmap_parloop_struct_136989->free_mem_128459,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_128829 = {.desc =
                                                "double_buffer_mem_128829",
                                                .mem =
                                                futhark_mc_segmap_parloop_struct_136989->free_double_buffer_mem_128829,
                                                .size =0, .references =NULL};
    int64_t last_res_135445 =
            futhark_mc_segmap_parloop_struct_136989->free_last_res_135445;
    int64_t last_res_135446 =
            futhark_mc_segmap_parloop_struct_136989->free_last_res_135446;
    int64_t last_res_135447 =
            futhark_mc_segmap_parloop_struct_136989->free_last_res_135447;
    int64_t iterations = end - start;
    int64_t iter_135515 = start;
    
    for (; iter_135515 < end; iter_135515++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135534 = n_119475;
        int64_t gtid_125576 = iter_135515;
        int64_t remnant_135535 = iter_135515 - gtid_125576;
        int32_t x_135450 = ((int32_t *) mem_128456.mem)[gtid_125576];
        float write_value_135451 =
              ((float *) double_buffer_mem_128829.mem)[gtid_125576];
        bool match_lit_135452 = 0 == x_135450;
        int64_t defunc_1_f_res_135453;
        
        if (match_lit_135452) {
            int64_t x_135516 = ((int64_t *) mem_128444.mem)[gtid_125576];
            int64_t case_res_135517 = sub64(x_135516, (int64_t) 1);
            
            defunc_1_f_res_135453 = case_res_135517;
        } else {
            bool match_lit_135518 = 1 == x_135450;
            int64_t x_135519;
            
            if (match_lit_135518) {
                int64_t x_135520 = ((int64_t *) mem_128447.mem)[gtid_125576];
                int64_t x_135521 = add64(last_res_135445, x_135520);
                int64_t case_res_135522 = sub64(x_135521, (int64_t) 1);
                
                x_135519 = case_res_135522;
            } else {
                bool match_lit_135523 = 2 == x_135450;
                int64_t x_135524;
                
                if (match_lit_135523) {
                    int64_t x_135525 =
                            ((int64_t *) mem_128450.mem)[gtid_125576];
                    int64_t x_135526 = add64(last_res_135445, last_res_135446);
                    int64_t x_135527 = add64(x_135525, x_135526);
                    int64_t case_res_135528 = sub64(x_135527, (int64_t) 1);
                    
                    x_135524 = case_res_135528;
                } else {
                    int64_t x_135529 =
                            ((int64_t *) mem_128453.mem)[gtid_125576];
                    int64_t x_135530 = add64(last_res_135445, last_res_135446);
                    int64_t x_135531 = add64(last_res_135447, x_135530);
                    int64_t x_135532 = add64(x_135529, x_135531);
                    int64_t defunc_1_f_res_res_135533 = sub64(x_135532,
                                                              (int64_t) 1);
                    
                    x_135524 = defunc_1_f_res_res_135533;
                }
                x_135519 = x_135524;
            }
            defunc_1_f_res_135453 = x_135519;
        }
        if (sle64((int64_t) 0, defunc_1_f_res_135453) &&
            slt64(defunc_1_f_res_135453, n_119475)) {
            ((float *) mem_128459.mem)[defunc_1_f_res_135453] =
                write_value_135451;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136990_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136990_end -
                 futhark_mc_segmap_parloop_136990_start;
        
        ctx->futhark_mc_segmap_parloop_136990_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136990_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136990_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136988(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125575 = tid;
    int num_tasks_135514 = info.nsubtasks;
    struct futhark_mc_task_136987 *futhark_mc_task_136987 =
                                  (struct futhark_mc_task_136987 *) args;
    struct futhark_context *ctx = futhark_mc_task_136987->ctx;
    uint64_t futhark_mc_segmap_task_136988_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136988_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136987->free_n_119475;
    struct memblock mem_128444 = {.desc ="mem_128444", .mem =
                                  futhark_mc_task_136987->free_mem_128444,
                                  .size =0, .references =NULL};
    struct memblock mem_128447 = {.desc ="mem_128447", .mem =
                                  futhark_mc_task_136987->free_mem_128447,
                                  .size =0, .references =NULL};
    struct memblock mem_128450 = {.desc ="mem_128450", .mem =
                                  futhark_mc_task_136987->free_mem_128450,
                                  .size =0, .references =NULL};
    struct memblock mem_128453 = {.desc ="mem_128453", .mem =
                                  futhark_mc_task_136987->free_mem_128453,
                                  .size =0, .references =NULL};
    struct memblock mem_128456 = {.desc ="mem_128456", .mem =
                                  futhark_mc_task_136987->free_mem_128456,
                                  .size =0, .references =NULL};
    struct memblock mem_128459 = {.desc ="mem_128459", .mem =
                                  futhark_mc_task_136987->free_mem_128459,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_128829 = {.desc =
                                                "double_buffer_mem_128829",
                                                .mem =
                                                futhark_mc_task_136987->free_double_buffer_mem_128829,
                                                .size =0, .references =NULL};
    int64_t last_res_135445 = futhark_mc_task_136987->free_last_res_135445;
    int64_t last_res_135446 = futhark_mc_task_136987->free_last_res_135446;
    int64_t last_res_135447 = futhark_mc_task_136987->free_last_res_135447;
    int64_t iter_135515;
    struct futhark_mc_segmap_parloop_struct_136989
    futhark_mc_segmap_parloop_struct_136989;
    
    futhark_mc_segmap_parloop_struct_136989.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136989.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136989.free_mem_128444 = mem_128444.mem;
    futhark_mc_segmap_parloop_struct_136989.free_mem_128447 = mem_128447.mem;
    futhark_mc_segmap_parloop_struct_136989.free_mem_128450 = mem_128450.mem;
    futhark_mc_segmap_parloop_struct_136989.free_mem_128453 = mem_128453.mem;
    futhark_mc_segmap_parloop_struct_136989.free_mem_128456 = mem_128456.mem;
    futhark_mc_segmap_parloop_struct_136989.free_mem_128459 = mem_128459.mem;
    futhark_mc_segmap_parloop_struct_136989.free_double_buffer_mem_128829 =
        double_buffer_mem_128829.mem;
    futhark_mc_segmap_parloop_struct_136989.free_last_res_135445 =
        last_res_135445;
    futhark_mc_segmap_parloop_struct_136989.free_last_res_135446 =
        last_res_135446;
    futhark_mc_segmap_parloop_struct_136989.free_last_res_135447 =
        last_res_135447;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136990_task;
    
    futhark_mc_segmap_parloop_136990_task.name =
        "futhark_mc_segmap_parloop_136990";
    futhark_mc_segmap_parloop_136990_task.fn = futhark_mc_segmap_parloop_136990;
    futhark_mc_segmap_parloop_136990_task.args =
        &futhark_mc_segmap_parloop_struct_136989;
    futhark_mc_segmap_parloop_136990_task.iterations = iterations;
    futhark_mc_segmap_parloop_136990_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136990_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136990_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136990_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136990_task);
    
    if (futhark_mc_segmap_parloop_136990_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136990_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136990_total_end -
                 futhark_mc_segmap_parloop_136990_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136990_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136990_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136990_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136988_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136988_end -
                 futhark_mc_segmap_task_136988_start;
        
        ctx->futhark_mc_segmap_task_136988_runs[tid]++;
        ctx->futhark_mc_segmap_task_136988_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136988_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136969(void *args, int64_t start,
                                            int64_t end, int flat_tid_125571,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136968
    *futhark_mc_segmap_parloop_struct_136968 =
    (struct futhark_mc_segmap_parloop_struct_136968 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136968->ctx;
    uint64_t futhark_mc_segmap_parloop_136969_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136969_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136968->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136968->free_n_119475;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_136968->free_i_119551;
    int32_t iters_121464 =
            futhark_mc_segmap_parloop_struct_136968->free_iters_121464;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_136968->free_bytes_126882;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_136968->free_bytes_126925;
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_segmap_parloop_struct_136968->free_mem_128426,
                                  .size =0, .references =NULL};
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_segmap_parloop_struct_136968->free_mem_128580,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_128831 =
            futhark_mc_segmap_parloop_struct_136968->free_double_buffer_sizze_128831;
    size_t mem_128444_cached_sizze_136970 = 0;
    char *mem_128444 = NULL;
    size_t mem_128447_cached_sizze_136971 = 0;
    char *mem_128447 = NULL;
    size_t mem_128450_cached_sizze_136972 = 0;
    char *mem_128450 = NULL;
    size_t mem_128453_cached_sizze_136973 = 0;
    char *mem_128453 = NULL;
    size_t mem_128456_cached_sizze_136974 = 0;
    char *mem_128456 = NULL;
    size_t mem_128459_cached_sizze_136975 = 0;
    char *mem_128459 = NULL;
    size_t double_buffer_mem_128829_cached_sizze_136976 = 0;
    char *double_buffer_mem_128829 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135388 = start;
    
    if (mem_128444_cached_sizze_136970 < (size_t) bytes_126882) {
        mem_128444 = realloc(mem_128444, bytes_126882);
        mem_128444_cached_sizze_136970 = bytes_126882;
    }
    if (mem_128447_cached_sizze_136971 < (size_t) bytes_126882) {
        mem_128447 = realloc(mem_128447, bytes_126882);
        mem_128447_cached_sizze_136971 = bytes_126882;
    }
    if (mem_128450_cached_sizze_136972 < (size_t) bytes_126882) {
        mem_128450 = realloc(mem_128450, bytes_126882);
        mem_128450_cached_sizze_136972 = bytes_126882;
    }
    if (mem_128453_cached_sizze_136973 < (size_t) bytes_126882) {
        mem_128453 = realloc(mem_128453, bytes_126882);
        mem_128453_cached_sizze_136973 = bytes_126882;
    }
    if (mem_128456_cached_sizze_136974 < (size_t) bytes_126925) {
        mem_128456 = realloc(mem_128456, bytes_126925);
        mem_128456_cached_sizze_136974 = bytes_126925;
    }
    if (double_buffer_mem_128829_cached_sizze_136976 <
        (size_t) double_buffer_sizze_128831) {
        double_buffer_mem_128829 = realloc(double_buffer_mem_128829,
                                           double_buffer_sizze_128831);
        double_buffer_mem_128829_cached_sizze_136976 =
            double_buffer_sizze_128831;
    }
    if (mem_128459_cached_sizze_136975 < (size_t) bytes_126925) {
        mem_128459 = realloc(mem_128459, bytes_126925);
        mem_128459_cached_sizze_136975 = bytes_126925;
    }
    for (; iter_135388 < end; iter_135388++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135473 = m_119474;
        int64_t gtid_125572 = iter_135388;
        int64_t remnant_135474 = iter_135388 - gtid_125572;
        
        memmove(double_buffer_mem_128829 + (int64_t) 0, mem_128426.mem +
                gtid_125572 * n_119475 * (int64_t) 4, n_119475 * (int64_t) 4);
        for (int32_t i_135389 = 0; i_135389 < iters_121464; i_135389++) {
            int32_t defunc_2_radix_sort_step_arg_135391 = mul32(2, i_135389);
            int32_t defunc_0_get_bit_arg_135392 = add32(1,
                                                        defunc_2_radix_sort_step_arg_135391);
            bool cond_f_res_135393 = defunc_0_get_bit_arg_135392 == 31;
            bool cond_f_res_135394 = defunc_2_radix_sort_step_arg_135391 == 31;
            int64_t flat_tid_125573 = (int64_t) 0;
            int32_t num_tasks_135476;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "nonsegmented segScan");
            
            struct futhark_mc_task_136977 futhark_mc_task_136977;
            
            futhark_mc_task_136977.ctx = ctx;
            futhark_mc_task_136977.free_n_119475 = n_119475;
            futhark_mc_task_136977.free_mem_128444 = mem_128444;
            futhark_mc_task_136977.free_mem_128447 = mem_128447;
            futhark_mc_task_136977.free_mem_128450 = mem_128450;
            futhark_mc_task_136977.free_mem_128453 = mem_128453;
            futhark_mc_task_136977.free_mem_128456 = mem_128456;
            futhark_mc_task_136977.free_double_buffer_mem_128829 =
                double_buffer_mem_128829;
            futhark_mc_task_136977.free_defunc_2_radix_sort_step_arg_135391 =
                defunc_2_radix_sort_step_arg_135391;
            futhark_mc_task_136977.free_defunc_0_get_bit_arg_135392 =
                defunc_0_get_bit_arg_135392;
            futhark_mc_task_136977.free_cond_f_res_135393 = cond_f_res_135393;
            futhark_mc_task_136977.free_cond_f_res_135394 = cond_f_res_135394;
            
            struct scheduler_segop futhark_mc_task_136977_task;
            
            futhark_mc_task_136977_task.args = &futhark_mc_task_136977;
            futhark_mc_task_136977_task.top_level_fn =
                futhark_mc_segscan_task_136978;
            futhark_mc_task_136977_task.name = "futhark_mc_segscan_task_136978";
            futhark_mc_task_136977_task.iterations = n_119475;
            futhark_mc_task_136977_task.task_time =
                &ctx->futhark_mc_segscan_task_136978_total_time;
            futhark_mc_task_136977_task.task_iter =
                &ctx->futhark_mc_segscan_task_136978_total_iter;
            futhark_mc_task_136977_task.sched = STATIC;
            futhark_mc_task_136977_task.nested_fn = NULL;
            
            int futhark_mc_segscan_task_136978_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136977_task);
            
            if (futhark_mc_segscan_task_136978_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t last_res_135445 = ((int64_t *) mem_128444)[i_119551];
            int64_t last_res_135446 = ((int64_t *) mem_128447)[i_119551];
            int64_t last_res_135447 = ((int64_t *) mem_128450)[i_119551];
            
            memmove(mem_128459 + (int64_t) 0, double_buffer_mem_128829 +
                    (int64_t) 0, n_119475 * (int64_t) 4);
            
            int64_t flat_tid_125575 = (int64_t) 0;
            int32_t num_tasks_135514;
            struct futhark_mc_task_136987 futhark_mc_task_136987;
            
            futhark_mc_task_136987.ctx = ctx;
            futhark_mc_task_136987.free_n_119475 = n_119475;
            futhark_mc_task_136987.free_mem_128444 = mem_128444;
            futhark_mc_task_136987.free_mem_128447 = mem_128447;
            futhark_mc_task_136987.free_mem_128450 = mem_128450;
            futhark_mc_task_136987.free_mem_128453 = mem_128453;
            futhark_mc_task_136987.free_mem_128456 = mem_128456;
            futhark_mc_task_136987.free_mem_128459 = mem_128459;
            futhark_mc_task_136987.free_double_buffer_mem_128829 =
                double_buffer_mem_128829;
            futhark_mc_task_136987.free_last_res_135445 = last_res_135445;
            futhark_mc_task_136987.free_last_res_135446 = last_res_135446;
            futhark_mc_task_136987.free_last_res_135447 = last_res_135447;
            
            struct scheduler_segop futhark_mc_task_136987_task;
            
            futhark_mc_task_136987_task.args = &futhark_mc_task_136987;
            futhark_mc_task_136987_task.top_level_fn =
                futhark_mc_segmap_task_136988;
            futhark_mc_task_136987_task.name = "futhark_mc_segmap_task_136988";
            futhark_mc_task_136987_task.iterations = n_119475;
            futhark_mc_task_136987_task.task_time =
                &ctx->futhark_mc_segmap_task_136988_total_time;
            futhark_mc_task_136987_task.task_iter =
                &ctx->futhark_mc_segmap_task_136988_total_iter;
            futhark_mc_task_136987_task.sched = STATIC;
            futhark_mc_task_136987_task.nested_fn = NULL;
            
            int futhark_mc_segmap_task_136988_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136987_task);
            
            if (futhark_mc_segmap_task_136988_err != 0) {
                err = 1;
                goto cleanup;
            }
            memmove(double_buffer_mem_128829 + (int64_t) 0, mem_128459 +
                    (int64_t) 0, n_119475 * (int64_t) 4);
        }
        memmove(mem_128580.mem + gtid_125572 * n_119475 * (int64_t) 4,
                double_buffer_mem_128829 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128444);
    free(mem_128447);
    free(mem_128450);
    free(mem_128453);
    free(mem_128456);
    free(mem_128459);
    free(double_buffer_mem_128829);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136969_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136969_end -
                 futhark_mc_segmap_parloop_136969_start;
        
        ctx->futhark_mc_segmap_parloop_136969_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136969_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136969_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136967(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125571 = tid;
    int num_tasks_135270 = info.nsubtasks;
    struct futhark_mc_task_136956 *futhark_mc_task_136956 =
                                  (struct futhark_mc_task_136956 *) args;
    struct futhark_context *ctx = futhark_mc_task_136956->ctx;
    uint64_t futhark_mc_segmap_nested_task_136967_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136967_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136956->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136956->free_n_119475;
    int64_t i_119551 = futhark_mc_task_136956->free_i_119551;
    int32_t iters_121464 = futhark_mc_task_136956->free_iters_121464;
    int64_t bytes_126882 = futhark_mc_task_136956->free_bytes_126882;
    int64_t bytes_126925 = futhark_mc_task_136956->free_bytes_126925;
    struct memblock mem_128426 = {.desc ="mem_128426", .mem =
                                  futhark_mc_task_136956->free_mem_128426,
                                  .size =0, .references =NULL};
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_task_136956->free_mem_128580,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_128831 =
            futhark_mc_task_136956->free_double_buffer_sizze_128831;
    int64_t double_buffer_sizze_128835 =
            futhark_mc_task_136956->free_double_buffer_sizze_128835;
    int64_t iter_135388;
    struct futhark_mc_segmap_parloop_struct_136968
    futhark_mc_segmap_parloop_struct_136968;
    
    futhark_mc_segmap_parloop_struct_136968.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136968.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136968.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136968.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_136968.free_iters_121464 = iters_121464;
    futhark_mc_segmap_parloop_struct_136968.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_136968.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_136968.free_mem_128426 = mem_128426.mem;
    futhark_mc_segmap_parloop_struct_136968.free_mem_128580 = mem_128580.mem;
    futhark_mc_segmap_parloop_struct_136968.free_double_buffer_sizze_128831 =
        double_buffer_sizze_128831;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136969_task;
    
    futhark_mc_segmap_parloop_136969_task.name =
        "futhark_mc_segmap_parloop_136969";
    futhark_mc_segmap_parloop_136969_task.fn = futhark_mc_segmap_parloop_136969;
    futhark_mc_segmap_parloop_136969_task.args =
        &futhark_mc_segmap_parloop_struct_136968;
    futhark_mc_segmap_parloop_136969_task.iterations = iterations;
    futhark_mc_segmap_parloop_136969_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136969_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136969_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136969_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136969_task);
    
    if (futhark_mc_segmap_parloop_136969_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136969_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136969_total_end -
                 futhark_mc_segmap_parloop_136969_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136969_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136969_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136969_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136967_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136967_end -
                 futhark_mc_segmap_nested_task_136967_start;
        
        ctx->futhark_mc_segmap_nested_task_136967_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136967_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136967_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_136991 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_stl_res_119545;
    int64_t free_j_m_i_119915;
    char *free_mem_128580;
    char *free_mem_128583;
    char *free_mem_128586;
    char *free_mem_128589;
};
struct futhark_mc_segmap_parloop_struct_136993 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_stl_res_119545;
    int64_t free_j_m_i_119915;
    char *free_mem_128580;
    char *free_mem_128583;
    char *free_mem_128586;
    char *free_mem_128589;
};
static int futhark_mc_segmap_parloop_136994(void *args, int64_t start,
                                            int64_t end, int flat_tid_125662,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136993
    *futhark_mc_segmap_parloop_struct_136993 =
    (struct futhark_mc_segmap_parloop_struct_136993 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136993->ctx;
    uint64_t futhark_mc_segmap_parloop_136994_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136994_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136993->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136993->free_n_119475;
    int64_t stl_res_119545 =
            futhark_mc_segmap_parloop_struct_136993->free_stl_res_119545;
    int64_t j_m_i_119915 =
            futhark_mc_segmap_parloop_struct_136993->free_j_m_i_119915;
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_segmap_parloop_struct_136993->free_mem_128580,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_segmap_parloop_struct_136993->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_segmap_parloop_struct_136993->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_segmap_parloop_struct_136993->free_mem_128589,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135537 = start;
    
    for (; iter_135537 < end; iter_135537++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135543 = m_119474;
        int64_t gtid_125663 = iter_135537;
        int64_t remnant_135544 = iter_135537 - gtid_125663;
        float defunc_2_reduce_res_121600;
        float redout_135539 = 0.0F;
        
        for (int64_t i_135538 = 0; i_135538 < j_m_i_119915; i_135538++) {
            int64_t slice_135540 = stl_res_119545 + i_135538;
            float x_135541 = ((float *) mem_128580.mem)[gtid_125663 * n_119475 +
                                                        slice_135540];
            float defunc_1_op_res_135542 = x_135541 + redout_135539;
            float redout_tmp_135545 = defunc_1_op_res_135542;
            
            redout_135539 = redout_tmp_135545;
        }
        defunc_2_reduce_res_121600 = redout_135539;
        
        float h_121605 = 3.0F * defunc_2_reduce_res_121600;
        float h9_121606 = 0.999F * h_121605;
        float h1_121607 = 1.0e-3F * h_121605;
        
        ((float *) mem_128583.mem)[gtid_125663] = h_121605;
        ((float *) mem_128586.mem)[gtid_125663] = h9_121606;
        ((float *) mem_128589.mem)[gtid_125663] = h1_121607;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136994_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136994_end -
                 futhark_mc_segmap_parloop_136994_start;
        
        ctx->futhark_mc_segmap_parloop_136994_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136994_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136994_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_136992(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125662 = tid;
    int num_tasks_135536 = info.nsubtasks;
    struct futhark_mc_task_136991 *futhark_mc_task_136991 =
                                  (struct futhark_mc_task_136991 *) args;
    struct futhark_context *ctx = futhark_mc_task_136991->ctx;
    uint64_t futhark_mc_segmap_task_136992_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_136992_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136991->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136991->free_n_119475;
    int64_t stl_res_119545 = futhark_mc_task_136991->free_stl_res_119545;
    int64_t j_m_i_119915 = futhark_mc_task_136991->free_j_m_i_119915;
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_task_136991->free_mem_128580,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_task_136991->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_task_136991->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_task_136991->free_mem_128589,
                                  .size =0, .references =NULL};
    int64_t iter_135537;
    struct futhark_mc_segmap_parloop_struct_136993
    futhark_mc_segmap_parloop_struct_136993;
    
    futhark_mc_segmap_parloop_struct_136993.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136993.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136993.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136993.free_stl_res_119545 =
        stl_res_119545;
    futhark_mc_segmap_parloop_struct_136993.free_j_m_i_119915 = j_m_i_119915;
    futhark_mc_segmap_parloop_struct_136993.free_mem_128580 = mem_128580.mem;
    futhark_mc_segmap_parloop_struct_136993.free_mem_128583 = mem_128583.mem;
    futhark_mc_segmap_parloop_struct_136993.free_mem_128586 = mem_128586.mem;
    futhark_mc_segmap_parloop_struct_136993.free_mem_128589 = mem_128589.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136994_task;
    
    futhark_mc_segmap_parloop_136994_task.name =
        "futhark_mc_segmap_parloop_136994";
    futhark_mc_segmap_parloop_136994_task.fn = futhark_mc_segmap_parloop_136994;
    futhark_mc_segmap_parloop_136994_task.args =
        &futhark_mc_segmap_parloop_struct_136993;
    futhark_mc_segmap_parloop_136994_task.iterations = iterations;
    futhark_mc_segmap_parloop_136994_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136994_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136994_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136994_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136994_task);
    
    if (futhark_mc_segmap_parloop_136994_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136994_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136994_total_end -
                 futhark_mc_segmap_parloop_136994_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136994_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136994_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136994_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_136992_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_136992_end -
                 futhark_mc_segmap_task_136992_start;
        
        ctx->futhark_mc_segmap_task_136992_runs[tid]++;
        ctx->futhark_mc_segmap_task_136992_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_136992_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_136996 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_stl_res_119545;
    int64_t free_j_m_i_119915;
    char *free_mem_128580;
    char *free_mem_128583;
    char *free_mem_128586;
    char *free_mem_128589;
};
struct futhark_mc_task_136998 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_stl_res_119545;
    int64_t free_gtid_125665;
    char *free_mem_128580;
    float *retval_defunc_2_reduce_res_125669;
};
struct futhark_mc_segred_stage_1_parloop_struct_137001 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_stl_res_119545;
    int64_t free_gtid_125665;
    char *free_mem_128580;
    char *free_reduce_stage_1_tid_res_arr_mem_135555;
};
static int futhark_mc_segred_stage_1_parloop_137002(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_125666,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_137001
    *futhark_mc_segred_stage_1_parloop_struct_137001 =
    (struct futhark_mc_segred_stage_1_parloop_struct_137001 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_137001->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_137002_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_137002_start = get_wall_time();
    
    int64_t n_119475 =
            futhark_mc_segred_stage_1_parloop_struct_137001->free_n_119475;
    int64_t stl_res_119545 =
            futhark_mc_segred_stage_1_parloop_struct_137001->free_stl_res_119545;
    int64_t gtid_125665 =
            futhark_mc_segred_stage_1_parloop_struct_137001->free_gtid_125665;
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_137001->free_mem_128580,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_135555 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_135555",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_137001->free_reduce_stage_1_tid_res_arr_mem_135555,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135557 = start;
    float x_135547;
    float x_135548;
    float local_acc_135558 = 0.0F;
    
    for (; iter_135557 < end; iter_135557++) {
        int64_t gtid_125667 = iter_135557;
        int64_t slice_135550 = stl_res_119545 + gtid_125667;
        float x_135551 = ((float *) mem_128580.mem)[gtid_125665 * n_119475 +
                                                    slice_135550];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_135547 = local_acc_135558;
        }
        // Load next params
        {
            x_135548 = x_135551;
        }
        // Red body
        {
            float defunc_1_op_res_135549 = x_135547 + x_135548;
            
            local_acc_135558 = defunc_1_op_res_135549;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_135555.mem)[flat_tid_125666] =
        local_acc_135558;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_137002_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_137002_end -
                 futhark_mc_segred_stage_1_parloop_137002_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_137002_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_137002_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_137002_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_136999(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125666 = tid;
    int num_tasks_135554 = info.nsubtasks;
    struct futhark_mc_task_136998 *futhark_mc_task_136998 =
                                  (struct futhark_mc_task_136998 *) args;
    struct futhark_context *ctx = futhark_mc_task_136998->ctx;
    uint64_t futhark_mc_segred_task_136999_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_136999_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_136998->free_n_119475;
    int64_t stl_res_119545 = futhark_mc_task_136998->free_stl_res_119545;
    int64_t gtid_125665 = futhark_mc_task_136998->free_gtid_125665;
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_task_136998->free_mem_128580,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_125669 =
          *futhark_mc_task_136998->retval_defunc_2_reduce_res_125669;
    size_t reduce_stage_1_tid_res_arr_mem_135555_cached_sizze_137000 = 0;
    char *reduce_stage_1_tid_res_arr_mem_135555 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_135555_cached_sizze_137000 <
        (size_t) ((int64_t) 4 * num_tasks_135554)) {
        reduce_stage_1_tid_res_arr_mem_135555 =
            realloc(reduce_stage_1_tid_res_arr_mem_135555, (int64_t) 4 *
                    num_tasks_135554);
        reduce_stage_1_tid_res_arr_mem_135555_cached_sizze_137000 =
            (int64_t) 4 * num_tasks_135554;
    }
    
    int64_t iter_135557;
    struct futhark_mc_segred_stage_1_parloop_struct_137001
    futhark_mc_segred_stage_1_parloop_struct_137001;
    
    futhark_mc_segred_stage_1_parloop_struct_137001.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_137001.free_n_119475 = n_119475;
    futhark_mc_segred_stage_1_parloop_struct_137001.free_stl_res_119545 =
        stl_res_119545;
    futhark_mc_segred_stage_1_parloop_struct_137001.free_gtid_125665 =
        gtid_125665;
    futhark_mc_segred_stage_1_parloop_struct_137001.free_mem_128580 =
        mem_128580.mem;
    futhark_mc_segred_stage_1_parloop_struct_137001.free_reduce_stage_1_tid_res_arr_mem_135555 =
        reduce_stage_1_tid_res_arr_mem_135555;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_137002_task;
    
    futhark_mc_segred_stage_1_parloop_137002_task.name =
        "futhark_mc_segred_stage_1_parloop_137002";
    futhark_mc_segred_stage_1_parloop_137002_task.fn =
        futhark_mc_segred_stage_1_parloop_137002;
    futhark_mc_segred_stage_1_parloop_137002_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_137001;
    futhark_mc_segred_stage_1_parloop_137002_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_137002_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_137002_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_137002_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_137002_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_137002_task);
    
    if (futhark_mc_segred_stage_1_parloop_137002_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_137002_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_137002_total_end -
                 futhark_mc_segred_stage_1_parloop_137002_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_137002_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_137002_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_137002_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_125669 = 0.0F;
    }
    
    float x_135559;
    float x_135560;
    
    for (int32_t i_135562 = 0; i_135562 < num_tasks_135554; i_135562++) {
        flat_tid_125666 = i_135562;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_135559 = defunc_2_reduce_res_125669;
            }
            // load next params
            {
                x_135560 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_135555)[flat_tid_125666];
            }
            // red body
            {
                float defunc_1_op_res_135561 = x_135559 + x_135560;
                
                defunc_2_reduce_res_125669 = defunc_1_op_res_135561;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_135555);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_136999_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_136999_end -
                 futhark_mc_segred_task_136999_start;
        
        ctx->futhark_mc_segred_task_136999_runs[tid]++;
        ctx->futhark_mc_segred_task_136999_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_136999_iter[tid] += iterations;
    }
    *futhark_mc_task_136998->retval_defunc_2_reduce_res_125669 =
        defunc_2_reduce_res_125669;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_136997(void *args, int64_t start,
                                            int64_t end, int flat_tid_125664,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_136996
    *futhark_mc_segmap_parloop_struct_136996 =
    (struct futhark_mc_segmap_parloop_struct_136996 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_136996->ctx;
    uint64_t futhark_mc_segmap_parloop_136997_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136997_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_136996->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_136996->free_n_119475;
    int64_t stl_res_119545 =
            futhark_mc_segmap_parloop_struct_136996->free_stl_res_119545;
    int64_t j_m_i_119915 =
            futhark_mc_segmap_parloop_struct_136996->free_j_m_i_119915;
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_segmap_parloop_struct_136996->free_mem_128580,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_segmap_parloop_struct_136996->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_segmap_parloop_struct_136996->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_segmap_parloop_struct_136996->free_mem_128589,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135546 = start;
    
    for (; iter_135546 < end; iter_135546++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135552 = m_119474;
        int64_t gtid_125665 = iter_135546;
        int64_t remnant_135553 = iter_135546 - gtid_125665;
        float defunc_2_reduce_res_125669;
        int64_t flat_tid_125666 = (int64_t) 0;
        int32_t num_tasks_135554;
        struct futhark_mc_task_136998 futhark_mc_task_136998;
        
        futhark_mc_task_136998.ctx = ctx;
        futhark_mc_task_136998.free_n_119475 = n_119475;
        futhark_mc_task_136998.free_stl_res_119545 = stl_res_119545;
        futhark_mc_task_136998.free_gtid_125665 = gtid_125665;
        futhark_mc_task_136998.free_mem_128580 = mem_128580.mem;
        futhark_mc_task_136998.retval_defunc_2_reduce_res_125669 =
            &defunc_2_reduce_res_125669;
        
        struct scheduler_segop futhark_mc_task_136998_task;
        
        futhark_mc_task_136998_task.args = &futhark_mc_task_136998;
        futhark_mc_task_136998_task.top_level_fn =
            futhark_mc_segred_task_136999;
        futhark_mc_task_136998_task.name = "futhark_mc_segred_task_136999";
        futhark_mc_task_136998_task.iterations = j_m_i_119915;
        futhark_mc_task_136998_task.task_time =
            &ctx->futhark_mc_segred_task_136999_total_time;
        futhark_mc_task_136998_task.task_iter =
            &ctx->futhark_mc_segred_task_136999_total_iter;
        futhark_mc_task_136998_task.sched = STATIC;
        futhark_mc_task_136998_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_136999_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_136998_task);
        
        if (futhark_mc_segred_task_136999_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float h_125674 = 3.0F * defunc_2_reduce_res_125669;
        float h9_125675 = 0.999F * h_125674;
        float h1_125676 = 1.0e-3F * h_125674;
        
        ((float *) mem_128583.mem)[gtid_125665] = h_125674;
        ((float *) mem_128586.mem)[gtid_125665] = h9_125675;
        ((float *) mem_128589.mem)[gtid_125665] = h1_125676;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136997_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136997_end -
                 futhark_mc_segmap_parloop_136997_start;
        
        ctx->futhark_mc_segmap_parloop_136997_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_136997_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_136997_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_136995(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125664 = tid;
    int num_tasks_135536 = info.nsubtasks;
    struct futhark_mc_task_136991 *futhark_mc_task_136991 =
                                  (struct futhark_mc_task_136991 *) args;
    struct futhark_context *ctx = futhark_mc_task_136991->ctx;
    uint64_t futhark_mc_segmap_nested_task_136995_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_136995_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_136991->free_m_119474;
    int64_t n_119475 = futhark_mc_task_136991->free_n_119475;
    int64_t stl_res_119545 = futhark_mc_task_136991->free_stl_res_119545;
    int64_t j_m_i_119915 = futhark_mc_task_136991->free_j_m_i_119915;
    struct memblock mem_128580 = {.desc ="mem_128580", .mem =
                                  futhark_mc_task_136991->free_mem_128580,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_task_136991->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_task_136991->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_task_136991->free_mem_128589,
                                  .size =0, .references =NULL};
    int64_t iter_135546;
    struct futhark_mc_segmap_parloop_struct_136996
    futhark_mc_segmap_parloop_struct_136996;
    
    futhark_mc_segmap_parloop_struct_136996.ctx = ctx;
    futhark_mc_segmap_parloop_struct_136996.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_136996.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_136996.free_stl_res_119545 =
        stl_res_119545;
    futhark_mc_segmap_parloop_struct_136996.free_j_m_i_119915 = j_m_i_119915;
    futhark_mc_segmap_parloop_struct_136996.free_mem_128580 = mem_128580.mem;
    futhark_mc_segmap_parloop_struct_136996.free_mem_128583 = mem_128583.mem;
    futhark_mc_segmap_parloop_struct_136996.free_mem_128586 = mem_128586.mem;
    futhark_mc_segmap_parloop_struct_136996.free_mem_128589 = mem_128589.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_136997_task;
    
    futhark_mc_segmap_parloop_136997_task.name =
        "futhark_mc_segmap_parloop_136997";
    futhark_mc_segmap_parloop_136997_task.fn = futhark_mc_segmap_parloop_136997;
    futhark_mc_segmap_parloop_136997_task.args =
        &futhark_mc_segmap_parloop_struct_136996;
    futhark_mc_segmap_parloop_136997_task.iterations = iterations;
    futhark_mc_segmap_parloop_136997_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_136997_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_136997_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_136997_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_136997_task);
    
    if (futhark_mc_segmap_parloop_136997_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_136997_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_136997_total_end -
                 futhark_mc_segmap_parloop_136997_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136997_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136997_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_136997_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_136995_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_136995_end -
                 futhark_mc_segmap_nested_task_136995_start;
        
        ctx->futhark_mc_segmap_nested_task_136995_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_136995_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_136995_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_137003 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_bytes_126925;
    char *free_mem_128404;
    char *free_mem_128583;
    char *free_mem_128586;
    char *free_mem_128589;
    char *free_mem_128611;
};
struct futhark_mc_segmap_parloop_struct_137005 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_bytes_126925;
    char *free_mem_128404;
    char *free_mem_128583;
    char *free_mem_128586;
    char *free_mem_128589;
    char *free_mem_128611;
};
static int futhark_mc_segmap_parloop_137006(void *args, int64_t start,
                                            int64_t end, int flat_tid_125677,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137005
    *futhark_mc_segmap_parloop_struct_137005 =
    (struct futhark_mc_segmap_parloop_struct_137005 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137005->ctx;
    uint64_t futhark_mc_segmap_parloop_137006_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137006_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_137005->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137005->free_n_119475;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_137005->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_137005->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_segmap_parloop_struct_137005->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_segmap_parloop_struct_137005->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_segmap_parloop_struct_137005->free_mem_128589,
                                  .size =0, .references =NULL};
    struct memblock mem_128611 = {.desc ="mem_128611", .mem =
                                  futhark_mc_segmap_parloop_struct_137005->free_mem_128611,
                                  .size =0, .references =NULL};
    size_t mem_128595_cached_sizze_137007 = 0;
    char *mem_128595 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135564 = start;
    
    if (mem_128595_cached_sizze_137007 < (size_t) bytes_126925) {
        mem_128595 = realloc(mem_128595, bytes_126925);
        mem_128595_cached_sizze_137007 = bytes_126925;
    }
    for (; iter_135564 < end; iter_135564++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135585 = m_119474;
        int64_t gtid_125678 = iter_135564;
        int64_t remnant_135586 = iter_135564 - gtid_125678;
        float x_121613 = ((float *) mem_128583.mem)[gtid_125678];
        float x_121614 = ((float *) mem_128586.mem)[gtid_125678];
        float x_121615 = ((float *) mem_128589.mem)[gtid_125678];
        
        for (int64_t i_135565 = 0; i_135565 < n_119475; i_135565++) {
            float x_135567 = ((float *) mem_128404.mem)[gtid_125678 * n_119475 +
                                                        i_135565];
            float x_135568 = x_135567 / x_121613;
            float y_135569 = fpow32(x_135568, 2.0F);
            float x_135570 = 1.0F - y_135569;
            float bicube_135571 = fpow32(x_135570, 2.0F);
            bool isnan_res_135572;
            
            isnan_res_135572 = futrts_isnan32(x_135567);
            
            bool cond_f_res_135573 = x_135567 <= x_121615;
            bool x_135574 = !isnan_res_135572;
            bool y_135575 = cond_f_res_135573 && x_135574;
            bool cond_135576 = isnan_res_135572 || y_135575;
            float defunc_0_f_res_135577;
            
            if (cond_135576) {
                defunc_0_f_res_135577 = 1.0F;
            } else {
                bool cond_135578 = x_121614 <= x_135567;
                bool cond_f_res_135579 = x_135567 <= 1.0e-6F;
                bool x_135580 = !cond_135578;
                bool y_135581 = cond_f_res_135579 && x_135580;
                bool cond_135582 = cond_135578 || y_135581;
                float defunc_0_f_res_f_res_135583;
                
                if (cond_135582) {
                    defunc_0_f_res_f_res_135583 = 1.0e-6F;
                } else {
                    defunc_0_f_res_f_res_135583 = bicube_135571;
                }
                defunc_0_f_res_135577 = defunc_0_f_res_f_res_135583;
            }
            ((float *) mem_128595)[i_135565] = defunc_0_f_res_135577;
        }
        memmove(mem_128611.mem + gtid_125678 * n_119475 * (int64_t) 4,
                mem_128595 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128595);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137006_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137006_end -
                 futhark_mc_segmap_parloop_137006_start;
        
        ctx->futhark_mc_segmap_parloop_137006_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137006_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137006_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137004(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125677 = tid;
    int num_tasks_135563 = info.nsubtasks;
    struct futhark_mc_task_137003 *futhark_mc_task_137003 =
                                  (struct futhark_mc_task_137003 *) args;
    struct futhark_context *ctx = futhark_mc_task_137003->ctx;
    uint64_t futhark_mc_segmap_task_137004_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137004_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_137003->free_m_119474;
    int64_t n_119475 = futhark_mc_task_137003->free_n_119475;
    int64_t bytes_126925 = futhark_mc_task_137003->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_137003->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_task_137003->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_task_137003->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_task_137003->free_mem_128589,
                                  .size =0, .references =NULL};
    struct memblock mem_128611 = {.desc ="mem_128611", .mem =
                                  futhark_mc_task_137003->free_mem_128611,
                                  .size =0, .references =NULL};
    int64_t iter_135564;
    struct futhark_mc_segmap_parloop_struct_137005
    futhark_mc_segmap_parloop_struct_137005;
    
    futhark_mc_segmap_parloop_struct_137005.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137005.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_137005.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137005.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_137005.free_mem_128404 = mem_128404.mem;
    futhark_mc_segmap_parloop_struct_137005.free_mem_128583 = mem_128583.mem;
    futhark_mc_segmap_parloop_struct_137005.free_mem_128586 = mem_128586.mem;
    futhark_mc_segmap_parloop_struct_137005.free_mem_128589 = mem_128589.mem;
    futhark_mc_segmap_parloop_struct_137005.free_mem_128611 = mem_128611.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137006_task;
    
    futhark_mc_segmap_parloop_137006_task.name =
        "futhark_mc_segmap_parloop_137006";
    futhark_mc_segmap_parloop_137006_task.fn = futhark_mc_segmap_parloop_137006;
    futhark_mc_segmap_parloop_137006_task.args =
        &futhark_mc_segmap_parloop_struct_137005;
    futhark_mc_segmap_parloop_137006_task.iterations = iterations;
    futhark_mc_segmap_parloop_137006_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137006_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137006_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137006_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137006_task);
    
    if (futhark_mc_segmap_parloop_137006_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137006_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137006_total_end -
                 futhark_mc_segmap_parloop_137006_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137006_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137006_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137006_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137004_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137004_end -
                 futhark_mc_segmap_task_137004_start;
        
        ctx->futhark_mc_segmap_task_137004_runs[tid]++;
        ctx->futhark_mc_segmap_task_137004_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137004_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_137009 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_bytes_126925;
    char *free_mem_128404;
    char *free_mem_128583;
    char *free_mem_128586;
    char *free_mem_128589;
    char *free_mem_128611;
};
struct futhark_mc_task_137012 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125680;
    float free_x_125684;
    float free_x_125685;
    float free_x_125686;
    char *free_mem_128404;
    char *free_mem_128592;
};
struct futhark_mc_segmap_parloop_struct_137014 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125680;
    float free_x_125684;
    float free_x_125685;
    float free_x_125686;
    char *free_mem_128404;
    char *free_mem_128592;
};
static int futhark_mc_segmap_parloop_137015(void *args, int64_t start,
                                            int64_t end, int flat_tid_125681,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137014
    *futhark_mc_segmap_parloop_struct_137014 =
    (struct futhark_mc_segmap_parloop_struct_137014 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137014->ctx;
    uint64_t futhark_mc_segmap_parloop_137015_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137015_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137014->free_n_119475;
    int64_t gtid_125680 =
            futhark_mc_segmap_parloop_struct_137014->free_gtid_125680;
    float x_125684 = futhark_mc_segmap_parloop_struct_137014->free_x_125684;
    float x_125685 = futhark_mc_segmap_parloop_struct_137014->free_x_125685;
    float x_125686 = futhark_mc_segmap_parloop_struct_137014->free_x_125686;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_137014->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128592 = {.desc ="mem_128592", .mem =
                                  futhark_mc_segmap_parloop_struct_137014->free_mem_128592,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135609 = start;
    
    for (; iter_135609 < end; iter_135609++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135616 = n_119475;
        int64_t gtid_125682 = iter_135609;
        int64_t remnant_135617 = iter_135609 - gtid_125682;
        float x_135589 = ((float *) mem_128404.mem)[gtid_125680 * n_119475 +
                                                    gtid_125682];
        float x_135590 = x_135589 / x_125684;
        float y_135591 = fpow32(x_135590, 2.0F);
        float x_135592 = 1.0F - y_135591;
        float bicube_135593 = fpow32(x_135592, 2.0F);
        bool isnan_res_135594;
        
        isnan_res_135594 = futrts_isnan32(x_135589);
        
        bool cond_f_res_135595 = x_135589 <= x_125686;
        bool x_135596 = !isnan_res_135594;
        bool y_135597 = cond_f_res_135595 && x_135596;
        bool cond_135598 = isnan_res_135594 || y_135597;
        float defunc_0_f_res_135599;
        
        if (cond_135598) {
            defunc_0_f_res_135599 = 1.0F;
        } else {
            bool cond_135610 = x_125685 <= x_135589;
            bool cond_f_res_135611 = x_135589 <= 1.0e-6F;
            bool x_135612 = !cond_135610;
            bool y_135613 = cond_f_res_135611 && x_135612;
            bool cond_135614 = cond_135610 || y_135613;
            float defunc_0_f_res_f_res_135615;
            
            if (cond_135614) {
                defunc_0_f_res_f_res_135615 = 1.0e-6F;
            } else {
                defunc_0_f_res_f_res_135615 = bicube_135593;
            }
            defunc_0_f_res_135599 = defunc_0_f_res_f_res_135615;
        }
        ((float *) mem_128592.mem)[gtid_125682] = defunc_0_f_res_135599;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137015_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137015_end -
                 futhark_mc_segmap_parloop_137015_start;
        
        ctx->futhark_mc_segmap_parloop_137015_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137015_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137015_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137013(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125681 = tid;
    int num_tasks_135608 = info.nsubtasks;
    struct futhark_mc_task_137012 *futhark_mc_task_137012 =
                                  (struct futhark_mc_task_137012 *) args;
    struct futhark_context *ctx = futhark_mc_task_137012->ctx;
    uint64_t futhark_mc_segmap_task_137013_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137013_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_137012->free_n_119475;
    int64_t gtid_125680 = futhark_mc_task_137012->free_gtid_125680;
    float x_125684 = futhark_mc_task_137012->free_x_125684;
    float x_125685 = futhark_mc_task_137012->free_x_125685;
    float x_125686 = futhark_mc_task_137012->free_x_125686;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_137012->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128592 = {.desc ="mem_128592", .mem =
                                  futhark_mc_task_137012->free_mem_128592,
                                  .size =0, .references =NULL};
    int64_t iter_135609;
    struct futhark_mc_segmap_parloop_struct_137014
    futhark_mc_segmap_parloop_struct_137014;
    
    futhark_mc_segmap_parloop_struct_137014.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137014.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137014.free_gtid_125680 = gtid_125680;
    futhark_mc_segmap_parloop_struct_137014.free_x_125684 = x_125684;
    futhark_mc_segmap_parloop_struct_137014.free_x_125685 = x_125685;
    futhark_mc_segmap_parloop_struct_137014.free_x_125686 = x_125686;
    futhark_mc_segmap_parloop_struct_137014.free_mem_128404 = mem_128404.mem;
    futhark_mc_segmap_parloop_struct_137014.free_mem_128592 = mem_128592.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137015_task;
    
    futhark_mc_segmap_parloop_137015_task.name =
        "futhark_mc_segmap_parloop_137015";
    futhark_mc_segmap_parloop_137015_task.fn = futhark_mc_segmap_parloop_137015;
    futhark_mc_segmap_parloop_137015_task.args =
        &futhark_mc_segmap_parloop_struct_137014;
    futhark_mc_segmap_parloop_137015_task.iterations = iterations;
    futhark_mc_segmap_parloop_137015_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137015_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137015_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137015_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137015_task);
    
    if (futhark_mc_segmap_parloop_137015_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137015_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137015_total_end -
                 futhark_mc_segmap_parloop_137015_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137015_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137015_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137015_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137013_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137013_end -
                 futhark_mc_segmap_task_137013_start;
        
        ctx->futhark_mc_segmap_task_137013_runs[tid]++;
        ctx->futhark_mc_segmap_task_137013_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137013_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_137010(void *args, int64_t start,
                                            int64_t end, int flat_tid_125679,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137009
    *futhark_mc_segmap_parloop_struct_137009 =
    (struct futhark_mc_segmap_parloop_struct_137009 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137009->ctx;
    uint64_t futhark_mc_segmap_parloop_137010_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137010_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_137009->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137009->free_n_119475;
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_137009->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_segmap_parloop_struct_137009->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_segmap_parloop_struct_137009->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_segmap_parloop_struct_137009->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_segmap_parloop_struct_137009->free_mem_128589,
                                  .size =0, .references =NULL};
    struct memblock mem_128611 = {.desc ="mem_128611", .mem =
                                  futhark_mc_segmap_parloop_struct_137009->free_mem_128611,
                                  .size =0, .references =NULL};
    size_t mem_128592_cached_sizze_137011 = 0;
    char *mem_128592 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135588 = start;
    
    if (mem_128592_cached_sizze_137011 < (size_t) bytes_126925) {
        mem_128592 = realloc(mem_128592, bytes_126925);
        mem_128592_cached_sizze_137011 = bytes_126925;
    }
    for (; iter_135588 < end; iter_135588++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135606 = m_119474;
        int64_t gtid_125680 = iter_135588;
        int64_t remnant_135607 = iter_135588 - gtid_125680;
        float x_125684 = ((float *) mem_128583.mem)[gtid_125680];
        float x_125685 = ((float *) mem_128586.mem)[gtid_125680];
        float x_125686 = ((float *) mem_128589.mem)[gtid_125680];
        int64_t flat_tid_125681 = (int64_t) 0;
        int32_t num_tasks_135608;
        struct futhark_mc_task_137012 futhark_mc_task_137012;
        
        futhark_mc_task_137012.ctx = ctx;
        futhark_mc_task_137012.free_n_119475 = n_119475;
        futhark_mc_task_137012.free_gtid_125680 = gtid_125680;
        futhark_mc_task_137012.free_x_125684 = x_125684;
        futhark_mc_task_137012.free_x_125685 = x_125685;
        futhark_mc_task_137012.free_x_125686 = x_125686;
        futhark_mc_task_137012.free_mem_128404 = mem_128404.mem;
        futhark_mc_task_137012.free_mem_128592 = mem_128592;
        
        struct scheduler_segop futhark_mc_task_137012_task;
        
        futhark_mc_task_137012_task.args = &futhark_mc_task_137012;
        futhark_mc_task_137012_task.top_level_fn =
            futhark_mc_segmap_task_137013;
        futhark_mc_task_137012_task.name = "futhark_mc_segmap_task_137013";
        futhark_mc_task_137012_task.iterations = n_119475;
        futhark_mc_task_137012_task.task_time =
            &ctx->futhark_mc_segmap_task_137013_total_time;
        futhark_mc_task_137012_task.task_iter =
            &ctx->futhark_mc_segmap_task_137013_total_iter;
        futhark_mc_task_137012_task.sched = STATIC;
        futhark_mc_task_137012_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_137013_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_137012_task);
        
        if (futhark_mc_segmap_task_137013_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128611.mem + gtid_125680 * n_119475 * (int64_t) 4,
                mem_128592 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128592);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137010_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137010_end -
                 futhark_mc_segmap_parloop_137010_start;
        
        ctx->futhark_mc_segmap_parloop_137010_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137010_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137010_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_137008(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125679 = tid;
    int num_tasks_135563 = info.nsubtasks;
    struct futhark_mc_task_137003 *futhark_mc_task_137003 =
                                  (struct futhark_mc_task_137003 *) args;
    struct futhark_context *ctx = futhark_mc_task_137003->ctx;
    uint64_t futhark_mc_segmap_nested_task_137008_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_137008_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_137003->free_m_119474;
    int64_t n_119475 = futhark_mc_task_137003->free_n_119475;
    int64_t bytes_126925 = futhark_mc_task_137003->free_bytes_126925;
    struct memblock mem_128404 = {.desc ="mem_128404", .mem =
                                  futhark_mc_task_137003->free_mem_128404,
                                  .size =0, .references =NULL};
    struct memblock mem_128583 = {.desc ="mem_128583", .mem =
                                  futhark_mc_task_137003->free_mem_128583,
                                  .size =0, .references =NULL};
    struct memblock mem_128586 = {.desc ="mem_128586", .mem =
                                  futhark_mc_task_137003->free_mem_128586,
                                  .size =0, .references =NULL};
    struct memblock mem_128589 = {.desc ="mem_128589", .mem =
                                  futhark_mc_task_137003->free_mem_128589,
                                  .size =0, .references =NULL};
    struct memblock mem_128611 = {.desc ="mem_128611", .mem =
                                  futhark_mc_task_137003->free_mem_128611,
                                  .size =0, .references =NULL};
    int64_t iter_135588;
    struct futhark_mc_segmap_parloop_struct_137009
    futhark_mc_segmap_parloop_struct_137009;
    
    futhark_mc_segmap_parloop_struct_137009.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137009.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_137009.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137009.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_137009.free_mem_128404 = mem_128404.mem;
    futhark_mc_segmap_parloop_struct_137009.free_mem_128583 = mem_128583.mem;
    futhark_mc_segmap_parloop_struct_137009.free_mem_128586 = mem_128586.mem;
    futhark_mc_segmap_parloop_struct_137009.free_mem_128589 = mem_128589.mem;
    futhark_mc_segmap_parloop_struct_137009.free_mem_128611 = mem_128611.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137010_task;
    
    futhark_mc_segmap_parloop_137010_task.name =
        "futhark_mc_segmap_parloop_137010";
    futhark_mc_segmap_parloop_137010_task.fn = futhark_mc_segmap_parloop_137010;
    futhark_mc_segmap_parloop_137010_task.args =
        &futhark_mc_segmap_parloop_struct_137009;
    futhark_mc_segmap_parloop_137010_task.iterations = iterations;
    futhark_mc_segmap_parloop_137010_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137010_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137010_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137010_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137010_task);
    
    if (futhark_mc_segmap_parloop_137010_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137010_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137010_total_end -
                 futhark_mc_segmap_parloop_137010_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137010_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137010_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137010_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_137008_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_137008_end -
                 futhark_mc_segmap_nested_task_137008_start;
        
        ctx->futhark_mc_segmap_nested_task_137008_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_137008_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_137008_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_137016 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    char *free_ext_mem_128621;
    char *free_ext_mem_128622;
    int64_t free_ext_128633;
    char *free_mem_128665;
};
struct futhark_mc_segmap_parloop_struct_137018 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    char *free_ext_mem_128621;
    char *free_ext_mem_128622;
    int64_t free_ext_128633;
    char *free_mem_128665;
};
static int futhark_mc_segmap_parloop_137019(void *args, int64_t start,
                                            int64_t end, int flat_tid_125705,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137018
    *futhark_mc_segmap_parloop_struct_137018 =
    (struct futhark_mc_segmap_parloop_struct_137018 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137018->ctx;
    uint64_t futhark_mc_segmap_parloop_137019_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137019_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_137018->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137018->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_137018->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_137018->free_bytes_126925;
    struct memblock ext_mem_128621 = {.desc ="ext_mem_128621", .mem =
                                      futhark_mc_segmap_parloop_struct_137018->free_ext_mem_128621,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128622 = {.desc ="ext_mem_128622", .mem =
                                      futhark_mc_segmap_parloop_struct_137018->free_ext_mem_128622,
                                      .size =0, .references =NULL};
    int64_t ext_128633 =
            futhark_mc_segmap_parloop_struct_137018->free_ext_128633;
    struct memblock mem_128665 = {.desc ="mem_128665", .mem =
                                  futhark_mc_segmap_parloop_struct_137018->free_mem_128665,
                                  .size =0, .references =NULL};
    size_t mem_128649_cached_sizze_137020 = 0;
    char *mem_128649 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135619 = start;
    
    if (mem_128649_cached_sizze_137020 < (size_t) bytes_126925) {
        mem_128649 = realloc(mem_128649, bytes_126925);
        mem_128649_cached_sizze_137020 = bytes_126925;
    }
    for (; iter_135619 < end; iter_135619++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135628 = m_119474;
        int64_t gtid_125706 = iter_135619;
        int64_t remnant_135629 = iter_135619 - gtid_125706;
        
        for (int64_t i_135620 = 0; i_135620 < n_119475; i_135620++) {
            float x_135622 = ((float *) Y_mem_126881.mem)[gtid_125706 *
                                                          n_119475 + i_135620];
            float x_135623 = ((float *) ext_mem_128622.mem)[gtid_125706 *
                                                            n_119475 +
                                                            i_135620];
            float x_135624 = ((float *) ext_mem_128621.mem)[gtid_125706 *
                                                            ext_128633 +
                                                            i_135620];
            float x_135625 = x_135622 - x_135623;
            float defunc_2_f_res_135626 = x_135625 - x_135624;
            
            ((float *) mem_128649)[i_135620] = defunc_2_f_res_135626;
        }
        memmove(mem_128665.mem + gtid_125706 * n_119475 * (int64_t) 4,
                mem_128649 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128649);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137019_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137019_end -
                 futhark_mc_segmap_parloop_137019_start;
        
        ctx->futhark_mc_segmap_parloop_137019_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137019_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137019_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137017(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125705 = tid;
    int num_tasks_135618 = info.nsubtasks;
    struct futhark_mc_task_137016 *futhark_mc_task_137016 =
                                  (struct futhark_mc_task_137016 *) args;
    struct futhark_context *ctx = futhark_mc_task_137016->ctx;
    uint64_t futhark_mc_segmap_task_137017_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137017_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_137016->free_m_119474;
    int64_t n_119475 = futhark_mc_task_137016->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_137016->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_137016->free_bytes_126925;
    struct memblock ext_mem_128621 = {.desc ="ext_mem_128621", .mem =
                                      futhark_mc_task_137016->free_ext_mem_128621,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128622 = {.desc ="ext_mem_128622", .mem =
                                      futhark_mc_task_137016->free_ext_mem_128622,
                                      .size =0, .references =NULL};
    int64_t ext_128633 = futhark_mc_task_137016->free_ext_128633;
    struct memblock mem_128665 = {.desc ="mem_128665", .mem =
                                  futhark_mc_task_137016->free_mem_128665,
                                  .size =0, .references =NULL};
    int64_t iter_135619;
    struct futhark_mc_segmap_parloop_struct_137018
    futhark_mc_segmap_parloop_struct_137018;
    
    futhark_mc_segmap_parloop_struct_137018.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137018.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_137018.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137018.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_137018.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_137018.free_ext_mem_128621 =
        ext_mem_128621.mem;
    futhark_mc_segmap_parloop_struct_137018.free_ext_mem_128622 =
        ext_mem_128622.mem;
    futhark_mc_segmap_parloop_struct_137018.free_ext_128633 = ext_128633;
    futhark_mc_segmap_parloop_struct_137018.free_mem_128665 = mem_128665.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137019_task;
    
    futhark_mc_segmap_parloop_137019_task.name =
        "futhark_mc_segmap_parloop_137019";
    futhark_mc_segmap_parloop_137019_task.fn = futhark_mc_segmap_parloop_137019;
    futhark_mc_segmap_parloop_137019_task.args =
        &futhark_mc_segmap_parloop_struct_137018;
    futhark_mc_segmap_parloop_137019_task.iterations = iterations;
    futhark_mc_segmap_parloop_137019_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137019_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137019_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137019_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137019_task);
    
    if (futhark_mc_segmap_parloop_137019_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137019_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137019_total_end -
                 futhark_mc_segmap_parloop_137019_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137019_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137019_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137019_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137017_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137017_end -
                 futhark_mc_segmap_task_137017_start;
        
        ctx->futhark_mc_segmap_task_137017_runs[tid]++;
        ctx->futhark_mc_segmap_task_137017_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137017_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_137022 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    char *free_Y_mem_126881;
    int64_t free_bytes_126925;
    char *free_ext_mem_128621;
    char *free_ext_mem_128622;
    int64_t free_ext_128633;
    char *free_mem_128665;
};
struct futhark_mc_task_137025 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125708;
    char *free_Y_mem_126881;
    char *free_ext_mem_128621;
    char *free_ext_mem_128622;
    int64_t free_ext_128633;
    char *free_mem_128646;
};
struct futhark_mc_segmap_parloop_struct_137027 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125708;
    char *free_Y_mem_126881;
    char *free_ext_mem_128621;
    char *free_ext_mem_128622;
    int64_t free_ext_128633;
    char *free_mem_128646;
};
static int futhark_mc_segmap_parloop_137028(void *args, int64_t start,
                                            int64_t end, int flat_tid_125709,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137027
    *futhark_mc_segmap_parloop_struct_137027 =
    (struct futhark_mc_segmap_parloop_struct_137027 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137027->ctx;
    uint64_t futhark_mc_segmap_parloop_137028_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137028_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137027->free_n_119475;
    int64_t gtid_125708 =
            futhark_mc_segmap_parloop_struct_137027->free_gtid_125708;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_137027->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_128621 = {.desc ="ext_mem_128621", .mem =
                                      futhark_mc_segmap_parloop_struct_137027->free_ext_mem_128621,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128622 = {.desc ="ext_mem_128622", .mem =
                                      futhark_mc_segmap_parloop_struct_137027->free_ext_mem_128622,
                                      .size =0, .references =NULL};
    int64_t ext_128633 =
            futhark_mc_segmap_parloop_struct_137027->free_ext_128633;
    struct memblock mem_128646 = {.desc ="mem_128646", .mem =
                                  futhark_mc_segmap_parloop_struct_137027->free_mem_128646,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_135640 = start;
    
    for (; iter_135640 < end; iter_135640++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135641 = n_119475;
        int64_t gtid_125710 = iter_135640;
        int64_t remnant_135642 = iter_135640 - gtid_125710;
        float x_135632 = ((float *) Y_mem_126881.mem)[gtid_125708 * n_119475 +
                                                      gtid_125710];
        float x_135633 = ((float *) ext_mem_128622.mem)[gtid_125708 * n_119475 +
                                                        gtid_125710];
        float x_135634 = ((float *) ext_mem_128621.mem)[gtid_125708 *
                                                        ext_128633 +
                                                        gtid_125710];
        float x_135635 = x_135632 - x_135633;
        float defunc_2_f_res_135636 = x_135635 - x_135634;
        
        ((float *) mem_128646.mem)[gtid_125710] = defunc_2_f_res_135636;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137028_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137028_end -
                 futhark_mc_segmap_parloop_137028_start;
        
        ctx->futhark_mc_segmap_parloop_137028_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137028_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137028_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137026(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125709 = tid;
    int num_tasks_135639 = info.nsubtasks;
    struct futhark_mc_task_137025 *futhark_mc_task_137025 =
                                  (struct futhark_mc_task_137025 *) args;
    struct futhark_context *ctx = futhark_mc_task_137025->ctx;
    uint64_t futhark_mc_segmap_task_137026_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137026_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_137025->free_n_119475;
    int64_t gtid_125708 = futhark_mc_task_137025->free_gtid_125708;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_137025->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_128621 = {.desc ="ext_mem_128621", .mem =
                                      futhark_mc_task_137025->free_ext_mem_128621,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128622 = {.desc ="ext_mem_128622", .mem =
                                      futhark_mc_task_137025->free_ext_mem_128622,
                                      .size =0, .references =NULL};
    int64_t ext_128633 = futhark_mc_task_137025->free_ext_128633;
    struct memblock mem_128646 = {.desc ="mem_128646", .mem =
                                  futhark_mc_task_137025->free_mem_128646,
                                  .size =0, .references =NULL};
    int64_t iter_135640;
    struct futhark_mc_segmap_parloop_struct_137027
    futhark_mc_segmap_parloop_struct_137027;
    
    futhark_mc_segmap_parloop_struct_137027.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137027.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137027.free_gtid_125708 = gtid_125708;
    futhark_mc_segmap_parloop_struct_137027.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_137027.free_ext_mem_128621 =
        ext_mem_128621.mem;
    futhark_mc_segmap_parloop_struct_137027.free_ext_mem_128622 =
        ext_mem_128622.mem;
    futhark_mc_segmap_parloop_struct_137027.free_ext_128633 = ext_128633;
    futhark_mc_segmap_parloop_struct_137027.free_mem_128646 = mem_128646.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137028_task;
    
    futhark_mc_segmap_parloop_137028_task.name =
        "futhark_mc_segmap_parloop_137028";
    futhark_mc_segmap_parloop_137028_task.fn = futhark_mc_segmap_parloop_137028;
    futhark_mc_segmap_parloop_137028_task.args =
        &futhark_mc_segmap_parloop_struct_137027;
    futhark_mc_segmap_parloop_137028_task.iterations = iterations;
    futhark_mc_segmap_parloop_137028_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137028_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137028_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137028_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137028_task);
    
    if (futhark_mc_segmap_parloop_137028_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137028_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137028_total_end -
                 futhark_mc_segmap_parloop_137028_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137028_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137028_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137028_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137026_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137026_end -
                 futhark_mc_segmap_task_137026_start;
        
        ctx->futhark_mc_segmap_task_137026_runs[tid]++;
        ctx->futhark_mc_segmap_task_137026_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137026_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_137023(void *args, int64_t start,
                                            int64_t end, int flat_tid_125707,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137022
    *futhark_mc_segmap_parloop_struct_137022 =
    (struct futhark_mc_segmap_parloop_struct_137022 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137022->ctx;
    uint64_t futhark_mc_segmap_parloop_137023_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137023_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_137022->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137022->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_segmap_parloop_struct_137022->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_137022->free_bytes_126925;
    struct memblock ext_mem_128621 = {.desc ="ext_mem_128621", .mem =
                                      futhark_mc_segmap_parloop_struct_137022->free_ext_mem_128621,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128622 = {.desc ="ext_mem_128622", .mem =
                                      futhark_mc_segmap_parloop_struct_137022->free_ext_mem_128622,
                                      .size =0, .references =NULL};
    int64_t ext_128633 =
            futhark_mc_segmap_parloop_struct_137022->free_ext_128633;
    struct memblock mem_128665 = {.desc ="mem_128665", .mem =
                                  futhark_mc_segmap_parloop_struct_137022->free_mem_128665,
                                  .size =0, .references =NULL};
    size_t mem_128646_cached_sizze_137024 = 0;
    char *mem_128646 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135631 = start;
    
    if (mem_128646_cached_sizze_137024 < (size_t) bytes_126925) {
        mem_128646 = realloc(mem_128646, bytes_126925);
        mem_128646_cached_sizze_137024 = bytes_126925;
    }
    for (; iter_135631 < end; iter_135631++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135637 = m_119474;
        int64_t gtid_125708 = iter_135631;
        int64_t remnant_135638 = iter_135631 - gtid_125708;
        int64_t flat_tid_125709 = (int64_t) 0;
        int32_t num_tasks_135639;
        struct futhark_mc_task_137025 futhark_mc_task_137025;
        
        futhark_mc_task_137025.ctx = ctx;
        futhark_mc_task_137025.free_n_119475 = n_119475;
        futhark_mc_task_137025.free_gtid_125708 = gtid_125708;
        futhark_mc_task_137025.free_Y_mem_126881 = Y_mem_126881.mem;
        futhark_mc_task_137025.free_ext_mem_128621 = ext_mem_128621.mem;
        futhark_mc_task_137025.free_ext_mem_128622 = ext_mem_128622.mem;
        futhark_mc_task_137025.free_ext_128633 = ext_128633;
        futhark_mc_task_137025.free_mem_128646 = mem_128646;
        
        struct scheduler_segop futhark_mc_task_137025_task;
        
        futhark_mc_task_137025_task.args = &futhark_mc_task_137025;
        futhark_mc_task_137025_task.top_level_fn =
            futhark_mc_segmap_task_137026;
        futhark_mc_task_137025_task.name = "futhark_mc_segmap_task_137026";
        futhark_mc_task_137025_task.iterations = n_119475;
        futhark_mc_task_137025_task.task_time =
            &ctx->futhark_mc_segmap_task_137026_total_time;
        futhark_mc_task_137025_task.task_iter =
            &ctx->futhark_mc_segmap_task_137026_total_iter;
        futhark_mc_task_137025_task.sched = STATIC;
        futhark_mc_task_137025_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_137026_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_137025_task);
        
        if (futhark_mc_segmap_task_137026_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128665.mem + gtid_125708 * n_119475 * (int64_t) 4,
                mem_128646 + (int64_t) 0, n_119475 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128646);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137023_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137023_end -
                 futhark_mc_segmap_parloop_137023_start;
        
        ctx->futhark_mc_segmap_parloop_137023_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137023_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137023_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_137021(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125707 = tid;
    int num_tasks_135618 = info.nsubtasks;
    struct futhark_mc_task_137016 *futhark_mc_task_137016 =
                                  (struct futhark_mc_task_137016 *) args;
    struct futhark_context *ctx = futhark_mc_task_137016->ctx;
    uint64_t futhark_mc_segmap_nested_task_137021_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_137021_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_137016->free_m_119474;
    int64_t n_119475 = futhark_mc_task_137016->free_n_119475;
    struct memblock Y_mem_126881 = {.desc ="Y_mem_126881", .mem =
                                    futhark_mc_task_137016->free_Y_mem_126881,
                                    .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_137016->free_bytes_126925;
    struct memblock ext_mem_128621 = {.desc ="ext_mem_128621", .mem =
                                      futhark_mc_task_137016->free_ext_mem_128621,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_128622 = {.desc ="ext_mem_128622", .mem =
                                      futhark_mc_task_137016->free_ext_mem_128622,
                                      .size =0, .references =NULL};
    int64_t ext_128633 = futhark_mc_task_137016->free_ext_128633;
    struct memblock mem_128665 = {.desc ="mem_128665", .mem =
                                  futhark_mc_task_137016->free_mem_128665,
                                  .size =0, .references =NULL};
    int64_t iter_135631;
    struct futhark_mc_segmap_parloop_struct_137022
    futhark_mc_segmap_parloop_struct_137022;
    
    futhark_mc_segmap_parloop_struct_137022.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137022.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_137022.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137022.free_Y_mem_126881 =
        Y_mem_126881.mem;
    futhark_mc_segmap_parloop_struct_137022.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_137022.free_ext_mem_128621 =
        ext_mem_128621.mem;
    futhark_mc_segmap_parloop_struct_137022.free_ext_mem_128622 =
        ext_mem_128622.mem;
    futhark_mc_segmap_parloop_struct_137022.free_ext_128633 = ext_128633;
    futhark_mc_segmap_parloop_struct_137022.free_mem_128665 = mem_128665.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137023_task;
    
    futhark_mc_segmap_parloop_137023_task.name =
        "futhark_mc_segmap_parloop_137023";
    futhark_mc_segmap_parloop_137023_task.fn = futhark_mc_segmap_parloop_137023;
    futhark_mc_segmap_parloop_137023_task.args =
        &futhark_mc_segmap_parloop_struct_137022;
    futhark_mc_segmap_parloop_137023_task.iterations = iterations;
    futhark_mc_segmap_parloop_137023_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137023_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137023_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137023_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137023_task);
    
    if (futhark_mc_segmap_parloop_137023_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137023_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137023_total_end -
                 futhark_mc_segmap_parloop_137023_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137023_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137023_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137023_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_137021_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_137021_end -
                 futhark_mc_segmap_nested_task_137021_start;
        
        ctx->futhark_mc_segmap_nested_task_137021_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_137021_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_137021_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_137029 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    float free_i64_res_119741;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_126925;
    char *free_mem_126946;
    int64_t free_bytes_128672;
    int64_t free_bytes_128690;
    char *free_mem_128772;
};
struct futhark_mc_segmap_parloop_struct_137031 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    float free_i64_res_119741;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_126925;
    char *free_mem_126946;
    int64_t free_bytes_128690;
    char *free_mem_128772;
};
static int futhark_mc_segmap_parloop_137032(void *args, int64_t start,
                                            int64_t end, int flat_tid_125720,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137031
    *futhark_mc_segmap_parloop_struct_137031 =
    (struct futhark_mc_segmap_parloop_struct_137031 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137031->ctx;
    uint64_t futhark_mc_segmap_parloop_137032_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137032_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_137031->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137031->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_137031->free_t_window_119478;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_137031->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_137031->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_137031->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_137031->free_loop_cond_119740;
    float i64_res_119741 =
          futhark_mc_segmap_parloop_struct_137031->free_i64_res_119741;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_137031->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_137031->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_137031->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_137031->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_137031->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_128690 =
            futhark_mc_segmap_parloop_struct_137031->free_bytes_128690;
    struct memblock mem_128772 = {.desc ="mem_128772", .mem =
                                  futhark_mc_segmap_parloop_struct_137031->free_mem_128772,
                                  .size =0, .references =NULL};
    size_t mem_128696_cached_sizze_137033 = 0;
    char *mem_128696 = NULL;
    size_t mem_128699_cached_sizze_137034 = 0;
    char *mem_128699 = NULL;
    size_t mem_128727_cached_sizze_137035 = 0;
    char *mem_128727 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135644 = start;
    
    if (mem_128696_cached_sizze_137033 < (size_t) bytes_126882) {
        mem_128696 = realloc(mem_128696, bytes_126882);
        mem_128696_cached_sizze_137033 = bytes_126882;
    }
    if (mem_128699_cached_sizze_137034 < (size_t) bytes_126925) {
        mem_128699 = realloc(mem_128699, bytes_126925);
        mem_128699_cached_sizze_137034 = bytes_126925;
    }
    if (mem_128727_cached_sizze_137035 < (size_t) bytes_128690) {
        mem_128727 = realloc(mem_128727, bytes_128690);
        mem_128727_cached_sizze_137035 = bytes_128690;
    }
    for (; iter_135644 < end; iter_135644++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_135774 = m_119474;
        int64_t gtid_125721 = iter_135644;
        int64_t remnant_135775 = iter_135644 - gtid_125721;
        int64_t x_121652 = ((int64_t *) mem_126924.mem)[gtid_125721];
        
        for (int64_t i_135645 = 0; i_135645 < n_119475; i_135645++) {
            int64_t x_135648 = ((int64_t *) mem_126921.mem)[gtid_125721 *
                                                            n_119475 +
                                                            i_135645];
            bool cond_135649 = sle64((int64_t) 0, x_135648);
            float defunc_0_f_res_135650;
            
            if (cond_135649) {
                bool y_135651 = slt64(x_135648, n_119475);
                bool bounds_check_135652 = cond_135649 && y_135651;
                bool index_certs_135653;
                
                if (!bounds_check_135652) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_135648,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:351:13-39\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:350:5-352:27\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                    return 1;
                }
                defunc_0_f_res_135650 = 1.0F;
            } else {
                defunc_0_f_res_135650 = 0.0F;
            }
            
            int64_t defunc_0_f_res_135654 = add64((int64_t) 1, x_135648);
            
            ((int64_t *) mem_128696)[i_135645] = defunc_0_f_res_135654;
            ((float *) mem_128699)[i_135645] = defunc_0_f_res_135650;
        }
        
        int64_t min_arg_121663 = sub64(x_121652, (int64_t) 1);
        int64_t min_arg_121664 = sub64(x_121652, min_res_119735);
        int64_t min_res_121665 = smin64(t_window_119478, x_121652);
        float i64_res_121666 = sitofp_i64_f32(x_121652);
        float x_121667 = i64_res_119741 - i64_res_121666;
        float max_arg_121668 = x_121667 / 2.0F;
        float max_res_121669 = fmax32(0.0F, max_arg_121668);
        
        for (int64_t i_135657 = 0; i_135657 < n_119475; i_135657++) {
            int64_t defunc_0_g_res_135659 = add64((int64_t) 1, i_135657);
            bool init_idx_135660;
            int64_t init_idx_135661;
            int64_t init_idx_135662;
            bool loop_while_135663;
            int64_t low_135664;
            int64_t high_135665;
            
            loop_while_135663 = x_119552;
            low_135664 = (int64_t) 0;
            high_135665 = i_119551;
            while (loop_while_135663) {
                int64_t x_135666 = add64(low_135664, high_135665);
                int64_t mid_135667 = sdiv64(x_135666, (int64_t) 2);
                bool x_135668 = sle64((int64_t) 0, mid_135667);
                bool y_135669 = slt64(mid_135667, n_119475);
                bool bounds_check_135670 = x_135668 && y_135669;
                bool index_certs_135671;
                
                if (!bounds_check_135670) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) mid_135667,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t mid_id_135672 = ((int64_t *) mem_128696)[mid_135667];
                bool cond_135673 = slt64(mid_id_135672, (int64_t) 0);
                int64_t mid_idx_135674;
                
                if (cond_135673) {
                    mid_idx_135674 = (int64_t) 9223372036854775807;
                } else {
                    mid_idx_135674 = mid_id_135672;
                }
                
                bool cond_135675 = sle64(defunc_0_g_res_135659, mid_idx_135674);
                int64_t loopres_135676;
                int64_t loopres_135677;
                
                if (cond_135675) {
                    int64_t loopres_t_res_135678 = sub64(mid_135667,
                                                         (int64_t) 1);
                    
                    loopres_135676 = low_135664;
                    loopres_135677 = loopres_t_res_135678;
                } else {
                    int64_t loopres_f_res_135679 = add64((int64_t) 1,
                                                         mid_135667);
                    
                    loopres_135676 = loopres_f_res_135679;
                    loopres_135677 = high_135665;
                }
                
                bool loop_cond_135680 = sle64(loopres_135676, loopres_135677);
                bool loop_while_tmp_135779 = loop_cond_135680;
                int64_t low_tmp_135780 = loopres_135676;
                int64_t high_tmp_135781 = loopres_135677;
                
                loop_while_135663 = loop_while_tmp_135779;
                low_135664 = low_tmp_135780;
                high_135665 = high_tmp_135781;
            }
            init_idx_135660 = loop_while_135663;
            init_idx_135661 = low_135664;
            init_idx_135662 = high_135665;
            
            bool idx_135681;
            int64_t idx_135682;
            int64_t idx_135683;
            int64_t idx_135684;
            bool loop_while_135685;
            int64_t l_idx_135686;
            int64_t r_idx_135687;
            int64_t span_135688;
            
            loop_while_135685 = loop_cond_119740;
            l_idx_135686 = init_idx_135661;
            r_idx_135687 = init_idx_135661;
            span_135688 = (int64_t) 1;
            while (loop_while_135685) {
                int64_t max_arg_135689 = sub64(l_idx_135686, (int64_t) 1);
                int64_t max_res_135690 = smax64((int64_t) 0, max_arg_135689);
                int64_t min_arg_135691 = add64((int64_t) 1, r_idx_135687);
                int64_t min_res_135692 = smin64(min_arg_121663, min_arg_135691);
                bool x_135693 = sle64((int64_t) 0, max_res_135690);
                bool y_135694 = slt64(max_res_135690, n_119475);
                bool bounds_check_135695 = x_135693 && y_135694;
                bool index_certs_135696;
                
                if (!bounds_check_135695) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) max_res_135690,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t x_135697 = ((int64_t *) mem_128696)[max_res_135690];
                int64_t abs_arg_135698 = sub64(x_135697, defunc_0_g_res_135659);
                int64_t abs_res_135699 = abs64(abs_arg_135698);
                bool x_135700 = sle64((int64_t) 0, min_res_135692);
                bool y_135701 = slt64(min_res_135692, n_119475);
                bool bounds_check_135702 = x_135700 && y_135701;
                bool index_certs_135703;
                
                if (!bounds_check_135702) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) min_res_135692,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                int64_t x_135704 = ((int64_t *) mem_128696)[min_res_135692];
                int64_t abs_arg_135705 = sub64(x_135704, defunc_0_g_res_135659);
                int64_t abs_res_135706 = abs64(abs_arg_135705);
                bool cond_135707 = max_res_135690 == l_idx_135686;
                int64_t loopres_135708;
                int64_t loopres_135709;
                int64_t loopres_135710;
                
                if (cond_135707) {
                    loopres_135708 = l_idx_135686;
                    loopres_135709 = r_idx_135687;
                    loopres_135710 = min_res_119735;
                } else {
                    bool cond_135711 = slt64(abs_res_135699, abs_res_135706);
                    bool cond_f_res_135712 = min_res_135692 == r_idx_135687;
                    bool x_135713 = !cond_135711;
                    bool y_135714 = cond_f_res_135712 && x_135713;
                    bool cond_135715 = cond_135711 || y_135714;
                    int64_t loopres_f_res_135716;
                    
                    if (cond_135715) {
                        loopres_f_res_135716 = max_res_135690;
                    } else {
                        loopres_f_res_135716 = l_idx_135686;
                    }
                    
                    int64_t loopres_f_res_135717;
                    
                    if (cond_135715) {
                        loopres_f_res_135717 = r_idx_135687;
                    } else {
                        loopres_f_res_135717 = min_res_135692;
                    }
                    
                    int64_t loopres_f_res_135718;
                    
                    if (cond_135715) {
                        int64_t loopres_f_res_t_res_135719 = add64((int64_t) 1,
                                                                   span_135688);
                        
                        loopres_f_res_135718 = loopres_f_res_t_res_135719;
                    } else {
                        int64_t loopres_f_res_f_res_135720 = add64((int64_t) 1,
                                                                   span_135688);
                        
                        loopres_f_res_135718 = loopres_f_res_f_res_135720;
                    }
                    loopres_135708 = loopres_f_res_135716;
                    loopres_135709 = loopres_f_res_135717;
                    loopres_135710 = loopres_f_res_135718;
                }
                
                bool loop_cond_135721 = slt64(loopres_135710, min_res_119735);
                bool loop_while_tmp_135782 = loop_cond_135721;
                int64_t l_idx_tmp_135783 = loopres_135708;
                int64_t r_idx_tmp_135784 = loopres_135709;
                int64_t span_tmp_135785 = loopres_135710;
                
                loop_while_135685 = loop_while_tmp_135782;
                l_idx_135686 = l_idx_tmp_135783;
                r_idx_135687 = r_idx_tmp_135784;
                span_135688 = span_tmp_135785;
            }
            idx_135681 = loop_while_135685;
            idx_135682 = l_idx_135686;
            idx_135683 = r_idx_135687;
            idx_135684 = span_135688;
            
            int64_t min_res_135722 = smin64(min_arg_121664, idx_135682);
            int64_t max_res_135723 = smax64((int64_t) 0, min_res_135722);
            int64_t x_135724 = add64(min_res_121665, max_res_135723);
            int64_t r_135725 = sub64(x_135724, (int64_t) 1);
            bool x_135726 = sle64((int64_t) 0, r_135725);
            bool y_135727 = slt64(r_135725, n_119475);
            bool bounds_check_135728 = x_135726 && y_135727;
            bool index_certs_135729;
            
            if (!bounds_check_135728) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) r_135725,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_135730 = ((int64_t *) mem_126921.mem)[gtid_125721 *
                                                            n_119475 +
                                                            r_135725];
            int64_t abs_arg_135731 = sub64(x_135730, i_135657);
            int64_t abs_res_135732 = abs64(abs_arg_135731);
            bool x_135733 = sle64((int64_t) 0, max_res_135723);
            bool y_135734 = slt64(max_res_135723, n_119475);
            bool bounds_check_135735 = x_135733 && y_135734;
            bool index_certs_135736;
            
            if (!bounds_check_135735) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_135723,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_135737 = ((int64_t *) mem_126921.mem)[gtid_125721 *
                                                            n_119475 +
                                                            max_res_135723];
            int64_t abs_arg_135738 = sub64(x_135737, i_135657);
            int64_t abs_res_135739 = abs64(abs_arg_135738);
            int64_t max_res_135740 = smax64(abs_res_135732, abs_res_135739);
            float defunc_0_f_res_135741 = sitofp_i64_f32(max_res_135740);
            float defunc_1_f_res_135742 = max_res_121669 +
                  defunc_0_f_res_135741;
            float i64_res_135743 = sitofp_i64_f32(i_135657);
            
            for (int64_t i_135745 = 0; i_135745 < t_window_119478; i_135745++) {
                bool cond_135747 = sle64(x_121652, i_135745);
                float defunc_0_f_res_135748;
                
                if (cond_135747) {
                    defunc_0_f_res_135748 = 0.0F;
                } else {
                    int64_t i_135749 = add64(max_res_135723, i_135745);
                    bool x_135750 = sle64((int64_t) 0, i_135749);
                    bool y_135751 = slt64(i_135749, n_119475);
                    bool bounds_check_135752 = x_135750 && y_135751;
                    bool index_certs_135753;
                    
                    if (!bounds_check_135752) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) i_135749,
                                      "] out of bounds for array of shape [",
                                      (long long) n_119475, "].",
                                      "-> #0  stl.fut:366:74-89\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:366:23-94\n   #4  stl.fut:367:36-55\n   #5  /prelude/soacs.fut:75:22-28\n   #6  /prelude/soacs.fut:75:3-45\n   #7  stl.fut:364:13-381:42\n   #8  /prelude/soacs.fut:91:28-38\n   #9  /prelude/soacs.fut:91:3-61\n   #10 stl.fut:363:5-382:55\n   #11 stl.fut:400:3-411:33\n   #12 stl.fut:387:1-411:33\n");
                        return 1;
                    }
                    
                    float x_135754 = ((float *) mem_126946.mem)[gtid_125721 *
                                                                n_119475 +
                                                                i_135749];
                    float defunc_0_f_res_f_res_135755 = 1.0F + x_135754;
                    
                    defunc_0_f_res_135748 = defunc_0_f_res_f_res_135755;
                }
                
                float defunc_0_f_res_135756;
                
                if (cond_135747) {
                    defunc_0_f_res_135756 = 0.0F;
                } else {
                    int64_t i_135757 = add64(max_res_135723, i_135745);
                    bool x_135758 = sle64((int64_t) 0, i_135757);
                    bool y_135759 = slt64(i_135757, n_119475);
                    bool bounds_check_135760 = x_135758 && y_135759;
                    bool index_certs_135761;
                    
                    if (!bounds_check_135760) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) i_135757,
                                      "] out of bounds for array of shape [",
                                      (long long) n_119475, "].",
                                      "-> #0  stl.fut:366:74-89\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:366:23-94\n   #4  stl.fut:368:36-55\n   #5  /prelude/soacs.fut:75:22-28\n   #6  /prelude/soacs.fut:75:3-45\n   #7  stl.fut:364:13-381:42\n   #8  /prelude/soacs.fut:91:28-38\n   #9  /prelude/soacs.fut:91:3-61\n   #10 stl.fut:363:5-382:55\n   #11 stl.fut:400:3-411:33\n   #12 stl.fut:387:1-411:33\n");
                        return 1;
                    }
                    
                    float x_135762 = ((float *) mem_128699)[i_135757];
                    
                    defunc_0_f_res_135756 = x_135762;
                }
                
                float x_j_135763 = defunc_0_f_res_135748 - i64_res_135743;
                float abs_res_135764 = (float) fabs(x_j_135763);
                float tmp1_135765 = abs_res_135764 / defunc_1_f_res_135742;
                float x_135766 = tmp1_135765 * tmp1_135765;
                float y_135767 = tmp1_135765 * x_135766;
                float tmp2_135768 = 1.0F - y_135767;
                float x_135769 = tmp2_135768 * tmp2_135768;
                float tmp3_135770 = tmp2_135768 * x_135769;
                float w_j_135771 = defunc_0_f_res_135756 * tmp3_135770;
                float defunc_1_f_res_135772 = x_j_135763 * w_j_135771;
                
                ((float *) mem_128727)[i_135657 * t_window_119478 + i_135745] =
                    defunc_1_f_res_135772;
            }
        }
        memmove(mem_128772.mem + gtid_125721 * (t_window_119478 * n_119475) *
                (int64_t) 4, mem_128727 + (int64_t) 0, n_119475 *
                t_window_119478 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128696);
    free(mem_128699);
    free(mem_128727);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137032_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137032_end -
                 futhark_mc_segmap_parloop_137032_start;
        
        ctx->futhark_mc_segmap_parloop_137032_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137032_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137032_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137030(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125720 = tid;
    int num_tasks_135643 = info.nsubtasks;
    struct futhark_mc_task_137029 *futhark_mc_task_137029 =
                                  (struct futhark_mc_task_137029 *) args;
    struct futhark_context *ctx = futhark_mc_task_137029->ctx;
    uint64_t futhark_mc_segmap_task_137030_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137030_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_137029->free_m_119474;
    int64_t n_119475 = futhark_mc_task_137029->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_137029->free_t_window_119478;
    int64_t i_119551 = futhark_mc_task_137029->free_i_119551;
    bool x_119552 = futhark_mc_task_137029->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_137029->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_137029->free_loop_cond_119740;
    float i64_res_119741 = futhark_mc_task_137029->free_i64_res_119741;
    int64_t bytes_126882 = futhark_mc_task_137029->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_137029->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_137029->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_137029->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_137029->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 = futhark_mc_task_137029->free_bytes_128672;
    int64_t bytes_128690 = futhark_mc_task_137029->free_bytes_128690;
    struct memblock mem_128772 = {.desc ="mem_128772", .mem =
                                  futhark_mc_task_137029->free_mem_128772,
                                  .size =0, .references =NULL};
    int64_t iter_135644;
    struct futhark_mc_segmap_parloop_struct_137031
    futhark_mc_segmap_parloop_struct_137031;
    
    futhark_mc_segmap_parloop_struct_137031.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137031.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_137031.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137031.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_137031.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_137031.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_137031.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_137031.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_137031.free_i64_res_119741 =
        i64_res_119741;
    futhark_mc_segmap_parloop_struct_137031.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_137031.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_137031.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_137031.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_137031.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_137031.free_bytes_128690 = bytes_128690;
    futhark_mc_segmap_parloop_struct_137031.free_mem_128772 = mem_128772.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137032_task;
    
    futhark_mc_segmap_parloop_137032_task.name =
        "futhark_mc_segmap_parloop_137032";
    futhark_mc_segmap_parloop_137032_task.fn = futhark_mc_segmap_parloop_137032;
    futhark_mc_segmap_parloop_137032_task.args =
        &futhark_mc_segmap_parloop_struct_137031;
    futhark_mc_segmap_parloop_137032_task.iterations = iterations;
    futhark_mc_segmap_parloop_137032_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137032_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137032_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137032_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137032_task);
    
    if (futhark_mc_segmap_parloop_137032_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137032_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137032_total_end -
                 futhark_mc_segmap_parloop_137032_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137032_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137032_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137032_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137030_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137030_end -
                 futhark_mc_segmap_task_137030_start;
        
        ctx->futhark_mc_segmap_task_137030_runs[tid]++;
        ctx->futhark_mc_segmap_task_137030_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137030_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_137037 {
    struct futhark_context *ctx;
    int64_t free_m_119474;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    float free_i64_res_119741;
    int64_t free_bytes_126882;
    char *free_mem_126921;
    char *free_mem_126924;
    int64_t free_bytes_126925;
    char *free_mem_126946;
    int64_t free_bytes_128672;
    int64_t free_bytes_128690;
    char *free_mem_128772;
};
struct futhark_mc_task_137042 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125723;
    char *free_mem_126921;
    char *free_mem_128668;
    char *free_mem_128671;
};
struct futhark_mc_segmap_parloop_struct_137044 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_gtid_125723;
    char *free_mem_126921;
    char *free_mem_128668;
    char *free_mem_128671;
};
static int futhark_mc_segmap_parloop_137045(void *args, int64_t start,
                                            int64_t end, int flat_tid_125724,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137044
    *futhark_mc_segmap_parloop_struct_137044 =
    (struct futhark_mc_segmap_parloop_struct_137044 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137044->ctx;
    uint64_t futhark_mc_segmap_parloop_137045_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137045_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137044->free_n_119475;
    int64_t gtid_125723 =
            futhark_mc_segmap_parloop_struct_137044->free_gtid_125723;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_137044->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_128668 = {.desc ="mem_128668", .mem =
                                  futhark_mc_segmap_parloop_struct_137044->free_mem_128668,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_segmap_parloop_struct_137044->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_136028 = start;
    
    for (; iter_136028 < end; iter_136028++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_136032 = n_119475;
        int64_t gtid_125725 = iter_136028;
        int64_t remnant_136033 = iter_136028 - gtid_125725;
        int64_t x_135788 = ((int64_t *) mem_126921.mem)[gtid_125723 * n_119475 +
                                                        gtid_125725];
        bool cond_135789 = sle64((int64_t) 0, x_135788);
        float defunc_0_f_res_135790;
        
        if (cond_135789) {
            bool y_136029 = slt64(x_135788, n_119475);
            bool bounds_check_136030 = cond_135789 && y_136029;
            bool index_certs_136031;
            
            if (!bounds_check_136030) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_135788,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:351:13-39\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:350:5-352:27\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                return 1;
            }
            defunc_0_f_res_135790 = 1.0F;
        } else {
            defunc_0_f_res_135790 = 0.0F;
        }
        
        int64_t defunc_0_f_res_135794 = add64((int64_t) 1, x_135788);
        
        ((int64_t *) mem_128668.mem)[gtid_125725] = defunc_0_f_res_135794;
        ((float *) mem_128671.mem)[gtid_125725] = defunc_0_f_res_135790;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137045_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137045_end -
                 futhark_mc_segmap_parloop_137045_start;
        
        ctx->futhark_mc_segmap_parloop_137045_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137045_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137045_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137043(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125724 = tid;
    int num_tasks_136027 = info.nsubtasks;
    struct futhark_mc_task_137042 *futhark_mc_task_137042 =
                                  (struct futhark_mc_task_137042 *) args;
    struct futhark_context *ctx = futhark_mc_task_137042->ctx;
    uint64_t futhark_mc_segmap_task_137043_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137043_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_137042->free_n_119475;
    int64_t gtid_125723 = futhark_mc_task_137042->free_gtid_125723;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_137042->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_128668 = {.desc ="mem_128668", .mem =
                                  futhark_mc_task_137042->free_mem_128668,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_task_137042->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t iter_136028;
    struct futhark_mc_segmap_parloop_struct_137044
    futhark_mc_segmap_parloop_struct_137044;
    
    futhark_mc_segmap_parloop_struct_137044.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137044.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137044.free_gtid_125723 = gtid_125723;
    futhark_mc_segmap_parloop_struct_137044.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_137044.free_mem_128668 = mem_128668.mem;
    futhark_mc_segmap_parloop_struct_137044.free_mem_128671 = mem_128671.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137045_task;
    
    futhark_mc_segmap_parloop_137045_task.name =
        "futhark_mc_segmap_parloop_137045";
    futhark_mc_segmap_parloop_137045_task.fn = futhark_mc_segmap_parloop_137045;
    futhark_mc_segmap_parloop_137045_task.args =
        &futhark_mc_segmap_parloop_struct_137044;
    futhark_mc_segmap_parloop_137045_task.iterations = iterations;
    futhark_mc_segmap_parloop_137045_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137045_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137045_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137045_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137045_task);
    
    if (futhark_mc_segmap_parloop_137045_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137045_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137045_total_end -
                 futhark_mc_segmap_parloop_137045_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137045_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137045_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137045_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137043_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137043_end -
                 futhark_mc_segmap_task_137043_start;
        
        ctx->futhark_mc_segmap_task_137043_runs[tid]++;
        ctx->futhark_mc_segmap_task_137043_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137043_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_137046 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    int64_t free_gtid_125723;
    int64_t free_x_125847;
    int64_t free_min_arg_125858;
    int64_t free_min_arg_125859;
    int64_t free_min_res_125860;
    float free_max_res_125864;
    char *free_mem_126921;
    char *free_mem_126946;
    char *free_mem_128668;
    char *free_mem_128671;
    int64_t free_bytes_128672;
    char *free_mem_128693;
};
struct futhark_mc_segmap_parloop_struct_137048 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    int64_t free_gtid_125723;
    int64_t free_x_125847;
    int64_t free_min_arg_125858;
    int64_t free_min_arg_125859;
    int64_t free_min_res_125860;
    float free_max_res_125864;
    char *free_mem_126921;
    char *free_mem_126946;
    char *free_mem_128668;
    char *free_mem_128671;
    int64_t free_bytes_128672;
    char *free_mem_128693;
};
static int futhark_mc_segmap_parloop_137049(void *args, int64_t start,
                                            int64_t end, int flat_tid_125726,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137048
    *futhark_mc_segmap_parloop_struct_137048 =
    (struct futhark_mc_segmap_parloop_struct_137048 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137048->ctx;
    uint64_t futhark_mc_segmap_parloop_137049_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137049_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137048->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_137048->free_t_window_119478;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_137048->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_137048->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_137048->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_137048->free_loop_cond_119740;
    int64_t gtid_125723 =
            futhark_mc_segmap_parloop_struct_137048->free_gtid_125723;
    int64_t x_125847 = futhark_mc_segmap_parloop_struct_137048->free_x_125847;
    int64_t min_arg_125858 =
            futhark_mc_segmap_parloop_struct_137048->free_min_arg_125858;
    int64_t min_arg_125859 =
            futhark_mc_segmap_parloop_struct_137048->free_min_arg_125859;
    int64_t min_res_125860 =
            futhark_mc_segmap_parloop_struct_137048->free_min_res_125860;
    float max_res_125864 =
          futhark_mc_segmap_parloop_struct_137048->free_max_res_125864;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_137048->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_137048->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_128668 = {.desc ="mem_128668", .mem =
                                  futhark_mc_segmap_parloop_struct_137048->free_mem_128668,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_segmap_parloop_struct_137048->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 =
            futhark_mc_segmap_parloop_struct_137048->free_bytes_128672;
    struct memblock mem_128693 = {.desc ="mem_128693", .mem =
                                  futhark_mc_segmap_parloop_struct_137048->free_mem_128693,
                                  .size =0, .references =NULL};
    size_t mem_135993_cached_sizze_137050 = 0;
    char *mem_135993 = NULL;
    int64_t iterations = end - start;
    int64_t iter_136035 = start;
    
    if (mem_135993_cached_sizze_137050 < (size_t) bytes_128672) {
        mem_135993 = realloc(mem_135993, bytes_128672);
        mem_135993_cached_sizze_137050 = bytes_128672;
    }
    for (; iter_136035 < end; iter_136035++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_136120 = n_119475;
        int64_t gtid_125727 = iter_136035;
        int64_t remnant_136121 = iter_136035 - gtid_125727;
        int64_t defunc_0_g_res_135908 = add64((int64_t) 1, gtid_125727);
        bool init_idx_135909;
        int64_t init_idx_135910;
        int64_t init_idx_135911;
        bool loop_while_136036;
        int64_t low_136037;
        int64_t high_136038;
        
        loop_while_136036 = x_119552;
        low_136037 = (int64_t) 0;
        high_136038 = i_119551;
        while (loop_while_136036) {
            int64_t x_136039 = add64(low_136037, high_136038);
            int64_t mid_136040 = sdiv64(x_136039, (int64_t) 2);
            bool x_136041 = sle64((int64_t) 0, mid_136040);
            bool y_136042 = slt64(mid_136040, n_119475);
            bool bounds_check_136043 = x_136041 && y_136042;
            bool index_certs_136044;
            
            if (!bounds_check_136043) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) mid_136040,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t mid_id_136045 = ((int64_t *) mem_128668.mem)[mid_136040];
            bool cond_136046 = slt64(mid_id_136045, (int64_t) 0);
            int64_t mid_idx_136047;
            
            if (cond_136046) {
                mid_idx_136047 = (int64_t) 9223372036854775807;
            } else {
                mid_idx_136047 = mid_id_136045;
            }
            
            bool cond_136048 = sle64(defunc_0_g_res_135908, mid_idx_136047);
            int64_t loopres_136049;
            int64_t loopres_136050;
            
            if (cond_136048) {
                int64_t loopres_t_res_136051 = sub64(mid_136040, (int64_t) 1);
                
                loopres_136049 = low_136037;
                loopres_136050 = loopres_t_res_136051;
            } else {
                int64_t loopres_f_res_136052 = add64((int64_t) 1, mid_136040);
                
                loopres_136049 = loopres_f_res_136052;
                loopres_136050 = high_136038;
            }
            
            bool loop_cond_136053 = sle64(loopres_136049, loopres_136050);
            bool loop_while_tmp_136122 = loop_cond_136053;
            int64_t low_tmp_136123 = loopres_136049;
            int64_t high_tmp_136124 = loopres_136050;
            
            loop_while_136036 = loop_while_tmp_136122;
            low_136037 = low_tmp_136123;
            high_136038 = high_tmp_136124;
        }
        init_idx_135909 = loop_while_136036;
        init_idx_135910 = low_136037;
        init_idx_135911 = high_136038;
        
        bool idx_135930;
        int64_t idx_135931;
        int64_t idx_135932;
        int64_t idx_135933;
        bool loop_while_136054;
        int64_t l_idx_136055;
        int64_t r_idx_136056;
        int64_t span_136057;
        
        loop_while_136054 = loop_cond_119740;
        l_idx_136055 = init_idx_135910;
        r_idx_136056 = init_idx_135910;
        span_136057 = (int64_t) 1;
        while (loop_while_136054) {
            int64_t max_arg_136058 = sub64(l_idx_136055, (int64_t) 1);
            int64_t max_res_136059 = smax64((int64_t) 0, max_arg_136058);
            int64_t min_arg_136060 = add64((int64_t) 1, r_idx_136056);
            int64_t min_res_136061 = smin64(min_arg_125858, min_arg_136060);
            bool x_136062 = sle64((int64_t) 0, max_res_136059);
            bool y_136063 = slt64(max_res_136059, n_119475);
            bool bounds_check_136064 = x_136062 && y_136063;
            bool index_certs_136065;
            
            if (!bounds_check_136064) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_136059,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_136066 = ((int64_t *) mem_128668.mem)[max_res_136059];
            int64_t abs_arg_136067 = sub64(x_136066, defunc_0_g_res_135908);
            int64_t abs_res_136068 = abs64(abs_arg_136067);
            bool x_136069 = sle64((int64_t) 0, min_res_136061);
            bool y_136070 = slt64(min_res_136061, n_119475);
            bool bounds_check_136071 = x_136069 && y_136070;
            bool index_certs_136072;
            
            if (!bounds_check_136071) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) min_res_136061,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_136073 = ((int64_t *) mem_128668.mem)[min_res_136061];
            int64_t abs_arg_136074 = sub64(x_136073, defunc_0_g_res_135908);
            int64_t abs_res_136075 = abs64(abs_arg_136074);
            bool cond_136076 = max_res_136059 == l_idx_136055;
            int64_t loopres_136077;
            int64_t loopres_136078;
            int64_t loopres_136079;
            
            if (cond_136076) {
                loopres_136077 = l_idx_136055;
                loopres_136078 = r_idx_136056;
                loopres_136079 = min_res_119735;
            } else {
                bool cond_136080 = slt64(abs_res_136068, abs_res_136075);
                bool cond_f_res_136081 = min_res_136061 == r_idx_136056;
                bool x_136082 = !cond_136080;
                bool y_136083 = cond_f_res_136081 && x_136082;
                bool cond_136084 = cond_136080 || y_136083;
                int64_t loopres_f_res_136085;
                
                if (cond_136084) {
                    loopres_f_res_136085 = max_res_136059;
                } else {
                    loopres_f_res_136085 = l_idx_136055;
                }
                
                int64_t loopres_f_res_136086;
                
                if (cond_136084) {
                    loopres_f_res_136086 = r_idx_136056;
                } else {
                    loopres_f_res_136086 = min_res_136061;
                }
                
                int64_t loopres_f_res_136087;
                
                if (cond_136084) {
                    int64_t loopres_f_res_t_res_136088 = add64((int64_t) 1,
                                                               span_136057);
                    
                    loopres_f_res_136087 = loopres_f_res_t_res_136088;
                } else {
                    int64_t loopres_f_res_f_res_136089 = add64((int64_t) 1,
                                                               span_136057);
                    
                    loopres_f_res_136087 = loopres_f_res_f_res_136089;
                }
                loopres_136077 = loopres_f_res_136085;
                loopres_136078 = loopres_f_res_136086;
                loopres_136079 = loopres_f_res_136087;
            }
            
            bool loop_cond_136090 = slt64(loopres_136079, min_res_119735);
            bool loop_while_tmp_136125 = loop_cond_136090;
            int64_t l_idx_tmp_136126 = loopres_136077;
            int64_t r_idx_tmp_136127 = loopres_136078;
            int64_t span_tmp_136128 = loopres_136079;
            
            loop_while_136054 = loop_while_tmp_136125;
            l_idx_136055 = l_idx_tmp_136126;
            r_idx_136056 = r_idx_tmp_136127;
            span_136057 = span_tmp_136128;
        }
        idx_135930 = loop_while_136054;
        idx_135931 = l_idx_136055;
        idx_135932 = r_idx_136056;
        idx_135933 = span_136057;
        
        int64_t min_res_135971 = smin64(min_arg_125859, idx_135931);
        int64_t max_res_135972 = smax64((int64_t) 0, min_res_135971);
        int64_t x_135973 = add64(min_res_125860, max_res_135972);
        int64_t r_135974 = sub64(x_135973, (int64_t) 1);
        bool x_135975 = sle64((int64_t) 0, r_135974);
        bool y_135976 = slt64(r_135974, n_119475);
        bool bounds_check_135977 = x_135975 && y_135976;
        bool index_certs_135978;
        
        if (!bounds_check_135977) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) r_135974,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_135979 = ((int64_t *) mem_126921.mem)[gtid_125723 * n_119475 +
                                                        r_135974];
        int64_t abs_arg_135980 = sub64(x_135979, gtid_125727);
        int64_t abs_res_135981 = abs64(abs_arg_135980);
        bool x_135982 = sle64((int64_t) 0, max_res_135972);
        bool y_135983 = slt64(max_res_135972, n_119475);
        bool bounds_check_135984 = x_135982 && y_135983;
        bool index_certs_135985;
        
        if (!bounds_check_135984) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) max_res_135972,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_135986 = ((int64_t *) mem_126921.mem)[gtid_125723 * n_119475 +
                                                        max_res_135972];
        int64_t abs_arg_135987 = sub64(x_135986, gtid_125727);
        int64_t abs_res_135988 = abs64(abs_arg_135987);
        int64_t max_res_135989 = smax64(abs_res_135981, abs_res_135988);
        float defunc_0_f_res_135990 = sitofp_i64_f32(max_res_135989);
        float defunc_1_f_res_135991 = max_res_125864 + defunc_0_f_res_135990;
        float i64_res_135992 = sitofp_i64_f32(gtid_125727);
        
        for (int64_t i_136091 = 0; i_136091 < t_window_119478; i_136091++) {
            bool cond_136093 = sle64(x_125847, i_136091);
            float defunc_0_f_res_136094;
            
            if (cond_136093) {
                defunc_0_f_res_136094 = 0.0F;
            } else {
                int64_t i_136095 = add64(max_res_135972, i_136091);
                bool x_136096 = sle64((int64_t) 0, i_136095);
                bool y_136097 = slt64(i_136095, n_119475);
                bool bounds_check_136098 = x_136096 && y_136097;
                bool index_certs_136099;
                
                if (!bounds_check_136098) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_136095,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  stl.fut:366:74-89\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:366:23-94\n   #4  stl.fut:367:36-55\n   #5  /prelude/soacs.fut:75:22-28\n   #6  /prelude/soacs.fut:75:3-45\n   #7  stl.fut:364:13-381:42\n   #8  /prelude/soacs.fut:91:28-38\n   #9  /prelude/soacs.fut:91:3-61\n   #10 stl.fut:363:5-382:55\n   #11 stl.fut:400:3-411:33\n   #12 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_136100 = ((float *) mem_126946.mem)[gtid_125723 *
                                                            n_119475 +
                                                            i_136095];
                float defunc_0_f_res_f_res_136101 = 1.0F + x_136100;
                
                defunc_0_f_res_136094 = defunc_0_f_res_f_res_136101;
            }
            
            float defunc_0_f_res_136102;
            
            if (cond_136093) {
                defunc_0_f_res_136102 = 0.0F;
            } else {
                int64_t i_136103 = add64(max_res_135972, i_136091);
                bool x_136104 = sle64((int64_t) 0, i_136103);
                bool y_136105 = slt64(i_136103, n_119475);
                bool bounds_check_136106 = x_136104 && y_136105;
                bool index_certs_136107;
                
                if (!bounds_check_136106) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_136103,
                                  "] out of bounds for array of shape [",
                                  (long long) n_119475, "].",
                                  "-> #0  stl.fut:366:74-89\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:366:23-94\n   #4  stl.fut:368:36-55\n   #5  /prelude/soacs.fut:75:22-28\n   #6  /prelude/soacs.fut:75:3-45\n   #7  stl.fut:364:13-381:42\n   #8  /prelude/soacs.fut:91:28-38\n   #9  /prelude/soacs.fut:91:3-61\n   #10 stl.fut:363:5-382:55\n   #11 stl.fut:400:3-411:33\n   #12 stl.fut:387:1-411:33\n");
                    return 1;
                }
                
                float x_136108 = ((float *) mem_128671.mem)[i_136103];
                
                defunc_0_f_res_136102 = x_136108;
            }
            
            float x_j_136109 = defunc_0_f_res_136094 - i64_res_135992;
            float abs_res_136110 = (float) fabs(x_j_136109);
            float tmp1_136111 = abs_res_136110 / defunc_1_f_res_135991;
            float x_136112 = tmp1_136111 * tmp1_136111;
            float y_136113 = tmp1_136111 * x_136112;
            float tmp2_136114 = 1.0F - y_136113;
            float x_136115 = tmp2_136114 * tmp2_136114;
            float tmp3_136116 = tmp2_136114 * x_136115;
            float w_j_136117 = defunc_0_f_res_136102 * tmp3_136116;
            float defunc_1_f_res_136118 = x_j_136109 * w_j_136117;
            
            ((float *) mem_135993)[i_136091] = defunc_1_f_res_136118;
        }
        memmove(mem_128693.mem + gtid_125727 * t_window_119478 * (int64_t) 4,
                mem_135993 + (int64_t) 0, t_window_119478 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_135993);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137049_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137049_end -
                 futhark_mc_segmap_parloop_137049_start;
        
        ctx->futhark_mc_segmap_parloop_137049_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137049_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137049_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137047(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125726 = tid;
    int num_tasks_136034 = info.nsubtasks;
    struct futhark_mc_task_137046 *futhark_mc_task_137046 =
                                  (struct futhark_mc_task_137046 *) args;
    struct futhark_context *ctx = futhark_mc_task_137046->ctx;
    uint64_t futhark_mc_segmap_task_137047_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137047_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_137046->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_137046->free_t_window_119478;
    int64_t i_119551 = futhark_mc_task_137046->free_i_119551;
    bool x_119552 = futhark_mc_task_137046->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_137046->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_137046->free_loop_cond_119740;
    int64_t gtid_125723 = futhark_mc_task_137046->free_gtid_125723;
    int64_t x_125847 = futhark_mc_task_137046->free_x_125847;
    int64_t min_arg_125858 = futhark_mc_task_137046->free_min_arg_125858;
    int64_t min_arg_125859 = futhark_mc_task_137046->free_min_arg_125859;
    int64_t min_res_125860 = futhark_mc_task_137046->free_min_res_125860;
    float max_res_125864 = futhark_mc_task_137046->free_max_res_125864;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_137046->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_137046->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_128668 = {.desc ="mem_128668", .mem =
                                  futhark_mc_task_137046->free_mem_128668,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_task_137046->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 = futhark_mc_task_137046->free_bytes_128672;
    struct memblock mem_128693 = {.desc ="mem_128693", .mem =
                                  futhark_mc_task_137046->free_mem_128693,
                                  .size =0, .references =NULL};
    int64_t iter_136035;
    struct futhark_mc_segmap_parloop_struct_137048
    futhark_mc_segmap_parloop_struct_137048;
    
    futhark_mc_segmap_parloop_struct_137048.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137048.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137048.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_137048.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_137048.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_137048.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_137048.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_137048.free_gtid_125723 = gtid_125723;
    futhark_mc_segmap_parloop_struct_137048.free_x_125847 = x_125847;
    futhark_mc_segmap_parloop_struct_137048.free_min_arg_125858 =
        min_arg_125858;
    futhark_mc_segmap_parloop_struct_137048.free_min_arg_125859 =
        min_arg_125859;
    futhark_mc_segmap_parloop_struct_137048.free_min_res_125860 =
        min_res_125860;
    futhark_mc_segmap_parloop_struct_137048.free_max_res_125864 =
        max_res_125864;
    futhark_mc_segmap_parloop_struct_137048.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_137048.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_137048.free_mem_128668 = mem_128668.mem;
    futhark_mc_segmap_parloop_struct_137048.free_mem_128671 = mem_128671.mem;
    futhark_mc_segmap_parloop_struct_137048.free_bytes_128672 = bytes_128672;
    futhark_mc_segmap_parloop_struct_137048.free_mem_128693 = mem_128693.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137049_task;
    
    futhark_mc_segmap_parloop_137049_task.name =
        "futhark_mc_segmap_parloop_137049";
    futhark_mc_segmap_parloop_137049_task.fn = futhark_mc_segmap_parloop_137049;
    futhark_mc_segmap_parloop_137049_task.args =
        &futhark_mc_segmap_parloop_struct_137048;
    futhark_mc_segmap_parloop_137049_task.iterations = iterations;
    futhark_mc_segmap_parloop_137049_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137049_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137049_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137049_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137049_task);
    
    if (futhark_mc_segmap_parloop_137049_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137049_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137049_total_end -
                 futhark_mc_segmap_parloop_137049_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137049_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137049_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137049_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137047_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137047_end -
                 futhark_mc_segmap_task_137047_start;
        
        ctx->futhark_mc_segmap_task_137047_runs[tid]++;
        ctx->futhark_mc_segmap_task_137047_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137047_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_137052 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_i_119551;
    bool free_x_119552;
    int64_t free_min_res_119735;
    bool free_loop_cond_119740;
    int64_t free_gtid_125723;
    int64_t free_x_125847;
    int64_t free_min_arg_125858;
    int64_t free_min_arg_125859;
    int64_t free_min_res_125860;
    float free_max_res_125864;
    char *free_mem_126921;
    char *free_mem_126946;
    char *free_mem_128668;
    char *free_mem_128671;
    int64_t free_bytes_128672;
    char *free_mem_128693;
};
struct futhark_mc_task_137055 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_gtid_125723;
    int64_t free_x_125847;
    char *free_mem_126946;
    char *free_mem_128671;
    int64_t free_max_res_135859;
    float free_defunc_1_f_res_135878;
    float free_i64_res_135879;
    char *free_mem_135880;
};
struct futhark_mc_segmap_parloop_struct_137057 {
    struct futhark_context *ctx;
    int64_t free_n_119475;
    int64_t free_t_window_119478;
    int64_t free_gtid_125723;
    int64_t free_x_125847;
    char *free_mem_126946;
    char *free_mem_128671;
    int64_t free_max_res_135859;
    float free_defunc_1_f_res_135878;
    float free_i64_res_135879;
    char *free_mem_135880;
};
static int futhark_mc_segmap_parloop_137058(void *args, int64_t start,
                                            int64_t end, int flat_tid_125730,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137057
    *futhark_mc_segmap_parloop_struct_137057 =
    (struct futhark_mc_segmap_parloop_struct_137057 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137057->ctx;
    uint64_t futhark_mc_segmap_parloop_137058_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137058_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137057->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_137057->free_t_window_119478;
    int64_t gtid_125723 =
            futhark_mc_segmap_parloop_struct_137057->free_gtid_125723;
    int64_t x_125847 = futhark_mc_segmap_parloop_struct_137057->free_x_125847;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_137057->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_segmap_parloop_struct_137057->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t max_res_135859 =
            futhark_mc_segmap_parloop_struct_137057->free_max_res_135859;
    float defunc_1_f_res_135878 =
          futhark_mc_segmap_parloop_struct_137057->free_defunc_1_f_res_135878;
    float i64_res_135879 =
          futhark_mc_segmap_parloop_struct_137057->free_i64_res_135879;
    struct memblock mem_135880 = {.desc ="mem_135880", .mem =
                                  futhark_mc_segmap_parloop_struct_137057->free_mem_135880,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_136222 = start;
    
    for (; iter_136222 < end; iter_136222++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_136236 = t_window_119478;
        int64_t gtid_125731 = iter_136222;
        int64_t remnant_136237 = iter_136222 - gtid_125731;
        bool cond_136186 = sle64(x_125847, gtid_125731);
        float defunc_0_f_res_136187;
        
        if (cond_136186) {
            defunc_0_f_res_136187 = 0.0F;
        } else {
            int64_t i_136223 = add64(gtid_125731, max_res_135859);
            bool x_136224 = sle64((int64_t) 0, i_136223);
            bool y_136225 = slt64(i_136223, n_119475);
            bool bounds_check_136226 = x_136224 && y_136225;
            bool index_certs_136227;
            
            if (!bounds_check_136226) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) i_136223,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  stl.fut:366:74-89\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:366:23-94\n   #4  stl.fut:367:36-55\n   #5  /prelude/soacs.fut:75:22-28\n   #6  /prelude/soacs.fut:75:3-45\n   #7  stl.fut:364:13-381:42\n   #8  /prelude/soacs.fut:91:28-38\n   #9  /prelude/soacs.fut:91:3-61\n   #10 stl.fut:363:5-382:55\n   #11 stl.fut:400:3-411:33\n   #12 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float x_136228 = ((float *) mem_126946.mem)[gtid_125723 * n_119475 +
                                                        i_136223];
            float defunc_0_f_res_f_res_136229 = 1.0F + x_136228;
            
            defunc_0_f_res_136187 = defunc_0_f_res_f_res_136229;
        }
        
        float defunc_0_f_res_136195;
        
        if (cond_136186) {
            defunc_0_f_res_136195 = 0.0F;
        } else {
            int64_t i_136230 = add64(gtid_125731, max_res_135859);
            bool x_136231 = sle64((int64_t) 0, i_136230);
            bool y_136232 = slt64(i_136230, n_119475);
            bool bounds_check_136233 = x_136231 && y_136232;
            bool index_certs_136234;
            
            if (!bounds_check_136233) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) i_136230,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  stl.fut:366:74-89\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:366:23-94\n   #4  stl.fut:368:36-55\n   #5  /prelude/soacs.fut:75:22-28\n   #6  /prelude/soacs.fut:75:3-45\n   #7  stl.fut:364:13-381:42\n   #8  /prelude/soacs.fut:91:28-38\n   #9  /prelude/soacs.fut:91:3-61\n   #10 stl.fut:363:5-382:55\n   #11 stl.fut:400:3-411:33\n   #12 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            float x_136235 = ((float *) mem_128671.mem)[i_136230];
            
            defunc_0_f_res_136195 = x_136235;
        }
        
        float x_j_136202 = defunc_0_f_res_136187 - i64_res_135879;
        float abs_res_136203 = (float) fabs(x_j_136202);
        float tmp1_136204 = abs_res_136203 / defunc_1_f_res_135878;
        float x_136205 = tmp1_136204 * tmp1_136204;
        float y_136206 = tmp1_136204 * x_136205;
        float tmp2_136207 = 1.0F - y_136206;
        float x_136208 = tmp2_136207 * tmp2_136207;
        float tmp3_136209 = tmp2_136207 * x_136208;
        float w_j_136210 = defunc_0_f_res_136195 * tmp3_136209;
        float defunc_1_f_res_136211 = x_j_136202 * w_j_136210;
        
        ((float *) mem_135880.mem)[gtid_125731] = defunc_1_f_res_136211;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137058_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137058_end -
                 futhark_mc_segmap_parloop_137058_start;
        
        ctx->futhark_mc_segmap_parloop_137058_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137058_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137058_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_137056(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125730 = tid;
    int num_tasks_136221 = info.nsubtasks;
    struct futhark_mc_task_137055 *futhark_mc_task_137055 =
                                  (struct futhark_mc_task_137055 *) args;
    struct futhark_context *ctx = futhark_mc_task_137055->ctx;
    uint64_t futhark_mc_segmap_task_137056_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_137056_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_137055->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_137055->free_t_window_119478;
    int64_t gtid_125723 = futhark_mc_task_137055->free_gtid_125723;
    int64_t x_125847 = futhark_mc_task_137055->free_x_125847;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_137055->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_task_137055->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t max_res_135859 = futhark_mc_task_137055->free_max_res_135859;
    float defunc_1_f_res_135878 =
          futhark_mc_task_137055->free_defunc_1_f_res_135878;
    float i64_res_135879 = futhark_mc_task_137055->free_i64_res_135879;
    struct memblock mem_135880 = {.desc ="mem_135880", .mem =
                                  futhark_mc_task_137055->free_mem_135880,
                                  .size =0, .references =NULL};
    int64_t iter_136222;
    struct futhark_mc_segmap_parloop_struct_137057
    futhark_mc_segmap_parloop_struct_137057;
    
    futhark_mc_segmap_parloop_struct_137057.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137057.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137057.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_137057.free_gtid_125723 = gtid_125723;
    futhark_mc_segmap_parloop_struct_137057.free_x_125847 = x_125847;
    futhark_mc_segmap_parloop_struct_137057.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_137057.free_mem_128671 = mem_128671.mem;
    futhark_mc_segmap_parloop_struct_137057.free_max_res_135859 =
        max_res_135859;
    futhark_mc_segmap_parloop_struct_137057.free_defunc_1_f_res_135878 =
        defunc_1_f_res_135878;
    futhark_mc_segmap_parloop_struct_137057.free_i64_res_135879 =
        i64_res_135879;
    futhark_mc_segmap_parloop_struct_137057.free_mem_135880 = mem_135880.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137058_task;
    
    futhark_mc_segmap_parloop_137058_task.name =
        "futhark_mc_segmap_parloop_137058";
    futhark_mc_segmap_parloop_137058_task.fn = futhark_mc_segmap_parloop_137058;
    futhark_mc_segmap_parloop_137058_task.args =
        &futhark_mc_segmap_parloop_struct_137057;
    futhark_mc_segmap_parloop_137058_task.iterations = iterations;
    futhark_mc_segmap_parloop_137058_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137058_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137058_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137058_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137058_task);
    
    if (futhark_mc_segmap_parloop_137058_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137058_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137058_total_end -
                 futhark_mc_segmap_parloop_137058_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137058_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137058_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137058_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_137056_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_137056_end -
                 futhark_mc_segmap_task_137056_start;
        
        ctx->futhark_mc_segmap_task_137056_runs[tid]++;
        ctx->futhark_mc_segmap_task_137056_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_137056_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_137053(void *args, int64_t start,
                                            int64_t end, int flat_tid_125728,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137052
    *futhark_mc_segmap_parloop_struct_137052 =
    (struct futhark_mc_segmap_parloop_struct_137052 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137052->ctx;
    uint64_t futhark_mc_segmap_parloop_137053_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137053_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137052->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_137052->free_t_window_119478;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_137052->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_137052->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_137052->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_137052->free_loop_cond_119740;
    int64_t gtid_125723 =
            futhark_mc_segmap_parloop_struct_137052->free_gtid_125723;
    int64_t x_125847 = futhark_mc_segmap_parloop_struct_137052->free_x_125847;
    int64_t min_arg_125858 =
            futhark_mc_segmap_parloop_struct_137052->free_min_arg_125858;
    int64_t min_arg_125859 =
            futhark_mc_segmap_parloop_struct_137052->free_min_arg_125859;
    int64_t min_res_125860 =
            futhark_mc_segmap_parloop_struct_137052->free_min_res_125860;
    float max_res_125864 =
          futhark_mc_segmap_parloop_struct_137052->free_max_res_125864;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_137052->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_137052->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_128668 = {.desc ="mem_128668", .mem =
                                  futhark_mc_segmap_parloop_struct_137052->free_mem_128668,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_segmap_parloop_struct_137052->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 =
            futhark_mc_segmap_parloop_struct_137052->free_bytes_128672;
    struct memblock mem_128693 = {.desc ="mem_128693", .mem =
                                  futhark_mc_segmap_parloop_struct_137052->free_mem_128693,
                                  .size =0, .references =NULL};
    size_t mem_135880_cached_sizze_137054 = 0;
    char *mem_135880 = NULL;
    int64_t iterations = end - start;
    int64_t iter_136130 = start;
    
    if (mem_135880_cached_sizze_137054 < (size_t) bytes_128672) {
        mem_135880 = realloc(mem_135880, bytes_128672);
        mem_135880_cached_sizze_137054 = bytes_128672;
    }
    for (; iter_136130 < end; iter_136130++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_136212 = n_119475;
        int64_t gtid_125729 = iter_136130;
        int64_t remnant_136213 = iter_136130 - gtid_125729;
        int64_t defunc_0_g_res_135795 = add64((int64_t) 1, gtid_125729);
        bool init_idx_135796;
        int64_t init_idx_135797;
        int64_t init_idx_135798;
        bool loop_while_136131;
        int64_t low_136132;
        int64_t high_136133;
        
        loop_while_136131 = x_119552;
        low_136132 = (int64_t) 0;
        high_136133 = i_119551;
        while (loop_while_136131) {
            int64_t x_136134 = add64(low_136132, high_136133);
            int64_t mid_136135 = sdiv64(x_136134, (int64_t) 2);
            bool x_136136 = sle64((int64_t) 0, mid_136135);
            bool y_136137 = slt64(mid_136135, n_119475);
            bool bounds_check_136138 = x_136136 && y_136137;
            bool index_certs_136139;
            
            if (!bounds_check_136138) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) mid_136135,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t mid_id_136140 = ((int64_t *) mem_128668.mem)[mid_136135];
            bool cond_136141 = slt64(mid_id_136140, (int64_t) 0);
            int64_t mid_idx_136142;
            
            if (cond_136141) {
                mid_idx_136142 = (int64_t) 9223372036854775807;
            } else {
                mid_idx_136142 = mid_id_136140;
            }
            
            bool cond_136143 = sle64(defunc_0_g_res_135795, mid_idx_136142);
            int64_t loopres_136144;
            int64_t loopres_136145;
            
            if (cond_136143) {
                int64_t loopres_t_res_136146 = sub64(mid_136135, (int64_t) 1);
                
                loopres_136144 = low_136132;
                loopres_136145 = loopres_t_res_136146;
            } else {
                int64_t loopres_f_res_136147 = add64((int64_t) 1, mid_136135);
                
                loopres_136144 = loopres_f_res_136147;
                loopres_136145 = high_136133;
            }
            
            bool loop_cond_136148 = sle64(loopres_136144, loopres_136145);
            bool loop_while_tmp_136214 = loop_cond_136148;
            int64_t low_tmp_136215 = loopres_136144;
            int64_t high_tmp_136216 = loopres_136145;
            
            loop_while_136131 = loop_while_tmp_136214;
            low_136132 = low_tmp_136215;
            high_136133 = high_tmp_136216;
        }
        init_idx_135796 = loop_while_136131;
        init_idx_135797 = low_136132;
        init_idx_135798 = high_136133;
        
        bool idx_135817;
        int64_t idx_135818;
        int64_t idx_135819;
        int64_t idx_135820;
        bool loop_while_136149;
        int64_t l_idx_136150;
        int64_t r_idx_136151;
        int64_t span_136152;
        
        loop_while_136149 = loop_cond_119740;
        l_idx_136150 = init_idx_135797;
        r_idx_136151 = init_idx_135797;
        span_136152 = (int64_t) 1;
        while (loop_while_136149) {
            int64_t max_arg_136153 = sub64(l_idx_136150, (int64_t) 1);
            int64_t max_res_136154 = smax64((int64_t) 0, max_arg_136153);
            int64_t min_arg_136155 = add64((int64_t) 1, r_idx_136151);
            int64_t min_res_136156 = smin64(min_arg_125858, min_arg_136155);
            bool x_136157 = sle64((int64_t) 0, max_res_136154);
            bool y_136158 = slt64(max_res_136154, n_119475);
            bool bounds_check_136159 = x_136157 && y_136158;
            bool index_certs_136160;
            
            if (!bounds_check_136159) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_136154,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_136161 = ((int64_t *) mem_128668.mem)[max_res_136154];
            int64_t abs_arg_136162 = sub64(x_136161, defunc_0_g_res_135795);
            int64_t abs_res_136163 = abs64(abs_arg_136162);
            bool x_136164 = sle64((int64_t) 0, min_res_136156);
            bool y_136165 = slt64(min_res_136156, n_119475);
            bool bounds_check_136166 = x_136164 && y_136165;
            bool index_certs_136167;
            
            if (!bounds_check_136166) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) min_res_136156,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
                return 1;
            }
            
            int64_t x_136168 = ((int64_t *) mem_128668.mem)[min_res_136156];
            int64_t abs_arg_136169 = sub64(x_136168, defunc_0_g_res_135795);
            int64_t abs_res_136170 = abs64(abs_arg_136169);
            bool cond_136171 = max_res_136154 == l_idx_136150;
            int64_t loopres_136172;
            int64_t loopres_136173;
            int64_t loopres_136174;
            
            if (cond_136171) {
                loopres_136172 = l_idx_136150;
                loopres_136173 = r_idx_136151;
                loopres_136174 = min_res_119735;
            } else {
                bool cond_136175 = slt64(abs_res_136163, abs_res_136170);
                bool cond_f_res_136176 = min_res_136156 == r_idx_136151;
                bool x_136177 = !cond_136175;
                bool y_136178 = cond_f_res_136176 && x_136177;
                bool cond_136179 = cond_136175 || y_136178;
                int64_t loopres_f_res_136180;
                
                if (cond_136179) {
                    loopres_f_res_136180 = max_res_136154;
                } else {
                    loopres_f_res_136180 = l_idx_136150;
                }
                
                int64_t loopres_f_res_136181;
                
                if (cond_136179) {
                    loopres_f_res_136181 = r_idx_136151;
                } else {
                    loopres_f_res_136181 = min_res_136156;
                }
                
                int64_t loopres_f_res_136182;
                
                if (cond_136179) {
                    int64_t loopres_f_res_t_res_136183 = add64((int64_t) 1,
                                                               span_136152);
                    
                    loopres_f_res_136182 = loopres_f_res_t_res_136183;
                } else {
                    int64_t loopres_f_res_f_res_136184 = add64((int64_t) 1,
                                                               span_136152);
                    
                    loopres_f_res_136182 = loopres_f_res_f_res_136184;
                }
                loopres_136172 = loopres_f_res_136180;
                loopres_136173 = loopres_f_res_136181;
                loopres_136174 = loopres_f_res_136182;
            }
            
            bool loop_cond_136185 = slt64(loopres_136174, min_res_119735);
            bool loop_while_tmp_136217 = loop_cond_136185;
            int64_t l_idx_tmp_136218 = loopres_136172;
            int64_t r_idx_tmp_136219 = loopres_136173;
            int64_t span_tmp_136220 = loopres_136174;
            
            loop_while_136149 = loop_while_tmp_136217;
            l_idx_136150 = l_idx_tmp_136218;
            r_idx_136151 = r_idx_tmp_136219;
            span_136152 = span_tmp_136220;
        }
        idx_135817 = loop_while_136149;
        idx_135818 = l_idx_136150;
        idx_135819 = r_idx_136151;
        idx_135820 = span_136152;
        
        int64_t min_res_135858 = smin64(min_arg_125859, idx_135818);
        int64_t max_res_135859 = smax64((int64_t) 0, min_res_135858);
        int64_t x_135860 = add64(min_res_125860, max_res_135859);
        int64_t r_135861 = sub64(x_135860, (int64_t) 1);
        bool x_135862 = sle64((int64_t) 0, r_135861);
        bool y_135863 = slt64(r_135861, n_119475);
        bool bounds_check_135864 = x_135862 && y_135863;
        bool index_certs_135865;
        
        if (!bounds_check_135864) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) r_135861,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_135866 = ((int64_t *) mem_126921.mem)[gtid_125723 * n_119475 +
                                                        r_135861];
        int64_t abs_arg_135867 = sub64(x_135866, gtid_125729);
        int64_t abs_res_135868 = abs64(abs_arg_135867);
        bool x_135869 = sle64((int64_t) 0, max_res_135859);
        bool y_135870 = slt64(max_res_135859, n_119475);
        bool bounds_check_135871 = x_135869 && y_135870;
        bool index_certs_135872;
        
        if (!bounds_check_135871) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) max_res_135859,
                                   "] out of bounds for array of shape [",
                                   (long long) n_119475, "].",
                                   "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:357:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:355:5-358:26\n   #9  stl.fut:400:3-411:33\n   #10 stl.fut:387:1-411:33\n");
            return 1;
        }
        
        int64_t x_135873 = ((int64_t *) mem_126921.mem)[gtid_125723 * n_119475 +
                                                        max_res_135859];
        int64_t abs_arg_135874 = sub64(x_135873, gtid_125729);
        int64_t abs_res_135875 = abs64(abs_arg_135874);
        int64_t max_res_135876 = smax64(abs_res_135868, abs_res_135875);
        float defunc_0_f_res_135877 = sitofp_i64_f32(max_res_135876);
        float defunc_1_f_res_135878 = max_res_125864 + defunc_0_f_res_135877;
        float i64_res_135879 = sitofp_i64_f32(gtid_125729);
        int64_t flat_tid_125730 = (int64_t) 0;
        int32_t num_tasks_136221;
        struct futhark_mc_task_137055 futhark_mc_task_137055;
        
        futhark_mc_task_137055.ctx = ctx;
        futhark_mc_task_137055.free_n_119475 = n_119475;
        futhark_mc_task_137055.free_t_window_119478 = t_window_119478;
        futhark_mc_task_137055.free_gtid_125723 = gtid_125723;
        futhark_mc_task_137055.free_x_125847 = x_125847;
        futhark_mc_task_137055.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_137055.free_mem_128671 = mem_128671.mem;
        futhark_mc_task_137055.free_max_res_135859 = max_res_135859;
        futhark_mc_task_137055.free_defunc_1_f_res_135878 =
            defunc_1_f_res_135878;
        futhark_mc_task_137055.free_i64_res_135879 = i64_res_135879;
        futhark_mc_task_137055.free_mem_135880 = mem_135880;
        
        struct scheduler_segop futhark_mc_task_137055_task;
        
        futhark_mc_task_137055_task.args = &futhark_mc_task_137055;
        futhark_mc_task_137055_task.top_level_fn =
            futhark_mc_segmap_task_137056;
        futhark_mc_task_137055_task.name = "futhark_mc_segmap_task_137056";
        futhark_mc_task_137055_task.iterations = t_window_119478;
        futhark_mc_task_137055_task.task_time =
            &ctx->futhark_mc_segmap_task_137056_total_time;
        futhark_mc_task_137055_task.task_iter =
            &ctx->futhark_mc_segmap_task_137056_total_iter;
        futhark_mc_task_137055_task.sched = STATIC;
        futhark_mc_task_137055_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_137056_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_137055_task);
        
        if (futhark_mc_segmap_task_137056_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128693.mem + gtid_125729 * t_window_119478 * (int64_t) 4,
                mem_135880 + (int64_t) 0, t_window_119478 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_135880);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137053_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137053_end -
                 futhark_mc_segmap_parloop_137053_start;
        
        ctx->futhark_mc_segmap_parloop_137053_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137053_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137053_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_137051(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125728 = tid;
    int num_tasks_136034 = info.nsubtasks;
    struct futhark_mc_task_137046 *futhark_mc_task_137046 =
                                  (struct futhark_mc_task_137046 *) args;
    struct futhark_context *ctx = futhark_mc_task_137046->ctx;
    uint64_t futhark_mc_segmap_nested_task_137051_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_137051_start = get_wall_time();
    
    int64_t n_119475 = futhark_mc_task_137046->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_137046->free_t_window_119478;
    int64_t i_119551 = futhark_mc_task_137046->free_i_119551;
    bool x_119552 = futhark_mc_task_137046->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_137046->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_137046->free_loop_cond_119740;
    int64_t gtid_125723 = futhark_mc_task_137046->free_gtid_125723;
    int64_t x_125847 = futhark_mc_task_137046->free_x_125847;
    int64_t min_arg_125858 = futhark_mc_task_137046->free_min_arg_125858;
    int64_t min_arg_125859 = futhark_mc_task_137046->free_min_arg_125859;
    int64_t min_res_125860 = futhark_mc_task_137046->free_min_res_125860;
    float max_res_125864 = futhark_mc_task_137046->free_max_res_125864;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_137046->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_137046->free_mem_126946,
                                  .size =0, .references =NULL};
    struct memblock mem_128668 = {.desc ="mem_128668", .mem =
                                  futhark_mc_task_137046->free_mem_128668,
                                  .size =0, .references =NULL};
    struct memblock mem_128671 = {.desc ="mem_128671", .mem =
                                  futhark_mc_task_137046->free_mem_128671,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 = futhark_mc_task_137046->free_bytes_128672;
    struct memblock mem_128693 = {.desc ="mem_128693", .mem =
                                  futhark_mc_task_137046->free_mem_128693,
                                  .size =0, .references =NULL};
    int64_t iter_136130;
    struct futhark_mc_segmap_parloop_struct_137052
    futhark_mc_segmap_parloop_struct_137052;
    
    futhark_mc_segmap_parloop_struct_137052.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137052.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137052.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_137052.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_137052.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_137052.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_137052.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_137052.free_gtid_125723 = gtid_125723;
    futhark_mc_segmap_parloop_struct_137052.free_x_125847 = x_125847;
    futhark_mc_segmap_parloop_struct_137052.free_min_arg_125858 =
        min_arg_125858;
    futhark_mc_segmap_parloop_struct_137052.free_min_arg_125859 =
        min_arg_125859;
    futhark_mc_segmap_parloop_struct_137052.free_min_res_125860 =
        min_res_125860;
    futhark_mc_segmap_parloop_struct_137052.free_max_res_125864 =
        max_res_125864;
    futhark_mc_segmap_parloop_struct_137052.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_137052.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_137052.free_mem_128668 = mem_128668.mem;
    futhark_mc_segmap_parloop_struct_137052.free_mem_128671 = mem_128671.mem;
    futhark_mc_segmap_parloop_struct_137052.free_bytes_128672 = bytes_128672;
    futhark_mc_segmap_parloop_struct_137052.free_mem_128693 = mem_128693.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137053_task;
    
    futhark_mc_segmap_parloop_137053_task.name =
        "futhark_mc_segmap_parloop_137053";
    futhark_mc_segmap_parloop_137053_task.fn = futhark_mc_segmap_parloop_137053;
    futhark_mc_segmap_parloop_137053_task.args =
        &futhark_mc_segmap_parloop_struct_137052;
    futhark_mc_segmap_parloop_137053_task.iterations = iterations;
    futhark_mc_segmap_parloop_137053_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137053_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137053_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137053_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137053_task);
    
    if (futhark_mc_segmap_parloop_137053_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137053_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137053_total_end -
                 futhark_mc_segmap_parloop_137053_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137053_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137053_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137053_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_137051_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_137051_end -
                 futhark_mc_segmap_nested_task_137051_start;
        
        ctx->futhark_mc_segmap_nested_task_137051_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_137051_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_137051_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_137038(void *args, int64_t start,
                                            int64_t end, int flat_tid_125722,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_137037
    *futhark_mc_segmap_parloop_struct_137037 =
    (struct futhark_mc_segmap_parloop_struct_137037 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_137037->ctx;
    uint64_t futhark_mc_segmap_parloop_137038_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137038_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_segmap_parloop_struct_137037->free_m_119474;
    int64_t n_119475 = futhark_mc_segmap_parloop_struct_137037->free_n_119475;
    int64_t t_window_119478 =
            futhark_mc_segmap_parloop_struct_137037->free_t_window_119478;
    int64_t i_119551 = futhark_mc_segmap_parloop_struct_137037->free_i_119551;
    bool x_119552 = futhark_mc_segmap_parloop_struct_137037->free_x_119552;
    int64_t min_res_119735 =
            futhark_mc_segmap_parloop_struct_137037->free_min_res_119735;
    bool loop_cond_119740 =
         futhark_mc_segmap_parloop_struct_137037->free_loop_cond_119740;
    float i64_res_119741 =
          futhark_mc_segmap_parloop_struct_137037->free_i64_res_119741;
    int64_t bytes_126882 =
            futhark_mc_segmap_parloop_struct_137037->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_segmap_parloop_struct_137037->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_segmap_parloop_struct_137037->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 =
            futhark_mc_segmap_parloop_struct_137037->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_segmap_parloop_struct_137037->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 =
            futhark_mc_segmap_parloop_struct_137037->free_bytes_128672;
    int64_t bytes_128690 =
            futhark_mc_segmap_parloop_struct_137037->free_bytes_128690;
    struct memblock mem_128772 = {.desc ="mem_128772", .mem =
                                  futhark_mc_segmap_parloop_struct_137037->free_mem_128772,
                                  .size =0, .references =NULL};
    size_t mem_128668_cached_sizze_137039 = 0;
    char *mem_128668 = NULL;
    size_t mem_128671_cached_sizze_137040 = 0;
    char *mem_128671 = NULL;
    size_t mem_128693_cached_sizze_137041 = 0;
    char *mem_128693 = NULL;
    int64_t iterations = end - start;
    int64_t iter_135787 = start;
    
    if (mem_128668_cached_sizze_137039 < (size_t) bytes_126882) {
        mem_128668 = realloc(mem_128668, bytes_126882);
        mem_128668_cached_sizze_137039 = bytes_126882;
    }
    if (mem_128671_cached_sizze_137040 < (size_t) bytes_126925) {
        mem_128671 = realloc(mem_128671, bytes_126925);
        mem_128671_cached_sizze_137040 = bytes_126925;
    }
    if (mem_128693_cached_sizze_137041 < (size_t) bytes_128690) {
        mem_128693 = realloc(mem_128693, bytes_128690);
        mem_128693_cached_sizze_137041 = bytes_128690;
    }
    for (; iter_135787 < end; iter_135787++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_136025 = m_119474;
        int64_t gtid_125723 = iter_135787;
        int64_t remnant_136026 = iter_135787 - gtid_125723;
        int64_t x_125847 = ((int64_t *) mem_126924.mem)[gtid_125723];
        int64_t flat_tid_125724 = (int64_t) 0;
        int32_t num_tasks_136027;
        struct futhark_mc_task_137042 futhark_mc_task_137042;
        
        futhark_mc_task_137042.ctx = ctx;
        futhark_mc_task_137042.free_n_119475 = n_119475;
        futhark_mc_task_137042.free_gtid_125723 = gtid_125723;
        futhark_mc_task_137042.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_137042.free_mem_128668 = mem_128668;
        futhark_mc_task_137042.free_mem_128671 = mem_128671;
        
        struct scheduler_segop futhark_mc_task_137042_task;
        
        futhark_mc_task_137042_task.args = &futhark_mc_task_137042;
        futhark_mc_task_137042_task.top_level_fn =
            futhark_mc_segmap_task_137043;
        futhark_mc_task_137042_task.name = "futhark_mc_segmap_task_137043";
        futhark_mc_task_137042_task.iterations = n_119475;
        futhark_mc_task_137042_task.task_time =
            &ctx->futhark_mc_segmap_task_137043_total_time;
        futhark_mc_task_137042_task.task_iter =
            &ctx->futhark_mc_segmap_task_137043_total_iter;
        futhark_mc_task_137042_task.sched = STATIC;
        futhark_mc_task_137042_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_137043_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_137042_task);
        
        if (futhark_mc_segmap_task_137043_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t min_arg_125858 = sub64(x_125847, (int64_t) 1);
        int64_t min_arg_125859 = sub64(x_125847, min_res_119735);
        int64_t min_res_125860 = smin64(t_window_119478, x_125847);
        float i64_res_125861 = sitofp_i64_f32(x_125847);
        float x_125862 = i64_res_119741 - i64_res_125861;
        float max_arg_125863 = x_125862 / 2.0F;
        float max_res_125864 = fmax32(0.0F, max_arg_125863);
        int64_t flat_tid_125726 = (int64_t) 0;
        int32_t num_tasks_136034;
        int64_t flat_tid_125728 = (int64_t) 0;
        struct futhark_mc_task_137046 futhark_mc_task_137046;
        
        futhark_mc_task_137046.ctx = ctx;
        futhark_mc_task_137046.free_n_119475 = n_119475;
        futhark_mc_task_137046.free_t_window_119478 = t_window_119478;
        futhark_mc_task_137046.free_i_119551 = i_119551;
        futhark_mc_task_137046.free_x_119552 = x_119552;
        futhark_mc_task_137046.free_min_res_119735 = min_res_119735;
        futhark_mc_task_137046.free_loop_cond_119740 = loop_cond_119740;
        futhark_mc_task_137046.free_gtid_125723 = gtid_125723;
        futhark_mc_task_137046.free_x_125847 = x_125847;
        futhark_mc_task_137046.free_min_arg_125858 = min_arg_125858;
        futhark_mc_task_137046.free_min_arg_125859 = min_arg_125859;
        futhark_mc_task_137046.free_min_res_125860 = min_res_125860;
        futhark_mc_task_137046.free_max_res_125864 = max_res_125864;
        futhark_mc_task_137046.free_mem_126921 = mem_126921.mem;
        futhark_mc_task_137046.free_mem_126946 = mem_126946.mem;
        futhark_mc_task_137046.free_mem_128668 = mem_128668;
        futhark_mc_task_137046.free_mem_128671 = mem_128671;
        futhark_mc_task_137046.free_bytes_128672 = bytes_128672;
        futhark_mc_task_137046.free_mem_128693 = mem_128693;
        
        struct scheduler_segop futhark_mc_task_137046_task;
        
        futhark_mc_task_137046_task.args = &futhark_mc_task_137046;
        futhark_mc_task_137046_task.top_level_fn =
            futhark_mc_segmap_task_137047;
        futhark_mc_task_137046_task.name = "futhark_mc_segmap_task_137047";
        futhark_mc_task_137046_task.iterations = n_119475;
        futhark_mc_task_137046_task.task_time =
            &ctx->futhark_mc_segmap_task_137047_total_time;
        futhark_mc_task_137046_task.task_iter =
            &ctx->futhark_mc_segmap_task_137047_total_iter;
        futhark_mc_task_137046_task.sched = DYNAMIC;
        futhark_mc_task_137046_task.nested_fn =
            futhark_mc_segmap_nested_task_137051;
        
        int futhark_mc_segmap_task_137047_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_137046_task);
        
        if (futhark_mc_segmap_task_137047_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_128772.mem + gtid_125723 * (t_window_119478 * n_119475) *
                (int64_t) 4, mem_128693 + (int64_t) 0, n_119475 *
                t_window_119478 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_128668);
    free(mem_128671);
    free(mem_128693);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137038_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137038_end -
                 futhark_mc_segmap_parloop_137038_start;
        
        ctx->futhark_mc_segmap_parloop_137038_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_137038_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_137038_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_137036(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_125722 = tid;
    int num_tasks_135643 = info.nsubtasks;
    struct futhark_mc_task_137029 *futhark_mc_task_137029 =
                                  (struct futhark_mc_task_137029 *) args;
    struct futhark_context *ctx = futhark_mc_task_137029->ctx;
    uint64_t futhark_mc_segmap_nested_task_137036_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_137036_start = get_wall_time();
    
    int64_t m_119474 = futhark_mc_task_137029->free_m_119474;
    int64_t n_119475 = futhark_mc_task_137029->free_n_119475;
    int64_t t_window_119478 = futhark_mc_task_137029->free_t_window_119478;
    int64_t i_119551 = futhark_mc_task_137029->free_i_119551;
    bool x_119552 = futhark_mc_task_137029->free_x_119552;
    int64_t min_res_119735 = futhark_mc_task_137029->free_min_res_119735;
    bool loop_cond_119740 = futhark_mc_task_137029->free_loop_cond_119740;
    float i64_res_119741 = futhark_mc_task_137029->free_i64_res_119741;
    int64_t bytes_126882 = futhark_mc_task_137029->free_bytes_126882;
    struct memblock mem_126921 = {.desc ="mem_126921", .mem =
                                  futhark_mc_task_137029->free_mem_126921,
                                  .size =0, .references =NULL};
    struct memblock mem_126924 = {.desc ="mem_126924", .mem =
                                  futhark_mc_task_137029->free_mem_126924,
                                  .size =0, .references =NULL};
    int64_t bytes_126925 = futhark_mc_task_137029->free_bytes_126925;
    struct memblock mem_126946 = {.desc ="mem_126946", .mem =
                                  futhark_mc_task_137029->free_mem_126946,
                                  .size =0, .references =NULL};
    int64_t bytes_128672 = futhark_mc_task_137029->free_bytes_128672;
    int64_t bytes_128690 = futhark_mc_task_137029->free_bytes_128690;
    struct memblock mem_128772 = {.desc ="mem_128772", .mem =
                                  futhark_mc_task_137029->free_mem_128772,
                                  .size =0, .references =NULL};
    int64_t iter_135787;
    struct futhark_mc_segmap_parloop_struct_137037
    futhark_mc_segmap_parloop_struct_137037;
    
    futhark_mc_segmap_parloop_struct_137037.ctx = ctx;
    futhark_mc_segmap_parloop_struct_137037.free_m_119474 = m_119474;
    futhark_mc_segmap_parloop_struct_137037.free_n_119475 = n_119475;
    futhark_mc_segmap_parloop_struct_137037.free_t_window_119478 =
        t_window_119478;
    futhark_mc_segmap_parloop_struct_137037.free_i_119551 = i_119551;
    futhark_mc_segmap_parloop_struct_137037.free_x_119552 = x_119552;
    futhark_mc_segmap_parloop_struct_137037.free_min_res_119735 =
        min_res_119735;
    futhark_mc_segmap_parloop_struct_137037.free_loop_cond_119740 =
        loop_cond_119740;
    futhark_mc_segmap_parloop_struct_137037.free_i64_res_119741 =
        i64_res_119741;
    futhark_mc_segmap_parloop_struct_137037.free_bytes_126882 = bytes_126882;
    futhark_mc_segmap_parloop_struct_137037.free_mem_126921 = mem_126921.mem;
    futhark_mc_segmap_parloop_struct_137037.free_mem_126924 = mem_126924.mem;
    futhark_mc_segmap_parloop_struct_137037.free_bytes_126925 = bytes_126925;
    futhark_mc_segmap_parloop_struct_137037.free_mem_126946 = mem_126946.mem;
    futhark_mc_segmap_parloop_struct_137037.free_bytes_128672 = bytes_128672;
    futhark_mc_segmap_parloop_struct_137037.free_bytes_128690 = bytes_128690;
    futhark_mc_segmap_parloop_struct_137037.free_mem_128772 = mem_128772.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_137038_task;
    
    futhark_mc_segmap_parloop_137038_task.name =
        "futhark_mc_segmap_parloop_137038";
    futhark_mc_segmap_parloop_137038_task.fn = futhark_mc_segmap_parloop_137038;
    futhark_mc_segmap_parloop_137038_task.args =
        &futhark_mc_segmap_parloop_struct_137037;
    futhark_mc_segmap_parloop_137038_task.iterations = iterations;
    futhark_mc_segmap_parloop_137038_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_137038_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_137038_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_137038_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_137038_task);
    
    if (futhark_mc_segmap_parloop_137038_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_137038_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_137038_total_end -
                 futhark_mc_segmap_parloop_137038_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137038_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137038_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_137038_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_137036_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_137036_end -
                 futhark_mc_segmap_nested_task_137036_start;
        
        ctx->futhark_mc_segmap_nested_task_137036_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_137036_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_137036_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                  arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_3d {
    struct memblock mem;
    int64_t shape[3];
};
struct futhark_f32_3d *futhark_new_f32_3d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1, int64_t dim2)
{
    struct futhark_f32_3d *bad = NULL;
    struct futhark_f32_3d *arr =
                          (struct futhark_f32_3d *) malloc(sizeof(struct futhark_f32_3d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1 * dim2) * 4,
                       "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    arr->shape[2] = dim2;
    memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1 * dim2) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_3d *futhark_new_raw_f32_3d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1,
                                              int64_t dim2)
{
    struct futhark_f32_3d *bad = NULL;
    struct futhark_f32_3d *arr =
                          (struct futhark_f32_3d *) malloc(sizeof(struct futhark_f32_3d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1 * dim2) * 4,
                       "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    arr->shape[2] = dim2;
    memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1 * dim2) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_3d(struct futhark_context *ctx, struct futhark_f32_3d *arr)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_3d(struct futhark_context *ctx,
                          struct futhark_f32_3d *arr, float *data)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                  arr->shape[1] *
                                                  arr->shape[2]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
char *futhark_values_raw_f32_3d(struct futhark_context *ctx,
                                struct futhark_f32_3d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_3d(struct futhark_context *ctx,
                                    struct futhark_f32_3d *arr)
{
    (void) ctx;
    return arr->shape;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_136238,
                             struct memblock *mem_out_p_136239,
                             struct memblock *mem_out_p_136240,
                             struct memblock *mem_out_p_136241,
                             int64_t *out_prim_out_136242,
                             struct memblock Y_mem_126881, int64_t m_119474,
                             int64_t n_119475, int64_t n_p_119477,
                             int64_t t_window_119478, int64_t l_window_119479,
                             int64_t t_degree_119480, int64_t l_degree_119481,
                             int64_t t_jump_119482, int64_t l_jump_119483,
                             int64_t inner_119484, int64_t outer_119485,
                             int64_t jump_threshold_119486,
                             int64_t max_group_sizze_119487)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_126921_cached_sizze_136243 = 0;
    char *mem_126921 = NULL;
    size_t mem_126924_cached_sizze_136244 = 0;
    char *mem_126924 = NULL;
    size_t mem_126946_cached_sizze_136245 = 0;
    char *mem_126946 = NULL;
    size_t mem_126968_cached_sizze_136246 = 0;
    char *mem_126968 = NULL;
    size_t mem_126990_cached_sizze_136247 = 0;
    char *mem_126990 = NULL;
    size_t mem_127048_cached_sizze_136248 = 0;
    char *mem_127048 = NULL;
    size_t mem_127052_cached_sizze_136249 = 0;
    char *mem_127052 = NULL;
    size_t mem_127110_cached_sizze_136250 = 0;
    char *mem_127110 = NULL;
    size_t mem_127114_cached_sizze_136251 = 0;
    char *mem_127114 = NULL;
    size_t mem_127190_cached_sizze_136252 = 0;
    char *mem_127190 = NULL;
    size_t mem_127212_cached_sizze_136253 = 0;
    char *mem_127212 = NULL;
    size_t mem_127234_cached_sizze_136254 = 0;
    char *mem_127234 = NULL;
    size_t mem_127292_cached_sizze_136255 = 0;
    char *mem_127292 = NULL;
    size_t mem_127861_cached_sizze_136256 = 0;
    char *mem_127861 = NULL;
    size_t mem_127865_cached_sizze_136257 = 0;
    char *mem_127865 = NULL;
    size_t mem_128404_cached_sizze_136258 = 0;
    char *mem_128404 = NULL;
    size_t mem_128426_cached_sizze_136259 = 0;
    char *mem_128426 = NULL;
    size_t mem_128580_cached_sizze_136260 = 0;
    char *mem_128580 = NULL;
    size_t mem_128583_cached_sizze_136261 = 0;
    char *mem_128583 = NULL;
    size_t mem_128586_cached_sizze_136262 = 0;
    char *mem_128586 = NULL;
    size_t mem_128589_cached_sizze_136263 = 0;
    char *mem_128589 = NULL;
    struct memblock mem_out_128841;
    
    mem_out_128841.references = NULL;
    
    struct memblock mem_out_128842;
    
    mem_out_128842.references = NULL;
    
    struct memblock mem_out_128843;
    
    mem_out_128843.references = NULL;
    
    struct memblock mem_out_128844;
    
    mem_out_128844.references = NULL;
    
    int64_t prim_out_128845;
    bool assert_cond_119488 = sle64((int64_t) 4, n_p_119477);
    bool assert_c_119489;
    
    if (!assert_cond_119488) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (n_p >= 4)",
                               "-> #0  stl.fut:67:13-33\n   #1  stl.fut:400:3-411:33\n   #2  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t x_119490 = smod64(t_window_119478, (int64_t) 2);
    bool assert_cond_119491 = x_119490 == (int64_t) 1;
    bool assert_c_119492;
    
    if (!assert_cond_119491) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x % 2 == 1)",
                               "-> #0  utils.fut:5:3-23\n   #1  /prelude/functional.fut:39:62-64\n   #2  stl.fut:69:18-35\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_119493 = slt64((int64_t) 0, t_window_119478);
    bool assert_c_119494;
    
    if (!assert_cond_119493) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x > 0)",
                               "-> #0  utils.fut:2:3-18\n   #1  /prelude/functional.fut:39:59-65\n   #2  stl.fut:69:18-35\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t x_119495 = smod64(l_window_119479, (int64_t) 2);
    bool assert_cond_119496 = x_119495 == (int64_t) 1;
    bool assert_c_119497;
    
    if (!assert_cond_119496) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x % 2 == 1)",
                               "-> #0  utils.fut:5:3-23\n   #1  /prelude/functional.fut:39:62-64\n   #2  stl.fut:70:18-35\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_119498 = slt64((int64_t) 0, l_window_119479);
    bool assert_c_119499;
    
    if (!assert_cond_119498) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x > 0)",
                               "-> #0  utils.fut:2:3-18\n   #1  /prelude/functional.fut:39:59-65\n   #2  stl.fut:70:18-35\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool cond_119500 = sle64((int64_t) 0, t_degree_119480);
    bool assert_cond_t_res_119501 = sle64(t_degree_119480, (int64_t) 2);
    bool x_119502 = cond_119500 && assert_cond_t_res_119501;
    bool assert_c_119503;
    
    if (!x_119502) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0 && x <= 2)",
                               "-> #0  utils.fut:8:3-29\n   #1  stl.fut:72:18-35\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool cond_119504 = sle64((int64_t) 0, l_degree_119481);
    bool assert_cond_t_res_119505 = sle64(l_degree_119481, (int64_t) 2);
    bool x_119506 = cond_119504 && assert_cond_t_res_119505;
    bool assert_c_119507;
    
    if (!x_119506) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0 && x <= 2)",
                               "-> #0  utils.fut:8:3-29\n   #1  stl.fut:73:18-35\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_119508 = sle64((int64_t) 0, t_jump_119482);
    bool assert_c_119509;
    
    if (!assert_cond_119508) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0)",
                               "-> #0  utils.fut:14:3-19\n   #1  stl.fut:75:16-34\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_119510 = sle64((int64_t) 0, l_jump_119483);
    bool assert_c_119511;
    
    if (!assert_cond_119510) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0)",
                               "-> #0  utils.fut:14:3-19\n   #1  stl.fut:76:16-34\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_119512 = slt64((int64_t) 0, inner_119484);
    bool assert_c_119513;
    
    if (!assert_cond_119512) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x > 0)",
                               "-> #0  utils.fut:2:3-18\n   #1  stl.fut:78:15-29\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_119514 = sle64((int64_t) 0, outer_119485);
    bool assert_c_119515;
    
    if (!assert_cond_119514) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0)",
                               "-> #0  utils.fut:14:3-19\n   #1  stl.fut:79:15-32\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    float i64_res_119516 = sitofp_i64_f32(n_119475);
    float i64_res_119517 = sitofp_i64_f32(n_p_119477);
    float binop_p_119518 = i64_res_119516 / i64_res_119517;
    float defunc_0_f_res_119519;
    
    defunc_0_f_res_119519 = futrts_ceil32(binop_p_119518);
    
    int64_t defunc_0_f_res_119520 = fptosi_f32_i64(defunc_0_f_res_119519);
    int64_t css_chunk_len_119521 = add64((int64_t) 2, defunc_0_f_res_119520);
    int64_t y_119522 = mul64((int64_t) 2, n_p_119477);
    int64_t C_len_119523 = add64(n_119475, y_119522);
    bool cond_119524 = l_jump_119483 == (int64_t) 1;
    int64_t l_n_m_119525;
    
    if (cond_119524) {
        l_n_m_119525 = n_119475;
    } else {
        bool zzero_119526 = l_jump_119483 == (int64_t) 0;
        bool nonzzero_119527 = !zzero_119526;
        bool nonzzero_cert_119528;
        
        if (!nonzzero_119527) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  stl.fut:87:42-51\n   #1  stl.fut:400:3-411:33\n   #2  stl.fut:387:1-411:33\n");
            if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_119529 = sdiv64(n_119475, l_jump_119483);
        int64_t l_n_m_f_res_119530 = add64((int64_t) 1, x_119529);
        
        l_n_m_119525 = l_n_m_f_res_119530;
    }
    
    bool cond_119531 = t_jump_119482 == (int64_t) 1;
    int64_t t_n_m_119532;
    
    if (cond_119531) {
        t_n_m_119532 = n_119475;
    } else {
        bool zzero_119533 = t_jump_119482 == (int64_t) 0;
        bool nonzzero_119534 = !zzero_119533;
        bool nonzzero_cert_119535;
        
        if (!nonzzero_119534) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  stl.fut:91:42-51\n   #1  stl.fut:400:3-411:33\n   #2  stl.fut:387:1-411:33\n");
            if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_119536 = sdiv64(n_119475, t_jump_119482);
        int64_t t_n_m_f_res_119537 = add64((int64_t) 1, x_119536);
        
        t_n_m_119532 = t_n_m_f_res_119537;
    }
    
    float x_119538 = i64_res_119516 / 2.0F;
    float floor_arg_119539 = 1.0F + x_119538;
    float floor_res_119540;
    
    floor_res_119540 = futrts_floor32(floor_arg_119539);
    
    int64_t defunc_0_f_res_119541 = fptosi_f32_i64(floor_res_119540);
    int64_t x_119542 = sub64(n_119475, defunc_0_f_res_119541);
    int64_t mid2_119543 = add64((int64_t) 1, x_119542);
    bool cond_119544 = defunc_0_f_res_119541 == mid2_119543;
    int64_t stl_res_119545;
    int64_t stl_res_119546;
    
    if (cond_119544) {
        int64_t stl_res_t_res_119547 = sub64(defunc_0_f_res_119541,
                                             (int64_t) 1);
        
        stl_res_119545 = stl_res_t_res_119547;
        stl_res_119546 = defunc_0_f_res_119541;
    } else {
        int64_t min_res_119548 = smin64(defunc_0_f_res_119541, mid2_119543);
        int64_t stl_res_f_res_119549 = sub64(min_res_119548, (int64_t) 1);
        int64_t max_res_119550 = smax64(defunc_0_f_res_119541, mid2_119543);
        
        stl_res_119545 = stl_res_f_res_119549;
        stl_res_119546 = max_res_119550;
    }
    
    int64_t i_119551 = sub64(n_119475, (int64_t) 1);
    bool x_119552 = sle64((int64_t) 0, i_119551);
    bool y_119553 = slt64(i_119551, n_119475);
    bool bounds_check_119554 = x_119552 && y_119553;
    bool index_certs_119555;
    
    if (!bounds_check_119554) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_119551,
                               "] out of bounds for array of shape [",
                               (long long) n_119475, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:38:13-20\n   #2  stl.fut:105:31-49\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t binop_x_126919 = m_119474 * n_119475;
    int64_t binop_y_126920 = (int64_t) 8 * binop_x_126919;
    int64_t bytes_126918 = smax64((int64_t) 0, binop_y_126920);
    
    if (mem_126921_cached_sizze_136243 < (size_t) bytes_126918) {
        mem_126921 = realloc(mem_126921, bytes_126918);
        mem_126921_cached_sizze_136243 = bytes_126918;
    }
    
    int64_t binop_y_126923 = (int64_t) 8 * m_119474;
    int64_t bytes_126922 = smax64((int64_t) 0, binop_y_126923);
    
    if (mem_126924_cached_sizze_136244 < (size_t) bytes_126922) {
        mem_126924 = realloc(mem_126924, bytes_126922);
        mem_126924_cached_sizze_136244 = bytes_126922;
    }
    
    int64_t binop_y_126883 = (int64_t) 8 * n_119475;
    int64_t bytes_126882 = smax64((int64_t) 0, binop_y_126883);
    int64_t flat_tid_121785 = (int64_t) 0;
    int32_t num_tasks_128846;
    int64_t flat_tid_121787 = (int64_t) 0;
    struct futhark_mc_task_136264 futhark_mc_task_136264;
    
    futhark_mc_task_136264.ctx = ctx;
    futhark_mc_task_136264.free_m_119474 = m_119474;
    futhark_mc_task_136264.free_n_119475 = n_119475;
    futhark_mc_task_136264.free_i_119551 = i_119551;
    futhark_mc_task_136264.free_Y_mem_126881 = Y_mem_126881.mem;
    futhark_mc_task_136264.free_bytes_126882 = bytes_126882;
    futhark_mc_task_136264.free_mem_126921 = mem_126921;
    futhark_mc_task_136264.free_mem_126924 = mem_126924;
    
    struct scheduler_segop futhark_mc_task_136264_task;
    
    futhark_mc_task_136264_task.args = &futhark_mc_task_136264;
    futhark_mc_task_136264_task.top_level_fn = futhark_mc_segmap_task_136265;
    futhark_mc_task_136264_task.name = "futhark_mc_segmap_task_136265";
    futhark_mc_task_136264_task.iterations = m_119474;
    futhark_mc_task_136264_task.task_time =
        &ctx->futhark_mc_segmap_task_136265_total_time;
    futhark_mc_task_136264_task.task_iter =
        &ctx->futhark_mc_segmap_task_136265_total_iter;
    futhark_mc_task_136264_task.sched = STATIC;
    futhark_mc_task_136264_task.nested_fn =
        futhark_mc_segmap_nested_task_136270;
    
    int futhark_mc_segmap_task_136265_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_136264_task);
    
    if (futhark_mc_segmap_task_136265_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_y_126945 = (int64_t) 4 * binop_x_126919;
    int64_t bytes_126943 = smax64((int64_t) 0, binop_y_126945);
    
    if (mem_126946_cached_sizze_136245 < (size_t) bytes_126943) {
        mem_126946 = realloc(mem_126946, bytes_126943);
        mem_126946_cached_sizze_136245 = bytes_126943;
    }
    
    int64_t binop_y_126926 = (int64_t) 4 * n_119475;
    int64_t bytes_126925 = smax64((int64_t) 0, binop_y_126926);
    int64_t flat_tid_121812 = (int64_t) 0;
    int32_t num_tasks_128909;
    int64_t flat_tid_121814 = (int64_t) 0;
    struct futhark_mc_task_136286 futhark_mc_task_136286;
    
    futhark_mc_task_136286.ctx = ctx;
    futhark_mc_task_136286.free_m_119474 = m_119474;
    futhark_mc_task_136286.free_n_119475 = n_119475;
    futhark_mc_task_136286.free_mem_126921 = mem_126921;
    futhark_mc_task_136286.free_bytes_126925 = bytes_126925;
    futhark_mc_task_136286.free_mem_126946 = mem_126946;
    
    struct scheduler_segop futhark_mc_task_136286_task;
    
    futhark_mc_task_136286_task.args = &futhark_mc_task_136286;
    futhark_mc_task_136286_task.top_level_fn = futhark_mc_segmap_task_136287;
    futhark_mc_task_136286_task.name = "futhark_mc_segmap_task_136287";
    futhark_mc_task_136286_task.iterations = m_119474;
    futhark_mc_task_136286_task.task_time =
        &ctx->futhark_mc_segmap_task_136287_total_time;
    futhark_mc_task_136286_task.task_iter =
        &ctx->futhark_mc_segmap_task_136287_total_iter;
    futhark_mc_task_136286_task.sched = STATIC;
    futhark_mc_task_136286_task.nested_fn =
        futhark_mc_segmap_nested_task_136291;
    
    int futhark_mc_segmap_task_136287_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_136286_task);
    
    if (futhark_mc_segmap_task_136287_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_119586 = slt64(n_p_119477, (int64_t) 0);
    bool valid_119587 = !bounds_invalid_upwards_119586;
    bool range_valid_c_119588;
    
    if (!valid_119587) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_p_119477, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:111:5-121:14\n   #3  stl.fut:400:3-411:33\n   #4  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool bounds_invalid_upwards_119590 = slt64(css_chunk_len_119521,
                                               (int64_t) 0);
    bool valid_119591 = !bounds_invalid_upwards_119590;
    bool range_valid_c_119592;
    
    if (!valid_119591) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) css_chunk_len_119521, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:114:17-120:39\n   #3  /prelude/soacs.fut:59:3-10\n   #4  /prelude/array.fut:195:3-17\n   #5  stl.fut:111:5-121:14\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t binop_x_126966 = n_p_119477 * css_chunk_len_119521;
    int64_t binop_y_126967 = (int64_t) 8 * binop_x_126966;
    int64_t bytes_126965 = smax64((int64_t) 0, binop_y_126967);
    
    if (mem_126968_cached_sizze_136246 < (size_t) bytes_126965) {
        mem_126968 = realloc(mem_126968, bytes_126965);
        mem_126968_cached_sizze_136246 = bytes_126965;
    }
    
    int64_t binop_y_126948 = (int64_t) 8 * css_chunk_len_119521;
    int64_t bytes_126947 = smax64((int64_t) 0, binop_y_126948);
    int64_t flat_tid_121822 = (int64_t) 0;
    int32_t num_tasks_128928;
    int64_t flat_tid_121824 = (int64_t) 0;
    struct futhark_mc_task_136299 futhark_mc_task_136299;
    
    futhark_mc_task_136299.ctx = ctx;
    futhark_mc_task_136299.free_n_p_119477 = n_p_119477;
    futhark_mc_task_136299.free_css_chunk_len_119521 = css_chunk_len_119521;
    futhark_mc_task_136299.free_i_119551 = i_119551;
    futhark_mc_task_136299.free_bytes_126947 = bytes_126947;
    futhark_mc_task_136299.free_mem_126968 = mem_126968;
    
    struct scheduler_segop futhark_mc_task_136299_task;
    
    futhark_mc_task_136299_task.args = &futhark_mc_task_136299;
    futhark_mc_task_136299_task.top_level_fn = futhark_mc_segmap_task_136300;
    futhark_mc_task_136299_task.name = "futhark_mc_segmap_task_136300";
    futhark_mc_task_136299_task.iterations = n_p_119477;
    futhark_mc_task_136299_task.task_time =
        &ctx->futhark_mc_segmap_task_136300_total_time;
    futhark_mc_task_136299_task.task_iter =
        &ctx->futhark_mc_segmap_task_136300_total_iter;
    futhark_mc_task_136299_task.sched = STATIC;
    futhark_mc_task_136299_task.nested_fn =
        futhark_mc_segmap_nested_task_136304;
    
    int futhark_mc_segmap_task_136300_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_136299_task);
    
    if (futhark_mc_segmap_task_136300_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_x_126988 = m_119474 * n_p_119477;
    int64_t binop_y_126989 = (int64_t) 4 * binop_x_126988;
    int64_t bytes_126987 = smax64((int64_t) 0, binop_y_126989);
    
    if (mem_126990_cached_sizze_136247 < (size_t) bytes_126987) {
        mem_126990 = realloc(mem_126990, bytes_126987);
        mem_126990_cached_sizze_136247 = bytes_126987;
    }
    
    int64_t binop_y_126970 = (int64_t) 4 * n_p_119477;
    int64_t bytes_126969 = smax64((int64_t) 0, binop_y_126970);
    int64_t flat_tid_121835 = (int64_t) 0;
    int32_t num_tasks_128951;
    int64_t flat_tid_121837 = (int64_t) 0;
    struct futhark_mc_task_136312 futhark_mc_task_136312;
    
    futhark_mc_task_136312.ctx = ctx;
    futhark_mc_task_136312.free_m_119474 = m_119474;
    futhark_mc_task_136312.free_n_119475 = n_119475;
    futhark_mc_task_136312.free_n_p_119477 = n_p_119477;
    futhark_mc_task_136312.free_css_chunk_len_119521 = css_chunk_len_119521;
    futhark_mc_task_136312.free_Y_mem_126881 = Y_mem_126881.mem;
    futhark_mc_task_136312.free_mem_126968 = mem_126968;
    futhark_mc_task_136312.free_bytes_126969 = bytes_126969;
    futhark_mc_task_136312.free_mem_126990 = mem_126990;
    
    struct scheduler_segop futhark_mc_task_136312_task;
    
    futhark_mc_task_136312_task.args = &futhark_mc_task_136312;
    futhark_mc_task_136312_task.top_level_fn = futhark_mc_segmap_task_136313;
    futhark_mc_task_136312_task.name = "futhark_mc_segmap_task_136313";
    futhark_mc_task_136312_task.iterations = m_119474;
    futhark_mc_task_136312_task.task_time =
        &ctx->futhark_mc_segmap_task_136313_total_time;
    futhark_mc_task_136312_task.task_iter =
        &ctx->futhark_mc_segmap_task_136313_total_iter;
    futhark_mc_task_136312_task.sched = STATIC;
    futhark_mc_task_136312_task.nested_fn =
        futhark_mc_segmap_nested_task_136317;
    
    int futhark_mc_segmap_task_136313_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_136312_task);
    
    if (futhark_mc_segmap_task_136313_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t min_res_119623 = smin64(n_119475, l_window_119479);
    bool bounds_invalid_upwards_119624 = slt64(l_n_m_119525, (int64_t) 0);
    bool valid_119625 = !bounds_invalid_upwards_119624;
    bool range_valid_c_119626;
    
    if (!valid_119625) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) l_n_m_119525, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  loess.fut:345:3-374:7\n   #3  loess.fut:409:15-61\n   #4  stl.fut:143:13-65\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:141:5-144:26\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_119628 = slt64((int64_t) 1, min_res_119623);
    float i64_res_119629 = sitofp_i64_f32(l_window_119479);
    int64_t binop_x_127046 = m_119474 * l_n_m_119525;
    int64_t binop_y_127047 = (int64_t) 8 * binop_x_127046;
    int64_t bytes_127045 = smax64((int64_t) 0, binop_y_127047);
    
    if (mem_127048_cached_sizze_136248 < (size_t) bytes_127045) {
        mem_127048 = realloc(mem_127048, bytes_127045);
        mem_127048_cached_sizze_136248 = bytes_127045;
    }
    
    int64_t binop_y_127051 = (int64_t) 4 * binop_x_127046;
    int64_t bytes_127049 = smax64((int64_t) 0, binop_y_127051);
    
    if (mem_127052_cached_sizze_136249 < (size_t) bytes_127049) {
        mem_127052 = realloc(mem_127052, bytes_127049);
        mem_127052_cached_sizze_136249 = bytes_127049;
    }
    
    int64_t binop_y_126995 = (int64_t) 4 * l_n_m_119525;
    int64_t bytes_126994 = smax64((int64_t) 0, binop_y_126995);
    int64_t binop_y_126998 = (int64_t) 8 * l_n_m_119525;
    int64_t bytes_126997 = smax64((int64_t) 0, binop_y_126998);
    int64_t flat_tid_121895 = (int64_t) 0;
    int32_t num_tasks_129049;
    int64_t flat_tid_121897 = (int64_t) 0;
    struct futhark_mc_task_136333 futhark_mc_task_136333;
    
    futhark_mc_task_136333.ctx = ctx;
    futhark_mc_task_136333.free_m_119474 = m_119474;
    futhark_mc_task_136333.free_n_119475 = n_119475;
    futhark_mc_task_136333.free_l_window_119479 = l_window_119479;
    futhark_mc_task_136333.free_l_jump_119483 = l_jump_119483;
    futhark_mc_task_136333.free_l_n_m_119525 = l_n_m_119525;
    futhark_mc_task_136333.free_i_119551 = i_119551;
    futhark_mc_task_136333.free_x_119552 = x_119552;
    futhark_mc_task_136333.free_min_res_119623 = min_res_119623;
    futhark_mc_task_136333.free_loop_cond_119628 = loop_cond_119628;
    futhark_mc_task_136333.free_i64_res_119629 = i64_res_119629;
    futhark_mc_task_136333.free_bytes_126882 = bytes_126882;
    futhark_mc_task_136333.free_mem_126921 = mem_126921;
    futhark_mc_task_136333.free_mem_126924 = mem_126924;
    futhark_mc_task_136333.free_bytes_126994 = bytes_126994;
    futhark_mc_task_136333.free_bytes_126997 = bytes_126997;
    futhark_mc_task_136333.free_mem_127048 = mem_127048;
    futhark_mc_task_136333.free_mem_127052 = mem_127052;
    
    struct scheduler_segop futhark_mc_task_136333_task;
    
    futhark_mc_task_136333_task.args = &futhark_mc_task_136333;
    futhark_mc_task_136333_task.top_level_fn = futhark_mc_segmap_task_136334;
    futhark_mc_task_136333_task.name = "futhark_mc_segmap_task_136334";
    futhark_mc_task_136333_task.iterations = m_119474;
    futhark_mc_task_136333_task.task_time =
        &ctx->futhark_mc_segmap_task_136334_total_time;
    futhark_mc_task_136333_task.task_iter =
        &ctx->futhark_mc_segmap_task_136334_total_iter;
    futhark_mc_task_136333_task.sched = DYNAMIC;
    futhark_mc_task_136333_task.nested_fn =
        futhark_mc_segmap_nested_task_136340;
    
    int futhark_mc_segmap_task_136334_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_136333_task);
    
    if (futhark_mc_segmap_task_136334_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t min_res_119735 = smin64(n_119475, t_window_119478);
    bool bounds_invalid_upwards_119736 = slt64(t_n_m_119532, (int64_t) 0);
    bool valid_119737 = !bounds_invalid_upwards_119736;
    bool range_valid_c_119738;
    
    if (!valid_119737) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) t_n_m_119532, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  loess.fut:345:3-374:7\n   #3  loess.fut:409:15-61\n   #4  stl.fut:150:13-65\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:148:5-151:26\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_119740 = slt64((int64_t) 1, min_res_119735);
    float i64_res_119741 = sitofp_i64_f32(t_window_119478);
    int64_t binop_x_127108 = m_119474 * t_n_m_119532;
    int64_t binop_y_127109 = (int64_t) 8 * binop_x_127108;
    int64_t bytes_127107 = smax64((int64_t) 0, binop_y_127109);
    
    if (mem_127110_cached_sizze_136250 < (size_t) bytes_127107) {
        mem_127110 = realloc(mem_127110, bytes_127107);
        mem_127110_cached_sizze_136250 = bytes_127107;
    }
    
    int64_t binop_y_127113 = (int64_t) 4 * binop_x_127108;
    int64_t bytes_127111 = smax64((int64_t) 0, binop_y_127113);
    
    if (mem_127114_cached_sizze_136251 < (size_t) bytes_127111) {
        mem_127114 = realloc(mem_127114, bytes_127111);
        mem_127114_cached_sizze_136251 = bytes_127111;
    }
    
    int64_t binop_y_127057 = (int64_t) 4 * t_n_m_119532;
    int64_t bytes_127056 = smax64((int64_t) 0, binop_y_127057);
    int64_t binop_y_127060 = (int64_t) 8 * t_n_m_119532;
    int64_t bytes_127059 = smax64((int64_t) 0, binop_y_127060);
    int64_t flat_tid_122004 = (int64_t) 0;
    int32_t num_tasks_129320;
    int64_t flat_tid_122006 = (int64_t) 0;
    struct futhark_mc_task_136354 futhark_mc_task_136354;
    
    futhark_mc_task_136354.ctx = ctx;
    futhark_mc_task_136354.free_m_119474 = m_119474;
    futhark_mc_task_136354.free_n_119475 = n_119475;
    futhark_mc_task_136354.free_t_window_119478 = t_window_119478;
    futhark_mc_task_136354.free_t_jump_119482 = t_jump_119482;
    futhark_mc_task_136354.free_t_n_m_119532 = t_n_m_119532;
    futhark_mc_task_136354.free_i_119551 = i_119551;
    futhark_mc_task_136354.free_x_119552 = x_119552;
    futhark_mc_task_136354.free_min_res_119735 = min_res_119735;
    futhark_mc_task_136354.free_loop_cond_119740 = loop_cond_119740;
    futhark_mc_task_136354.free_i64_res_119741 = i64_res_119741;
    futhark_mc_task_136354.free_bytes_126882 = bytes_126882;
    futhark_mc_task_136354.free_mem_126921 = mem_126921;
    futhark_mc_task_136354.free_mem_126924 = mem_126924;
    futhark_mc_task_136354.free_bytes_127056 = bytes_127056;
    futhark_mc_task_136354.free_bytes_127059 = bytes_127059;
    futhark_mc_task_136354.free_mem_127110 = mem_127110;
    futhark_mc_task_136354.free_mem_127114 = mem_127114;
    
    struct scheduler_segop futhark_mc_task_136354_task;
    
    futhark_mc_task_136354_task.args = &futhark_mc_task_136354;
    futhark_mc_task_136354_task.top_level_fn = futhark_mc_segmap_task_136355;
    futhark_mc_task_136354_task.name = "futhark_mc_segmap_task_136355";
    futhark_mc_task_136354_task.iterations = m_119474;
    futhark_mc_task_136354_task.task_time =
        &ctx->futhark_mc_segmap_task_136355_total_time;
    futhark_mc_task_136354_task.task_iter =
        &ctx->futhark_mc_segmap_task_136355_total_iter;
    futhark_mc_task_136354_task.sched = DYNAMIC;
    futhark_mc_task_136354_task.nested_fn =
        futhark_mc_segmap_nested_task_136361;
    
    int futhark_mc_segmap_task_136355_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_136354_task);
    
    if (futhark_mc_segmap_task_136355_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock mem_127118;
    
    mem_127118.references = NULL;
    if (memblock_alloc(ctx, &mem_127118, bytes_126943, "mem_127118")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_129591 = 0; i_129591 < m_119474; i_129591++) {
        for (int64_t i_129592 = 0; i_129592 < n_119475; i_129592++) {
            ((float *) mem_127118.mem)[i_129591 * n_119475 + i_129592] = 0.0F;
        }
    }
    
    struct memblock mem_127122;
    
    mem_127122.references = NULL;
    if (memblock_alloc(ctx, &mem_127122, bytes_126943, "mem_127122")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_129593 = 0; i_129593 < m_119474; i_129593++) {
        for (int64_t i_129594 = 0; i_129594 < n_119475; i_129594++) {
            ((float *) mem_127122.mem)[i_129593 * n_119475 + i_129594] = 1.0F;
        }
    }
    
    bool cond_119849 = slt64((int64_t) 1, l_jump_119483);
    bool cond_119850 = slt64((int64_t) 1, t_jump_119482);
    int64_t y_119851 = sub64(outer_119485, (int64_t) 1);
    bool loop_nonempty_119852 = slt64((int64_t) 0, outer_119485);
    bool bounds_invalid_upwards_119853 = slt64(C_len_119523, (int64_t) 0);
    bool valid_119854 = !bounds_invalid_upwards_119853;
    bool loop_not_taken_119855 = !assert_cond_119512;
    bool protect_assert_disj_119856 = valid_119854 || loop_not_taken_119855;
    bool loop_not_taken_119857 = !loop_nonempty_119852;
    bool protect_assert_disj_119858 = protect_assert_disj_119856 ||
         loop_not_taken_119857;
    bool range_valid_c_119859;
    
    if (!protect_assert_disj_119858) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) C_len_119523, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:194:20-59\n   #3  stl.fut:192:13-195:24\n   #4  stl.fut:400:3-411:33\n   #5  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool zzero_119861 = n_p_119477 == (int64_t) 0;
    bool nonzzero_119862 = !zzero_119861;
    bool protect_assert_disj_119863 = loop_not_taken_119855 || nonzzero_119862;
    bool protect_assert_disj_119864 = loop_not_taken_119857 ||
         protect_assert_disj_119863;
    bool nonzzero_cert_119865;
    
    if (!protect_assert_disj_119864) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "division by zero",
                               "-> #0  stl.fut:194:51-57\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:194:20-59\n   #4  stl.fut:192:13-195:24\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t x_119866 = add64(n_119475, n_p_119477);
    int64_t lifted_single_ma_arg_119867 = add64((int64_t) 1, x_119866);
    int64_t m_119868 = sub64(n_p_119477, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_119869 = sle64((int64_t) 0, m_119868);
    bool i_p_m_t_s_leq_w_119870 = slt64(m_119868, C_len_119523);
    bool i_lte_j_119871 = sle64((int64_t) 0, n_p_119477);
    bool y_119872 = zzero_leq_i_p_m_t_s_119869 && i_p_m_t_s_leq_w_119870;
    bool y_119873 = i_lte_j_119871 && y_119872;
    bool ok_or_empty_119874 = zzero_119861 || y_119873;
    bool protect_assert_disj_119875 = loop_not_taken_119855 ||
         ok_or_empty_119874;
    bool protect_assert_disj_119876 = loop_not_taken_119857 ||
         protect_assert_disj_119875;
    bool index_certs_119877;
    
    if (!protect_assert_disj_119876) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [:", (long long) n_p_119477,
                               "] out of bounds for array of shape [",
                               (long long) C_len_119523, "].",
                               "-> #0  stl.fut:30:24-30\n   #1  stl.fut:43:3-32\n   #2  stl.fut:200:30-50\n   #3  stl.fut:199:23-201:31\n   #4  stl.fut:400:3-411:33\n   #5  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool bounds_invalid_upwards_119878 = slt64(lifted_single_ma_arg_119867,
                                               (int64_t) 0);
    bool valid_119879 = !bounds_invalid_upwards_119878;
    bool protect_assert_disj_119880 = loop_not_taken_119855 || valid_119879;
    bool protect_assert_disj_119881 = loop_not_taken_119857 ||
         protect_assert_disj_119880;
    bool range_valid_c_119882;
    
    if (!protect_assert_disj_119881) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) lifted_single_ma_arg_119867,
                               " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:33:9-39:16\n   #3  stl.fut:43:3-32\n   #4  stl.fut:200:30-50\n   #5  stl.fut:199:23-201:31\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t lifted_single_ma_arg_119884 = add64((int64_t) 2, n_119475);
    bool i_p_m_t_s_leq_w_119885 = slt64(m_119868, lifted_single_ma_arg_119867);
    bool y_119886 = zzero_leq_i_p_m_t_s_119869 && i_p_m_t_s_leq_w_119885;
    bool y_119887 = i_lte_j_119871 && y_119886;
    bool ok_or_empty_119888 = zzero_119861 || y_119887;
    bool protect_assert_disj_119889 = loop_not_taken_119855 ||
         ok_or_empty_119888;
    bool protect_assert_disj_119890 = loop_not_taken_119857 ||
         protect_assert_disj_119889;
    bool index_certs_119891;
    
    if (!protect_assert_disj_119890) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [:", (long long) n_p_119477,
                               "] out of bounds for array of shape [",
                               (long long) lifted_single_ma_arg_119867, "].",
                               "-> #0  stl.fut:30:24-30\n   #1  /prelude/functional.fut:9:42-44\n   #2  stl.fut:43:3-58\n   #3  stl.fut:200:30-50\n   #4  stl.fut:199:23-201:31\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool bounds_invalid_upwards_119892 = slt64(lifted_single_ma_arg_119884,
                                               (int64_t) 0);
    bool valid_119893 = !bounds_invalid_upwards_119892;
    bool protect_assert_disj_119894 = loop_not_taken_119855 || valid_119893;
    bool protect_assert_disj_119895 = loop_not_taken_119857 ||
         protect_assert_disj_119894;
    bool range_valid_c_119896;
    
    if (!protect_assert_disj_119895) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) lifted_single_ma_arg_119884,
                               " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:33:9-39:16\n   #3  /prelude/functional.fut:9:42-44\n   #4  stl.fut:43:3-58\n   #5  stl.fut:200:30-50\n   #6  stl.fut:199:23-201:31\n   #7  stl.fut:400:3-411:33\n   #8  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool i_p_m_t_s_leq_w_119898 = slt64((int64_t) 2,
                                        lifted_single_ma_arg_119884);
    bool protect_assert_disj_119899 = loop_not_taken_119855 ||
         i_p_m_t_s_leq_w_119898;
    bool protect_assert_disj_119900 = loop_not_taken_119857 ||
         protect_assert_disj_119899;
    bool index_certs_119901;
    
    if (!protect_assert_disj_119900) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [:", (long long) (int64_t) 3,
                               "] out of bounds for array of shape [",
                               (long long) lifted_single_ma_arg_119884, "].",
                               "-> #0  stl.fut:30:24-30\n   #1  /prelude/functional.fut:9:42-44\n   #2  stl.fut:43:3-76\n   #3  stl.fut:200:30-50\n   #4  stl.fut:199:23-201:31\n   #5  stl.fut:400:3-411:33\n   #6  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    bool empty_slice_119902 = n_119475 == (int64_t) 0;
    int64_t i_p_m_t_s_119903 = add64(n_p_119477, i_119551);
    bool zzero_leq_i_p_m_t_s_119904 = sle64((int64_t) 0, i_p_m_t_s_119903);
    bool i_p_m_t_s_leq_w_119905 = slt64(i_p_m_t_s_119903, C_len_119523);
    bool i_lte_j_119906 = sle64(n_p_119477, x_119866);
    bool y_119907 = i_lte_j_119871 && i_p_m_t_s_leq_w_119905;
    bool y_119908 = zzero_leq_i_p_m_t_s_119904 && y_119907;
    bool y_119909 = i_lte_j_119906 && y_119908;
    bool forwards_ok_119910 = i_lte_j_119871 && y_119909;
    bool ok_or_empty_119911 = empty_slice_119902 || forwards_ok_119910;
    bool protect_assert_disj_119912 = loop_not_taken_119855 ||
         ok_or_empty_119911;
    bool protect_assert_disj_119913 = loop_not_taken_119857 ||
         protect_assert_disj_119912;
    bool index_certs_119914;
    
    if (!protect_assert_disj_119913) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) n_p_119477, ":",
                               (long long) x_119866,
                               "] out of bounds for array of shape [",
                               (long long) C_len_119523, "].",
                               "-> #0  stl.fut:231:35-50\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  stl.fut:229:13-234:26\n   #4  stl.fut:400:3-411:33\n   #5  stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t j_m_i_119915 = sub64(stl_res_119546, stl_res_119545);
    bool cond_119916 = slt64(l_jump_119483, jump_threshold_119486);
    bool cond_f_res_119917 = slt64(max_group_sizze_119487, l_window_119479);
    bool x_119918 = !cond_119916;
    bool y_119919 = cond_f_res_119917 && x_119918;
    bool cond_119920 = cond_119916 || y_119919;
    bool cond_119921 = slt64(t_jump_119482, jump_threshold_119486);
    bool cond_f_res_119922 = slt64(max_group_sizze_119487, t_window_119478);
    bool x_119923 = !cond_119921;
    bool y_119924 = cond_f_res_119922 && x_119923;
    bool cond_119925 = cond_119921 || y_119924;
    
    if (mem_127190_cached_sizze_136252 < (size_t) bytes_126943) {
        mem_127190 = realloc(mem_127190, bytes_126943);
        mem_127190_cached_sizze_136252 = bytes_126943;
    }
    if (mem_127212_cached_sizze_136253 < (size_t) bytes_126987) {
        mem_127212 = realloc(mem_127212, bytes_126987);
        mem_127212_cached_sizze_136253 = bytes_126987;
    }
    
    int64_t binop_x_127232 = m_119474 * C_len_119523;
    int64_t binop_y_127233 = (int64_t) 4 * binop_x_127232;
    int64_t bytes_127231 = smax64((int64_t) 0, binop_y_127233);
    
    if (mem_127234_cached_sizze_136254 < (size_t) bytes_127231) {
        mem_127234 = realloc(mem_127234, bytes_127231);
        mem_127234_cached_sizze_136254 = bytes_127231;
    }
    
    int64_t binop_y_127214 = (int64_t) 4 * C_len_119523;
    int64_t bytes_127213 = smax64((int64_t) 0, binop_y_127214);
    
    if (mem_127292_cached_sizze_136255 < (size_t) bytes_126943) {
        mem_127292 = realloc(mem_127292, bytes_126943);
        mem_127292_cached_sizze_136255 = bytes_126943;
    }
    
    int64_t binop_y_127236 = (int64_t) 4 * lifted_single_ma_arg_119867;
    int64_t bytes_127235 = smax64((int64_t) 0, binop_y_127236);
    int64_t binop_y_127239 = (int64_t) 4 * lifted_single_ma_arg_119884;
    int64_t bytes_127238 = smax64((int64_t) 0, binop_y_127239);
    int64_t ext_127785;
    
    if (cond_119849) {
        ext_127785 = n_119475;
    } else {
        ext_127785 = l_n_m_119525;
    }
    if (mem_127861_cached_sizze_136256 < (size_t) bytes_126943) {
        mem_127861 = realloc(mem_127861, bytes_126943);
        mem_127861_cached_sizze_136256 = bytes_126943;
    }
    if (mem_127865_cached_sizze_136257 < (size_t) bytes_126943) {
        mem_127865 = realloc(mem_127865, bytes_126943);
        mem_127865_cached_sizze_136257 = bytes_126943;
    }
    
    int64_t ext_128362;
    
    if (cond_119850) {
        ext_128362 = n_119475;
    } else {
        ext_128362 = t_n_m_119532;
    }
    
    int64_t ext_128635;
    int64_t ext_128633;
    int64_t ext_128629;
    int64_t ext_128628;
    int64_t ext_128627;
    int64_t ext_128626;
    int64_t ext_128625;
    int64_t ext_128624;
    int64_t ext_128623;
    struct memblock ext_mem_128622;
    
    ext_mem_128622.references = NULL;
    
    struct memblock ext_mem_128621;
    
    ext_mem_128621.references = NULL;
    
    struct memblock ext_mem_128620;
    
    ext_mem_128620.references = NULL;
    
    struct memblock mem_param_127130;
    
    mem_param_127130.references = NULL;
    
    int64_t ctx_param_ext_127132;
    int64_t ctx_param_ext_127134;
    struct memblock mem_param_127138;
    
    mem_param_127138.references = NULL;
    
    int64_t ctx_param_ext_127139;
    int64_t ctx_param_ext_127140;
    int64_t ctx_param_ext_127141;
    int64_t ctx_param_ext_127142;
    int64_t ctx_param_ext_127143;
    int64_t ctx_param_ext_127144;
    int64_t ctx_param_ext_127145;
    struct memblock mem_param_127146;
    
    mem_param_127146.references = NULL;
    ctx_param_ext_127132 = n_119475;
    ctx_param_ext_127134 = n_119475;
    ctx_param_ext_127139 = m_119474;
    ctx_param_ext_127140 = n_119475;
    ctx_param_ext_127141 = (int64_t) 0;
    ctx_param_ext_127142 = n_119475;
    ctx_param_ext_127143 = m_119474;
    ctx_param_ext_127144 = (int64_t) 1;
    ctx_param_ext_127145 = n_119475;
    if (memblock_set(ctx, &mem_param_127130, &mem_127118, "mem_127118") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_127138, &mem_127118, "mem_127118") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_127146, &mem_127122, "mem_127122") != 0)
        return 1;
    for (int64_t i_outer_119929 = 0; i_outer_119929 < outer_119485;
         i_outer_119929++) {
        int64_t ext_128374;
        int64_t ext_128372;
        struct memblock ext_mem_128368;
        
        ext_mem_128368.references = NULL;
        
        struct memblock ext_mem_128367;
        
        ext_mem_128367.references = NULL;
        
        struct memblock mem_param_127160;
        
        mem_param_127160.references = NULL;
        
        int64_t ctx_param_ext_127162;
        int64_t ctx_param_ext_127164;
        struct memblock mem_param_127168;
        
        mem_param_127168.references = NULL;
        ctx_param_ext_127162 = ctx_param_ext_127132;
        ctx_param_ext_127164 = ctx_param_ext_127134;
        if (memblock_set(ctx, &mem_param_127160, &mem_param_127130,
                         "mem_param_127130") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_127168, &mem_param_127138,
                         "mem_param_127138") != 0)
            return 1;
        for (int64_t _i_inner_119935 = 0; _i_inner_119935 < inner_119484;
             _i_inner_119935++) {
            int64_t flat_tid_122113 = (int64_t) 0;
            int32_t num_tasks_129616;
            int64_t flat_tid_122115 = (int64_t) 0;
            struct futhark_mc_task_136375 futhark_mc_task_136375;
            
            futhark_mc_task_136375.ctx = ctx;
            futhark_mc_task_136375.free_m_119474 = m_119474;
            futhark_mc_task_136375.free_n_119475 = n_119475;
            futhark_mc_task_136375.free_Y_mem_126881 = Y_mem_126881.mem;
            futhark_mc_task_136375.free_bytes_126925 = bytes_126925;
            futhark_mc_task_136375.free_ctx_param_ext_127164 =
                ctx_param_ext_127164;
            futhark_mc_task_136375.free_mem_param_127168 = mem_param_127168.mem;
            futhark_mc_task_136375.free_mem_127190 = mem_127190;
            
            struct scheduler_segop futhark_mc_task_136375_task;
            
            futhark_mc_task_136375_task.args = &futhark_mc_task_136375;
            futhark_mc_task_136375_task.top_level_fn =
                futhark_mc_segmap_task_136376;
            futhark_mc_task_136375_task.name = "futhark_mc_segmap_task_136376";
            futhark_mc_task_136375_task.iterations = m_119474;
            futhark_mc_task_136375_task.task_time =
                &ctx->futhark_mc_segmap_task_136376_total_time;
            futhark_mc_task_136375_task.task_iter =
                &ctx->futhark_mc_segmap_task_136376_total_iter;
            futhark_mc_task_136375_task.sched = STATIC;
            futhark_mc_task_136375_task.nested_fn =
                futhark_mc_segmap_nested_task_136380;
            
            int futhark_mc_segmap_task_136376_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136375_task);
            
            if (futhark_mc_segmap_task_136376_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_122125 = (int64_t) 0;
            int32_t num_tasks_129637;
            int64_t flat_tid_122127 = (int64_t) 0;
            struct futhark_mc_task_136388 futhark_mc_task_136388;
            
            futhark_mc_task_136388.ctx = ctx;
            futhark_mc_task_136388.free_m_119474 = m_119474;
            futhark_mc_task_136388.free_n_119475 = n_119475;
            futhark_mc_task_136388.free_n_p_119477 = n_p_119477;
            futhark_mc_task_136388.free_css_chunk_len_119521 =
                css_chunk_len_119521;
            futhark_mc_task_136388.free_mem_126968 = mem_126968;
            futhark_mc_task_136388.free_bytes_126969 = bytes_126969;
            futhark_mc_task_136388.free_mem_126990 = mem_126990;
            futhark_mc_task_136388.free_mem_127190 = mem_127190;
            futhark_mc_task_136388.free_mem_127212 = mem_127212;
            
            struct scheduler_segop futhark_mc_task_136388_task;
            
            futhark_mc_task_136388_task.args = &futhark_mc_task_136388;
            futhark_mc_task_136388_task.top_level_fn =
                futhark_mc_segmap_task_136389;
            futhark_mc_task_136388_task.name = "futhark_mc_segmap_task_136389";
            futhark_mc_task_136388_task.iterations = m_119474;
            futhark_mc_task_136388_task.task_time =
                &ctx->futhark_mc_segmap_task_136389_total_time;
            futhark_mc_task_136388_task.task_iter =
                &ctx->futhark_mc_segmap_task_136389_total_iter;
            futhark_mc_task_136388_task.sched = STATIC;
            futhark_mc_task_136388_task.nested_fn =
                futhark_mc_segmap_nested_task_136393;
            
            int futhark_mc_segmap_task_136389_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136388_task);
            
            if (futhark_mc_segmap_task_136389_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_122186 = (int64_t) 0;
            int32_t num_tasks_129735;
            int64_t flat_tid_122188 = (int64_t) 0;
            struct futhark_mc_task_136409 futhark_mc_task_136409;
            
            futhark_mc_task_136409.ctx = ctx;
            futhark_mc_task_136409.free_m_119474 = m_119474;
            futhark_mc_task_136409.free_n_p_119477 = n_p_119477;
            futhark_mc_task_136409.free_C_len_119523 = C_len_119523;
            futhark_mc_task_136409.free_mem_127212 = mem_127212;
            futhark_mc_task_136409.free_bytes_127213 = bytes_127213;
            futhark_mc_task_136409.free_mem_127234 = mem_127234;
            
            struct scheduler_segop futhark_mc_task_136409_task;
            
            futhark_mc_task_136409_task.args = &futhark_mc_task_136409;
            futhark_mc_task_136409_task.top_level_fn =
                futhark_mc_segmap_task_136410;
            futhark_mc_task_136409_task.name = "futhark_mc_segmap_task_136410";
            futhark_mc_task_136409_task.iterations = m_119474;
            futhark_mc_task_136409_task.task_time =
                &ctx->futhark_mc_segmap_task_136410_total_time;
            futhark_mc_task_136409_task.task_iter =
                &ctx->futhark_mc_segmap_task_136410_total_iter;
            futhark_mc_task_136409_task.sched = STATIC;
            futhark_mc_task_136409_task.nested_fn =
                futhark_mc_segmap_nested_task_136414;
            
            int futhark_mc_segmap_task_136410_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136409_task);
            
            if (futhark_mc_segmap_task_136410_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_122201 = (int64_t) 0;
            int32_t num_tasks_129762;
            int64_t flat_tid_122203 = (int64_t) 0;
            struct futhark_mc_task_136422 futhark_mc_task_136422;
            
            futhark_mc_task_136422.ctx = ctx;
            futhark_mc_task_136422.free_m_119474 = m_119474;
            futhark_mc_task_136422.free_n_119475 = n_119475;
            futhark_mc_task_136422.free_n_p_119477 = n_p_119477;
            futhark_mc_task_136422.free_i64_res_119517 = i64_res_119517;
            futhark_mc_task_136422.free_C_len_119523 = C_len_119523;
            futhark_mc_task_136422.free_lifted_single_ma_arg_119867 =
                lifted_single_ma_arg_119867;
            futhark_mc_task_136422.free_lifted_single_ma_arg_119884 =
                lifted_single_ma_arg_119884;
            futhark_mc_task_136422.free_bytes_126925 = bytes_126925;
            futhark_mc_task_136422.free_mem_127234 = mem_127234;
            futhark_mc_task_136422.free_bytes_127235 = bytes_127235;
            futhark_mc_task_136422.free_bytes_127238 = bytes_127238;
            futhark_mc_task_136422.free_mem_127292 = mem_127292;
            
            struct scheduler_segop futhark_mc_task_136422_task;
            
            futhark_mc_task_136422_task.args = &futhark_mc_task_136422;
            futhark_mc_task_136422_task.top_level_fn =
                futhark_mc_segmap_task_136423;
            futhark_mc_task_136422_task.name = "futhark_mc_segmap_task_136423";
            futhark_mc_task_136422_task.iterations = m_119474;
            futhark_mc_task_136422_task.task_time =
                &ctx->futhark_mc_segmap_task_136423_total_time;
            futhark_mc_task_136422_task.task_iter =
                &ctx->futhark_mc_segmap_task_136423_total_iter;
            futhark_mc_task_136422_task.sched = STATIC;
            futhark_mc_task_136422_task.nested_fn =
                futhark_mc_segmap_nested_task_136429;
            
            int futhark_mc_segmap_task_136423_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136422_task);
            
            if (futhark_mc_segmap_task_136423_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock ext_mem_127761;
            
            ext_mem_127761.references = NULL;
            
            struct memblock ext_mem_127760;
            
            ext_mem_127760.references = NULL;
            if (cond_119920) {
                bool match_lit_120071 = (int64_t) 0 == l_degree_119481;
                struct memblock ext_mem_127410;
                
                ext_mem_127410.references = NULL;
                
                struct memblock ext_mem_127409;
                
                ext_mem_127409.references = NULL;
                if (match_lit_120071) {
                    struct memblock mem_127296;
                    
                    mem_127296.references = NULL;
                    if (memblock_alloc(ctx, &mem_127296, bytes_127049,
                                       "mem_127296")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_130004 = 0; i_130004 < m_119474;
                         i_130004++) {
                        for (int64_t i_130005 = 0; i_130005 < l_n_m_119525;
                             i_130005++) {
                            ((float *) mem_127296.mem)[i_130004 * l_n_m_119525 +
                                                       i_130005] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_127318;
                    
                    mem_127318.references = NULL;
                    if (memblock_alloc(ctx, &mem_127318, bytes_127049,
                                       "mem_127318")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t flat_tid_122305 = (int64_t) 0;
                    int32_t num_tasks_130006;
                    int64_t flat_tid_122307 = (int64_t) 0;
                    struct futhark_mc_task_136471 futhark_mc_task_136471;
                    
                    futhark_mc_task_136471.ctx = ctx;
                    futhark_mc_task_136471.free_m_119474 = m_119474;
                    futhark_mc_task_136471.free_n_119475 = n_119475;
                    futhark_mc_task_136471.free_l_window_119479 =
                        l_window_119479;
                    futhark_mc_task_136471.free_t_jump_119482 = t_jump_119482;
                    futhark_mc_task_136471.free_l_n_m_119525 = l_n_m_119525;
                    futhark_mc_task_136471.free_i_119551 = i_119551;
                    futhark_mc_task_136471.free_bytes_126994 = bytes_126994;
                    futhark_mc_task_136471.free_mem_127048 = mem_127048;
                    futhark_mc_task_136471.free_mem_127052 = mem_127052;
                    futhark_mc_task_136471.free_ctx_param_ext_127141 =
                        ctx_param_ext_127141;
                    futhark_mc_task_136471.free_ctx_param_ext_127142 =
                        ctx_param_ext_127142;
                    futhark_mc_task_136471.free_ctx_param_ext_127144 =
                        ctx_param_ext_127144;
                    futhark_mc_task_136471.free_mem_param_127146 =
                        mem_param_127146.mem;
                    futhark_mc_task_136471.free_mem_127292 = mem_127292;
                    futhark_mc_task_136471.free_mem_127318 = mem_127318.mem;
                    
                    struct scheduler_segop futhark_mc_task_136471_task;
                    
                    futhark_mc_task_136471_task.args = &futhark_mc_task_136471;
                    futhark_mc_task_136471_task.top_level_fn =
                        futhark_mc_segmap_task_136472;
                    futhark_mc_task_136471_task.name =
                        "futhark_mc_segmap_task_136472";
                    futhark_mc_task_136471_task.iterations = m_119474;
                    futhark_mc_task_136471_task.task_time =
                        &ctx->futhark_mc_segmap_task_136472_total_time;
                    futhark_mc_task_136471_task.task_iter =
                        &ctx->futhark_mc_segmap_task_136472_total_iter;
                    futhark_mc_task_136471_task.sched = STATIC;
                    futhark_mc_task_136471_task.nested_fn =
                        futhark_mc_segmap_nested_task_136476;
                    
                    int futhark_mc_segmap_task_136472_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_136471_task);
                    
                    if (futhark_mc_segmap_task_136472_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_127410, &mem_127318,
                                     "mem_127318") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_127409, &mem_127296,
                                     "mem_127296") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127318, "mem_127318") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127296, "mem_127296") != 0)
                        return 1;
                } else {
                    bool match_lit_120140 = (int64_t) 1 == l_degree_119481;
                    struct memblock ext_mem_127408;
                    
                    ext_mem_127408.references = NULL;
                    
                    struct memblock ext_mem_127407;
                    
                    ext_mem_127407.references = NULL;
                    if (match_lit_120140) {
                        struct memblock mem_127358;
                        
                        mem_127358.references = NULL;
                        if (memblock_alloc(ctx, &mem_127358, bytes_127049,
                                           "mem_127358")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_127362;
                        
                        mem_127362.references = NULL;
                        if (memblock_alloc(ctx, &mem_127362, bytes_127049,
                                           "mem_127362")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_122490 = (int64_t) 0;
                        int32_t num_tasks_130295;
                        int64_t flat_tid_122492 = (int64_t) 0;
                        struct futhark_mc_task_136497 futhark_mc_task_136497;
                        
                        futhark_mc_task_136497.ctx = ctx;
                        futhark_mc_task_136497.free_m_119474 = m_119474;
                        futhark_mc_task_136497.free_n_119475 = n_119475;
                        futhark_mc_task_136497.free_l_window_119479 =
                            l_window_119479;
                        futhark_mc_task_136497.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136497.free_l_n_m_119525 = l_n_m_119525;
                        futhark_mc_task_136497.free_i_119551 = i_119551;
                        futhark_mc_task_136497.free_bytes_126994 = bytes_126994;
                        futhark_mc_task_136497.free_mem_127048 = mem_127048;
                        futhark_mc_task_136497.free_mem_127052 = mem_127052;
                        futhark_mc_task_136497.free_ctx_param_ext_127141 =
                            ctx_param_ext_127141;
                        futhark_mc_task_136497.free_ctx_param_ext_127142 =
                            ctx_param_ext_127142;
                        futhark_mc_task_136497.free_ctx_param_ext_127144 =
                            ctx_param_ext_127144;
                        futhark_mc_task_136497.free_mem_param_127146 =
                            mem_param_127146.mem;
                        futhark_mc_task_136497.free_mem_127292 = mem_127292;
                        futhark_mc_task_136497.free_mem_127358 = mem_127358.mem;
                        futhark_mc_task_136497.free_mem_127362 = mem_127362.mem;
                        
                        struct scheduler_segop futhark_mc_task_136497_task;
                        
                        futhark_mc_task_136497_task.args =
                            &futhark_mc_task_136497;
                        futhark_mc_task_136497_task.top_level_fn =
                            futhark_mc_segmap_task_136498;
                        futhark_mc_task_136497_task.name =
                            "futhark_mc_segmap_task_136498";
                        futhark_mc_task_136497_task.iterations = m_119474;
                        futhark_mc_task_136497_task.task_time =
                            &ctx->futhark_mc_segmap_task_136498_total_time;
                        futhark_mc_task_136497_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136498_total_iter;
                        futhark_mc_task_136497_task.sched = STATIC;
                        futhark_mc_task_136497_task.nested_fn =
                            futhark_mc_segmap_nested_task_136503;
                        
                        int futhark_mc_segmap_task_136498_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136497_task);
                        
                        if (futhark_mc_segmap_task_136498_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_127408, &mem_127358,
                                         "mem_127358") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_127407, &mem_127362,
                                         "mem_127362") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127362, "mem_127362") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127358, "mem_127358") != 0)
                            return 1;
                    } else {
                        struct memblock mem_127402;
                        
                        mem_127402.references = NULL;
                        if (memblock_alloc(ctx, &mem_127402, bytes_127049,
                                           "mem_127402")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_127406;
                        
                        mem_127406.references = NULL;
                        if (memblock_alloc(ctx, &mem_127406, bytes_127049,
                                           "mem_127406")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_122760 = (int64_t) 0;
                        int32_t num_tasks_130722;
                        int64_t flat_tid_122762 = (int64_t) 0;
                        struct futhark_mc_task_136528 futhark_mc_task_136528;
                        
                        futhark_mc_task_136528.ctx = ctx;
                        futhark_mc_task_136528.free_m_119474 = m_119474;
                        futhark_mc_task_136528.free_n_119475 = n_119475;
                        futhark_mc_task_136528.free_l_window_119479 =
                            l_window_119479;
                        futhark_mc_task_136528.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136528.free_l_n_m_119525 = l_n_m_119525;
                        futhark_mc_task_136528.free_i_119551 = i_119551;
                        futhark_mc_task_136528.free_bytes_126994 = bytes_126994;
                        futhark_mc_task_136528.free_mem_127048 = mem_127048;
                        futhark_mc_task_136528.free_mem_127052 = mem_127052;
                        futhark_mc_task_136528.free_ctx_param_ext_127141 =
                            ctx_param_ext_127141;
                        futhark_mc_task_136528.free_ctx_param_ext_127142 =
                            ctx_param_ext_127142;
                        futhark_mc_task_136528.free_ctx_param_ext_127144 =
                            ctx_param_ext_127144;
                        futhark_mc_task_136528.free_mem_param_127146 =
                            mem_param_127146.mem;
                        futhark_mc_task_136528.free_mem_127292 = mem_127292;
                        futhark_mc_task_136528.free_mem_127402 = mem_127402.mem;
                        futhark_mc_task_136528.free_mem_127406 = mem_127406.mem;
                        
                        struct scheduler_segop futhark_mc_task_136528_task;
                        
                        futhark_mc_task_136528_task.args =
                            &futhark_mc_task_136528;
                        futhark_mc_task_136528_task.top_level_fn =
                            futhark_mc_segmap_task_136529;
                        futhark_mc_task_136528_task.name =
                            "futhark_mc_segmap_task_136529";
                        futhark_mc_task_136528_task.iterations = m_119474;
                        futhark_mc_task_136528_task.task_time =
                            &ctx->futhark_mc_segmap_task_136529_total_time;
                        futhark_mc_task_136528_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136529_total_iter;
                        futhark_mc_task_136528_task.sched = STATIC;
                        futhark_mc_task_136528_task.nested_fn =
                            futhark_mc_segmap_nested_task_136534;
                        
                        int futhark_mc_segmap_task_136529_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136528_task);
                        
                        if (futhark_mc_segmap_task_136529_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_127408, &mem_127402,
                                         "mem_127402") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_127407, &mem_127406,
                                         "mem_127406") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127406, "mem_127406") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127402, "mem_127402") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_127410, &ext_mem_127408,
                                     "ext_mem_127408") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_127409, &ext_mem_127407,
                                     "ext_mem_127407") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127407,
                                       "ext_mem_127407") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127408,
                                       "ext_mem_127408") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_127761, &ext_mem_127410,
                                 "ext_mem_127410") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_127760, &ext_mem_127409,
                                 "ext_mem_127409") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_127409, "ext_mem_127409") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_127410, "ext_mem_127410") != 0)
                    return 1;
            } else {
                bool match_lit_120365 = (int64_t) 0 == l_degree_119481;
                struct memblock ext_mem_127759;
                
                ext_mem_127759.references = NULL;
                
                struct memblock ext_mem_127758;
                
                ext_mem_127758.references = NULL;
                if (match_lit_120365) {
                    struct memblock mem_127414;
                    
                    mem_127414.references = NULL;
                    if (memblock_alloc(ctx, &mem_127414, bytes_127049,
                                       "mem_127414")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_131281 = 0; i_131281 < m_119474;
                         i_131281++) {
                        for (int64_t i_131282 = 0; i_131282 < l_n_m_119525;
                             i_131282++) {
                            ((float *) mem_127414.mem)[i_131281 * l_n_m_119525 +
                                                       i_131282] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_127469;
                    
                    mem_127469.references = NULL;
                    if (memblock_alloc(ctx, &mem_127469, bytes_127049,
                                       "mem_127469")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t binop_y_127416 = (int64_t) 4 * l_window_119479;
                    int64_t bytes_127415 = smax64((int64_t) 0, binop_y_127416);
                    int64_t flat_tid_123126 = (int64_t) 0;
                    int32_t num_tasks_131283;
                    int64_t flat_tid_123128 = (int64_t) 0;
                    struct futhark_mc_task_136561 futhark_mc_task_136561;
                    
                    futhark_mc_task_136561.ctx = ctx;
                    futhark_mc_task_136561.free_m_119474 = m_119474;
                    futhark_mc_task_136561.free_n_119475 = n_119475;
                    futhark_mc_task_136561.free_l_window_119479 =
                        l_window_119479;
                    futhark_mc_task_136561.free_t_jump_119482 = t_jump_119482;
                    futhark_mc_task_136561.free_l_n_m_119525 = l_n_m_119525;
                    futhark_mc_task_136561.free_i_119551 = i_119551;
                    futhark_mc_task_136561.free_bytes_126994 = bytes_126994;
                    futhark_mc_task_136561.free_mem_127048 = mem_127048;
                    futhark_mc_task_136561.free_mem_127052 = mem_127052;
                    futhark_mc_task_136561.free_ctx_param_ext_127141 =
                        ctx_param_ext_127141;
                    futhark_mc_task_136561.free_ctx_param_ext_127142 =
                        ctx_param_ext_127142;
                    futhark_mc_task_136561.free_ctx_param_ext_127144 =
                        ctx_param_ext_127144;
                    futhark_mc_task_136561.free_mem_param_127146 =
                        mem_param_127146.mem;
                    futhark_mc_task_136561.free_mem_127292 = mem_127292;
                    futhark_mc_task_136561.free_bytes_127415 = bytes_127415;
                    futhark_mc_task_136561.free_mem_127469 = mem_127469.mem;
                    
                    struct scheduler_segop futhark_mc_task_136561_task;
                    
                    futhark_mc_task_136561_task.args = &futhark_mc_task_136561;
                    futhark_mc_task_136561_task.top_level_fn =
                        futhark_mc_segmap_task_136562;
                    futhark_mc_task_136561_task.name =
                        "futhark_mc_segmap_task_136562";
                    futhark_mc_task_136561_task.iterations = m_119474;
                    futhark_mc_task_136561_task.task_time =
                        &ctx->futhark_mc_segmap_task_136562_total_time;
                    futhark_mc_task_136561_task.task_iter =
                        &ctx->futhark_mc_segmap_task_136562_total_iter;
                    futhark_mc_task_136561_task.sched = STATIC;
                    futhark_mc_task_136561_task.nested_fn =
                        futhark_mc_segmap_nested_task_136567;
                    
                    int futhark_mc_segmap_task_136562_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_136561_task);
                    
                    if (futhark_mc_segmap_task_136562_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_127759, &mem_127469,
                                     "mem_127469") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_127758, &mem_127414,
                                     "mem_127414") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127469, "mem_127469") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127414, "mem_127414") != 0)
                        return 1;
                } else {
                    bool match_lit_120420 = (int64_t) 1 == l_degree_119481;
                    struct memblock ext_mem_127757;
                    
                    ext_mem_127757.references = NULL;
                    
                    struct memblock ext_mem_127756;
                    
                    ext_mem_127756.references = NULL;
                    if (match_lit_120420) {
                        struct memblock mem_127575;
                        
                        mem_127575.references = NULL;
                        if (memblock_alloc(ctx, &mem_127575, bytes_127049,
                                           "mem_127575")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_127579;
                        
                        mem_127579.references = NULL;
                        if (memblock_alloc(ctx, &mem_127579, bytes_127049,
                                           "mem_127579")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_127471 = (int64_t) 4 * l_window_119479;
                        int64_t bytes_127470 = smax64((int64_t) 0,
                                                      binop_y_127471);
                        int64_t flat_tid_123269 = (int64_t) 0;
                        int32_t num_tasks_131512;
                        int64_t flat_tid_123271 = (int64_t) 0;
                        struct futhark_mc_task_136590 futhark_mc_task_136590;
                        
                        futhark_mc_task_136590.ctx = ctx;
                        futhark_mc_task_136590.free_m_119474 = m_119474;
                        futhark_mc_task_136590.free_n_119475 = n_119475;
                        futhark_mc_task_136590.free_l_window_119479 =
                            l_window_119479;
                        futhark_mc_task_136590.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136590.free_l_n_m_119525 = l_n_m_119525;
                        futhark_mc_task_136590.free_i_119551 = i_119551;
                        futhark_mc_task_136590.free_bytes_126994 = bytes_126994;
                        futhark_mc_task_136590.free_mem_127048 = mem_127048;
                        futhark_mc_task_136590.free_mem_127052 = mem_127052;
                        futhark_mc_task_136590.free_ctx_param_ext_127141 =
                            ctx_param_ext_127141;
                        futhark_mc_task_136590.free_ctx_param_ext_127142 =
                            ctx_param_ext_127142;
                        futhark_mc_task_136590.free_ctx_param_ext_127144 =
                            ctx_param_ext_127144;
                        futhark_mc_task_136590.free_mem_param_127146 =
                            mem_param_127146.mem;
                        futhark_mc_task_136590.free_mem_127292 = mem_127292;
                        futhark_mc_task_136590.free_bytes_127470 = bytes_127470;
                        futhark_mc_task_136590.free_mem_127575 = mem_127575.mem;
                        futhark_mc_task_136590.free_mem_127579 = mem_127579.mem;
                        
                        struct scheduler_segop futhark_mc_task_136590_task;
                        
                        futhark_mc_task_136590_task.args =
                            &futhark_mc_task_136590;
                        futhark_mc_task_136590_task.top_level_fn =
                            futhark_mc_segmap_task_136591;
                        futhark_mc_task_136590_task.name =
                            "futhark_mc_segmap_task_136591";
                        futhark_mc_task_136590_task.iterations = m_119474;
                        futhark_mc_task_136590_task.task_time =
                            &ctx->futhark_mc_segmap_task_136591_total_time;
                        futhark_mc_task_136590_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136591_total_iter;
                        futhark_mc_task_136590_task.sched = STATIC;
                        futhark_mc_task_136590_task.nested_fn =
                            futhark_mc_segmap_nested_task_136598;
                        
                        int futhark_mc_segmap_task_136591_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136590_task);
                        
                        if (futhark_mc_segmap_task_136591_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_127757, &mem_127575,
                                         "mem_127575") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_127756, &mem_127579,
                                         "mem_127579") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127579, "mem_127579") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127575, "mem_127575") != 0)
                            return 1;
                    } else {
                        struct memblock mem_127751;
                        
                        mem_127751.references = NULL;
                        if (memblock_alloc(ctx, &mem_127751, bytes_127049,
                                           "mem_127751")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_127755;
                        
                        mem_127755.references = NULL;
                        if (memblock_alloc(ctx, &mem_127755, bytes_127049,
                                           "mem_127755")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_127581 = (int64_t) 4 * l_window_119479;
                        int64_t bytes_127580 = smax64((int64_t) 0,
                                                      binop_y_127581);
                        int64_t flat_tid_123500 = (int64_t) 0;
                        int32_t num_tasks_131894;
                        int64_t flat_tid_123502 = (int64_t) 0;
                        struct futhark_mc_task_136627 futhark_mc_task_136627;
                        
                        futhark_mc_task_136627.ctx = ctx;
                        futhark_mc_task_136627.free_m_119474 = m_119474;
                        futhark_mc_task_136627.free_n_119475 = n_119475;
                        futhark_mc_task_136627.free_l_window_119479 =
                            l_window_119479;
                        futhark_mc_task_136627.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136627.free_l_n_m_119525 = l_n_m_119525;
                        futhark_mc_task_136627.free_i_119551 = i_119551;
                        futhark_mc_task_136627.free_bytes_126994 = bytes_126994;
                        futhark_mc_task_136627.free_mem_127048 = mem_127048;
                        futhark_mc_task_136627.free_mem_127052 = mem_127052;
                        futhark_mc_task_136627.free_ctx_param_ext_127141 =
                            ctx_param_ext_127141;
                        futhark_mc_task_136627.free_ctx_param_ext_127142 =
                            ctx_param_ext_127142;
                        futhark_mc_task_136627.free_ctx_param_ext_127144 =
                            ctx_param_ext_127144;
                        futhark_mc_task_136627.free_mem_param_127146 =
                            mem_param_127146.mem;
                        futhark_mc_task_136627.free_mem_127292 = mem_127292;
                        futhark_mc_task_136627.free_bytes_127580 = bytes_127580;
                        futhark_mc_task_136627.free_mem_127751 = mem_127751.mem;
                        futhark_mc_task_136627.free_mem_127755 = mem_127755.mem;
                        
                        struct scheduler_segop futhark_mc_task_136627_task;
                        
                        futhark_mc_task_136627_task.args =
                            &futhark_mc_task_136627;
                        futhark_mc_task_136627_task.top_level_fn =
                            futhark_mc_segmap_task_136628;
                        futhark_mc_task_136627_task.name =
                            "futhark_mc_segmap_task_136628";
                        futhark_mc_task_136627_task.iterations = m_119474;
                        futhark_mc_task_136627_task.task_time =
                            &ctx->futhark_mc_segmap_task_136628_total_time;
                        futhark_mc_task_136627_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136628_total_iter;
                        futhark_mc_task_136627_task.sched = STATIC;
                        futhark_mc_task_136627_task.nested_fn =
                            futhark_mc_segmap_nested_task_136637;
                        
                        int futhark_mc_segmap_task_136628_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136627_task);
                        
                        if (futhark_mc_segmap_task_136628_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_127757, &mem_127751,
                                         "mem_127751") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_127756, &mem_127755,
                                         "mem_127755") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127755, "mem_127755") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127751, "mem_127751") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_127759, &ext_mem_127757,
                                     "ext_mem_127757") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_127758, &ext_mem_127756,
                                     "ext_mem_127756") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127756,
                                       "ext_mem_127756") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127757,
                                       "ext_mem_127757") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_127761, &ext_mem_127759,
                                 "ext_mem_127759") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_127760, &ext_mem_127758,
                                 "ext_mem_127758") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_127758, "ext_mem_127758") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_127759, "ext_mem_127759") != 0)
                    return 1;
            }
            
            struct memblock ext_mem_127784;
            
            ext_mem_127784.references = NULL;
            if (cond_119849) {
                bool zzero_120664 = l_jump_119483 == (int64_t) 0;
                bool nonzzero_120665 = !zzero_120664;
                bool nonzzero_cert_120666;
                
                if (!nonzzero_120665) {
                    ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                           "division by zero",
                                           "-> #0  loess.fut:423:27-34\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    if (memblock_unref(ctx, &ext_mem_127784,
                                       "ext_mem_127784") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127760,
                                       "ext_mem_127760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127761,
                                       "ext_mem_127761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127168,
                                       "mem_param_127168") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127160,
                                       "mem_param_127160") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128367,
                                       "ext_mem_128367") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128368,
                                       "ext_mem_128368") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127146,
                                       "mem_param_127146") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127138,
                                       "mem_param_127138") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127130,
                                       "mem_param_127130") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128620,
                                       "ext_mem_128620") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128621,
                                       "ext_mem_128621") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128622,
                                       "ext_mem_128622") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128844,
                                       "mem_out_128844") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128843,
                                       "mem_out_128843") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128842,
                                       "mem_out_128842") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128841,
                                       "mem_out_128841") != 0)
                        return 1;
                    return 1;
                }
                
                int64_t y_120667 = sub64(l_n_m_119525, (int64_t) 1);
                struct memblock mem_127783;
                
                mem_127783.references = NULL;
                if (memblock_alloc(ctx, &mem_127783, bytes_126943,
                                   "mem_127783")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t flat_tid_123841 = (int64_t) 0;
                int32_t num_tasks_132460;
                int64_t flat_tid_123843 = (int64_t) 0;
                struct futhark_mc_task_136676 futhark_mc_task_136676;
                
                futhark_mc_task_136676.ctx = ctx;
                futhark_mc_task_136676.free_m_119474 = m_119474;
                futhark_mc_task_136676.free_n_119475 = n_119475;
                futhark_mc_task_136676.free_l_jump_119483 = l_jump_119483;
                futhark_mc_task_136676.free_l_n_m_119525 = l_n_m_119525;
                futhark_mc_task_136676.free_i_119551 = i_119551;
                futhark_mc_task_136676.free_y_120667 = y_120667;
                futhark_mc_task_136676.free_bytes_126925 = bytes_126925;
                futhark_mc_task_136676.free_ext_mem_127760 = ext_mem_127760.mem;
                futhark_mc_task_136676.free_ext_mem_127761 = ext_mem_127761.mem;
                futhark_mc_task_136676.free_mem_127783 = mem_127783.mem;
                
                struct scheduler_segop futhark_mc_task_136676_task;
                
                futhark_mc_task_136676_task.args = &futhark_mc_task_136676;
                futhark_mc_task_136676_task.top_level_fn =
                    futhark_mc_segmap_task_136677;
                futhark_mc_task_136676_task.name =
                    "futhark_mc_segmap_task_136677";
                futhark_mc_task_136676_task.iterations = m_119474;
                futhark_mc_task_136676_task.task_time =
                    &ctx->futhark_mc_segmap_task_136677_total_time;
                futhark_mc_task_136676_task.task_iter =
                    &ctx->futhark_mc_segmap_task_136677_total_iter;
                futhark_mc_task_136676_task.sched = STATIC;
                futhark_mc_task_136676_task.nested_fn =
                    futhark_mc_segmap_nested_task_136681;
                
                int futhark_mc_segmap_task_136677_err =
                    scheduler_prepare_task(&ctx->scheduler,
                                           &futhark_mc_task_136676_task);
                
                if (futhark_mc_segmap_task_136677_err != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set(ctx, &ext_mem_127784, &mem_127783,
                                 "mem_127783") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_127783, "mem_127783") != 0)
                    return 1;
            } else {
                bool dim_match_120719 = n_119475 == l_n_m_119525;
                bool empty_or_match_cert_120720;
                
                if (!dim_match_120719) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Value of (core language) shape (",
                                  (long long) m_119474, ", ",
                                  (long long) l_n_m_119525,
                                  ") cannot match shape of type `[",
                                  (long long) m_119474, "][",
                                  (long long) n_119475, "]t`.",
                                  "-> #0  stl.fut:224:15-36\n   #1  stl.fut:400:3-411:33\n   #2  stl.fut:387:1-411:33\n");
                    if (memblock_unref(ctx, &ext_mem_127784,
                                       "ext_mem_127784") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127760,
                                       "ext_mem_127760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127761,
                                       "ext_mem_127761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127168,
                                       "mem_param_127168") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127160,
                                       "mem_param_127160") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128367,
                                       "ext_mem_128367") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128368,
                                       "ext_mem_128368") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127146,
                                       "mem_param_127146") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127138,
                                       "mem_param_127138") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127130,
                                       "mem_param_127130") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128620,
                                       "ext_mem_128620") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128621,
                                       "ext_mem_128621") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128622,
                                       "ext_mem_128622") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128844,
                                       "mem_out_128844") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128843,
                                       "mem_out_128843") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128842,
                                       "mem_out_128842") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128841,
                                       "mem_out_128841") != 0)
                        return 1;
                    return 1;
                }
                if (memblock_set(ctx, &ext_mem_127784, &ext_mem_127761,
                                 "ext_mem_127761") != 0)
                    return 1;
            }
            if (memblock_unref(ctx, &ext_mem_127760, "ext_mem_127760") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_127761, "ext_mem_127761") != 0)
                return 1;
            
            struct memblock mem_127869;
            
            mem_127869.references = NULL;
            if (memblock_alloc(ctx, &mem_127869, bytes_126943, "mem_127869")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_123897 = (int64_t) 0;
            int32_t num_tasks_132568;
            int64_t flat_tid_123899 = (int64_t) 0;
            struct futhark_mc_task_136689 futhark_mc_task_136689;
            
            futhark_mc_task_136689.ctx = ctx;
            futhark_mc_task_136689.free_m_119474 = m_119474;
            futhark_mc_task_136689.free_n_119475 = n_119475;
            futhark_mc_task_136689.free_n_p_119477 = n_p_119477;
            futhark_mc_task_136689.free_C_len_119523 = C_len_119523;
            futhark_mc_task_136689.free_Y_mem_126881 = Y_mem_126881.mem;
            futhark_mc_task_136689.free_mem_126921 = mem_126921;
            futhark_mc_task_136689.free_bytes_126925 = bytes_126925;
            futhark_mc_task_136689.free_ctx_param_ext_127141 =
                ctx_param_ext_127141;
            futhark_mc_task_136689.free_ctx_param_ext_127142 =
                ctx_param_ext_127142;
            futhark_mc_task_136689.free_ctx_param_ext_127144 =
                ctx_param_ext_127144;
            futhark_mc_task_136689.free_mem_param_127146 = mem_param_127146.mem;
            futhark_mc_task_136689.free_mem_127234 = mem_127234;
            futhark_mc_task_136689.free_ext_mem_127784 = ext_mem_127784.mem;
            futhark_mc_task_136689.free_ext_127785 = ext_127785;
            futhark_mc_task_136689.free_mem_127861 = mem_127861;
            futhark_mc_task_136689.free_mem_127865 = mem_127865;
            futhark_mc_task_136689.free_mem_127869 = mem_127869.mem;
            
            struct scheduler_segop futhark_mc_task_136689_task;
            
            futhark_mc_task_136689_task.args = &futhark_mc_task_136689;
            futhark_mc_task_136689_task.top_level_fn =
                futhark_mc_segmap_task_136690;
            futhark_mc_task_136689_task.name = "futhark_mc_segmap_task_136690";
            futhark_mc_task_136689_task.iterations = m_119474;
            futhark_mc_task_136689_task.task_time =
                &ctx->futhark_mc_segmap_task_136690_total_time;
            futhark_mc_task_136689_task.task_iter =
                &ctx->futhark_mc_segmap_task_136690_total_iter;
            futhark_mc_task_136689_task.sched = STATIC;
            futhark_mc_task_136689_task.nested_fn =
                futhark_mc_segmap_nested_task_136697;
            
            int futhark_mc_segmap_task_136690_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136689_task);
            
            if (futhark_mc_segmap_task_136690_err != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_unref(ctx, &ext_mem_127784, "ext_mem_127784") != 0)
                return 1;
            
            struct memblock ext_mem_128338;
            
            ext_mem_128338.references = NULL;
            
            struct memblock ext_mem_128337;
            
            ext_mem_128337.references = NULL;
            if (cond_119925) {
                bool match_lit_120772 = (int64_t) 0 == t_degree_119480;
                struct memblock ext_mem_127987;
                
                ext_mem_127987.references = NULL;
                
                struct memblock ext_mem_127986;
                
                ext_mem_127986.references = NULL;
                if (match_lit_120772) {
                    struct memblock mem_127873;
                    
                    mem_127873.references = NULL;
                    if (memblock_alloc(ctx, &mem_127873, bytes_127111,
                                       "mem_127873")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_132641 = 0; i_132641 < m_119474;
                         i_132641++) {
                        for (int64_t i_132642 = 0; i_132642 < t_n_m_119532;
                             i_132642++) {
                            ((float *) mem_127873.mem)[i_132641 * t_n_m_119532 +
                                                       i_132642] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_127895;
                    
                    mem_127895.references = NULL;
                    if (memblock_alloc(ctx, &mem_127895, bytes_127111,
                                       "mem_127895")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t flat_tid_123931 = (int64_t) 0;
                    int32_t num_tasks_132643;
                    int64_t flat_tid_123933 = (int64_t) 0;
                    struct futhark_mc_task_136712 futhark_mc_task_136712;
                    
                    futhark_mc_task_136712.ctx = ctx;
                    futhark_mc_task_136712.free_m_119474 = m_119474;
                    futhark_mc_task_136712.free_n_119475 = n_119475;
                    futhark_mc_task_136712.free_t_window_119478 =
                        t_window_119478;
                    futhark_mc_task_136712.free_t_jump_119482 = t_jump_119482;
                    futhark_mc_task_136712.free_t_n_m_119532 = t_n_m_119532;
                    futhark_mc_task_136712.free_i_119551 = i_119551;
                    futhark_mc_task_136712.free_mem_126924 = mem_126924;
                    futhark_mc_task_136712.free_mem_126946 = mem_126946;
                    futhark_mc_task_136712.free_bytes_127056 = bytes_127056;
                    futhark_mc_task_136712.free_mem_127110 = mem_127110;
                    futhark_mc_task_136712.free_mem_127114 = mem_127114;
                    futhark_mc_task_136712.free_mem_127861 = mem_127861;
                    futhark_mc_task_136712.free_mem_127865 = mem_127865;
                    futhark_mc_task_136712.free_mem_127895 = mem_127895.mem;
                    
                    struct scheduler_segop futhark_mc_task_136712_task;
                    
                    futhark_mc_task_136712_task.args = &futhark_mc_task_136712;
                    futhark_mc_task_136712_task.top_level_fn =
                        futhark_mc_segmap_task_136713;
                    futhark_mc_task_136712_task.name =
                        "futhark_mc_segmap_task_136713";
                    futhark_mc_task_136712_task.iterations = m_119474;
                    futhark_mc_task_136712_task.task_time =
                        &ctx->futhark_mc_segmap_task_136713_total_time;
                    futhark_mc_task_136712_task.task_iter =
                        &ctx->futhark_mc_segmap_task_136713_total_iter;
                    futhark_mc_task_136712_task.sched = STATIC;
                    futhark_mc_task_136712_task.nested_fn =
                        futhark_mc_segmap_nested_task_136717;
                    
                    int futhark_mc_segmap_task_136713_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_136712_task);
                    
                    if (futhark_mc_segmap_task_136713_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_127987, &mem_127895,
                                     "mem_127895") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_127986, &mem_127873,
                                     "mem_127873") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127895, "mem_127895") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127873, "mem_127873") != 0)
                        return 1;
                } else {
                    bool match_lit_120843 = (int64_t) 1 == t_degree_119480;
                    struct memblock ext_mem_127985;
                    
                    ext_mem_127985.references = NULL;
                    
                    struct memblock ext_mem_127984;
                    
                    ext_mem_127984.references = NULL;
                    if (match_lit_120843) {
                        struct memblock mem_127935;
                        
                        mem_127935.references = NULL;
                        if (memblock_alloc(ctx, &mem_127935, bytes_127111,
                                           "mem_127935")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_127939;
                        
                        mem_127939.references = NULL;
                        if (memblock_alloc(ctx, &mem_127939, bytes_127111,
                                           "mem_127939")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_124118 = (int64_t) 0;
                        int32_t num_tasks_132932;
                        int64_t flat_tid_124120 = (int64_t) 0;
                        struct futhark_mc_task_136738 futhark_mc_task_136738;
                        
                        futhark_mc_task_136738.ctx = ctx;
                        futhark_mc_task_136738.free_m_119474 = m_119474;
                        futhark_mc_task_136738.free_n_119475 = n_119475;
                        futhark_mc_task_136738.free_t_window_119478 =
                            t_window_119478;
                        futhark_mc_task_136738.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136738.free_t_n_m_119532 = t_n_m_119532;
                        futhark_mc_task_136738.free_i_119551 = i_119551;
                        futhark_mc_task_136738.free_mem_126924 = mem_126924;
                        futhark_mc_task_136738.free_mem_126946 = mem_126946;
                        futhark_mc_task_136738.free_bytes_127056 = bytes_127056;
                        futhark_mc_task_136738.free_mem_127110 = mem_127110;
                        futhark_mc_task_136738.free_mem_127114 = mem_127114;
                        futhark_mc_task_136738.free_mem_127861 = mem_127861;
                        futhark_mc_task_136738.free_mem_127865 = mem_127865;
                        futhark_mc_task_136738.free_mem_127935 = mem_127935.mem;
                        futhark_mc_task_136738.free_mem_127939 = mem_127939.mem;
                        
                        struct scheduler_segop futhark_mc_task_136738_task;
                        
                        futhark_mc_task_136738_task.args =
                            &futhark_mc_task_136738;
                        futhark_mc_task_136738_task.top_level_fn =
                            futhark_mc_segmap_task_136739;
                        futhark_mc_task_136738_task.name =
                            "futhark_mc_segmap_task_136739";
                        futhark_mc_task_136738_task.iterations = m_119474;
                        futhark_mc_task_136738_task.task_time =
                            &ctx->futhark_mc_segmap_task_136739_total_time;
                        futhark_mc_task_136738_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136739_total_iter;
                        futhark_mc_task_136738_task.sched = STATIC;
                        futhark_mc_task_136738_task.nested_fn =
                            futhark_mc_segmap_nested_task_136744;
                        
                        int futhark_mc_segmap_task_136739_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136738_task);
                        
                        if (futhark_mc_segmap_task_136739_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_127985, &mem_127935,
                                         "mem_127935") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_127984, &mem_127939,
                                         "mem_127939") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127939, "mem_127939") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127935, "mem_127935") != 0)
                            return 1;
                    } else {
                        struct memblock mem_127979;
                        
                        mem_127979.references = NULL;
                        if (memblock_alloc(ctx, &mem_127979, bytes_127111,
                                           "mem_127979")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_127983;
                        
                        mem_127983.references = NULL;
                        if (memblock_alloc(ctx, &mem_127983, bytes_127111,
                                           "mem_127983")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_124390 = (int64_t) 0;
                        int32_t num_tasks_133359;
                        int64_t flat_tid_124392 = (int64_t) 0;
                        struct futhark_mc_task_136769 futhark_mc_task_136769;
                        
                        futhark_mc_task_136769.ctx = ctx;
                        futhark_mc_task_136769.free_m_119474 = m_119474;
                        futhark_mc_task_136769.free_n_119475 = n_119475;
                        futhark_mc_task_136769.free_t_window_119478 =
                            t_window_119478;
                        futhark_mc_task_136769.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136769.free_t_n_m_119532 = t_n_m_119532;
                        futhark_mc_task_136769.free_i_119551 = i_119551;
                        futhark_mc_task_136769.free_mem_126924 = mem_126924;
                        futhark_mc_task_136769.free_mem_126946 = mem_126946;
                        futhark_mc_task_136769.free_bytes_127056 = bytes_127056;
                        futhark_mc_task_136769.free_mem_127110 = mem_127110;
                        futhark_mc_task_136769.free_mem_127114 = mem_127114;
                        futhark_mc_task_136769.free_mem_127861 = mem_127861;
                        futhark_mc_task_136769.free_mem_127865 = mem_127865;
                        futhark_mc_task_136769.free_mem_127979 = mem_127979.mem;
                        futhark_mc_task_136769.free_mem_127983 = mem_127983.mem;
                        
                        struct scheduler_segop futhark_mc_task_136769_task;
                        
                        futhark_mc_task_136769_task.args =
                            &futhark_mc_task_136769;
                        futhark_mc_task_136769_task.top_level_fn =
                            futhark_mc_segmap_task_136770;
                        futhark_mc_task_136769_task.name =
                            "futhark_mc_segmap_task_136770";
                        futhark_mc_task_136769_task.iterations = m_119474;
                        futhark_mc_task_136769_task.task_time =
                            &ctx->futhark_mc_segmap_task_136770_total_time;
                        futhark_mc_task_136769_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136770_total_iter;
                        futhark_mc_task_136769_task.sched = STATIC;
                        futhark_mc_task_136769_task.nested_fn =
                            futhark_mc_segmap_nested_task_136775;
                        
                        int futhark_mc_segmap_task_136770_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136769_task);
                        
                        if (futhark_mc_segmap_task_136770_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_127985, &mem_127979,
                                         "mem_127979") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_127984, &mem_127983,
                                         "mem_127983") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127983, "mem_127983") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_127979, "mem_127979") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_127987, &ext_mem_127985,
                                     "ext_mem_127985") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_127986, &ext_mem_127984,
                                     "ext_mem_127984") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127984,
                                       "ext_mem_127984") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127985,
                                       "ext_mem_127985") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_128338, &ext_mem_127987,
                                 "ext_mem_127987") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_128337, &ext_mem_127986,
                                 "ext_mem_127986") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_127986, "ext_mem_127986") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_127987, "ext_mem_127987") != 0)
                    return 1;
            } else {
                bool match_lit_121072 = (int64_t) 0 == t_degree_119480;
                struct memblock ext_mem_128336;
                
                ext_mem_128336.references = NULL;
                
                struct memblock ext_mem_128335;
                
                ext_mem_128335.references = NULL;
                if (match_lit_121072) {
                    struct memblock mem_127991;
                    
                    mem_127991.references = NULL;
                    if (memblock_alloc(ctx, &mem_127991, bytes_127111,
                                       "mem_127991")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_133918 = 0; i_133918 < m_119474;
                         i_133918++) {
                        for (int64_t i_133919 = 0; i_133919 < t_n_m_119532;
                             i_133919++) {
                            ((float *) mem_127991.mem)[i_133918 * t_n_m_119532 +
                                                       i_133919] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_128046;
                    
                    mem_128046.references = NULL;
                    if (memblock_alloc(ctx, &mem_128046, bytes_127111,
                                       "mem_128046")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t binop_y_127993 = (int64_t) 4 * t_window_119478;
                    int64_t bytes_127992 = smax64((int64_t) 0, binop_y_127993);
                    int64_t flat_tid_124758 = (int64_t) 0;
                    int32_t num_tasks_133920;
                    int64_t flat_tid_124760 = (int64_t) 0;
                    struct futhark_mc_task_136802 futhark_mc_task_136802;
                    
                    futhark_mc_task_136802.ctx = ctx;
                    futhark_mc_task_136802.free_m_119474 = m_119474;
                    futhark_mc_task_136802.free_n_119475 = n_119475;
                    futhark_mc_task_136802.free_t_window_119478 =
                        t_window_119478;
                    futhark_mc_task_136802.free_t_jump_119482 = t_jump_119482;
                    futhark_mc_task_136802.free_t_n_m_119532 = t_n_m_119532;
                    futhark_mc_task_136802.free_i_119551 = i_119551;
                    futhark_mc_task_136802.free_mem_126924 = mem_126924;
                    futhark_mc_task_136802.free_mem_126946 = mem_126946;
                    futhark_mc_task_136802.free_bytes_127056 = bytes_127056;
                    futhark_mc_task_136802.free_mem_127110 = mem_127110;
                    futhark_mc_task_136802.free_mem_127114 = mem_127114;
                    futhark_mc_task_136802.free_mem_127861 = mem_127861;
                    futhark_mc_task_136802.free_mem_127865 = mem_127865;
                    futhark_mc_task_136802.free_bytes_127992 = bytes_127992;
                    futhark_mc_task_136802.free_mem_128046 = mem_128046.mem;
                    
                    struct scheduler_segop futhark_mc_task_136802_task;
                    
                    futhark_mc_task_136802_task.args = &futhark_mc_task_136802;
                    futhark_mc_task_136802_task.top_level_fn =
                        futhark_mc_segmap_task_136803;
                    futhark_mc_task_136802_task.name =
                        "futhark_mc_segmap_task_136803";
                    futhark_mc_task_136802_task.iterations = m_119474;
                    futhark_mc_task_136802_task.task_time =
                        &ctx->futhark_mc_segmap_task_136803_total_time;
                    futhark_mc_task_136802_task.task_iter =
                        &ctx->futhark_mc_segmap_task_136803_total_iter;
                    futhark_mc_task_136802_task.sched = STATIC;
                    futhark_mc_task_136802_task.nested_fn =
                        futhark_mc_segmap_nested_task_136808;
                    
                    int futhark_mc_segmap_task_136803_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_136802_task);
                    
                    if (futhark_mc_segmap_task_136803_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_128336, &mem_128046,
                                     "mem_128046") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_128335, &mem_127991,
                                     "mem_127991") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_128046, "mem_128046") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127991, "mem_127991") != 0)
                        return 1;
                } else {
                    bool match_lit_121129 = (int64_t) 1 == t_degree_119480;
                    struct memblock ext_mem_128334;
                    
                    ext_mem_128334.references = NULL;
                    
                    struct memblock ext_mem_128333;
                    
                    ext_mem_128333.references = NULL;
                    if (match_lit_121129) {
                        struct memblock mem_128152;
                        
                        mem_128152.references = NULL;
                        if (memblock_alloc(ctx, &mem_128152, bytes_127111,
                                           "mem_128152")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_128156;
                        
                        mem_128156.references = NULL;
                        if (memblock_alloc(ctx, &mem_128156, bytes_127111,
                                           "mem_128156")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_128048 = (int64_t) 4 * t_window_119478;
                        int64_t bytes_128047 = smax64((int64_t) 0,
                                                      binop_y_128048);
                        int64_t flat_tid_124903 = (int64_t) 0;
                        int32_t num_tasks_134149;
                        int64_t flat_tid_124905 = (int64_t) 0;
                        struct futhark_mc_task_136831 futhark_mc_task_136831;
                        
                        futhark_mc_task_136831.ctx = ctx;
                        futhark_mc_task_136831.free_m_119474 = m_119474;
                        futhark_mc_task_136831.free_n_119475 = n_119475;
                        futhark_mc_task_136831.free_t_window_119478 =
                            t_window_119478;
                        futhark_mc_task_136831.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136831.free_t_n_m_119532 = t_n_m_119532;
                        futhark_mc_task_136831.free_i_119551 = i_119551;
                        futhark_mc_task_136831.free_mem_126924 = mem_126924;
                        futhark_mc_task_136831.free_mem_126946 = mem_126946;
                        futhark_mc_task_136831.free_bytes_127056 = bytes_127056;
                        futhark_mc_task_136831.free_mem_127110 = mem_127110;
                        futhark_mc_task_136831.free_mem_127114 = mem_127114;
                        futhark_mc_task_136831.free_mem_127861 = mem_127861;
                        futhark_mc_task_136831.free_mem_127865 = mem_127865;
                        futhark_mc_task_136831.free_bytes_128047 = bytes_128047;
                        futhark_mc_task_136831.free_mem_128152 = mem_128152.mem;
                        futhark_mc_task_136831.free_mem_128156 = mem_128156.mem;
                        
                        struct scheduler_segop futhark_mc_task_136831_task;
                        
                        futhark_mc_task_136831_task.args =
                            &futhark_mc_task_136831;
                        futhark_mc_task_136831_task.top_level_fn =
                            futhark_mc_segmap_task_136832;
                        futhark_mc_task_136831_task.name =
                            "futhark_mc_segmap_task_136832";
                        futhark_mc_task_136831_task.iterations = m_119474;
                        futhark_mc_task_136831_task.task_time =
                            &ctx->futhark_mc_segmap_task_136832_total_time;
                        futhark_mc_task_136831_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136832_total_iter;
                        futhark_mc_task_136831_task.sched = STATIC;
                        futhark_mc_task_136831_task.nested_fn =
                            futhark_mc_segmap_nested_task_136839;
                        
                        int futhark_mc_segmap_task_136832_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136831_task);
                        
                        if (futhark_mc_segmap_task_136832_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_128334, &mem_128152,
                                         "mem_128152") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_128333, &mem_128156,
                                         "mem_128156") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_128156, "mem_128156") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_128152, "mem_128152") != 0)
                            return 1;
                    } else {
                        struct memblock mem_128328;
                        
                        mem_128328.references = NULL;
                        if (memblock_alloc(ctx, &mem_128328, bytes_127111,
                                           "mem_128328")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_128332;
                        
                        mem_128332.references = NULL;
                        if (memblock_alloc(ctx, &mem_128332, bytes_127111,
                                           "mem_128332")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_128158 = (int64_t) 4 * t_window_119478;
                        int64_t bytes_128157 = smax64((int64_t) 0,
                                                      binop_y_128158);
                        int64_t flat_tid_125136 = (int64_t) 0;
                        int32_t num_tasks_134531;
                        int64_t flat_tid_125138 = (int64_t) 0;
                        struct futhark_mc_task_136868 futhark_mc_task_136868;
                        
                        futhark_mc_task_136868.ctx = ctx;
                        futhark_mc_task_136868.free_m_119474 = m_119474;
                        futhark_mc_task_136868.free_n_119475 = n_119475;
                        futhark_mc_task_136868.free_t_window_119478 =
                            t_window_119478;
                        futhark_mc_task_136868.free_t_jump_119482 =
                            t_jump_119482;
                        futhark_mc_task_136868.free_t_n_m_119532 = t_n_m_119532;
                        futhark_mc_task_136868.free_i_119551 = i_119551;
                        futhark_mc_task_136868.free_mem_126924 = mem_126924;
                        futhark_mc_task_136868.free_mem_126946 = mem_126946;
                        futhark_mc_task_136868.free_bytes_127056 = bytes_127056;
                        futhark_mc_task_136868.free_mem_127110 = mem_127110;
                        futhark_mc_task_136868.free_mem_127114 = mem_127114;
                        futhark_mc_task_136868.free_mem_127861 = mem_127861;
                        futhark_mc_task_136868.free_mem_127865 = mem_127865;
                        futhark_mc_task_136868.free_bytes_128157 = bytes_128157;
                        futhark_mc_task_136868.free_mem_128328 = mem_128328.mem;
                        futhark_mc_task_136868.free_mem_128332 = mem_128332.mem;
                        
                        struct scheduler_segop futhark_mc_task_136868_task;
                        
                        futhark_mc_task_136868_task.args =
                            &futhark_mc_task_136868;
                        futhark_mc_task_136868_task.top_level_fn =
                            futhark_mc_segmap_task_136869;
                        futhark_mc_task_136868_task.name =
                            "futhark_mc_segmap_task_136869";
                        futhark_mc_task_136868_task.iterations = m_119474;
                        futhark_mc_task_136868_task.task_time =
                            &ctx->futhark_mc_segmap_task_136869_total_time;
                        futhark_mc_task_136868_task.task_iter =
                            &ctx->futhark_mc_segmap_task_136869_total_iter;
                        futhark_mc_task_136868_task.sched = STATIC;
                        futhark_mc_task_136868_task.nested_fn =
                            futhark_mc_segmap_nested_task_136878;
                        
                        int futhark_mc_segmap_task_136869_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_136868_task);
                        
                        if (futhark_mc_segmap_task_136869_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_128334, &mem_128328,
                                         "mem_128328") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_128333, &mem_128332,
                                         "mem_128332") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_128332, "mem_128332") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_128328, "mem_128328") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_128336, &ext_mem_128334,
                                     "ext_mem_128334") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_128335, &ext_mem_128333,
                                     "ext_mem_128333") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128333,
                                       "ext_mem_128333") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128334,
                                       "ext_mem_128334") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_128338, &ext_mem_128336,
                                 "ext_mem_128336") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_128337, &ext_mem_128335,
                                 "ext_mem_128335") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128335, "ext_mem_128335") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128336, "ext_mem_128336") != 0)
                    return 1;
            }
            
            struct memblock ext_mem_128361;
            
            ext_mem_128361.references = NULL;
            if (cond_119850) {
                bool zzero_121377 = t_jump_119482 == (int64_t) 0;
                bool nonzzero_121378 = !zzero_121377;
                bool nonzzero_cert_121379;
                
                if (!nonzzero_121378) {
                    ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                           "division by zero",
                                           "-> #0  loess.fut:423:27-34\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:400:3-411:33\n   #9  stl.fut:387:1-411:33\n");
                    if (memblock_unref(ctx, &ext_mem_128361,
                                       "ext_mem_128361") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128337,
                                       "ext_mem_128337") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128338,
                                       "ext_mem_128338") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127869, "mem_127869") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127784,
                                       "ext_mem_127784") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127760,
                                       "ext_mem_127760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127761,
                                       "ext_mem_127761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127168,
                                       "mem_param_127168") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127160,
                                       "mem_param_127160") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128367,
                                       "ext_mem_128367") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128368,
                                       "ext_mem_128368") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127146,
                                       "mem_param_127146") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127138,
                                       "mem_param_127138") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127130,
                                       "mem_param_127130") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128620,
                                       "ext_mem_128620") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128621,
                                       "ext_mem_128621") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128622,
                                       "ext_mem_128622") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128844,
                                       "mem_out_128844") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128843,
                                       "mem_out_128843") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128842,
                                       "mem_out_128842") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128841,
                                       "mem_out_128841") != 0)
                        return 1;
                    return 1;
                }
                
                int64_t y_121380 = sub64(t_n_m_119532, (int64_t) 1);
                struct memblock mem_128360;
                
                mem_128360.references = NULL;
                if (memblock_alloc(ctx, &mem_128360, bytes_126943,
                                   "mem_128360")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t flat_tid_125479 = (int64_t) 0;
                int32_t num_tasks_135097;
                int64_t flat_tid_125481 = (int64_t) 0;
                struct futhark_mc_task_136917 futhark_mc_task_136917;
                
                futhark_mc_task_136917.ctx = ctx;
                futhark_mc_task_136917.free_m_119474 = m_119474;
                futhark_mc_task_136917.free_n_119475 = n_119475;
                futhark_mc_task_136917.free_t_jump_119482 = t_jump_119482;
                futhark_mc_task_136917.free_t_n_m_119532 = t_n_m_119532;
                futhark_mc_task_136917.free_i_119551 = i_119551;
                futhark_mc_task_136917.free_y_121380 = y_121380;
                futhark_mc_task_136917.free_bytes_126925 = bytes_126925;
                futhark_mc_task_136917.free_ext_mem_128337 = ext_mem_128337.mem;
                futhark_mc_task_136917.free_ext_mem_128338 = ext_mem_128338.mem;
                futhark_mc_task_136917.free_mem_128360 = mem_128360.mem;
                
                struct scheduler_segop futhark_mc_task_136917_task;
                
                futhark_mc_task_136917_task.args = &futhark_mc_task_136917;
                futhark_mc_task_136917_task.top_level_fn =
                    futhark_mc_segmap_task_136918;
                futhark_mc_task_136917_task.name =
                    "futhark_mc_segmap_task_136918";
                futhark_mc_task_136917_task.iterations = m_119474;
                futhark_mc_task_136917_task.task_time =
                    &ctx->futhark_mc_segmap_task_136918_total_time;
                futhark_mc_task_136917_task.task_iter =
                    &ctx->futhark_mc_segmap_task_136918_total_iter;
                futhark_mc_task_136917_task.sched = STATIC;
                futhark_mc_task_136917_task.nested_fn =
                    futhark_mc_segmap_nested_task_136922;
                
                int futhark_mc_segmap_task_136918_err =
                    scheduler_prepare_task(&ctx->scheduler,
                                           &futhark_mc_task_136917_task);
                
                if (futhark_mc_segmap_task_136918_err != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set(ctx, &ext_mem_128361, &mem_128360,
                                 "mem_128360") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_128360, "mem_128360") != 0)
                    return 1;
            } else {
                bool dim_match_121433 = n_119475 == t_n_m_119532;
                bool empty_or_match_cert_121434;
                
                if (!dim_match_121433) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Value of (core language) shape (",
                                  (long long) m_119474, ", ",
                                  (long long) t_n_m_119532,
                                  ") cannot match shape of type `[",
                                  (long long) m_119474, "][",
                                  (long long) n_119475, "]t`.",
                                  "-> #0  stl.fut:274:15-36\n   #1  stl.fut:400:3-411:33\n   #2  stl.fut:387:1-411:33\n");
                    if (memblock_unref(ctx, &ext_mem_128361,
                                       "ext_mem_128361") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128337,
                                       "ext_mem_128337") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128338,
                                       "ext_mem_128338") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127869, "mem_127869") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127784,
                                       "ext_mem_127784") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127760,
                                       "ext_mem_127760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_127761,
                                       "ext_mem_127761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127168,
                                       "mem_param_127168") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127160,
                                       "mem_param_127160") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128367,
                                       "ext_mem_128367") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128368,
                                       "ext_mem_128368") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127146,
                                       "mem_param_127146") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127138,
                                       "mem_param_127138") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_127130,
                                       "mem_param_127130") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128620,
                                       "ext_mem_128620") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128621,
                                       "ext_mem_128621") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_128622,
                                       "ext_mem_128622") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128844,
                                       "mem_out_128844") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128843,
                                       "mem_out_128843") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128842,
                                       "mem_out_128842") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_128841,
                                       "mem_out_128841") != 0)
                        return 1;
                    return 1;
                }
                if (memblock_set(ctx, &ext_mem_128361, &ext_mem_128338,
                                 "ext_mem_128338") != 0)
                    return 1;
            }
            if (memblock_unref(ctx, &ext_mem_128337, "ext_mem_128337") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_128338, "ext_mem_128338") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_129610 = ext_128362;
            int64_t ctx_param_ext_tmp_129611 = ext_128362;
            struct memblock mem_param_tmp_129612;
            
            mem_param_tmp_129612.references = NULL;
            if (memblock_set(ctx, &mem_param_tmp_129612, &mem_127869,
                             "mem_127869") != 0)
                return 1;
            
            struct memblock mem_param_tmp_129613;
            
            mem_param_tmp_129613.references = NULL;
            if (memblock_set(ctx, &mem_param_tmp_129613, &ext_mem_128361,
                             "ext_mem_128361") != 0)
                return 1;
            ctx_param_ext_127162 = ctx_param_ext_tmp_129610;
            ctx_param_ext_127164 = ctx_param_ext_tmp_129611;
            if (memblock_set(ctx, &mem_param_127160, &mem_param_tmp_129612,
                             "mem_param_tmp_129612") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_127168, &mem_param_tmp_129613,
                             "mem_param_tmp_129613") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_param_tmp_129613,
                               "mem_param_tmp_129613") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_param_tmp_129612,
                               "mem_param_tmp_129612") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_128361, "ext_mem_128361") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_128337, "ext_mem_128337") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_128338, "ext_mem_128338") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_127869, "mem_127869") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_127784, "ext_mem_127784") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_127760, "ext_mem_127760") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_127761, "ext_mem_127761") != 0)
                return 1;
        }
        ext_128374 = ctx_param_ext_127162;
        ext_128372 = ctx_param_ext_127164;
        if (memblock_set(ctx, &ext_mem_128368, &mem_param_127160,
                         "mem_param_127160") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_128367, &mem_param_127168,
                         "mem_param_127168") != 0)
            return 1;
        
        bool cond_121436 = slt64(i_outer_119929, y_119851);
        int64_t ext_128619;
        
        if (cond_121436) {
            ext_128619 = m_119474;
        } else {
            ext_128619 = ctx_param_ext_127143;
        }
        
        int64_t ext_128618;
        
        if (cond_121436) {
            ext_128618 = n_119475;
        } else {
            ext_128618 = ctx_param_ext_127145;
        }
        
        int64_t ext_128617;
        
        if (cond_121436) {
            ext_128617 = m_119474;
        } else {
            ext_128617 = ctx_param_ext_127139;
        }
        
        int64_t ext_128616;
        
        if (cond_121436) {
            ext_128616 = n_119475;
        } else {
            ext_128616 = ctx_param_ext_127140;
        }
        
        int64_t ext_128615;
        
        if (cond_121436) {
            ext_128615 = n_119475;
        } else {
            ext_128615 = ctx_param_ext_127142;
        }
        
        int64_t ext_128614;
        
        if (cond_121436) {
            ext_128614 = (int64_t) 1;
        } else {
            ext_128614 = ctx_param_ext_127144;
        }
        
        int64_t ext_128613;
        
        if (cond_121436) {
            ext_128613 = (int64_t) 0;
        } else {
            ext_128613 = ctx_param_ext_127141;
        }
        
        struct memblock ext_mem_128612;
        
        ext_mem_128612.references = NULL;
        if (cond_121436) {
            if (mem_128404_cached_sizze_136258 < (size_t) bytes_126943) {
                mem_128404 = realloc(mem_128404, bytes_126943);
                mem_128404_cached_sizze_136258 = bytes_126943;
            }
            
            int64_t flat_tid_125535 = (int64_t) 0;
            int32_t num_tasks_135205;
            int64_t flat_tid_125537 = (int64_t) 0;
            struct futhark_mc_task_136930 futhark_mc_task_136930;
            
            futhark_mc_task_136930.ctx = ctx;
            futhark_mc_task_136930.free_m_119474 = m_119474;
            futhark_mc_task_136930.free_n_119475 = n_119475;
            futhark_mc_task_136930.free_Y_mem_126881 = Y_mem_126881.mem;
            futhark_mc_task_136930.free_bytes_126925 = bytes_126925;
            futhark_mc_task_136930.free_ext_mem_128367 = ext_mem_128367.mem;
            futhark_mc_task_136930.free_ext_mem_128368 = ext_mem_128368.mem;
            futhark_mc_task_136930.free_ext_128372 = ext_128372;
            futhark_mc_task_136930.free_mem_128404 = mem_128404;
            
            struct scheduler_segop futhark_mc_task_136930_task;
            
            futhark_mc_task_136930_task.args = &futhark_mc_task_136930;
            futhark_mc_task_136930_task.top_level_fn =
                futhark_mc_segmap_task_136931;
            futhark_mc_task_136930_task.name = "futhark_mc_segmap_task_136931";
            futhark_mc_task_136930_task.iterations = m_119474;
            futhark_mc_task_136930_task.task_time =
                &ctx->futhark_mc_segmap_task_136931_total_time;
            futhark_mc_task_136930_task.task_iter =
                &ctx->futhark_mc_segmap_task_136931_total_iter;
            futhark_mc_task_136930_task.sched = STATIC;
            futhark_mc_task_136930_task.nested_fn =
                futhark_mc_segmap_nested_task_136935;
            
            int futhark_mc_segmap_task_136931_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136930_task);
            
            if (futhark_mc_segmap_task_136931_err != 0) {
                err = 1;
                goto cleanup;
            }
            if (mem_128426_cached_sizze_136259 < (size_t) bytes_126943) {
                mem_128426 = realloc(mem_128426, bytes_126943);
                mem_128426_cached_sizze_136259 = bytes_126943;
            }
            
            int64_t flat_tid_125553 = (int64_t) 0;
            int32_t num_tasks_135237;
            int64_t flat_tid_125555 = (int64_t) 0;
            struct futhark_mc_task_136943 futhark_mc_task_136943;
            
            futhark_mc_task_136943.ctx = ctx;
            futhark_mc_task_136943.free_m_119474 = m_119474;
            futhark_mc_task_136943.free_n_119475 = n_119475;
            futhark_mc_task_136943.free_mem_126921 = mem_126921;
            futhark_mc_task_136943.free_bytes_126925 = bytes_126925;
            futhark_mc_task_136943.free_mem_128404 = mem_128404;
            futhark_mc_task_136943.free_mem_128426 = mem_128426;
            
            struct scheduler_segop futhark_mc_task_136943_task;
            
            futhark_mc_task_136943_task.args = &futhark_mc_task_136943;
            futhark_mc_task_136943_task.top_level_fn =
                futhark_mc_segmap_task_136944;
            futhark_mc_task_136943_task.name = "futhark_mc_segmap_task_136944";
            futhark_mc_task_136943_task.iterations = m_119474;
            futhark_mc_task_136943_task.task_time =
                &ctx->futhark_mc_segmap_task_136944_total_time;
            futhark_mc_task_136943_task.task_iter =
                &ctx->futhark_mc_segmap_task_136944_total_iter;
            futhark_mc_task_136943_task.sched = STATIC;
            futhark_mc_task_136943_task.nested_fn =
                futhark_mc_segmap_nested_task_136948;
            
            int futhark_mc_segmap_task_136944_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136943_task);
            
            if (futhark_mc_segmap_task_136944_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t iters_121464;
            
            if (empty_slice_119902) {
                iters_121464 = 0;
            } else {
                iters_121464 = 16;
            }
            
            bool loop_nonempty_121465 = slt32(0, iters_121464);
            bool loop_not_taken_121466 = !loop_nonempty_121465;
            bool protect_assert_disj_121467 = bounds_check_119554 ||
                 loop_not_taken_121466;
            bool index_certs_121468;
            
            if (!protect_assert_disj_121467) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) i_119551,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  /prelude/array.fut:26:29-34\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:25:24-35\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:53:31-62\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:104:6-36\n   #4  stl.fut:305:35-77\n   #5  stl.fut:304:28-306:40\n   #6  stl.fut:400:3-411:33\n   #7  stl.fut:387:1-411:33\n");
                if (memblock_unref(ctx, &ext_mem_128612, "ext_mem_128612") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127168,
                                   "mem_param_127168") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127160,
                                   "mem_param_127160") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128367, "ext_mem_128367") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128368, "ext_mem_128368") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127146,
                                   "mem_param_127146") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127138,
                                   "mem_param_127138") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127130,
                                   "mem_param_127130") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128620, "ext_mem_128620") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128621, "ext_mem_128621") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128622, "ext_mem_128622") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
                    return 1;
                return 1;
            }
            if (mem_128580_cached_sizze_136260 < (size_t) bytes_126943) {
                mem_128580 = realloc(mem_128580, bytes_126943);
                mem_128580_cached_sizze_136260 = bytes_126943;
            }
            
            int64_t double_buffer_sizze_128831 = (int64_t) 4 * n_119475;
            int64_t double_buffer_sizze_128835 = (int64_t) 4 * n_119475;
            int64_t flat_tid_125569 = (int64_t) 0;
            int32_t num_tasks_135270;
            int64_t flat_tid_125571 = (int64_t) 0;
            struct futhark_mc_task_136956 futhark_mc_task_136956;
            
            futhark_mc_task_136956.ctx = ctx;
            futhark_mc_task_136956.free_m_119474 = m_119474;
            futhark_mc_task_136956.free_n_119475 = n_119475;
            futhark_mc_task_136956.free_i_119551 = i_119551;
            futhark_mc_task_136956.free_iters_121464 = iters_121464;
            futhark_mc_task_136956.free_bytes_126882 = bytes_126882;
            futhark_mc_task_136956.free_bytes_126925 = bytes_126925;
            futhark_mc_task_136956.free_mem_128426 = mem_128426;
            futhark_mc_task_136956.free_mem_128580 = mem_128580;
            futhark_mc_task_136956.free_double_buffer_sizze_128831 =
                double_buffer_sizze_128831;
            futhark_mc_task_136956.free_double_buffer_sizze_128835 =
                double_buffer_sizze_128835;
            
            struct scheduler_segop futhark_mc_task_136956_task;
            
            futhark_mc_task_136956_task.args = &futhark_mc_task_136956;
            futhark_mc_task_136956_task.top_level_fn =
                futhark_mc_segmap_task_136957;
            futhark_mc_task_136956_task.name = "futhark_mc_segmap_task_136957";
            futhark_mc_task_136956_task.iterations = m_119474;
            futhark_mc_task_136956_task.task_time =
                &ctx->futhark_mc_segmap_task_136957_total_time;
            futhark_mc_task_136956_task.task_iter =
                &ctx->futhark_mc_segmap_task_136957_total_iter;
            futhark_mc_task_136956_task.sched = STATIC;
            futhark_mc_task_136956_task.nested_fn =
                futhark_mc_segmap_nested_task_136967;
            
            int futhark_mc_segmap_task_136957_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136956_task);
            
            if (futhark_mc_segmap_task_136957_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            bool empty_slice_121582 = j_m_i_119915 == (int64_t) 0;
            int64_t m_121583 = sub64(j_m_i_119915, (int64_t) 1);
            int64_t i_p_m_t_s_121584 = add64(stl_res_119545, m_121583);
            bool zzero_leq_i_p_m_t_s_121585 = sle64((int64_t) 0,
                                                    i_p_m_t_s_121584);
            bool i_p_m_t_s_leq_w_121586 = slt64(i_p_m_t_s_121584, n_119475);
            bool zzero_lte_i_121587 = sle64((int64_t) 0, stl_res_119545);
            bool i_lte_j_121588 = sle64(stl_res_119545, stl_res_119546);
            bool y_121589 = i_p_m_t_s_leq_w_121586 && zzero_lte_i_121587;
            bool y_121590 = zzero_leq_i_p_m_t_s_121585 && y_121589;
            bool y_121591 = i_lte_j_121588 && y_121590;
            bool forwards_ok_121592 = zzero_lte_i_121587 && y_121591;
            bool ok_or_empty_121593 = empty_slice_121582 || forwards_ok_121592;
            bool index_certs_121594;
            
            if (!ok_or_empty_121593) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) stl_res_119545, ":",
                              (long long) stl_res_119546,
                              "] out of bounds for array of shape [",
                              (long long) n_119475, "].",
                              "-> #0  stl.fut:311:33-51\n   #1  stl.fut:309:13-316:28\n   #2  stl.fut:400:3-411:33\n   #3  stl.fut:387:1-411:33\n");
                if (memblock_unref(ctx, &ext_mem_128612, "ext_mem_128612") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127168,
                                   "mem_param_127168") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127160,
                                   "mem_param_127160") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128367, "ext_mem_128367") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128368, "ext_mem_128368") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127146,
                                   "mem_param_127146") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127138,
                                   "mem_param_127138") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_127130,
                                   "mem_param_127130") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128620, "ext_mem_128620") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128621, "ext_mem_128621") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_128622, "ext_mem_128622") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
                    return 1;
                return 1;
            }
            
            int64_t binop_y_128582 = (int64_t) 4 * m_119474;
            int64_t bytes_128581 = smax64((int64_t) 0, binop_y_128582);
            
            if (mem_128583_cached_sizze_136261 < (size_t) bytes_128581) {
                mem_128583 = realloc(mem_128583, bytes_128581);
                mem_128583_cached_sizze_136261 = bytes_128581;
            }
            if (mem_128586_cached_sizze_136262 < (size_t) bytes_128581) {
                mem_128586 = realloc(mem_128586, bytes_128581);
                mem_128586_cached_sizze_136262 = bytes_128581;
            }
            if (mem_128589_cached_sizze_136263 < (size_t) bytes_128581) {
                mem_128589 = realloc(mem_128589, bytes_128581);
                mem_128589_cached_sizze_136263 = bytes_128581;
            }
            
            int64_t flat_tid_125662 = (int64_t) 0;
            int32_t num_tasks_135536;
            int64_t flat_tid_125664 = (int64_t) 0;
            struct futhark_mc_task_136991 futhark_mc_task_136991;
            
            futhark_mc_task_136991.ctx = ctx;
            futhark_mc_task_136991.free_m_119474 = m_119474;
            futhark_mc_task_136991.free_n_119475 = n_119475;
            futhark_mc_task_136991.free_stl_res_119545 = stl_res_119545;
            futhark_mc_task_136991.free_j_m_i_119915 = j_m_i_119915;
            futhark_mc_task_136991.free_mem_128580 = mem_128580;
            futhark_mc_task_136991.free_mem_128583 = mem_128583;
            futhark_mc_task_136991.free_mem_128586 = mem_128586;
            futhark_mc_task_136991.free_mem_128589 = mem_128589;
            
            struct scheduler_segop futhark_mc_task_136991_task;
            
            futhark_mc_task_136991_task.args = &futhark_mc_task_136991;
            futhark_mc_task_136991_task.top_level_fn =
                futhark_mc_segmap_task_136992;
            futhark_mc_task_136991_task.name = "futhark_mc_segmap_task_136992";
            futhark_mc_task_136991_task.iterations = m_119474;
            futhark_mc_task_136991_task.task_time =
                &ctx->futhark_mc_segmap_task_136992_total_time;
            futhark_mc_task_136991_task.task_iter =
                &ctx->futhark_mc_segmap_task_136992_total_iter;
            futhark_mc_task_136991_task.sched = STATIC;
            futhark_mc_task_136991_task.nested_fn =
                futhark_mc_segmap_nested_task_136995;
            
            int futhark_mc_segmap_task_136992_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_136991_task);
            
            if (futhark_mc_segmap_task_136992_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock mem_128611;
            
            mem_128611.references = NULL;
            if (memblock_alloc(ctx, &mem_128611, bytes_126943, "mem_128611")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_125677 = (int64_t) 0;
            int32_t num_tasks_135563;
            int64_t flat_tid_125679 = (int64_t) 0;
            struct futhark_mc_task_137003 futhark_mc_task_137003;
            
            futhark_mc_task_137003.ctx = ctx;
            futhark_mc_task_137003.free_m_119474 = m_119474;
            futhark_mc_task_137003.free_n_119475 = n_119475;
            futhark_mc_task_137003.free_bytes_126925 = bytes_126925;
            futhark_mc_task_137003.free_mem_128404 = mem_128404;
            futhark_mc_task_137003.free_mem_128583 = mem_128583;
            futhark_mc_task_137003.free_mem_128586 = mem_128586;
            futhark_mc_task_137003.free_mem_128589 = mem_128589;
            futhark_mc_task_137003.free_mem_128611 = mem_128611.mem;
            
            struct scheduler_segop futhark_mc_task_137003_task;
            
            futhark_mc_task_137003_task.args = &futhark_mc_task_137003;
            futhark_mc_task_137003_task.top_level_fn =
                futhark_mc_segmap_task_137004;
            futhark_mc_task_137003_task.name = "futhark_mc_segmap_task_137004";
            futhark_mc_task_137003_task.iterations = m_119474;
            futhark_mc_task_137003_task.task_time =
                &ctx->futhark_mc_segmap_task_137004_total_time;
            futhark_mc_task_137003_task.task_iter =
                &ctx->futhark_mc_segmap_task_137004_total_iter;
            futhark_mc_task_137003_task.sched = STATIC;
            futhark_mc_task_137003_task.nested_fn =
                futhark_mc_segmap_nested_task_137008;
            
            int futhark_mc_segmap_task_137004_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_137003_task);
            
            if (futhark_mc_segmap_task_137004_err != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set(ctx, &ext_mem_128612, &mem_128611, "mem_128611") !=
                0)
                return 1;
            if (memblock_unref(ctx, &mem_128611, "mem_128611") != 0)
                return 1;
        } else {
            if (memblock_set(ctx, &ext_mem_128612, &mem_param_127146,
                             "mem_param_127146") != 0)
                return 1;
        }
        
        int64_t ctx_param_ext_tmp_129595 = ext_128374;
        int64_t ctx_param_ext_tmp_129596 = ext_128372;
        int64_t ctx_param_ext_tmp_129597 = ext_128617;
        int64_t ctx_param_ext_tmp_129598 = ext_128616;
        int64_t ctx_param_ext_tmp_129599 = ext_128613;
        int64_t ctx_param_ext_tmp_129600 = ext_128615;
        int64_t ctx_param_ext_tmp_129601 = ext_128619;
        int64_t ctx_param_ext_tmp_129602 = ext_128614;
        int64_t ctx_param_ext_tmp_129603 = ext_128618;
        struct memblock mem_param_tmp_129604;
        
        mem_param_tmp_129604.references = NULL;
        if (memblock_set(ctx, &mem_param_tmp_129604, &ext_mem_128368,
                         "ext_mem_128368") != 0)
            return 1;
        
        struct memblock mem_param_tmp_129605;
        
        mem_param_tmp_129605.references = NULL;
        if (memblock_set(ctx, &mem_param_tmp_129605, &ext_mem_128367,
                         "ext_mem_128367") != 0)
            return 1;
        
        struct memblock mem_param_tmp_129606;
        
        mem_param_tmp_129606.references = NULL;
        if (memblock_set(ctx, &mem_param_tmp_129606, &ext_mem_128612,
                         "ext_mem_128612") != 0)
            return 1;
        ctx_param_ext_127132 = ctx_param_ext_tmp_129595;
        ctx_param_ext_127134 = ctx_param_ext_tmp_129596;
        ctx_param_ext_127139 = ctx_param_ext_tmp_129597;
        ctx_param_ext_127140 = ctx_param_ext_tmp_129598;
        ctx_param_ext_127141 = ctx_param_ext_tmp_129599;
        ctx_param_ext_127142 = ctx_param_ext_tmp_129600;
        ctx_param_ext_127143 = ctx_param_ext_tmp_129601;
        ctx_param_ext_127144 = ctx_param_ext_tmp_129602;
        ctx_param_ext_127145 = ctx_param_ext_tmp_129603;
        if (memblock_set(ctx, &mem_param_127130, &mem_param_tmp_129604,
                         "mem_param_tmp_129604") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_127138, &mem_param_tmp_129605,
                         "mem_param_tmp_129605") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_127146, &mem_param_tmp_129606,
                         "mem_param_tmp_129606") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_129606,
                           "mem_param_tmp_129606") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_129605,
                           "mem_param_tmp_129605") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_129604,
                           "mem_param_tmp_129604") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_128612, "ext_mem_128612") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_127168, "mem_param_127168") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_127160, "mem_param_127160") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_128367, "ext_mem_128367") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_128368, "ext_mem_128368") != 0)
            return 1;
    }
    ext_128635 = ctx_param_ext_127132;
    ext_128633 = ctx_param_ext_127134;
    ext_128629 = ctx_param_ext_127139;
    ext_128628 = ctx_param_ext_127140;
    ext_128627 = ctx_param_ext_127141;
    ext_128626 = ctx_param_ext_127142;
    ext_128625 = ctx_param_ext_127143;
    ext_128624 = ctx_param_ext_127144;
    ext_128623 = ctx_param_ext_127145;
    if (memblock_set(ctx, &ext_mem_128622, &mem_param_127130,
                     "mem_param_127130") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_128621, &mem_param_127138,
                     "mem_param_127138") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_128620, &mem_param_127146,
                     "mem_param_127146") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
        return 1;
    
    struct memblock mem_128665;
    
    mem_128665.references = NULL;
    if (memblock_alloc(ctx, &mem_128665, bytes_126943, "mem_128665")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t flat_tid_125705 = (int64_t) 0;
    int32_t num_tasks_135618;
    int64_t flat_tid_125707 = (int64_t) 0;
    struct futhark_mc_task_137016 futhark_mc_task_137016;
    
    futhark_mc_task_137016.ctx = ctx;
    futhark_mc_task_137016.free_m_119474 = m_119474;
    futhark_mc_task_137016.free_n_119475 = n_119475;
    futhark_mc_task_137016.free_Y_mem_126881 = Y_mem_126881.mem;
    futhark_mc_task_137016.free_bytes_126925 = bytes_126925;
    futhark_mc_task_137016.free_ext_mem_128621 = ext_mem_128621.mem;
    futhark_mc_task_137016.free_ext_mem_128622 = ext_mem_128622.mem;
    futhark_mc_task_137016.free_ext_128633 = ext_128633;
    futhark_mc_task_137016.free_mem_128665 = mem_128665.mem;
    
    struct scheduler_segop futhark_mc_task_137016_task;
    
    futhark_mc_task_137016_task.args = &futhark_mc_task_137016;
    futhark_mc_task_137016_task.top_level_fn = futhark_mc_segmap_task_137017;
    futhark_mc_task_137016_task.name = "futhark_mc_segmap_task_137017";
    futhark_mc_task_137016_task.iterations = m_119474;
    futhark_mc_task_137016_task.task_time =
        &ctx->futhark_mc_segmap_task_137017_total_time;
    futhark_mc_task_137016_task.task_iter =
        &ctx->futhark_mc_segmap_task_137017_total_iter;
    futhark_mc_task_137016_task.sched = STATIC;
    futhark_mc_task_137016_task.nested_fn =
        futhark_mc_segmap_nested_task_137021;
    
    int futhark_mc_segmap_task_137017_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_137016_task);
    
    if (futhark_mc_segmap_task_137017_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_121646 = slt64(t_window_119478, (int64_t) 0);
    bool valid_121647 = !bounds_invalid_upwards_121646;
    bool range_valid_c_121648;
    
    if (!valid_121647) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) t_window_119478, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:366:23-94\n   #3  stl.fut:367:36-55\n   #4  /prelude/soacs.fut:75:22-28\n   #5  /prelude/soacs.fut:75:3-45\n   #6  stl.fut:364:13-381:42\n   #7  /prelude/soacs.fut:91:28-38\n   #8  /prelude/soacs.fut:91:3-61\n   #9  stl.fut:363:5-382:55\n   #10 stl.fut:400:3-411:33\n   #11 stl.fut:387:1-411:33\n");
        if (memblock_unref(ctx, &mem_128665, "mem_128665") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_127146, "mem_param_127146") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_127138, "mem_param_127138") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_127130, "mem_param_127130") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_128620, "ext_mem_128620") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_128621, "ext_mem_128621") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_128622, "ext_mem_128622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
            return 1;
        return 1;
    }
    
    int64_t binop_x_128770 = t_window_119478 * binop_x_126919;
    int64_t binop_y_128771 = (int64_t) 4 * binop_x_128770;
    int64_t bytes_128768 = smax64((int64_t) 0, binop_y_128771);
    struct memblock mem_128772;
    
    mem_128772.references = NULL;
    if (memblock_alloc(ctx, &mem_128772, bytes_128768, "mem_128772")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_x_128691 = n_119475 * t_window_119478;
    int64_t binop_y_128692 = (int64_t) 4 * binop_x_128691;
    int64_t bytes_128690 = smax64((int64_t) 0, binop_y_128692);
    int64_t binop_y_128673 = (int64_t) 4 * t_window_119478;
    int64_t bytes_128672 = smax64((int64_t) 0, binop_y_128673);
    int64_t flat_tid_125720 = (int64_t) 0;
    int32_t num_tasks_135643;
    int64_t flat_tid_125722 = (int64_t) 0;
    struct futhark_mc_task_137029 futhark_mc_task_137029;
    
    futhark_mc_task_137029.ctx = ctx;
    futhark_mc_task_137029.free_m_119474 = m_119474;
    futhark_mc_task_137029.free_n_119475 = n_119475;
    futhark_mc_task_137029.free_t_window_119478 = t_window_119478;
    futhark_mc_task_137029.free_i_119551 = i_119551;
    futhark_mc_task_137029.free_x_119552 = x_119552;
    futhark_mc_task_137029.free_min_res_119735 = min_res_119735;
    futhark_mc_task_137029.free_loop_cond_119740 = loop_cond_119740;
    futhark_mc_task_137029.free_i64_res_119741 = i64_res_119741;
    futhark_mc_task_137029.free_bytes_126882 = bytes_126882;
    futhark_mc_task_137029.free_mem_126921 = mem_126921;
    futhark_mc_task_137029.free_mem_126924 = mem_126924;
    futhark_mc_task_137029.free_bytes_126925 = bytes_126925;
    futhark_mc_task_137029.free_mem_126946 = mem_126946;
    futhark_mc_task_137029.free_bytes_128672 = bytes_128672;
    futhark_mc_task_137029.free_bytes_128690 = bytes_128690;
    futhark_mc_task_137029.free_mem_128772 = mem_128772.mem;
    
    struct scheduler_segop futhark_mc_task_137029_task;
    
    futhark_mc_task_137029_task.args = &futhark_mc_task_137029;
    futhark_mc_task_137029_task.top_level_fn = futhark_mc_segmap_task_137030;
    futhark_mc_task_137029_task.name = "futhark_mc_segmap_task_137030";
    futhark_mc_task_137029_task.iterations = m_119474;
    futhark_mc_task_137029_task.task_time =
        &ctx->futhark_mc_segmap_task_137030_total_time;
    futhark_mc_task_137029_task.task_iter =
        &ctx->futhark_mc_segmap_task_137030_total_iter;
    futhark_mc_task_137029_task.sched = DYNAMIC;
    futhark_mc_task_137029_task.nested_fn =
        futhark_mc_segmap_nested_task_137036;
    
    int futhark_mc_segmap_task_137030_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_137029_task);
    
    if (futhark_mc_segmap_task_137030_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock mem_128776;
    
    mem_128776.references = NULL;
    if (memblock_alloc(ctx, &mem_128776, bytes_126943, "mem_128776")) {
        err = 1;
        goto cleanup;
    }
    memmove(mem_128776.mem + (int64_t) 0, ext_mem_128622.mem + (int64_t) 0,
            m_119474 * n_119475 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_128622, "ext_mem_128622") != 0)
        return 1;
    
    struct memblock mem_128781;
    
    mem_128781.references = NULL;
    if (memblock_alloc(ctx, &mem_128781, bytes_126943, "mem_128781")) {
        err = 1;
        goto cleanup;
    }
    memmove(mem_128781.mem + (int64_t) 0, ext_mem_128621.mem + (int64_t) 0,
            m_119474 * n_119475 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_128621, "ext_mem_128621") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_128841, &mem_128776, "mem_128776") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_128842, &mem_128781, "mem_128781") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_128843, &mem_128665, "mem_128665") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_128844, &mem_128772, "mem_128772") != 0)
        return 1;
    prim_out_128845 = t_window_119478;
    (*mem_out_p_136238).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_136238, &mem_out_128841,
                     "mem_out_128841") != 0)
        return 1;
    (*mem_out_p_136239).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_136239, &mem_out_128842,
                     "mem_out_128842") != 0)
        return 1;
    (*mem_out_p_136240).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_136240, &mem_out_128843,
                     "mem_out_128843") != 0)
        return 1;
    (*mem_out_p_136241).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_136241, &mem_out_128844,
                     "mem_out_128844") != 0)
        return 1;
    *out_prim_out_136242 = prim_out_128845;
    if (memblock_unref(ctx, &mem_128781, "mem_128781") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_128776, "mem_128776") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_128772, "mem_128772") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_128665, "mem_128665") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_param_127146, "mem_param_127146") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_param_127138, "mem_param_127138") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_param_127130, "mem_param_127130") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_128620, "ext_mem_128620") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_128621, "ext_mem_128621") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_128622, "ext_mem_128622") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_127122, "mem_127122") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_127118, "mem_127118") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_128844, "mem_out_128844") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_128843, "mem_out_128843") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_128842, "mem_out_128842") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_128841, "mem_out_128841") != 0)
        return 1;
    
  cleanup:
    { }
    free(mem_126921);
    free(mem_126924);
    free(mem_126946);
    free(mem_126968);
    free(mem_126990);
    free(mem_127048);
    free(mem_127052);
    free(mem_127110);
    free(mem_127114);
    free(mem_127190);
    free(mem_127212);
    free(mem_127234);
    free(mem_127292);
    free(mem_127861);
    free(mem_127865);
    free(mem_128404);
    free(mem_128426);
    free(mem_128580);
    free(mem_128583);
    free(mem_128586);
    free(mem_128589);
    return err;
}
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0,
                       struct futhark_f32_2d **out1,
                       struct futhark_f32_2d **out2,
                       struct futhark_f32_3d **out3, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5, const int64_t in6, const int64_t in7, const
                       int64_t in8, const int64_t in9, const int64_t in10, const
                       int64_t in11)
{
    struct memblock Y_mem_126881;
    
    Y_mem_126881.references = NULL;
    
    int64_t m_119474;
    int64_t n_119475;
    int64_t n_p_119477;
    int64_t t_window_119478;
    int64_t l_window_119479;
    int64_t t_degree_119480;
    int64_t l_degree_119481;
    int64_t t_jump_119482;
    int64_t l_jump_119483;
    int64_t inner_119484;
    int64_t outer_119485;
    int64_t jump_threshold_119486;
    int64_t max_group_sizze_119487;
    struct memblock mem_out_128841;
    
    mem_out_128841.references = NULL;
    
    struct memblock mem_out_128842;
    
    mem_out_128842.references = NULL;
    
    struct memblock mem_out_128843;
    
    mem_out_128843.references = NULL;
    
    struct memblock mem_out_128844;
    
    mem_out_128844.references = NULL;
    
    int64_t prim_out_128845;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    Y_mem_126881 = in0->mem;
    m_119474 = in0->shape[0];
    n_119475 = in0->shape[1];
    n_p_119477 = in1;
    t_window_119478 = in2;
    l_window_119479 = in3;
    t_degree_119480 = in4;
    l_degree_119481 = in5;
    t_jump_119482 = in6;
    l_jump_119483 = in7;
    inner_119484 = in8;
    outer_119485 = in9;
    jump_threshold_119486 = in10;
    max_group_sizze_119487 = in11;
    if (!(m_119474 == in0->shape[0] && n_119475 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_128841, &mem_out_128842,
                                &mem_out_128843, &mem_out_128844,
                                &prim_out_128845, Y_mem_126881, m_119474,
                                n_119475, n_p_119477, t_window_119478,
                                l_window_119479, t_degree_119480,
                                l_degree_119481, t_jump_119482, l_jump_119483,
                                inner_119484, outer_119485,
                                jump_threshold_119486, max_group_sizze_119487);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_128841;
            (*out0)->shape[0] = m_119474;
            (*out0)->shape[1] = n_119475;
            assert((*out1 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out1)->mem = mem_out_128842;
            (*out1)->shape[0] = m_119474;
            (*out1)->shape[1] = n_119475;
            assert((*out2 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out2)->mem = mem_out_128843;
            (*out2)->shape[0] = m_119474;
            (*out2)->shape[1] = n_119475;
            assert((*out3 =
                    (struct futhark_f32_3d *) malloc(sizeof(struct futhark_f32_3d))) !=
                NULL);
            (*out3)->mem = mem_out_128844;
            (*out3)->shape[0] = m_119474;
            (*out3)->shape[1] = n_119475;
            (*out3)->shape[2] = prim_out_128845;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
